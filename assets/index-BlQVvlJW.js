const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./PwaReloader-CZaIwUZc.js","./ui-sj3lWrAK.js","./vendor-DcOxPdi0.js","./supabase-B5t26dTl.js","./charts-C-kNx5CF.js"])))=>i.map(i=>d[i]);
var jg=e=>{throw TypeError(e)};var Fd=(e,t,n)=>t.has(e)||jg("Cannot "+n);var ae=(e,t,n)=>(Fd(e,t,"read from private field"),n?n.call(e):t.get(e)),at=(e,t,n)=>t.has(e)?jg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ye=(e,t,n,r)=>(Fd(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Qt=(e,t,n)=>(Fd(e,t,"access private method"),n);var ic=(e,t,n,r)=>({set _(i){Ye(e,t,i,n)},get _(){return ae(e,t,r)}});import{j as a,u as Me,t as TT,c as NT,a as Bh,S as Yx,b as Fo,d as Kx}from"./ui-sj3lWrAK.js";import{d as jT,a as p,R as me,e as hi,f as wu,h as Wc,u as tr,i as Vh,g as $h,c as sc,L as Tc,N as Er,H as MT,j as RT,k as en}from"./vendor-DcOxPdi0.js";import{c as Su,_ as OT}from"./supabase-B5t26dTl.js";import{r as kT,_ as AT,a as IT,b as DT,c as $e,R as ms,B as lo,C as co,X as uo,Y as fo,T as ho,L as xa,d as ps,P as LT,e as FT,f as BT}from"./charts-C-kNx5CF.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var oc={},Mg;function VT(){if(Mg)return oc;Mg=1;var e=jT();return oc.createRoot=e.createRoot,oc.hydrateRoot=e.hydrateRoot,oc}var $T=VT();const zT=1,WT=1e6;let Bd=0;function UT(){return Bd=(Bd+1)%Number.MAX_SAFE_INTEGER,Bd.toString()}const Vd=new Map,Rg=e=>{if(Vd.has(e))return;const t=setTimeout(()=>{Vd.delete(e),Oa({type:"REMOVE_TOAST",toastId:e})},WT);Vd.set(e,t)},HT=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,zT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Rg(n):e.toasts.forEach(r=>{Rg(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Nc=[];let jc={toasts:[]};function Oa(e){jc=HT(jc,e),Nc.forEach(t=>{t(jc)})}function ZT({...e}){const t=UT(),n=i=>Oa({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Oa({type:"DISMISS_TOAST",toastId:t});return Oa({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function GT(){const[e,t]=p.useState(jc);return p.useEffect(()=>(Nc.push(t),()=>{const n=Nc.indexOf(t);n>-1&&Nc.splice(n,1)}),[e]),{...e,toast:ZT,dismiss:n=>Oa({type:"DISMISS_TOAST",toastId:n})}}function fe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function YT(e,t){const n=p.createContext(t),r=o=>{const{children:l,...u}=o,d=p.useMemo(()=>u,Object.values(u));return a.jsx(n.Provider,{value:d,children:l})};r.displayName=e+"Provider";function i(o){const l=p.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function Vt(e,t=[]){let n=[];function r(o,l){const u=p.createContext(l),d=n.length;n=[...n,l];const f=g=>{var C;const{scope:b,children:x,...w}=g,v=((C=b==null?void 0:b[e])==null?void 0:C[d])||u,_=p.useMemo(()=>w,Object.values(w));return a.jsx(v.Provider,{value:_,children:x})};f.displayName=o+"Provider";function m(g,b){var v;const x=((v=b==null?void 0:b[e])==null?void 0:v[d])||u,w=p.useContext(x);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[f,m]}const i=()=>{const o=n.map(l=>p.createContext(l));return function(u){const d=(u==null?void 0:u[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return i.scopeName=e,[r,KT(i,...t)]}function KT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((u,{useScope:d,scopeName:f})=>{const g=d(o)[`__scope${f}`];return{...u,...g}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Og(e){const t=qT(e),n=p.forwardRef((r,i)=>{const{children:o,...l}=r,u=p.Children.toArray(o),d=u.find(JT);if(d){const f=d.props.children,m=u.map(g=>g===d?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return a.jsx(t,{...l,ref:i,children:p.isValidElement(f)?p.cloneElement(f,void 0,m):null})}return a.jsx(t,{...l,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function qT(e){const t=p.forwardRef((n,r)=>{const{children:i,...o}=n,l=p.isValidElement(i)?eN(i):void 0,u=Me(l,r);if(p.isValidElement(i)){const d=QT(o,i.props);return i.type!==p.Fragment&&(d.ref=u),p.cloneElement(i,d)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var XT=Symbol("radix.slottable");function JT(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===XT}function QT(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function eN(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function zh(e){const t=e+"CollectionProvider",[n,r]=Vt(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=v=>{const{scope:_,children:C}=v,P=me.useRef(null),E=me.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:E,collectionRef:P,children:C})};l.displayName=t;const u=e+"CollectionSlot",d=Og(u),f=me.forwardRef((v,_)=>{const{scope:C,children:P}=v,E=o(u,C),M=Me(_,E.collectionRef);return a.jsx(d,{ref:M,children:P})});f.displayName=u;const m=e+"CollectionItemSlot",g="data-radix-collection-item",b=Og(m),x=me.forwardRef((v,_)=>{const{scope:C,children:P,...E}=v,M=me.useRef(null),T=Me(_,M),I=o(m,C);return me.useEffect(()=>(I.itemMap.set(M,{ref:M,...E}),()=>void I.itemMap.delete(M))),a.jsx(b,{[g]:"",ref:T,children:P})});x.displayName=m;function w(v){const _=o(e+"CollectionConsumer",v);return me.useCallback(()=>{const P=_.collectionRef.current;if(!P)return[];const E=Array.from(P.querySelectorAll(`[${g}]`));return Array.from(_.itemMap.values()).sort((I,R)=>E.indexOf(I.ref.current)-E.indexOf(R.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:l,Slot:f,ItemSlot:x},w,r]}function tN(e){const t=nN(e),n=p.forwardRef((r,i)=>{const{children:o,...l}=r,u=p.Children.toArray(o),d=u.find(iN);if(d){const f=d.props.children,m=u.map(g=>g===d?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return a.jsx(t,{...l,ref:i,children:p.isValidElement(f)?p.cloneElement(f,void 0,m):null})}return a.jsx(t,{...l,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function nN(e){const t=p.forwardRef((n,r)=>{const{children:i,...o}=n,l=p.isValidElement(i)?oN(i):void 0,u=Me(l,r);if(p.isValidElement(i)){const d=sN(o,i.props);return i.type!==p.Fragment&&(d.ref=u),p.cloneElement(i,d)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rN=Symbol("radix.slottable");function iN(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rN}function sN(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function oN(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var aN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Le=aN.reduce((e,t)=>{const n=tN(`Primitive.${t}`),r=p.forwardRef((i,o)=>{const{asChild:l,...u}=i,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function qx(e,t){e&&hi.flushSync(()=>e.dispatchEvent(t))}function Pt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Wh(e,t=globalThis==null?void 0:globalThis.document){const n=Pt(e);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var lN="DismissableLayer",If="dismissableLayer.update",cN="dismissableLayer.pointerDownOutside",uN="dismissableLayer.focusOutside",kg,Xx=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gl=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...d}=e,f=p.useContext(Xx),[m,g]=p.useState(null),b=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=p.useState({}),w=Me(t,R=>g(R)),v=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),C=v.indexOf(_),P=m?v.indexOf(m):-1,E=f.layersWithOutsidePointerEventsDisabled.size>0,M=P>=C,T=fN(R=>{const k=R.target,U=[...f.branches].some(X=>X.contains(k));!M||U||(i==null||i(R),l==null||l(R),R.defaultPrevented||u==null||u())},b),I=hN(R=>{const k=R.target;[...f.branches].some(X=>X.contains(k))||(o==null||o(R),l==null||l(R),R.defaultPrevented||u==null||u())},b);return Wh(R=>{P===f.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},b),p.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(kg=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),Ag(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=kg)}},[m,b,n,f]),p.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),Ag())},[m,f]),p.useEffect(()=>{const R=()=>x({});return document.addEventListener(If,R),()=>document.removeEventListener(If,R)},[]),a.jsx(Le.div,{...d,ref:w,style:{pointerEvents:E?M?"auto":"none":void 0,...e.style},onFocusCapture:fe(e.onFocusCapture,I.onFocusCapture),onBlurCapture:fe(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:fe(e.onPointerDownCapture,T.onPointerDownCapture)})});gl.displayName=lN;var dN="DismissableLayerBranch",Jx=p.forwardRef((e,t)=>{const n=p.useContext(Xx),r=p.useRef(null),i=Me(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(Le.div,{...e,ref:i})});Jx.displayName=dN;function fN(e,t=globalThis==null?void 0:globalThis.document){const n=Pt(e),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let d=function(){Qx(cN,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function hN(e,t=globalThis==null?void 0:globalThis.document){const n=Pt(e),r=p.useRef(!1);return p.useEffect(()=>{const i=o=>{o.target&&!r.current&&Qx(uN,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ag(){const e=new CustomEvent(If);document.dispatchEvent(e)}function Qx(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?qx(i,o):i.dispatchEvent(o)}var mN=gl,pN=Jx,jt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},gN="Portal",Cu=p.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[i,o]=p.useState(!1);jt(()=>o(!0),[]);const l=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?wu.createPortal(a.jsx(Le.div,{...r,ref:t}),l):null});Cu.displayName=gN;function vN(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var yn=e=>{const{present:t,children:n}=e,r=yN(t),i=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=Me(r.ref,xN(i));return typeof n=="function"||r.isPresent?p.cloneElement(i,{ref:o}):null};yn.displayName="Presence";function yN(e){const[t,n]=p.useState(),r=p.useRef(null),i=p.useRef(e),o=p.useRef("none"),l=e?"mounted":"unmounted",[u,d]=vN(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const f=ac(r.current);o.current=u==="mounted"?f:"none"},[u]),jt(()=>{const f=r.current,m=i.current;if(m!==e){const b=o.current,x=ac(f);e?d("MOUNT"):x==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(m&&b!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),jt(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,g=x=>{const v=ac(r.current).includes(x.animationName);if(x.target===t&&v&&(d("ANIMATION_END"),!i.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},b=x=>{x.target===t&&(o.current=ac(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:p.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function ac(e){return(e==null?void 0:e.animationName)||"none"}function xN(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var bN=Wc[" useInsertionEffect ".trim().toString()]||jt;function er({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,o,l]=_N({defaultProp:t,onChange:n}),u=e!==void 0,d=u?e:i;{const m=p.useRef(e!==void 0);p.useEffect(()=>{const g=m.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,r])}const f=p.useCallback(m=>{var g;if(u){const b=wN(m)?m(e):m;b!==e&&((g=l.current)==null||g.call(l,b))}else o(m)},[u,e,o,l]);return[d,f]}function _N({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),i=p.useRef(n),o=p.useRef(t);return bN(()=>{o.current=t},[t]),p.useEffect(()=>{var l;i.current!==n&&((l=o.current)==null||l.call(o,n),i.current=n)},[n,i]),[n,r,o]}function wN(e){return typeof e=="function"}var eb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),SN="VisuallyHidden",Pu=p.forwardRef((e,t)=>a.jsx(Le.span,{...e,ref:t,style:{...eb,...e.style}}));Pu.displayName=SN;var CN=Pu,Uh="ToastProvider",[Hh,PN,EN]=zh("Toast"),[tb,AU]=Vt("Toast",[EN]),[TN,Eu]=tb(Uh),nb=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:l}=e,[u,d]=p.useState(null),[f,m]=p.useState(0),g=p.useRef(!1),b=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Uh}\`. Expected non-empty \`string\`.`),a.jsx(Hh.Provider,{scope:t,children:a.jsx(TN,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:f,viewport:u,onViewportChange:d,onToastAdd:p.useCallback(()=>m(x=>x+1),[]),onToastRemove:p.useCallback(()=>m(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:b,children:l})})};nb.displayName=Uh;var rb="ToastViewport",NN=["F8"],Df="toast.viewportPause",Lf="toast.viewportResume",ib=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=NN,label:i="Notifications ({hotkey})",...o}=e,l=Eu(rb,n),u=PN(n),d=p.useRef(null),f=p.useRef(null),m=p.useRef(null),g=p.useRef(null),b=Me(t,g,l.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=l.toastCount>0;p.useEffect(()=>{const _=C=>{var E;r.length!==0&&r.every(M=>C[M]||C.code===M)&&((E=g.current)==null||E.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),p.useEffect(()=>{const _=d.current,C=g.current;if(w&&_&&C){const P=()=>{if(!l.isClosePausedRef.current){const I=new CustomEvent(Df);C.dispatchEvent(I),l.isClosePausedRef.current=!0}},E=()=>{if(l.isClosePausedRef.current){const I=new CustomEvent(Lf);C.dispatchEvent(I),l.isClosePausedRef.current=!1}},M=I=>{!_.contains(I.relatedTarget)&&E()},T=()=>{_.contains(document.activeElement)||E()};return _.addEventListener("focusin",P),_.addEventListener("focusout",M),_.addEventListener("pointermove",P),_.addEventListener("pointerleave",T),window.addEventListener("blur",P),window.addEventListener("focus",E),()=>{_.removeEventListener("focusin",P),_.removeEventListener("focusout",M),_.removeEventListener("pointermove",P),_.removeEventListener("pointerleave",T),window.removeEventListener("blur",P),window.removeEventListener("focus",E)}}},[w,l.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:_})=>{const P=u().map(E=>{const M=E.ref.current,T=[M,...$N(M)];return _==="forwards"?T:T.reverse()});return(_==="forwards"?P.reverse():P).flat()},[u]);return p.useEffect(()=>{const _=g.current;if(_){const C=P=>{var T,I,R;const E=P.altKey||P.ctrlKey||P.metaKey;if(P.key==="Tab"&&!E){const k=document.activeElement,U=P.shiftKey;if(P.target===_&&U){(T=f.current)==null||T.focus();return}const $=v({tabbingDirection:U?"backwards":"forwards"}),ne=$.findIndex(J=>J===k);$d($.slice(ne+1))?P.preventDefault():U?(I=f.current)==null||I.focus():(R=m.current)==null||R.focus()}};return _.addEventListener("keydown",C),()=>_.removeEventListener("keydown",C)}},[u,v]),a.jsxs(pN,{ref:d,role:"region","aria-label":i.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&a.jsx(Ff,{ref:f,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"forwards"});$d(_)}}),a.jsx(Hh.Slot,{scope:n,children:a.jsx(Le.ol,{tabIndex:-1,...o,ref:b})}),w&&a.jsx(Ff,{ref:m,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"backwards"});$d(_)}})]})});ib.displayName=rb;var sb="ToastFocusProxy",Ff=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,o=Eu(sb,n);return a.jsx(Pu,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:l=>{var f;const u=l.relatedTarget;!((f=o.viewport)!=null&&f.contains(u))&&r()}})});Ff.displayName=sb;var vl="Toast",jN="toast.swipeStart",MN="toast.swipeMove",RN="toast.swipeCancel",ON="toast.swipeEnd",ob=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...l}=e,[u,d]=er({prop:r,defaultProp:i??!0,onChange:o,caller:vl});return a.jsx(yn,{present:n||u,children:a.jsx(IN,{open:u,...l,ref:t,onClose:()=>d(!1),onPause:Pt(e.onPause),onResume:Pt(e.onResume),onSwipeStart:fe(e.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(e.onSwipeMove,f=>{const{x:m,y:g}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:fe(e.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(e.onSwipeEnd,f=>{const{x:m,y:g}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),d(!1)})})})});ob.displayName=vl;var[kN,AN]=tb(vl,{onClose(){}}),IN=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:l,onEscapeKeyDown:u,onPause:d,onResume:f,onSwipeStart:m,onSwipeMove:g,onSwipeCancel:b,onSwipeEnd:x,...w}=e,v=Eu(vl,n),[_,C]=p.useState(null),P=Me(t,J=>C(J)),E=p.useRef(null),M=p.useRef(null),T=i||v.duration,I=p.useRef(0),R=p.useRef(T),k=p.useRef(0),{onToastAdd:U,onToastRemove:X}=v,re=Pt(()=>{var H;(_==null?void 0:_.contains(document.activeElement))&&((H=v.viewport)==null||H.focus()),l()}),$=p.useCallback(J=>{!J||J===1/0||(window.clearTimeout(k.current),I.current=new Date().getTime(),k.current=window.setTimeout(re,J))},[re]);p.useEffect(()=>{const J=v.viewport;if(J){const H=()=>{$(R.current),f==null||f()},K=()=>{const Y=new Date().getTime()-I.current;R.current=R.current-Y,window.clearTimeout(k.current),d==null||d()};return J.addEventListener(Df,K),J.addEventListener(Lf,H),()=>{J.removeEventListener(Df,K),J.removeEventListener(Lf,H)}}},[v.viewport,T,d,f,$]),p.useEffect(()=>{o&&!v.isClosePausedRef.current&&$(T)},[o,T,v.isClosePausedRef,$]),p.useEffect(()=>(U(),()=>X()),[U,X]);const ne=p.useMemo(()=>_?hb(_):null,[_]);return v.viewport?a.jsxs(a.Fragment,{children:[ne&&a.jsx(DN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:ne}),a.jsx(kN,{scope:n,onClose:re,children:hi.createPortal(a.jsx(Hh.ItemSlot,{scope:n,children:a.jsx(mN,{asChild:!0,onEscapeKeyDown:fe(u,()=>{v.isFocusedToastEscapeKeyDownRef.current||re(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:P,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:fe(e.onKeyDown,J=>{J.key==="Escape"&&(u==null||u(J.nativeEvent),J.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,re()))}),onPointerDown:fe(e.onPointerDown,J=>{J.button===0&&(E.current={x:J.clientX,y:J.clientY})}),onPointerMove:fe(e.onPointerMove,J=>{if(!E.current)return;const H=J.clientX-E.current.x,K=J.clientY-E.current.y,Y=!!M.current,O=["left","right"].includes(v.swipeDirection),W=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,V=O?W(0,H):0,Q=O?0:W(0,K),G=J.pointerType==="touch"?10:2,ie={x:V,y:Q},se={originalEvent:J,delta:ie};Y?(M.current=ie,lc(MN,g,se,{discrete:!1})):Ig(ie,v.swipeDirection,G)?(M.current=ie,lc(jN,m,se,{discrete:!1}),J.target.setPointerCapture(J.pointerId)):(Math.abs(H)>G||Math.abs(K)>G)&&(E.current=null)}),onPointerUp:fe(e.onPointerUp,J=>{const H=M.current,K=J.target;if(K.hasPointerCapture(J.pointerId)&&K.releasePointerCapture(J.pointerId),M.current=null,E.current=null,H){const Y=J.currentTarget,O={originalEvent:J,delta:H};Ig(H,v.swipeDirection,v.swipeThreshold)?lc(ON,x,O,{discrete:!0}):lc(RN,b,O,{discrete:!0}),Y.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),DN=e=>{const{__scopeToast:t,children:n,...r}=e,i=Eu(vl,t),[o,l]=p.useState(!1),[u,d]=p.useState(!1);return BN(()=>l(!0)),p.useEffect(()=>{const f=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(f)},[]),u?null:a.jsx(Cu,{asChild:!0,children:a.jsx(Pu,{...r,children:o&&a.jsxs(a.Fragment,{children:[i.label," ",n]})})})},LN="ToastTitle",ab=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(Le.div,{...r,ref:t})});ab.displayName=LN;var FN="ToastDescription",lb=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(Le.div,{...r,ref:t})});lb.displayName=FN;var cb="ToastAction",ub=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(fb,{altText:n,asChild:!0,children:a.jsx(Zh,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${cb}\`. Expected non-empty \`string\`.`),null)});ub.displayName=cb;var db="ToastClose",Zh=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=AN(db,n);return a.jsx(fb,{asChild:!0,children:a.jsx(Le.button,{type:"button",...r,ref:t,onClick:fe(e.onClick,i.onClose)})})});Zh.displayName=db;var fb=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return a.jsx(Le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function hb(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),VN(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...hb(r))}}),t}function lc(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?qx(i,o):i.dispatchEvent(o)}var Ig=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return t==="left"||t==="right"?o&&r>n:!o&&i>n};function BN(e=()=>{}){const t=Pt(e);jt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function VN(e){return e.nodeType===e.ELEMENT_NODE}function $N(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $d(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var zN=nb,mb=ib,pb=ob,gb=ab,vb=lb,yb=ub,xb=Zh;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bb=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},d)=>p.createElement("svg",{ref:d,...UN,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:bb("lucide",i),...u},[...l.map(([f,m])=>p.createElement(f,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(e,t)=>{const n=p.forwardRef(({className:r,...i},o)=>p.createElement(HN,{ref:o,iconNode:t,className:bb(`lucide-${WN(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=it("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=it("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=it("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=it("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=it("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=it("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=it("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=it("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=it("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=it("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=it("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=it("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=it("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=it("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=it("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=it("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=it("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=it("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=it("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=it("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=it("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=it("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=it("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=it("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=it("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=it("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=it("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=it("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=it("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=it("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=it("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=it("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=it("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=it("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Pe(...e){return TT(NT(e))}const ij=zN,Nb=p.forwardRef(({className:e,...t},n)=>a.jsx(mb,{ref:n,className:Pe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Nb.displayName=mb.displayName;const sj=Bh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),jb=p.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(pb,{ref:r,className:Pe(sj({variant:t}),e),...n}));jb.displayName=pb.displayName;const oj=p.forwardRef(({className:e,...t},n)=>a.jsx(yb,{ref:n,className:Pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));oj.displayName=yb.displayName;const Mb=p.forwardRef(({className:e,...t},n)=>a.jsx(xb,{ref:n,className:Pe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(qh,{className:"h-4 w-4"})}));Mb.displayName=xb.displayName;const Rb=p.forwardRef(({className:e,...t},n)=>a.jsx(gb,{ref:n,className:Pe("text-sm font-semibold",e),...t}));Rb.displayName=gb.displayName;const Ob=p.forwardRef(({className:e,...t},n)=>a.jsx(vb,{ref:n,className:Pe("text-sm opacity-90",e),...t}));Ob.displayName=vb.displayName;function aj(){const{toasts:e}=GT();return a.jsxs(ij,{children:[e.map(function({id:t,title:n,description:r,action:i,...o}){return a.jsxs(jb,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(Rb,{children:n}),r&&a.jsx(Ob,{children:r})]}),i,a.jsx(Mb,{})]},t)}),a.jsx(Nb,{})]})}var Fg=["light","dark"],lj="(prefers-color-scheme: dark)",cj=p.createContext(void 0),uj={setTheme:e=>{},themes:[]},dj=()=>{var e;return(e=p.useContext(cj))!=null?e:uj};p.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:o,value:l,attrs:u,nonce:d})=>{let f=o==="system",m=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${u.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,g=i?Fg.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",b=(w,v=!1,_=!0)=>{let C=l?l[w]:w,P=v?w+"|| ''":`'${C}'`,E="";return i&&_&&!v&&Fg.includes(w)&&(E+=`d.style.colorScheme = '${w}';`),n==="class"?v||C?E+=`c.add(${P})`:E+="null":C&&(E+=`d[s](n,${P})`),E},x=e?`!function(){${m}${b(e)}}()`:r?`!function(){try{${m}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${f})){var t='${lj}',m=window.matchMedia(t);if(m.media!==t||m.matches){${b("dark")}}else{${b("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${b(l?"x[e]":"e",!0)}}${f?"":"else{"+b(o,!1,!1)+"}"}${g}}catch(e){}}()`:`!function(){try{${m}var e=localStorage.getItem('${t}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${b(l?"x[e]":"e",!0)}}else{${b(o,!1,!1)};}${g}}catch(t){}}();`;return p.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:x}})});var fj=e=>{switch(e){case"success":return pj;case"info":return vj;case"warning":return gj;case"error":return yj;default:return null}},hj=Array(12).fill(0),mj=({visible:e,className:t})=>me.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},me.createElement("div",{className:"sonner-spinner"},hj.map((n,r)=>me.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),pj=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gj=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),vj=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),yj=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xj=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},me.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),me.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),bj=()=>{let[e,t]=me.useState(document.hidden);return me.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Vf=1,_j=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Vf++,o=this.toasts.find(u=>u.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...e,id:i,title:n}),{...u,...e,id:i,dismissible:l,title:n}):u):this.addToast({title:n,...r,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0,o,l=r.then(async d=>{if(o=["resolve",d],me.isValidElement(d))i=!1,this.create({id:n,type:"default",message:d});else if(Sj(d)&&!d.ok){i=!1;let f=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,m=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:n,type:"error",message:f,description:m})}else if(t.success!==void 0){i=!1;let f=typeof t.success=="function"?await t.success(d):t.success,m=typeof t.description=="function"?await t.description(d):t.description;this.create({id:n,type:"success",message:f,description:m})}}).catch(async d=>{if(o=["reject",d],t.error!==void 0){i=!1;let f=typeof t.error=="function"?await t.error(d):t.error,m=typeof t.description=="function"?await t.description(d):t.description;this.create({id:n,type:"error",message:f,description:m})}}).finally(()=>{var d;i&&(this.dismiss(n),n=void 0),(d=t.finally)==null||d.call(t)}),u=()=>new Promise((d,f)=>l.then(()=>o[0]==="reject"?f(o[1]):d(o[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Vf++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Tn=new _j,wj=(e,t)=>{let n=(t==null?void 0:t.id)||Vf++;return Tn.addToast({title:e,...t,id:n}),n},Sj=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Cj=wj,Pj=()=>Tn.toasts,Ej=()=>Tn.getActiveToasts(),ye=Object.assign(Cj,{success:Tn.success,info:Tn.info,warning:Tn.warning,error:Tn.error,custom:Tn.custom,message:Tn.message,promise:Tn.promise,dismiss:Tn.dismiss,loading:Tn.loading},{getHistory:Pj,getToasts:Ej});function Tj(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Tj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function cc(e){return e.label!==void 0}var Nj=3,jj="32px",Mj="16px",Bg=4e3,Rj=356,Oj=14,kj=20,Aj=200;function ar(...e){return e.filter(Boolean).join(" ")}function Ij(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var Dj=e=>{var t,n,r,i,o,l,u,d,f,m,g;let{invert:b,toast:x,unstyled:w,interacting:v,setHeights:_,visibleToasts:C,heights:P,index:E,toasts:M,expanded:T,removeToast:I,defaultRichColors:R,closeButton:k,style:U,cancelButtonStyle:X,actionButtonStyle:re,className:$="",descriptionClassName:ne="",duration:J,position:H,gap:K,loadingIcon:Y,expandByDefault:O,classNames:W,icons:V,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:G}=e,[ie,se]=me.useState(null),[le,he]=me.useState(null),[oe,be]=me.useState(!1),[Ne,Ee]=me.useState(!1),[Re,Oe]=me.useState(!1),[Qe,xt]=me.useState(!1),[bt,$t]=me.useState(!1),[Ht,zt]=me.useState(0),[Mt,Hr]=me.useState(0),On=me.useRef(x.duration||J||Bg),vi=me.useRef(null),kn=me.useRef(null),$s=E===0,zs=E+1<=C,Wt=x.type,Wn=x.dismissible!==!1,Ji=x.className||"",Ws=x.descriptionClassName||"",_r=me.useMemo(()=>P.findIndex(Ue=>Ue.toastId===x.id)||0,[P,x.id]),Qi=me.useMemo(()=>{var Ue;return(Ue=x.closeButton)!=null?Ue:k},[x.closeButton,k]),es=me.useMemo(()=>x.duration||J||Bg,[x.duration,J]),Zr=me.useRef(0),_n=me.useRef(0),ts=me.useRef(0),wr=me.useRef(null),[nr,Us]=H.split("-"),Hs=me.useMemo(()=>P.reduce((Ue,ot,gt)=>gt>=_r?Ue:Ue+ot.height,0),[P,_r]),wn=bj(),Zs=x.invert||b,yi=Wt==="loading";_n.current=me.useMemo(()=>_r*K+Hs,[_r,Hs]),me.useEffect(()=>{On.current=es},[es]),me.useEffect(()=>{be(!0)},[]),me.useEffect(()=>{let Ue=kn.current;if(Ue){let ot=Ue.getBoundingClientRect().height;return Hr(ot),_(gt=>[{toastId:x.id,height:ot,position:x.position},...gt]),()=>_(gt=>gt.filter(cn=>cn.toastId!==x.id))}},[_,x.id]),me.useLayoutEffect(()=>{if(!oe)return;let Ue=kn.current,ot=Ue.style.height;Ue.style.height="auto";let gt=Ue.getBoundingClientRect().height;Ue.style.height=ot,Hr(gt),_(cn=>cn.find(Yt=>Yt.toastId===x.id)?cn.map(Yt=>Yt.toastId===x.id?{...Yt,height:gt}:Yt):[{toastId:x.id,height:gt,position:x.position},...cn])},[oe,x.title,x.description,_,x.id]);let An=me.useCallback(()=>{Ee(!0),zt(_n.current),_(Ue=>Ue.filter(ot=>ot.toastId!==x.id)),setTimeout(()=>{I(x)},Aj)},[x,I,_,_n]);me.useEffect(()=>{if(x.promise&&Wt==="loading"||x.duration===1/0||x.type==="loading")return;let Ue;return T||v||G&&wn?(()=>{if(ts.current<Zr.current){let ot=new Date().getTime()-Zr.current;On.current=On.current-ot}ts.current=new Date().getTime()})():On.current!==1/0&&(Zr.current=new Date().getTime(),Ue=setTimeout(()=>{var ot;(ot=x.onAutoClose)==null||ot.call(x,x),An()},On.current)),()=>clearTimeout(Ue)},[T,v,x,Wt,G,wn,An]),me.useEffect(()=>{x.delete&&An()},[An,x.delete]);function aa(){var Ue,ot,gt;return V!=null&&V.loading?me.createElement("div",{className:ar(W==null?void 0:W.loader,(Ue=x==null?void 0:x.classNames)==null?void 0:Ue.loader,"sonner-loader"),"data-visible":Wt==="loading"},V.loading):Y?me.createElement("div",{className:ar(W==null?void 0:W.loader,(ot=x==null?void 0:x.classNames)==null?void 0:ot.loader,"sonner-loader"),"data-visible":Wt==="loading"},Y):me.createElement(mj,{className:ar(W==null?void 0:W.loader,(gt=x==null?void 0:x.classNames)==null?void 0:gt.loader),visible:Wt==="loading"})}return me.createElement("li",{tabIndex:0,ref:kn,className:ar($,Ji,W==null?void 0:W.toast,(t=x==null?void 0:x.classNames)==null?void 0:t.toast,W==null?void 0:W.default,W==null?void 0:W[Wt],(n=x==null?void 0:x.classNames)==null?void 0:n[Wt]),"data-sonner-toast":"","data-rich-colors":(r=x.richColors)!=null?r:R,"data-styled":!(x.jsx||x.unstyled||w),"data-mounted":oe,"data-promise":!!x.promise,"data-swiped":bt,"data-removed":Ne,"data-visible":zs,"data-y-position":nr,"data-x-position":Us,"data-index":E,"data-front":$s,"data-swiping":Re,"data-dismissible":Wn,"data-type":Wt,"data-invert":Zs,"data-swipe-out":Qe,"data-swipe-direction":le,"data-expanded":!!(T||O&&oe),style:{"--index":E,"--toasts-before":E,"--z-index":M.length-E,"--offset":`${Ne?Ht:_n.current}px`,"--initial-height":O?"auto":`${Mt}px`,...U,...x.style},onDragEnd:()=>{Oe(!1),se(null),wr.current=null},onPointerDown:Ue=>{yi||!Wn||(vi.current=new Date,zt(_n.current),Ue.target.setPointerCapture(Ue.pointerId),Ue.target.tagName!=="BUTTON"&&(Oe(!0),wr.current={x:Ue.clientX,y:Ue.clientY}))},onPointerUp:()=>{var Ue,ot,gt,cn;if(Qe||!Wn)return;wr.current=null;let Yt=Number(((Ue=kn.current)==null?void 0:Ue.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Un=Number(((ot=kn.current)==null?void 0:ot.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),rr=new Date().getTime()-((gt=vi.current)==null?void 0:gt.getTime()),un=ie==="x"?Yt:Un,Hn=Math.abs(un)/rr;if(Math.abs(un)>=kj||Hn>.11){zt(_n.current),(cn=x.onDismiss)==null||cn.call(x,x),he(ie==="x"?Yt>0?"right":"left":Un>0?"down":"up"),An(),xt(!0),$t(!1);return}Oe(!1),se(null)},onPointerMove:Ue=>{var ot,gt,cn,Yt;if(!wr.current||!Wn||((ot=window.getSelection())==null?void 0:ot.toString().length)>0)return;let Un=Ue.clientY-wr.current.y,rr=Ue.clientX-wr.current.x,un=(gt=e.swipeDirections)!=null?gt:Ij(H);!ie&&(Math.abs(rr)>1||Math.abs(Un)>1)&&se(Math.abs(rr)>Math.abs(Un)?"x":"y");let Hn={x:0,y:0};ie==="y"?(un.includes("top")||un.includes("bottom"))&&(un.includes("top")&&Un<0||un.includes("bottom")&&Un>0)&&(Hn.y=Un):ie==="x"&&(un.includes("left")||un.includes("right"))&&(un.includes("left")&&rr<0||un.includes("right")&&rr>0)&&(Hn.x=rr),(Math.abs(Hn.x)>0||Math.abs(Hn.y)>0)&&$t(!0),(cn=kn.current)==null||cn.style.setProperty("--swipe-amount-x",`${Hn.x}px`),(Yt=kn.current)==null||Yt.style.setProperty("--swipe-amount-y",`${Hn.y}px`)}},Qi&&!x.jsx?me.createElement("button",{"aria-label":Q,"data-disabled":yi,"data-close-button":!0,onClick:yi||!Wn?()=>{}:()=>{var Ue;An(),(Ue=x.onDismiss)==null||Ue.call(x,x)},className:ar(W==null?void 0:W.closeButton,(i=x==null?void 0:x.classNames)==null?void 0:i.closeButton)},(o=V==null?void 0:V.close)!=null?o:xj):null,x.jsx||p.isValidElement(x.title)?x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title:me.createElement(me.Fragment,null,Wt||x.icon||x.promise?me.createElement("div",{"data-icon":"",className:ar(W==null?void 0:W.icon,(l=x==null?void 0:x.classNames)==null?void 0:l.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||aa():null,x.type!=="loading"?x.icon||(V==null?void 0:V[Wt])||fj(Wt):null):null,me.createElement("div",{"data-content":"",className:ar(W==null?void 0:W.content,(u=x==null?void 0:x.classNames)==null?void 0:u.content)},me.createElement("div",{"data-title":"",className:ar(W==null?void 0:W.title,(d=x==null?void 0:x.classNames)==null?void 0:d.title)},typeof x.title=="function"?x.title():x.title),x.description?me.createElement("div",{"data-description":"",className:ar(ne,Ws,W==null?void 0:W.description,(f=x==null?void 0:x.classNames)==null?void 0:f.description)},typeof x.description=="function"?x.description():x.description):null),p.isValidElement(x.cancel)?x.cancel:x.cancel&&cc(x.cancel)?me.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||X,onClick:Ue=>{var ot,gt;cc(x.cancel)&&Wn&&((gt=(ot=x.cancel).onClick)==null||gt.call(ot,Ue),An())},className:ar(W==null?void 0:W.cancelButton,(m=x==null?void 0:x.classNames)==null?void 0:m.cancelButton)},x.cancel.label):null,p.isValidElement(x.action)?x.action:x.action&&cc(x.action)?me.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||re,onClick:Ue=>{var ot,gt;cc(x.action)&&((gt=(ot=x.action).onClick)==null||gt.call(ot,Ue),!Ue.defaultPrevented&&An())},className:ar(W==null?void 0:W.actionButton,(g=x==null?void 0:x.classNames)==null?void 0:g.actionButton)},x.action.label):null))};function Vg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Lj(e,t){let n={};return[e,t].forEach((r,i)=>{let o=i===1,l=o?"--mobile-offset":"--offset",u=o?Mj:jj;function d(f){["top","right","bottom","left"].forEach(m=>{n[`${l}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${l}-${f}`]=u:n[`${l}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):d(u)}),n}var Fj=p.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:l,className:u,offset:d,mobileOffset:f,theme:m="light",richColors:g,duration:b,style:x,visibleToasts:w=Nj,toastOptions:v,dir:_=Vg(),gap:C=Oj,loadingIcon:P,icons:E,containerAriaLabel:M="Notifications",pauseWhenPageIsHidden:T}=e,[I,R]=me.useState([]),k=me.useMemo(()=>Array.from(new Set([r].concat(I.filter(G=>G.position).map(G=>G.position)))),[I,r]),[U,X]=me.useState([]),[re,$]=me.useState(!1),[ne,J]=me.useState(!1),[H,K]=me.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=me.useRef(null),O=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),W=me.useRef(null),V=me.useRef(!1),Q=me.useCallback(G=>{R(ie=>{var se;return(se=ie.find(le=>le.id===G.id))!=null&&se.delete||Tn.dismiss(G.id),ie.filter(({id:le})=>le!==G.id)})},[]);return me.useEffect(()=>Tn.subscribe(G=>{if(G.dismiss){R(ie=>ie.map(se=>se.id===G.id?{...se,delete:!0}:se));return}setTimeout(()=>{wu.flushSync(()=>{R(ie=>{let se=ie.findIndex(le=>le.id===G.id);return se!==-1?[...ie.slice(0,se),{...ie[se],...G},...ie.slice(se+1)]:[G,...ie]})})})}),[]),me.useEffect(()=>{if(m!=="system"){K(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:ie})=>{K(ie?"dark":"light")})}catch{G.addListener(({matches:se})=>{try{K(se?"dark":"light")}catch(le){console.error(le)}})}},[m]),me.useEffect(()=>{I.length<=1&&$(!1)},[I]),me.useEffect(()=>{let G=ie=>{var se,le;i.every(he=>ie[he]||ie.code===he)&&($(!0),(se=Y.current)==null||se.focus()),ie.code==="Escape"&&(document.activeElement===Y.current||(le=Y.current)!=null&&le.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[i]),me.useEffect(()=>{if(Y.current)return()=>{W.current&&(W.current.focus({preventScroll:!0}),W.current=null,V.current=!1)}},[Y.current]),me.createElement("section",{ref:t,"aria-label":`${M} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((G,ie)=>{var se;let[le,he]=G.split("-");return I.length?me.createElement("ol",{key:G,dir:_==="auto"?Vg():_,tabIndex:-1,ref:Y,className:u,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":le,"data-lifted":re&&I.length>1&&!o,"data-x-position":he,style:{"--front-toast-height":`${((se=U[0])==null?void 0:se.height)||0}px`,"--width":`${Rj}px`,"--gap":`${C}px`,...x,...Lj(d,f)},onBlur:oe=>{V.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(V.current=!1,W.current&&(W.current.focus({preventScroll:!0}),W.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||V.current||(V.current=!0,W.current=oe.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{ne||$(!1)},onDragEnd:()=>$(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},I.filter(oe=>!oe.position&&ie===0||oe.position===G).map((oe,be)=>{var Ne,Ee;return me.createElement(Dj,{key:oe.id,icons:E,index:be,toast:oe,defaultRichColors:g,duration:(Ne=v==null?void 0:v.duration)!=null?Ne:b,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:w,closeButton:(Ee=v==null?void 0:v.closeButton)!=null?Ee:l,interacting:ne,position:G,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:Q,toasts:I.filter(Re=>Re.position==oe.position),heights:U.filter(Re=>Re.position==oe.position),setHeights:X,expandByDefault:o,gap:C,loadingIcon:P,expanded:re,pauseWhenPageIsHidden:T,swipeDirections:e.swipeDirections})})):null}))});const Bj=({...e})=>{const{theme:t="system"}=dj();return a.jsx(Fj,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Vj=Wc[" useId ".trim().toString()]||(()=>{}),$j=0;function Xn(e){const[t,n]=p.useState(Vj());return jt(()=>{n(r=>r??String($j++))},[e]),t?`radix-${t}`:""}const zj=["top","right","bottom","left"],Bi=Math.min,Ln=Math.max,Zc=Math.round,uc=Math.floor,Ar=e=>({x:e,y:e}),Wj={left:"right",right:"left",bottom:"top",top:"bottom"},Uj={start:"end",end:"start"};function $f(e,t,n){return Ln(e,Bi(t,n))}function li(e,t){return typeof e=="function"?e(t):e}function ci(e){return e.split("-")[0]}function Xo(e){return e.split("-")[1]}function Xh(e){return e==="x"?"y":"x"}function Jh(e){return e==="y"?"height":"width"}function si(e){return["top","bottom"].includes(ci(e))?"y":"x"}function Qh(e){return Xh(si(e))}function Hj(e,t,n){n===void 0&&(n=!1);const r=Xo(e),i=Qh(e),o=Jh(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Gc(l)),[l,Gc(l)]}function Zj(e){const t=Gc(e);return[zf(e),t,zf(t)]}function zf(e){return e.replace(/start|end/g,t=>Uj[t])}function Gj(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:l;default:return[]}}function Yj(e,t,n,r){const i=Xo(e);let o=Gj(ci(e),n==="start",r);return i&&(o=o.map(l=>l+"-"+i),t&&(o=o.concat(o.map(zf)))),o}function Gc(e){return e.replace(/left|right|bottom|top/g,t=>Wj[t])}function Kj(e){return{top:0,right:0,bottom:0,left:0,...e}}function kb(e){return typeof e!="number"?Kj(e):{top:e,right:e,bottom:e,left:e}}function Yc(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function $g(e,t,n){let{reference:r,floating:i}=e;const o=si(t),l=Qh(t),u=Jh(l),d=ci(t),f=o==="y",m=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,b=r[u]/2-i[u]/2;let x;switch(d){case"top":x={x:m,y:r.y-i.height};break;case"bottom":x={x:m,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:g};break;case"left":x={x:r.x-i.width,y:g};break;default:x={x:r.x,y:r.y}}switch(Xo(t)){case"start":x[l]-=b*(n&&f?-1:1);break;case"end":x[l]+=b*(n&&f?-1:1);break}return x}const qj=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=n,u=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:m,y:g}=$g(f,r,d),b=r,x={},w=0;for(let v=0;v<u.length;v++){const{name:_,fn:C}=u[v],{x:P,y:E,data:M,reset:T}=await C({x:m,y:g,initialPlacement:r,placement:b,strategy:i,middlewareData:x,rects:f,platform:l,elements:{reference:e,floating:t}});m=P??m,g=E??g,x={...x,[_]:{...x[_],...M}},T&&w<=50&&(w++,typeof T=="object"&&(T.placement&&(b=T.placement),T.rects&&(f=T.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:m,y:g}=$g(f,b,d)),v=-1)}return{x:m,y:g,placement:b,strategy:i,middlewareData:x}};async function Fa(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:l,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:b=!1,padding:x=0}=li(t,e),w=kb(x),_=u[b?g==="floating"?"reference":"floating":g],C=Yc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:m,strategy:d})),P=g==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),M=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},T=Yc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:P,offsetParent:E,strategy:d}):P);return{top:(C.top-T.top+w.top)/M.y,bottom:(T.bottom-C.bottom+w.bottom)/M.y,left:(C.left-T.left+w.left)/M.x,right:(T.right-C.right+w.right)/M.x}}const Xj=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:l,elements:u,middlewareData:d}=t,{element:f,padding:m=0}=li(e,t)||{};if(f==null)return{};const g=kb(m),b={x:n,y:r},x=Qh(i),w=Jh(x),v=await l.getDimensions(f),_=x==="y",C=_?"top":"left",P=_?"bottom":"right",E=_?"clientHeight":"clientWidth",M=o.reference[w]+o.reference[x]-b[x]-o.floating[w],T=b[x]-o.reference[x],I=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let R=I?I[E]:0;(!R||!await(l.isElement==null?void 0:l.isElement(I)))&&(R=u.floating[E]||o.floating[w]);const k=M/2-T/2,U=R/2-v[w]/2-1,X=Bi(g[C],U),re=Bi(g[P],U),$=X,ne=R-v[w]-re,J=R/2-v[w]/2+k,H=$f($,J,ne),K=!d.arrow&&Xo(i)!=null&&J!==H&&o.reference[w]/2-(J<$?X:re)-v[w]/2<0,Y=K?J<$?J-$:J-ne:0;return{[x]:b[x]+Y,data:{[x]:H,centerOffset:J-H-Y,...K&&{alignmentOffset:Y}},reset:K}}}),Jj=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,..._}=li(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const C=ci(i),P=si(u),E=ci(u)===u,M=await(d.isRTL==null?void 0:d.isRTL(f.floating)),T=b||(E||!v?[Gc(u)]:Zj(u)),I=w!=="none";!b&&I&&T.push(...Yj(u,v,w,M));const R=[u,...T],k=await Fa(t,_),U=[];let X=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&U.push(k[C]),g){const H=Hj(i,l,M);U.push(k[H[0]],k[H[1]])}if(X=[...X,{placement:i,overflows:U}],!U.every(H=>H<=0)){var re,$;const H=(((re=o.flip)==null?void 0:re.index)||0)+1,K=R[H];if(K){var ne;const O=g==="alignment"?P!==si(K):!1,W=((ne=X[0])==null?void 0:ne.overflows[0])>0;if(!O||W)return{data:{index:H,overflows:X},reset:{placement:K}}}let Y=($=X.filter(O=>O.overflows[0]<=0).sort((O,W)=>O.overflows[1]-W.overflows[1])[0])==null?void 0:$.placement;if(!Y)switch(x){case"bestFit":{var J;const O=(J=X.filter(W=>{if(I){const V=si(W.placement);return V===P||V==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(V=>V>0).reduce((V,Q)=>V+Q,0)]).sort((W,V)=>W[1]-V[1])[0])==null?void 0:J[0];O&&(Y=O);break}case"initialPlacement":Y=u;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function zg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Wg(e){return zj.some(t=>e[t]>=0)}const Qj=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=li(e,t);switch(r){case"referenceHidden":{const o=await Fa(t,{...i,elementContext:"reference"}),l=zg(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Wg(l)}}}case"escaped":{const o=await Fa(t,{...i,altBoundary:!0}),l=zg(o,n.floating);return{data:{escapedOffsets:l,escaped:Wg(l)}}}default:return{}}}}};async function eM(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=ci(n),u=Xo(n),d=si(n)==="y",f=["left","top"].includes(l)?-1:1,m=o&&d?-1:1,g=li(t,e);let{mainAxis:b,crossAxis:x,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof w=="number"&&(x=u==="end"?w*-1:w),d?{x:x*m,y:b*f}:{x:b*f,y:x*m}}const tM=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:l,middlewareData:u}=t,d=await eM(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:l}}}}},nM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:_=>{let{x:C,y:P}=_;return{x:C,y:P}}},...d}=li(e,t),f={x:n,y:r},m=await Fa(t,d),g=si(ci(i)),b=Xh(g);let x=f[b],w=f[g];if(o){const _=b==="y"?"top":"left",C=b==="y"?"bottom":"right",P=x+m[_],E=x-m[C];x=$f(P,x,E)}if(l){const _=g==="y"?"top":"left",C=g==="y"?"bottom":"right",P=w+m[_],E=w-m[C];w=$f(P,w,E)}const v=u.fn({...t,[b]:x,[g]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[b]:o,[g]:l}}}}}},rM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=li(e,t),m={x:n,y:r},g=si(i),b=Xh(g);let x=m[b],w=m[g];const v=li(u,t),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const E=b==="y"?"height":"width",M=o.reference[b]-o.floating[E]+_.mainAxis,T=o.reference[b]+o.reference[E]-_.mainAxis;x<M?x=M:x>T&&(x=T)}if(f){var C,P;const E=b==="y"?"width":"height",M=["top","left"].includes(ci(i)),T=o.reference[g]-o.floating[E]+(M&&((C=l.offset)==null?void 0:C[g])||0)+(M?0:_.crossAxis),I=o.reference[g]+o.reference[E]+(M?0:((P=l.offset)==null?void 0:P[g])||0)-(M?_.crossAxis:0);w<T?w=T:w>I&&(w=I)}return{[b]:x,[g]:w}}}},iM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:l,elements:u}=t,{apply:d=()=>{},...f}=li(e,t),m=await Fa(t,f),g=ci(i),b=Xo(i),x=si(i)==="y",{width:w,height:v}=o.floating;let _,C;g==="top"||g==="bottom"?(_=g,C=b===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(C=g,_=b==="end"?"top":"bottom");const P=v-m.top-m.bottom,E=w-m.left-m.right,M=Bi(v-m[_],P),T=Bi(w-m[C],E),I=!t.middlewareData.shift;let R=M,k=T;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=E),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(R=P),I&&!b){const X=Ln(m.left,0),re=Ln(m.right,0),$=Ln(m.top,0),ne=Ln(m.bottom,0);x?k=w-2*(X!==0||re!==0?X+re:Ln(m.left,m.right)):R=v-2*($!==0||ne!==0?$+ne:Ln(m.top,m.bottom))}await d({...t,availableWidth:k,availableHeight:R});const U=await l.getDimensions(u.floating);return w!==U.width||v!==U.height?{reset:{rects:!0}}:{}}}};function ju(){return typeof window<"u"}function Jo(e){return Ab(e)?(e.nodeName||"").toLowerCase():"#document"}function Bn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ur(e){var t;return(t=(Ab(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ab(e){return ju()?e instanceof Node||e instanceof Bn(e).Node:!1}function pr(e){return ju()?e instanceof Element||e instanceof Bn(e).Element:!1}function Vr(e){return ju()?e instanceof HTMLElement||e instanceof Bn(e).HTMLElement:!1}function Ug(e){return!ju()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Bn(e).ShadowRoot}function yl(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=gr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function sM(e){return["table","td","th"].includes(Jo(e))}function Mu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function em(e){const t=tm(),n=pr(e)?gr(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function oM(e){let t=Vi(e);for(;Vr(t)&&!$o(t);){if(em(t))return t;if(Mu(t))return null;t=Vi(t)}return null}function tm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $o(e){return["html","body","#document"].includes(Jo(e))}function gr(e){return Bn(e).getComputedStyle(e)}function Ru(e){return pr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Vi(e){if(Jo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ug(e)&&e.host||Ur(e);return Ug(t)?t.host:t}function Ib(e){const t=Vi(e);return $o(t)?e.ownerDocument?e.ownerDocument.body:e.body:Vr(t)&&yl(t)?t:Ib(t)}function Ba(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Ib(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),l=Bn(i);if(o){const u=Wf(l);return t.concat(l,l.visualViewport||[],yl(i)?i:[],u&&n?Ba(u):[])}return t.concat(i,Ba(i,[],n))}function Wf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Db(e){const t=gr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Vr(e),o=i?e.offsetWidth:n,l=i?e.offsetHeight:r,u=Zc(n)!==o||Zc(r)!==l;return u&&(n=o,r=l),{width:n,height:r,$:u}}function nm(e){return pr(e)?e:e.contextElement}function Co(e){const t=nm(e);if(!Vr(t))return Ar(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=Db(t);let l=(o?Zc(n.width):n.width)/r,u=(o?Zc(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const aM=Ar(0);function Lb(e){const t=Bn(e);return!tm()||!t.visualViewport?aM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lM(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Bn(e)?!1:t}function Ms(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=nm(e);let l=Ar(1);t&&(r?pr(r)&&(l=Co(r)):l=Co(e));const u=lM(o,n,r)?Lb(o):Ar(0);let d=(i.left+u.x)/l.x,f=(i.top+u.y)/l.y,m=i.width/l.x,g=i.height/l.y;if(o){const b=Bn(o),x=r&&pr(r)?Bn(r):r;let w=b,v=Wf(w);for(;v&&r&&x!==w;){const _=Co(v),C=v.getBoundingClientRect(),P=gr(v),E=C.left+(v.clientLeft+parseFloat(P.paddingLeft))*_.x,M=C.top+(v.clientTop+parseFloat(P.paddingTop))*_.y;d*=_.x,f*=_.y,m*=_.x,g*=_.y,d+=E,f+=M,w=Bn(v),v=Wf(w)}}return Yc({width:m,height:g,x:d,y:f})}function rm(e,t){const n=Ru(e).scrollLeft;return t?t.left+n:Ms(Ur(e)).left+n}function Fb(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:rm(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function cM(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",l=Ur(r),u=t?Mu(t.floating):!1;if(r===l||u&&o)return n;let d={scrollLeft:0,scrollTop:0},f=Ar(1);const m=Ar(0),g=Vr(r);if((g||!g&&!o)&&((Jo(r)!=="body"||yl(l))&&(d=Ru(r)),Vr(r))){const x=Ms(r);f=Co(r),m.x=x.x+r.clientLeft,m.y=x.y+r.clientTop}const b=l&&!g&&!o?Fb(l,d,!0):Ar(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+m.x+b.x,y:n.y*f.y-d.scrollTop*f.y+m.y+b.y}}function uM(e){return Array.from(e.getClientRects())}function dM(e){const t=Ur(e),n=Ru(e),r=e.ownerDocument.body,i=Ln(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Ln(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+rm(e);const u=-n.scrollTop;return gr(r).direction==="rtl"&&(l+=Ln(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:u}}function fM(e,t){const n=Bn(e),r=Ur(e),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,d=0;if(i){o=i.width,l=i.height;const f=tm();(!f||f&&t==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:o,height:l,x:u,y:d}}function hM(e,t){const n=Ms(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Vr(e)?Co(e):Ar(1),l=e.clientWidth*o.x,u=e.clientHeight*o.y,d=i*o.x,f=r*o.y;return{width:l,height:u,x:d,y:f}}function Hg(e,t,n){let r;if(t==="viewport")r=fM(e,n);else if(t==="document")r=dM(Ur(e));else if(pr(t))r=hM(t,n);else{const i=Lb(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Yc(r)}function Bb(e,t){const n=Vi(e);return n===t||!pr(n)||$o(n)?!1:gr(n).position==="fixed"||Bb(n,t)}function mM(e,t){const n=t.get(e);if(n)return n;let r=Ba(e,[],!1).filter(u=>pr(u)&&Jo(u)!=="body"),i=null;const o=gr(e).position==="fixed";let l=o?Vi(e):e;for(;pr(l)&&!$o(l);){const u=gr(l),d=em(l);!d&&u.position==="fixed"&&(i=null),(o?!d&&!i:!d&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||yl(l)&&!d&&Bb(e,l))?r=r.filter(m=>m!==l):i=u,l=Vi(l)}return t.set(e,r),r}function pM(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?Mu(t)?[]:mM(t,this._c):[].concat(n),r],u=l[0],d=l.reduce((f,m)=>{const g=Hg(t,m,i);return f.top=Ln(g.top,f.top),f.right=Bi(g.right,f.right),f.bottom=Bi(g.bottom,f.bottom),f.left=Ln(g.left,f.left),f},Hg(t,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function gM(e){const{width:t,height:n}=Db(e);return{width:t,height:n}}function vM(e,t,n){const r=Vr(t),i=Ur(t),o=n==="fixed",l=Ms(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const d=Ar(0);function f(){d.x=rm(i)}if(r||!r&&!o)if((Jo(t)!=="body"||yl(i))&&(u=Ru(t)),r){const x=Ms(t,!0,o,t);d.x=x.x+t.clientLeft,d.y=x.y+t.clientTop}else i&&f();o&&!r&&i&&f();const m=i&&!r&&!o?Fb(i,u):Ar(0),g=l.left+u.scrollLeft-d.x-m.x,b=l.top+u.scrollTop-d.y-m.y;return{x:g,y:b,width:l.width,height:l.height}}function zd(e){return gr(e).position==="static"}function Zg(e,t){if(!Vr(e)||gr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ur(e)===n&&(n=n.ownerDocument.body),n}function Vb(e,t){const n=Bn(e);if(Mu(e))return n;if(!Vr(e)){let i=Vi(e);for(;i&&!$o(i);){if(pr(i)&&!zd(i))return i;i=Vi(i)}return n}let r=Zg(e,t);for(;r&&sM(r)&&zd(r);)r=Zg(r,t);return r&&$o(r)&&zd(r)&&!em(r)?n:r||oM(e)||n}const yM=async function(e){const t=this.getOffsetParent||Vb,n=this.getDimensions,r=await n(e.floating);return{reference:vM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xM(e){return gr(e).direction==="rtl"}const bM={convertOffsetParentRelativeRectToViewportRelativeRect:cM,getDocumentElement:Ur,getClippingRect:pM,getOffsetParent:Vb,getElementRects:yM,getClientRects:uM,getDimensions:gM,getScale:Co,isElement:pr,isRTL:xM};function $b(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function _M(e,t){let n=null,r;const i=Ur(e);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const f=e.getBoundingClientRect(),{left:m,top:g,width:b,height:x}=f;if(u||t(),!b||!x)return;const w=uc(g),v=uc(i.clientWidth-(m+b)),_=uc(i.clientHeight-(g+x)),C=uc(m),E={rootMargin:-w+"px "+-v+"px "+-_+"px "+-C+"px",threshold:Ln(0,Bi(1,d))||1};let M=!0;function T(I){const R=I[0].intersectionRatio;if(R!==d){if(!M)return l();R?l(!1,R):r=setTimeout(()=>{l(!1,1e-7)},1e3)}R===1&&!$b(f,e.getBoundingClientRect())&&l(),M=!1}try{n=new IntersectionObserver(T,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,E)}n.observe(e)}return l(!0),o}function Ou(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=nm(e),m=i||o?[...f?Ba(f):[],...Ba(t)]:[];m.forEach(C=>{i&&C.addEventListener("scroll",n,{passive:!0}),o&&C.addEventListener("resize",n)});const g=f&&u?_M(f,n):null;let b=-1,x=null;l&&(x=new ResizeObserver(C=>{let[P]=C;P&&P.target===f&&x&&(x.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var E;(E=x)==null||E.observe(t)})),n()}),f&&!d&&x.observe(f),x.observe(t));let w,v=d?Ms(e):null;d&&_();function _(){const C=Ms(e);v&&!$b(v,C)&&n(),v=C,w=requestAnimationFrame(_)}return n(),()=>{var C;m.forEach(P=>{i&&P.removeEventListener("scroll",n),o&&P.removeEventListener("resize",n)}),g==null||g(),(C=x)==null||C.disconnect(),x=null,d&&cancelAnimationFrame(w)}}const wM=tM,SM=nM,CM=Jj,PM=iM,EM=Qj,Gg=Xj,TM=rM,NM=(e,t,n)=>{const r=new Map,i={platform:bM,...n},o={...i.platform,_c:r};return qj(e,t,{...i,platform:o})};var Mc=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Kc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Kc(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!Kc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function zb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Yg(e,t){const n=zb(e);return Math.round(t*n)/n}function Wd(e){const t=p.useRef(e);return Mc(()=>{t.current=e}),t}function im(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[m,g]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,x]=p.useState(r);Kc(b,r)||x(r);const[w,v]=p.useState(null),[_,C]=p.useState(null),P=p.useCallback(O=>{O!==I.current&&(I.current=O,v(O))},[]),E=p.useCallback(O=>{O!==R.current&&(R.current=O,C(O))},[]),M=o||w,T=l||_,I=p.useRef(null),R=p.useRef(null),k=p.useRef(m),U=d!=null,X=Wd(d),re=Wd(i),$=Wd(f),ne=p.useCallback(()=>{if(!I.current||!R.current)return;const O={placement:t,strategy:n,middleware:b};re.current&&(O.platform=re.current),NM(I.current,R.current,O).then(W=>{const V={...W,isPositioned:$.current!==!1};J.current&&!Kc(k.current,V)&&(k.current=V,hi.flushSync(()=>{g(V)}))})},[b,t,n,re,$]);Mc(()=>{f===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,g(O=>({...O,isPositioned:!1})))},[f]);const J=p.useRef(!1);Mc(()=>(J.current=!0,()=>{J.current=!1}),[]),Mc(()=>{if(M&&(I.current=M),T&&(R.current=T),M&&T){if(X.current)return X.current(M,T,ne);ne()}},[M,T,ne,X,U]);const H=p.useMemo(()=>({reference:I,floating:R,setReference:P,setFloating:E}),[P,E]),K=p.useMemo(()=>({reference:M,floating:T}),[M,T]),Y=p.useMemo(()=>{const O={position:n,left:0,top:0};if(!K.floating)return O;const W=Yg(K.floating,m.x),V=Yg(K.floating,m.y);return u?{...O,transform:"translate("+W+"px, "+V+"px)",...zb(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:V}},[n,u,K.floating,m.x,m.y]);return p.useMemo(()=>({...m,update:ne,refs:H,elements:K,floatingStyles:Y}),[m,ne,H,K,Y])}const jM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Gg({element:r.current,padding:i}).fn(n):{}:r?Gg({element:r,padding:i}).fn(n):{}}}},sm=(e,t)=>({...wM(e),options:[e,t]}),om=(e,t)=>({...SM(e),options:[e,t]}),am=(e,t)=>({...TM(e),options:[e,t]}),lm=(e,t)=>({...CM(e),options:[e,t]}),cm=(e,t)=>({...PM(e),options:[e,t]}),um=(e,t)=>({...EM(e),options:[e,t]}),dm=(e,t)=>({...jM(e),options:[e,t]});var MM="Arrow",Wb=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return a.jsx(Le.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Wb.displayName=MM;var RM=Wb;function Qo(e){const[t,n]=p.useState(void 0);return jt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,u;if("borderBoxSize"in o){const d=o.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var fm="Popper",[Ub,ku]=Vt(fm),[OM,Hb]=Ub(fm),Zb=e=>{const{__scopePopper:t,children:n}=e,[r,i]=p.useState(null);return a.jsx(OM,{scope:t,anchor:r,onAnchorChange:i,children:n})};Zb.displayName=fm;var Gb="PopperAnchor",Yb=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=Hb(Gb,n),l=p.useRef(null),u=Me(t,l);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:a.jsx(Le.div,{...i,ref:u})});Yb.displayName=Gb;var hm="PopperContent",[kM,AM]=Ub(hm),Kb=p.forwardRef((e,t)=>{var oe,be,Ne,Ee,Re,Oe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:x="optimized",onPlaced:w,...v}=e,_=Hb(hm,n),[C,P]=p.useState(null),E=Me(t,Qe=>P(Qe)),[M,T]=p.useState(null),I=Qo(M),R=(I==null?void 0:I.width)??0,k=(I==null?void 0:I.height)??0,U=r+(o!=="center"?"-"+o:""),X=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},re=Array.isArray(f)?f:[f],$=re.length>0,ne={padding:X,boundary:re.filter(DM),altBoundary:$},{refs:J,floatingStyles:H,placement:K,isPositioned:Y,middlewareData:O}=im({strategy:"fixed",placement:U,whileElementsMounted:(...Qe)=>Ou(...Qe,{animationFrame:x==="always"}),elements:{reference:_.anchor},middleware:[sm({mainAxis:i+k,alignmentAxis:l}),d&&om({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?am():void 0,...ne}),d&&lm({...ne}),cm({...ne,apply:({elements:Qe,rects:xt,availableWidth:bt,availableHeight:$t})=>{const{width:Ht,height:zt}=xt.reference,Mt=Qe.floating.style;Mt.setProperty("--radix-popper-available-width",`${bt}px`),Mt.setProperty("--radix-popper-available-height",`${$t}px`),Mt.setProperty("--radix-popper-anchor-width",`${Ht}px`),Mt.setProperty("--radix-popper-anchor-height",`${zt}px`)}}),M&&dm({element:M,padding:u}),LM({arrowWidth:R,arrowHeight:k}),b&&um({strategy:"referenceHidden",...ne})]}),[W,V]=Jb(K),Q=Pt(w);jt(()=>{Y&&(Q==null||Q())},[Y,Q]);const G=(oe=O.arrow)==null?void 0:oe.x,ie=(be=O.arrow)==null?void 0:be.y,se=((Ne=O.arrow)==null?void 0:Ne.centerOffset)!==0,[le,he]=p.useState();return jt(()=>{C&&he(window.getComputedStyle(C).zIndex)},[C]),a.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:Y?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(Ee=O.transformOrigin)==null?void 0:Ee.x,(Re=O.transformOrigin)==null?void 0:Re.y].join(" "),...((Oe=O.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(kM,{scope:n,placedSide:W,onArrowChange:T,arrowX:G,arrowY:ie,shouldHideArrow:se,children:a.jsx(Le.div,{"data-side":W,"data-align":V,...v,ref:E,style:{...v.style,animation:Y?void 0:"none"}})})})});Kb.displayName=hm;var qb="PopperArrow",IM={top:"bottom",right:"left",bottom:"top",left:"right"},Xb=p.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=AM(qb,r),l=IM[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(RM,{...i,ref:n,style:{...i.style,display:"block"}})})});Xb.displayName=qb;function DM(e){return e!==null}var LM=e=>({name:"transformOrigin",options:e,fn(t){var _,C,P;const{placement:n,rects:r,middlewareData:i}=t,l=((_=i.arrow)==null?void 0:_.centerOffset)!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,m]=Jb(n),g={start:"0%",center:"50%",end:"100%"}[m],b=(((C=i.arrow)==null?void 0:C.x)??0)+u/2,x=(((P=i.arrow)==null?void 0:P.y)??0)+d/2;let w="",v="";return f==="bottom"?(w=l?g:`${b}px`,v=`${-d}px`):f==="top"?(w=l?g:`${b}px`,v=`${r.floating.height+d}px`):f==="right"?(w=`${-d}px`,v=l?g:`${x}px`):f==="left"&&(w=`${r.floating.width+d}px`,v=l?g:`${x}px`),{data:{x:w,y:v}}}});function Jb(e){const[t,n="center"]=e.split("-");return[t,n]}var FM=Zb,Qb=Yb,e0=Kb,t0=Xb,BM=Symbol("radix.slottable");function VM(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=BM,t}var[Au,IU]=Vt("Tooltip",[ku]),mm=ku(),n0="TooltipProvider",$M=700,Kg="tooltip.open",[zM,r0]=Au(n0),i0=e=>{const{__scopeTooltip:t,delayDuration:n=$M,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,l=p.useRef(!0),u=p.useRef(!1),d=p.useRef(0);return p.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),a.jsx(zM,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:p.useCallback(f=>{u.current=f},[]),disableHoverableContent:i,children:o})};i0.displayName=n0;var s0="Tooltip",[DU,Iu]=Au(s0),Uf="TooltipTrigger",WM=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Iu(Uf,n),o=r0(Uf,n),l=mm(n),u=p.useRef(null),d=Me(t,u,i.onTriggerChange),f=p.useRef(!1),m=p.useRef(!1),g=p.useCallback(()=>f.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),a.jsx(Qb,{asChild:!0,...l,children:a.jsx(Le.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:d,onPointerMove:fe(e.onPointerMove,b=>{b.pointerType!=="touch"&&!m.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),m.current=!0)}),onPointerLeave:fe(e.onPointerLeave,()=>{i.onTriggerLeave(),m.current=!1}),onPointerDown:fe(e.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:fe(e.onFocus,()=>{f.current||i.onOpen()}),onBlur:fe(e.onBlur,i.onClose),onClick:fe(e.onClick,i.onClose)})})});WM.displayName=Uf;var UM="TooltipPortal",[LU,HM]=Au(UM,{forceMount:void 0}),zo="TooltipContent",o0=p.forwardRef((e,t)=>{const n=HM(zo,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,l=Iu(zo,e.__scopeTooltip);return a.jsx(yn,{present:r||l.open,children:l.disableHoverableContent?a.jsx(a0,{side:i,...o,ref:t}):a.jsx(ZM,{side:i,...o,ref:t})})}),ZM=p.forwardRef((e,t)=>{const n=Iu(zo,e.__scopeTooltip),r=r0(zo,e.__scopeTooltip),i=p.useRef(null),o=Me(t,i),[l,u]=p.useState(null),{trigger:d,onClose:f}=n,m=i.current,{onPointerInTransitChange:g}=r,b=p.useCallback(()=>{u(null),g(!1)},[g]),x=p.useCallback((w,v)=>{const _=w.currentTarget,C={x:w.clientX,y:w.clientY},P=XM(C,_.getBoundingClientRect()),E=JM(C,P),M=QM(v.getBoundingClientRect()),T=tR([...E,...M]);u(T),g(!0)},[g]);return p.useEffect(()=>()=>b(),[b]),p.useEffect(()=>{if(d&&m){const w=_=>x(_,m),v=_=>x(_,d);return d.addEventListener("pointerleave",w),m.addEventListener("pointerleave",v),()=>{d.removeEventListener("pointerleave",w),m.removeEventListener("pointerleave",v)}}},[d,m,x,b]),p.useEffect(()=>{if(l){const w=v=>{const _=v.target,C={x:v.clientX,y:v.clientY},P=(d==null?void 0:d.contains(_))||(m==null?void 0:m.contains(_)),E=!eR(C,l);P?b():E&&(b(),f())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[d,m,l,f,b]),a.jsx(a0,{...e,ref:o})}),[GM,YM]=Au(s0,{isInside:!1}),KM=VM("TooltipContent"),a0=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:l,...u}=e,d=Iu(zo,n),f=mm(n),{onClose:m}=d;return p.useEffect(()=>(document.addEventListener(Kg,m),()=>document.removeEventListener(Kg,m)),[m]),p.useEffect(()=>{if(d.trigger){const g=b=>{const x=b.target;x!=null&&x.contains(d.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,m]),a.jsx(gl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:g=>g.preventDefault(),onDismiss:m,children:a.jsxs(e0,{"data-state":d.stateAttribute,...f,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(KM,{children:r}),a.jsx(GM,{scope:n,isInside:!0,children:a.jsx(CN,{id:d.contentId,role:"tooltip",children:i||r})})]})})});o0.displayName=zo;var l0="TooltipArrow",qM=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=mm(n);return YM(l0,n).isInside?null:a.jsx(t0,{...i,...r,ref:t})});qM.displayName=l0;function XM(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function JM(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function QM(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function eR(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const u=t[o],d=t[l],f=u.x,m=u.y,g=d.x,b=d.y;m>r!=b>r&&n<(g-f)*(r-m)/(b-m)+f&&(i=!i)}return i}function tR(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),nR(t)}function nR(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(i.y-l.y)>=(o.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const o=n[n.length-1],l=n[n.length-2];if((o.x-l.x)*(i.y-l.y)>=(o.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var rR=i0,c0=o0;const iR=rR,sR=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(c0,{ref:r,sideOffset:t,className:Pe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));sR.displayName=c0.displayName;var Du=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Lu=typeof window>"u"||"Deno"in globalThis;function ur(){}function oR(e,t){return typeof e=="function"?e(t):e}function aR(e){return typeof e=="number"&&e>=0&&e!==1/0}function lR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qg(e,t){return typeof e=="function"?e(t):e}function cR(e,t){return typeof e=="function"?e(t):e}function Xg(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:l,stale:u}=e;if(l){if(r){if(t.queryHash!==pm(l,t.options))return!1}else if(!$a(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||i&&i!==t.state.fetchStatus||o&&!o(t))}function Jg(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Va(t.options.mutationKey)!==Va(o))return!1}else if(!$a(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function pm(e,t){return((t==null?void 0:t.queryKeyHashFn)||Va)(e)}function Va(e){return JSON.stringify(e,(t,n)=>Hf(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function $a(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>$a(e[n],t[n])):!1}function u0(e,t){if(e===t)return e;const n=Qg(e)&&Qg(t);if(n||Hf(e)&&Hf(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),l=o.length,u=n?[]:{};let d=0;for(let f=0;f<l;f++){const m=n?f:o[f];(!n&&r.includes(m)||n)&&e[m]===void 0&&t[m]===void 0?(u[m]=void 0,d++):(u[m]=u0(e[m],t[m]),u[m]===e[m]&&e[m]!==void 0&&d++)}return i===l&&d===i?e:u}return t}function Qg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Hf(e){if(!ev(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ev(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ev(e){return Object.prototype.toString.call(e)==="[object Object]"}function uR(e){return new Promise(t=>{setTimeout(t,e)})}function dR(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?u0(e,t):t}function fR(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function hR(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var gm=Symbol();function d0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===gm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ys,Ri,jo,Vx,mR=(Vx=class extends Du{constructor(){super();at(this,ys);at(this,Ri);at(this,jo);Ye(this,jo,t=>{if(!Lu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ae(this,Ri)||this.setEventListener(ae(this,jo))}onUnsubscribe(){var t;this.hasListeners()||((t=ae(this,Ri))==null||t.call(this),Ye(this,Ri,void 0))}setEventListener(t){var n;Ye(this,jo,t),(n=ae(this,Ri))==null||n.call(this),Ye(this,Ri,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ae(this,ys)!==t&&(Ye(this,ys,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ae(this,ys)=="boolean"?ae(this,ys):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ys=new WeakMap,Ri=new WeakMap,jo=new WeakMap,Vx),f0=new mR,Mo,Oi,Ro,$x,pR=($x=class extends Du{constructor(){super();at(this,Mo,!0);at(this,Oi);at(this,Ro);Ye(this,Ro,t=>{if(!Lu&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ae(this,Oi)||this.setEventListener(ae(this,Ro))}onUnsubscribe(){var t;this.hasListeners()||((t=ae(this,Oi))==null||t.call(this),Ye(this,Oi,void 0))}setEventListener(t){var n;Ye(this,Ro,t),(n=ae(this,Oi))==null||n.call(this),Ye(this,Oi,t(this.setOnline.bind(this)))}setOnline(t){ae(this,Mo)!==t&&(Ye(this,Mo,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ae(this,Mo)}},Mo=new WeakMap,Oi=new WeakMap,Ro=new WeakMap,$x),qc=new pR;function gR(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function vR(e){return Math.min(1e3*2**e,3e4)}function h0(e){return(e??"online")==="online"?qc.isOnline():!0}var m0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Ud(e){return e instanceof m0}function p0(e){let t=!1,n=0,r=!1,i;const o=gR(),l=v=>{var _;r||(b(new m0(v)),(_=e.abort)==null||_.call(e))},u=()=>{t=!0},d=()=>{t=!1},f=()=>f0.isFocused()&&(e.networkMode==="always"||qc.isOnline())&&e.canRun(),m=()=>h0(e.networkMode)&&e.canRun(),g=v=>{var _;r||(r=!0,(_=e.onSuccess)==null||_.call(e,v),i==null||i(),o.resolve(v))},b=v=>{var _;r||(r=!0,(_=e.onError)==null||_.call(e,v),i==null||i(),o.reject(v))},x=()=>new Promise(v=>{var _;i=C=>{(r||f())&&v(C)},(_=e.onPause)==null||_.call(e)}).then(()=>{var v;i=void 0,r||(v=e.onContinue)==null||v.call(e)}),w=()=>{if(r)return;let v;const _=n===0?e.initialPromise:void 0;try{v=_??e.fn()}catch(C){v=Promise.reject(C)}Promise.resolve(v).then(g).catch(C=>{var I;if(r)return;const P=e.retry??(Lu?0:3),E=e.retryDelay??vR,M=typeof E=="function"?E(n,C):E,T=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,C);if(t||!T){b(C);return}n++,(I=e.onFail)==null||I.call(e,n,C),uR(M).then(()=>f()?void 0:x()).then(()=>{t?b(C):w()})})};return{promise:o,cancel:l,continue:()=>(i==null||i(),o),cancelRetry:u,continueRetry:d,canStart:m,start:()=>(m()?w():x().then(w),o)}}var yR=e=>setTimeout(e,0);function xR(){let e=[],t=0,n=u=>{u()},r=u=>{u()},i=yR;const o=u=>{t?e.push(u):i(()=>{n(u)})},l=()=>{const u=e;e=[],u.length&&i(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{o(()=>{u(...d)})},schedule:o,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var mn=xR(),xs,zx,g0=(zx=class{constructor(){at(this,xs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),aR(this.gcTime)&&Ye(this,xs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Lu?1/0:5*60*1e3))}clearGcTimeout(){ae(this,xs)&&(clearTimeout(ae(this,xs)),Ye(this,xs,void 0))}},xs=new WeakMap,zx),Oo,ko,qn,bs,sn,ml,_s,dr,Qr,Wx,bR=(Wx=class extends g0{constructor(t){super();at(this,dr);at(this,Oo);at(this,ko);at(this,qn);at(this,bs);at(this,sn);at(this,ml);at(this,_s);Ye(this,_s,!1),Ye(this,ml,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ye(this,bs,t.client),Ye(this,qn,ae(this,bs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ye(this,Oo,wR(this.options)),this.state=t.state??ae(this,Oo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ae(this,sn))==null?void 0:t.promise}setOptions(t){this.options={...ae(this,ml),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ae(this,qn).remove(this)}setData(t,n){const r=dR(this.state.data,t,this.options);return Qt(this,dr,Qr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Qt(this,dr,Qr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=ae(this,sn))==null?void 0:r.promise;return(i=ae(this,sn))==null||i.cancel(t),n?n.then(ur).catch(ur):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ae(this,Oo))}isActive(){return this.observers.some(t=>cR(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!lR(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ae(this,sn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ae(this,sn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ae(this,qn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ae(this,sn)&&(ae(this,_s)?ae(this,sn).cancel({revert:!0}):ae(this,sn).cancelRetry()),this.scheduleGc()),ae(this,qn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qt(this,dr,Qr).call(this,{type:"invalidate"})}fetch(t,n){var d,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ae(this,sn))return ae(this,sn).continueRetry(),ae(this,sn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(b=>b.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(Ye(this,_s,!0),r.signal)})},o=()=>{const g=d0(this.options,n),b={client:ae(this,bs),queryKey:this.queryKey,meta:this.meta};return i(b),Ye(this,_s,!1),this.options.persister?this.options.persister(g,b,this):g(b)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ae(this,bs),state:this.state,fetchFn:o};i(l),(d=this.options.behavior)==null||d.onFetch(l,this),Ye(this,ko,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Qt(this,dr,Qr).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const u=g=>{var b,x,w,v;Ud(g)&&g.silent||Qt(this,dr,Qr).call(this,{type:"error",error:g}),Ud(g)||((x=(b=ae(this,qn).config).onError)==null||x.call(b,g,this),(v=(w=ae(this,qn).config).onSettled)==null||v.call(w,this.state.data,g,this)),this.scheduleGc()};return Ye(this,sn,p0({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:g=>{var b,x,w,v;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(_){u(_);return}(x=(b=ae(this,qn).config).onSuccess)==null||x.call(b,g,this),(v=(w=ae(this,qn).config).onSettled)==null||v.call(w,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,b)=>{Qt(this,dr,Qr).call(this,{type:"failed",failureCount:g,error:b})},onPause:()=>{Qt(this,dr,Qr).call(this,{type:"pause"})},onContinue:()=>{Qt(this,dr,Qr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ae(this,sn).start()}},Oo=new WeakMap,ko=new WeakMap,qn=new WeakMap,bs=new WeakMap,sn=new WeakMap,ml=new WeakMap,_s=new WeakMap,dr=new WeakSet,Qr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,..._R(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Ud(i)&&i.revert&&ae(this,ko)?{...ae(this,ko),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),mn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ae(this,qn).notify({query:this,type:"updated",action:t})})},Wx);function _R(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:h0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function wR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Tr,Ux,SR=(Ux=class extends Du{constructor(t={}){super();at(this,Tr);this.config=t,Ye(this,Tr,new Map)}build(t,n,r){const i=n.queryKey,o=n.queryHash??pm(i,n);let l=this.get(o);return l||(l=new bR({client:t,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){ae(this,Tr).has(t.queryHash)||(ae(this,Tr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ae(this,Tr).get(t.queryHash);n&&(t.destroy(),n===t&&ae(this,Tr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){mn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ae(this,Tr).get(t)}getAll(){return[...ae(this,Tr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Xg(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Xg(t,r)):n}notify(t){mn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){mn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){mn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Tr=new WeakMap,Ux),Nr,fn,ws,jr,Pi,Hx,CR=(Hx=class extends g0{constructor(t){super();at(this,jr);at(this,Nr);at(this,fn);at(this,ws);this.mutationId=t.mutationId,Ye(this,fn,t.mutationCache),Ye(this,Nr,[]),this.state=t.state||PR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ae(this,Nr).includes(t)||(ae(this,Nr).push(t),this.clearGcTimeout(),ae(this,fn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ye(this,Nr,ae(this,Nr).filter(n=>n!==t)),this.scheduleGc(),ae(this,fn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ae(this,Nr).length||(this.state.status==="pending"?this.scheduleGc():ae(this,fn).remove(this))}continue(){var t;return((t=ae(this,ws))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,u,d,f,m,g,b,x,w,v,_,C,P,E,M,T,I,R,k;const n=()=>{Qt(this,jr,Pi).call(this,{type:"continue"})};Ye(this,ws,p0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(U,X)=>{Qt(this,jr,Pi).call(this,{type:"failed",failureCount:U,error:X})},onPause:()=>{Qt(this,jr,Pi).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ae(this,fn).canRun(this)}));const r=this.state.status==="pending",i=!ae(this,ws).canStart();try{if(r)n();else{Qt(this,jr,Pi).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=ae(this,fn).config).onMutate)==null?void 0:l.call(o,t,this));const X=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,t));X!==this.state.context&&Qt(this,jr,Pi).call(this,{type:"pending",context:X,variables:t,isPaused:i})}const U=await ae(this,ws).start();return await((m=(f=ae(this,fn).config).onSuccess)==null?void 0:m.call(f,U,t,this.state.context,this)),await((b=(g=this.options).onSuccess)==null?void 0:b.call(g,U,t,this.state.context)),await((w=(x=ae(this,fn).config).onSettled)==null?void 0:w.call(x,U,null,this.state.variables,this.state.context,this)),await((_=(v=this.options).onSettled)==null?void 0:_.call(v,U,null,t,this.state.context)),Qt(this,jr,Pi).call(this,{type:"success",data:U}),U}catch(U){try{throw await((P=(C=ae(this,fn).config).onError)==null?void 0:P.call(C,U,t,this.state.context,this)),await((M=(E=this.options).onError)==null?void 0:M.call(E,U,t,this.state.context)),await((I=(T=ae(this,fn).config).onSettled)==null?void 0:I.call(T,void 0,U,this.state.variables,this.state.context,this)),await((k=(R=this.options).onSettled)==null?void 0:k.call(R,void 0,U,t,this.state.context)),U}finally{Qt(this,jr,Pi).call(this,{type:"error",error:U})}}finally{ae(this,fn).runNext(this)}}},Nr=new WeakMap,fn=new WeakMap,ws=new WeakMap,jr=new WeakSet,Pi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),mn.batch(()=>{ae(this,Nr).forEach(r=>{r.onMutationUpdate(t)}),ae(this,fn).notify({mutation:this,type:"updated",action:t})})},Hx);function PR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ni,fr,pl,Zx,ER=(Zx=class extends Du{constructor(t={}){super();at(this,ni);at(this,fr);at(this,pl);this.config=t,Ye(this,ni,new Set),Ye(this,fr,new Map),Ye(this,pl,0)}build(t,n,r){const i=new CR({mutationCache:this,mutationId:++ic(this,pl)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){ae(this,ni).add(t);const n=dc(t);if(typeof n=="string"){const r=ae(this,fr).get(n);r?r.push(t):ae(this,fr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ae(this,ni).delete(t)){const n=dc(t);if(typeof n=="string"){const r=ae(this,fr).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&ae(this,fr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=dc(t);if(typeof n=="string"){const r=ae(this,fr).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=dc(t);if(typeof n=="string"){const i=(r=ae(this,fr).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){mn.batch(()=>{ae(this,ni).forEach(t=>{this.notify({type:"removed",mutation:t})}),ae(this,ni).clear(),ae(this,fr).clear()})}getAll(){return Array.from(ae(this,ni))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Jg(n,r))}findAll(t={}){return this.getAll().filter(n=>Jg(t,n))}notify(t){mn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return mn.batch(()=>Promise.all(t.map(n=>n.continue().catch(ur))))}},ni=new WeakMap,fr=new WeakMap,pl=new WeakMap,Zx);function dc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function tv(e){return{onFetch:(t,n)=>{var m,g,b,x,w;const r=t.options,i=(b=(g=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:g.fetchMore)==null?void 0:b.direction,o=((x=t.state.data)==null?void 0:x.pages)||[],l=((w=t.state.data)==null?void 0:w.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const f=async()=>{let v=!1;const _=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},C=d0(t.options,t.fetchOptions),P=async(E,M,T)=>{if(v)return Promise.reject();if(M==null&&E.pages.length)return Promise.resolve(E);const I={client:t.client,queryKey:t.queryKey,pageParam:M,direction:T?"backward":"forward",meta:t.options.meta};_(I);const R=await C(I),{maxPages:k}=t.options,U=T?hR:fR;return{pages:U(E.pages,R,k),pageParams:U(E.pageParams,M,k)}};if(i&&o.length){const E=i==="backward",M=E?TR:nv,T={pages:o,pageParams:l},I=M(r,T);u=await P(T,I,E)}else{const E=e??o.length;do{const M=d===0?l[0]??r.initialPageParam:nv(r,u);if(d>0&&M==null)break;u=await P(u,M),d++}while(d<E)}return u};t.options.persister?t.fetchFn=()=>{var v,_;return(_=(v=t.options).persister)==null?void 0:_.call(v,f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=f}}}function nv(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function TR(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Rt,ki,Ai,Ao,Io,Ii,Do,Lo,Gx,NR=(Gx=class{constructor(e={}){at(this,Rt);at(this,ki);at(this,Ai);at(this,Ao);at(this,Io);at(this,Ii);at(this,Do);at(this,Lo);Ye(this,Rt,e.queryCache||new SR),Ye(this,ki,e.mutationCache||new ER),Ye(this,Ai,e.defaultOptions||{}),Ye(this,Ao,new Map),Ye(this,Io,new Map),Ye(this,Ii,0)}mount(){ic(this,Ii)._++,ae(this,Ii)===1&&(Ye(this,Do,f0.subscribe(async e=>{e&&(await this.resumePausedMutations(),ae(this,Rt).onFocus())})),Ye(this,Lo,qc.subscribe(async e=>{e&&(await this.resumePausedMutations(),ae(this,Rt).onOnline())})))}unmount(){var e,t;ic(this,Ii)._--,ae(this,Ii)===0&&((e=ae(this,Do))==null||e.call(this),Ye(this,Do,void 0),(t=ae(this,Lo))==null||t.call(this),Ye(this,Lo,void 0))}isFetching(e){return ae(this,Rt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ae(this,ki).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ae(this,Rt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ae(this,Rt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(qg(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return ae(this,Rt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=ae(this,Rt).get(r.queryHash),o=i==null?void 0:i.state.data,l=oR(t,o);if(l!==void 0)return ae(this,Rt).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return mn.batch(()=>ae(this,Rt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ae(this,Rt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ae(this,Rt);mn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ae(this,Rt);return mn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=mn.batch(()=>ae(this,Rt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(ur).catch(ur)}invalidateQueries(e,t={}){return mn.batch(()=>(ae(this,Rt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=mn.batch(()=>ae(this,Rt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(ur)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(ur)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ae(this,Rt).build(this,t);return n.isStaleByTime(qg(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ur).catch(ur)}fetchInfiniteQuery(e){return e.behavior=tv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ur).catch(ur)}ensureInfiniteQueryData(e){return e.behavior=tv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return qc.isOnline()?ae(this,ki).resumePausedMutations():Promise.resolve()}getQueryCache(){return ae(this,Rt)}getMutationCache(){return ae(this,ki)}getDefaultOptions(){return ae(this,Ai)}setDefaultOptions(e){Ye(this,Ai,e)}setQueryDefaults(e,t){ae(this,Ao).set(Va(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ae(this,Ao).values()],n={};return t.forEach(r=>{$a(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){ae(this,Io).set(Va(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ae(this,Io).values()],n={};return t.forEach(r=>{$a(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ae(this,Ai).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=pm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===gm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ae(this,Ai).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ae(this,Rt).clear(),ae(this,ki).clear()}},Rt=new WeakMap,ki=new WeakMap,Ai=new WeakMap,Ao=new WeakMap,Io=new WeakMap,Ii=new WeakMap,Do=new WeakMap,Lo=new WeakMap,Gx),jR=p.createContext(void 0),MR=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(jR.Provider,{value:e,children:t}));class RR extends me.Component{constructor(t){super(t),this.handleReload=()=>{localStorage.clear(),sessionStorage.clear(),window.location.reload()},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("React Error:",t,n),this.setState({error:t,errorInfo:n})}render(){var t;return this.state.hasError?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-lg w-full",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),a.jsx("p",{className:"text-gray-600 mb-4",children:((t=this.state.error)==null?void 0:t.message)||"An unexpected error occurred"}),this.state.errorInfo&&a.jsx("pre",{className:"bg-gray-100 p-4 rounded text-sm overflow-auto mb-4",children:this.state.errorInfo.componentStack}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:this.handleReset,className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 transition-colors",children:"Try Again"}),a.jsx("button",{onClick:this.handleReload,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors",children:"Reload Page"})]})]})}):this.props.children}}const Zf=Bh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ae=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const l=r?Yx:"button";return a.jsx(l,{className:Pe(Zf({variant:t,size:n,className:e})),ref:o,...i})});Ae.displayName="Button";const Ze=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Pe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ze.displayName="Card";const ht=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Pe("flex flex-col space-y-1.5 p-6",e),...t}));ht.displayName="CardHeader";const mt=p.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:Pe("text-2xl font-semibold leading-none tracking-tight",e),...t}));mt.displayName="CardTitle";const vm=p.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:Pe("text-sm text-muted-foreground",e),...t}));vm.displayName="CardDescription";const Ke=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Pe("p-6 pt-0",e),...t}));Ke.displayName="CardContent";const OR=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Pe("flex items-center p-6 pt-0",e),...t}));OR.displayName="CardFooter";const nn="https://pauafmgoewfdhwnsexzy.supabase.co".trim(),rn="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBhdWFmbWdvZXdmZGh3bnNleHp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY2ODAwMTgsImV4cCI6MjA2MjI1NjAxOH0.iSTx9Upe8wekbKvk5ZiUMeWGi-WB67gqdZG8Bf-DO-0".trim(),Dn="sb-pauafmgoewfdhwnexzy-auth-token";console.log("=== Supabase Client Configuration Debug ===");console.log("VITE_SUPABASE_URL:",nn?"Present":"Missing",{length:nn==null?void 0:nn.length,hasPrefixHttps:nn==null?void 0:nn.startsWith("https://"),containsSpaces:nn==null?void 0:nn.includes(" "),containsNewlines:nn==null?void 0:nn.includes(`
`)});console.log("VITE_SUPABASE_ANON_KEY:",rn?"Present":"Missing",{length:rn==null?void 0:rn.length,startsWithEyJ:rn==null?void 0:rn.startsWith("eyJ"),containsSpaces:rn==null?void 0:rn.includes(" "),containsNewlines:rn==null?void 0:rn.includes(`
`)});if(!nn||!nn.startsWith("https://"))throw new Error("Invalid VITE_SUPABASE_URL format");if(!rn||!rn.startsWith("eyJ"))throw new Error("Invalid VITE_SUPABASE_ANON_KEY format");function kR(){const e=localStorage.getItem(Dn);if(e)try{const t=JSON.parse(e);if(!t||!t.access_token){console.warn("Invalid session format in localStorage, removing"),localStorage.removeItem(Dn);return}const n=Math.floor(Date.now()/1e3);t.expires_at&&t.expires_at<n&&console.warn("Expired session found in localStorage, but keeping for potential refresh"),window.addEventListener("beforeunload",()=>{const i=localStorage.getItem(Dn);i&&sessionStorage.setItem("temp_"+Dn,i)});const r=sessionStorage.getItem("temp_"+Dn);r&&(localStorage.setItem(Dn,r),sessionStorage.removeItem("temp_"+Dn))}catch(t){console.error("Error applying session persistence fix:",t)}}kR();const rv=localStorage.getItem(Dn);if(rv)try{const e=JSON.parse(rv)}catch(e){console.error("Error parsing existing session:",e)}else console.log("No existing session found in localStorage");const AR={getItem:e=>{try{console.log(`Getting item from storage: ${e}`);const t=localStorage.getItem(e);if(!t)return console.log(`No item found in storage for key: ${e}`),null;try{const n=JSON.parse(t);return console.log("Retrieved session from storage:",{hasAccessToken:!!n.access_token,expiresAt:n.expires_at?new Date(n.expires_at*1e3).toLocaleString():"unknown",hasRefreshToken:!!n.refresh_token}),t}catch(n){return console.error("Error parsing session from storage:",n),t}}catch(t){return console.error("Error accessing localStorage:",t),null}},setItem:(e,t)=>{try{console.log(`Setting item in storage: ${e}`);try{const n=JSON.parse(t);console.log("Storing session in storage:",{hasAccessToken:!!n.access_token,expiresAt:n.expires_at?new Date(n.expires_at*1e3).toLocaleString():"unknown",hasRefreshToken:!!n.refresh_token})}catch(n){console.error("Error parsing session for logging:",n)}localStorage.setItem(e,t);try{sessionStorage.setItem("backup_"+e,t)}catch{}}catch(n){console.error("Error setting item in storage:",n)}},removeItem:e=>{try{console.log(`Removing item from storage: ${e}`),localStorage.removeItem(e);try{sessionStorage.removeItem("backup_"+e),sessionStorage.removeItem("temp_"+e)}catch{}}catch(t){console.error("Error removing item from storage:",t)}}},Ce=Su(nn,rn,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:Dn,storage:AR,flowType:"pkce"}});Ce.auth.getSession().then(({data:{session:e},error:t})=>{if(e){if(localStorage.setItem(Dn,JSON.stringify(e)),e.expires_at){const n=e.expires_at*1e3,r=Date.now(),i=n-r;if(i>0){const o=Math.min(i-3e5,i/2);o>0&&setTimeout(()=>{Ce.auth.refreshSession().then(({data:l,error:u})=>{l.session&&localStorage.setItem(Dn,JSON.stringify(l.session))})},o)}}}else{console.log("No active session found");const n=localStorage.getItem(Dn);if(n)try{const r=JSON.parse(n);r&&r.access_token&&console.log("Found session in localStorage but not in Supabase, attempting to restore")}catch(r){console.error("Error parsing stored session during fallback check:",r)}}});Ce.auth.onAuthStateChange((e,t)=>{var n;console.log("Auth state changed:",e,t?{userId:(n=t.user)==null?void 0:n.id,expiresAt:t.expires_at?new Date(t.expires_at*1e3).toLocaleString():"unknown"}:"No session"),t&&setTimeout(()=>{localStorage.getItem(Dn)?console.log("Session correctly stored in localStorage"):console.error("Session not found in localStorage after auth state change!")},100)});const v0=async()=>{try{const{data:e,error:t}=await Ce.from("users").select("count").limit(1).single();return t?(console.error("Supabase connection error:",t),!1):!0}catch(e){return console.error("Supabase connection error:",e),!1}},Ut="sb-pauafmgoewfdhwnexzy-auth-token";function IR(){const[e,t]=p.useState(null);return p.useEffect(()=>{(()=>{var i;try{const o=localStorage.getItem(Ut);if(o){const l=JSON.parse(o);if(l&&l.access_token)return console.log("Direct localStorage session found:",{userId:(i=l.user)==null?void 0:i.id,expiresAt:l.expires_at?new Date(l.expires_at*1e3).toLocaleString():"unknown"}),t(l),l}return null}catch(o){return console.error("Error reading session from localStorage:",o),null}})();const r=i=>{if(i.key===Ut)if(i.newValue)try{const o=JSON.parse(i.newValue);t(o)}catch(o){console.error("Error parsing session from storage event:",o)}else t(null)};return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}},[]),e}const y0=p.createContext(void 0);function DR({children:e}){const t=IR(),[n,r]=p.useState({user:null,session:null,loading:!0,error:null,initialized:!1});p.useEffect(()=>{var v,_;t&&!n.session&&n.initialized&&(console.log("Using localStorage session as fallback:",{userId:(v=t.user)==null?void 0:v.id,expiresAt:t.expires_at?new Date(t.expires_at*1e3).toLocaleString():"unknown"}),r(C=>({...C,session:t,loading:!0})),(_=t.user)!=null&&_.id&&o(t.user.id).then(C=>{r(C?P=>({...P,user:C,loading:!1}):P=>({...P,loading:!1}))}))},[t,n.session,n.initialized]);const i=async()=>{try{console.log("Manually refreshing session...");const{data:{session:v},error:_}=await Ce.auth.refreshSession();if(_)throw _;return v?(console.log("Session refreshed successfully, new expiry:",new Date(v.expires_at*1e3).toLocaleString()),localStorage.setItem(Ut,JSON.stringify(v)),v):null}catch(v){return console.error("Error refreshing session:",v),null}},o=async(v,_=0)=>{try{let{data:C,error:P}=await Ce.from("users").select("*").eq("auth_id",v).single();return P||!C?null:C}catch(C){return console.error("Error fetching user profile:",C),null}},l=async()=>{var v;try{const _=n.session||t;if(!((v=_==null?void 0:_.user)!=null&&v.id)){r(P=>({...P,loading:!1,initialized:!0}));return}const C=await o(_.user.id);r(C?P=>({...P,user:C,session:_,loading:!1,error:null,initialized:!0}):P=>({...P,loading:!1,error:"Failed to fetch user profile",initialized:!0}))}catch(_){r(C=>({...C,loading:!1,error:_.message,initialized:!0}))}},u=me.useRef(!1);p.useEffect(()=>{let v=!0,_,C;const P=()=>{var k;try{const U=localStorage.getItem(Ut);if(U)try{const X=JSON.parse(U);console.log("Session persistence check - Session found in localStorage:",{hasAccessToken:!!X.access_token,expiresAt:X.expires_at?new Date(X.expires_at*1e3).toLocaleString():"unknown",userId:(k=X.user)==null?void 0:k.id})}catch(X){console.error("Error parsing stored session:",X)}else console.warn("No session found in localStorage during persistence check")}catch(U){console.error("Error checking session persistence:",U)}},E=async k=>{var U;v&&(k?(console.log(`Processing session for user ID: ${(U=k.user)==null?void 0:U.id}`),localStorage.setItem(Ut,JSON.stringify(k)),r(X=>({...X,session:k,loading:!0,initialized:!0})),C=setTimeout(async()=>{var X;if(v)try{const re=(X=k.user)==null?void 0:X.id;if(re){const $=await o(re);v&&$?r(ne=>({...ne,user:$,loading:!1,error:null})):v&&r(ne=>({...ne,loading:!1,error:"Failed to fetch user profile"}))}else v&&r($=>({...$,loading:!1,error:"No user ID in session"}))}catch(re){v&&(console.error("Error fetching profile:",re),r($=>({...$,loading:!1,error:re.message})))}},1e3)):(console.log("No active session to process"),v&&r(X=>({...X,session:null,user:null,loading:!1,initialized:!0}))))},M=async()=>{var k;if(u.current){console.log("Already handling initialization, skipping");return}u.current=!0;try{console.log("Starting enhanced initializeAuth..."),P();const U=localStorage.getItem(Ut);if(U)try{const $=JSON.parse(U);console.log("Found valid session in localStorage, using it directly"),await E($);return}catch($){console.error("Error parsing stored session, falling back to Supabase:",$)}const{data:{session:X},error:re}=await Ce.auth.getSession();if(re){console.error("Error getting initial session:",re),v&&r($=>({...$,loading:!1,error:re.message,initialized:!0}));return}if(X){console.log("Got session from Supabase, user ID:",(k=X.user)==null?void 0:k.id),localStorage.setItem(Ut,JSON.stringify(X));const $=X.expires_at,ne=Math.floor(Date.now()/1e3);if($&&$<ne){console.log("Session expired, attempting to refresh...");const J=await i();J?await E(J):v&&r(H=>({...H,loading:!1,initialized:!0}))}else console.log("Session valid, expires at:",$?new Date($*1e3).toLocaleString():"unknown"),await E(X)}else console.log("No active session found during initialization"),v&&r($=>({...$,loading:!1,initialized:!0}))}catch(U){console.error("Error in initializeAuth:",U),v&&r(X=>({...X,loading:!1,error:U.message,initialized:!0}))}finally{u.current=!1}},{data:{subscription:T}}=Ce.auth.onAuthStateChange(async(k,U)=>{var X;if(console.log("Auth state changed:",k,(X=U==null?void 0:U.user)==null?void 0:X.id,"initialized:",n.initialized),k==="INITIAL_SESSION"){console.log("Processing INITIAL_SESSION event"),await M();return}k==="SIGNED_IN"||k==="TOKEN_REFRESHED"?v&&U&&(localStorage.setItem(Ut,JSON.stringify(U)),console.log("Session saved to localStorage after",k),await E(U)):k==="SIGNED_OUT"?v&&(localStorage.removeItem(Ut),console.log("Session removed from localStorage after SIGNED_OUT"),r({user:null,session:null,loading:!1,error:null,initialized:!0})):k==="USER_UPDATED"&&v&&U&&(localStorage.setItem(Ut,JSON.stringify(U)),console.log("Session saved to localStorage after USER_UPDATED"),await E(U))}),I=localStorage.getItem(Ut);if(I){console.log("Found session in localStorage on initial mount");try{const k=JSON.parse(I);k&&k.access_token&&E(k)}catch(k){console.error("Error parsing immediate session:",k)}}else M();const R=()=>{const k=n.session||t;if(k){const U=k.expires_at,X=Math.floor(Date.now()/1e3),re=U?U-X:0;if(re<=0){console.log("Session already expired, refreshing immediately"),i().then(ne=>{ne&&v&&(localStorage.setItem(Ut,JSON.stringify(ne)),r(J=>({...J,session:ne})),R())});return}const $=Math.max(0,(re-300)*1e3);console.log(`Setting up session refresh in ${Math.round($/6e4)} minutes`),_=setTimeout(async()=>{const ne=await i();ne&&v&&(localStorage.setItem(Ut,JSON.stringify(ne)),r(J=>({...J,session:ne})),R())},$)}};return R(),()=>{v=!1,T.unsubscribe(),_&&clearTimeout(_),C&&clearTimeout(C)}},[]);const d=async(v,_,C=!1)=>{try{r(k=>({...k,loading:!0,error:null}));const P=v.includes("@");console.log("Attempting authentication with:",{type:P?"email":"phone",identifier:P?v:"******"});const E=P?{email:v,password:_}:{phone:v,password:_},{data:M,error:T}=await Ce.auth.signInWithPassword({...E,options:{persistSession:!0}});if(T)throw console.error("Authentication error:",T),T;if(!M.user||!M.session)throw console.error("No user data received"),new Error("No user data received after authentication");localStorage.setItem(Ut,JSON.stringify(M.session)),console.log("Session saved to localStorage after authentication"),console.log("Auth user details:",{id:M.user.id,email:M.user.email,phone:M.user.phone});const I=localStorage.getItem(Ut);if(!I)console.error("Failed to save session to localStorage after authentication!");else try{const k=JSON.parse(I);console.log("Verified session in localStorage:",{hasAccessToken:!!k.access_token,expiresAt:k.expires_at?new Date(k.expires_at*1e3).toLocaleString():"unknown"})}catch(k){console.error("Error parsing stored session after save:",k)}console.log("Authentication successful, fetching user profile...");const R=await o(M.user.id);if(!R){console.log("Failed to find user profile, creating minimal user profile from auth data");const k={id:M.user.id,auth_id:M.user.id,email:M.user.email,phone:M.user.phone,role:"admin",first_name:v.split("@")[0]||"User",last_name:"Account",position:"Officer",status:"active",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return console.log("Created minimal user:",k),r(U=>({...U,user:k,session:M.session,loading:!1,error:null,initialized:!0})),k}return console.log("User profile fetched successfully:",R),r(k=>({...k,user:R,session:M.session,loading:!1,error:null,initialized:!0})),R}catch(P){throw console.error("Login error:",P),r(E=>({...E,loading:!1,error:P instanceof Error?P.message:"An error occurred during login"})),P}},f=async()=>{try{r(C=>({...C,loading:!0,error:null})),localStorage.removeItem(Ut),console.log("Session explicitly removed from localStorage before signOut");const{error:v}=await Ce.auth.signOut();if(v)throw v;localStorage.getItem(Ut)&&(console.warn("Session still exists in localStorage after signOut, forcibly removing..."),localStorage.removeItem(Ut)),r({user:null,session:null,loading:!1,error:null,initialized:!0}),console.log("Sign-out completed successfully")}catch(v){throw console.error("Sign-out error:",v),localStorage.removeItem(Ut),r(_=>({..._,loading:!1,error:v.message})),v}},m=v=>{if(!n.user)return!1;switch(n.user.role){case"admin":return!0;case"manager":return v==="data_collector";default:return!1}},g=()=>n.user?["admin","manager"].includes(n.user.role):!1,b=()=>!!n.user,x=()=>n.user?["admin","manager"].includes(n.user.role):!1,w=v=>{if(!n.user)return!1;switch(v){case"create_user":return g();case"edit_reports":return x();case"view_reports":return b();default:return!1}};return a.jsx(y0.Provider,{value:{...n,signIn:d,signOut:f,refreshUser:l,canCreateUserWithRole:m,canManageUsers:g,canViewReports:b,canEditReports:x,hasPermission:w},children:e})}function mi(){const e=p.useContext(y0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const x0=p.createContext({});function LR(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const ym=typeof window<"u",FR=ym?p.useLayoutEffect:p.useEffect,xm=p.createContext(null);function bm(e,t){e.indexOf(t)===-1&&e.push(t)}function _m(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ui=(e,t,n)=>n>t?t:n<e?e:n;let wm=()=>{};const di={},b0=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function _0(e){return typeof e=="object"&&e!==null}const w0=e=>/^0[^.\s]+$/u.test(e);function Sm(e){let t;return()=>(t===void 0&&(t=e()),t)}const Jn=e=>e,BR=(e,t)=>n=>t(e(n)),xl=(...e)=>e.reduce(BR),za=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Cm{constructor(){this.subscriptions=[]}add(t){return bm(this.subscriptions,t),()=>_m(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ir=e=>e*1e3,Dr=e=>e/1e3;function S0(e,t){return t?e*(1e3/t):0}const C0=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,VR=1e-7,$R=12;function zR(e,t,n,r,i){let o,l,u=0;do l=t+(n-t)/2,o=C0(l,r,i)-e,o>0?n=l:t=l;while(Math.abs(o)>VR&&++u<$R);return l}function bl(e,t,n,r){if(e===t&&n===r)return Jn;const i=o=>zR(o,0,1,e,n);return o=>o===0||o===1?o:C0(i(o),t,r)}const P0=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,E0=e=>t=>1-e(1-t),T0=bl(.33,1.53,.69,.99),Pm=E0(T0),N0=P0(Pm),j0=e=>(e*=2)<1?.5*Pm(e):.5*(2-Math.pow(2,-10*(e-1))),Em=e=>1-Math.sin(Math.acos(e)),M0=E0(Em),R0=P0(Em),WR=bl(.42,0,1,1),UR=bl(0,0,.58,1),O0=bl(.42,0,.58,1),HR=e=>Array.isArray(e)&&typeof e[0]!="number",k0=e=>Array.isArray(e)&&typeof e[0]=="number",ZR={linear:Jn,easeIn:WR,easeInOut:O0,easeOut:UR,circIn:Em,circInOut:R0,circOut:M0,backIn:Pm,backInOut:N0,backOut:T0,anticipate:j0},GR=e=>typeof e=="string",iv=e=>{if(k0(e)){wm(e.length===4);const[t,n,r,i]=e;return bl(t,n,r,i)}else if(GR(e))return ZR[e];return e},fc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],sv={value:null};function YR(e,t){let n=new Set,r=new Set,i=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},d=0;function f(g){l.has(g)&&(m.schedule(g),e()),d++,g(u)}const m={schedule:(g,b=!1,x=!1)=>{const v=x&&i?n:r;return b&&l.add(g),v.has(g)||v.add(g),g},cancel:g=>{r.delete(g),l.delete(g)},process:g=>{if(u=g,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(f),t&&sv.value&&sv.value.frameloop[t].push(d),d=0,n.clear(),i=!1,o&&(o=!1,m.process(g))}};return m}const KR=40;function A0(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=fc.reduce((E,M)=>(E[M]=YR(o,t?M:void 0),E),{}),{setup:u,read:d,resolveKeyframes:f,preUpdate:m,update:g,preRender:b,render:x,postRender:w}=l,v=()=>{const E=di.useManualTiming?i.timestamp:performance.now();n=!1,di.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,KR),1)),i.timestamp=E,i.isProcessing=!0,u.process(i),d.process(i),f.process(i),m.process(i),g.process(i),b.process(i),x.process(i),w.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(v))},_=()=>{n=!0,r=!0,i.isProcessing||e(v)};return{schedule:fc.reduce((E,M)=>{const T=l[M];return E[M]=(I,R=!1,k=!1)=>(n||_(),T.schedule(I,R,k)),E},{}),cancel:E=>{for(let M=0;M<fc.length;M++)l[fc[M]].cancel(E)},state:i,steps:l}}const{schedule:Nt,cancel:$i,state:qt,steps:Hd}=A0(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jn,!0);let Rc;function qR(){Rc=void 0}const Nn={now:()=>(Rc===void 0&&Nn.set(qt.isProcessing||di.useManualTiming?qt.timestamp:performance.now()),Rc),set:e=>{Rc=e,queueMicrotask(qR)}},I0=e=>t=>typeof t=="string"&&t.startsWith(e),Tm=I0("--"),XR=I0("var(--"),Nm=e=>XR(e)?JR.test(e.split("/*")[0].trim()):!1,JR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ea={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Wa={...ea,transform:e=>ui(0,1,e)},hc={...ea,default:1},ka=e=>Math.round(e*1e5)/1e5,jm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function QR(e){return e==null}const eO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mm=(e,t)=>n=>!!(typeof n=="string"&&eO.test(n)&&n.startsWith(e)||t&&!QR(n)&&Object.prototype.hasOwnProperty.call(n,t)),D0=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,o,l,u]=r.match(jm);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},tO=e=>ui(0,255,e),Zd={...ea,transform:e=>Math.round(tO(e))},gs={test:Mm("rgb","red"),parse:D0("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Zd.transform(e)+", "+Zd.transform(t)+", "+Zd.transform(n)+", "+ka(Wa.transform(r))+")"};function nO(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Gf={test:Mm("#"),parse:nO,transform:gs.transform},_l=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ei=_l("deg"),Lr=_l("%"),Ve=_l("px"),rO=_l("vh"),iO=_l("vw"),ov={...Lr,parse:e=>Lr.parse(e)/100,transform:e=>Lr.transform(e*100)},po={test:Mm("hsl","hue"),parse:D0("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Lr.transform(ka(t))+", "+Lr.transform(ka(n))+", "+ka(Wa.transform(r))+")"},on={test:e=>gs.test(e)||Gf.test(e)||po.test(e),parse:e=>gs.test(e)?gs.parse(e):po.test(e)?po.parse(e):Gf.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?gs.transform(e):po.transform(e)},sO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oO(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(jm))==null?void 0:t.length)||0)+(((n=e.match(sO))==null?void 0:n.length)||0)>0}const L0="number",F0="color",aO="var",lO="var(",av="${}",cO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ua(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const u=t.replace(cO,d=>(on.test(d)?(r.color.push(o),i.push(F0),n.push(on.parse(d))):d.startsWith(lO)?(r.var.push(o),i.push(aO),n.push(d)):(r.number.push(o),i.push(L0),n.push(parseFloat(d))),++o,av)).split(av);return{values:n,split:u,indexes:r,types:i}}function B0(e){return Ua(e).values}function V0(e){const{split:t,types:n}=Ua(e),r=t.length;return i=>{let o="";for(let l=0;l<r;l++)if(o+=t[l],i[l]!==void 0){const u=n[l];u===L0?o+=ka(i[l]):u===F0?o+=on.transform(i[l]):o+=i[l]}return o}}const uO=e=>typeof e=="number"?0:e;function dO(e){const t=B0(e);return V0(e)(t.map(uO))}const zi={test:oO,parse:B0,createTransformer:V0,getAnimatableNone:dO};function Gd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fO({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,l=0;if(!t)i=o=l=n;else{const u=n<.5?n*(1+t):n+t-n*t,d=2*n-u;i=Gd(d,u,e+1/3),o=Gd(d,u,e),l=Gd(d,u,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function Xc(e,t){return n=>n>0?t:e}const Tt=(e,t,n)=>e+(t-e)*n,Yd=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},hO=[Gf,gs,po],mO=e=>hO.find(t=>t.test(e));function lv(e){const t=mO(e);if(!t)return!1;let n=t.parse(e);return t===po&&(n=fO(n)),n}const cv=(e,t)=>{const n=lv(e),r=lv(t);if(!n||!r)return Xc(e,t);const i={...n};return o=>(i.red=Yd(n.red,r.red,o),i.green=Yd(n.green,r.green,o),i.blue=Yd(n.blue,r.blue,o),i.alpha=Tt(n.alpha,r.alpha,o),gs.transform(i))},Yf=new Set(["none","hidden"]);function pO(e,t){return Yf.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function gO(e,t){return n=>Tt(e,t,n)}function Rm(e){return typeof e=="number"?gO:typeof e=="string"?Nm(e)?Xc:on.test(e)?cv:xO:Array.isArray(e)?$0:typeof e=="object"?on.test(e)?cv:vO:Xc}function $0(e,t){const n=[...e],r=n.length,i=e.map((o,l)=>Rm(o)(o,t[l]));return o=>{for(let l=0;l<r;l++)n[l]=i[l](o);return n}}function vO(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Rm(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function yO(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][r[o]],u=e.values[l]??0;n[i]=u,r[o]++}return n}const xO=(e,t)=>{const n=zi.createTransformer(t),r=Ua(e),i=Ua(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Yf.has(e)&&!i.values.length||Yf.has(t)&&!r.values.length?pO(e,t):xl($0(yO(r,i),i.values),n):Xc(e,t)};function z0(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Tt(e,t,n):Rm(e)(e,t)}const bO=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Nt.update(t,n),stop:()=>$i(t),now:()=>qt.isProcessing?qt.timestamp:Nn.now()}},W0=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=e(o/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Jc=2e4;function Om(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Jc;)t+=n,r=e.next(t);return t>=Jc?1/0:t}function _O(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(Om(r),Jc);return{type:"keyframes",ease:o=>r.next(i*o).value/t,duration:Dr(i)}}const wO=5;function U0(e,t,n){const r=Math.max(t-wO,0);return S0(n-e(r),t-r)}const Ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},uv=.001;function SO({duration:e=Ot.duration,bounce:t=Ot.bounce,velocity:n=Ot.velocity,mass:r=Ot.mass}){let i,o,l=1-t;l=ui(Ot.minDamping,Ot.maxDamping,l),e=ui(Ot.minDuration,Ot.maxDuration,Dr(e)),l<1?(i=f=>{const m=f*l,g=m*e,b=m-n,x=Kf(f,l),w=Math.exp(-g);return uv-b/x*w},o=f=>{const g=f*l*e,b=g*n+n,x=Math.pow(l,2)*Math.pow(f,2)*e,w=Math.exp(-g),v=Kf(Math.pow(f,2),l);return(-i(f)+uv>0?-1:1)*((b-x)*w)/v}):(i=f=>{const m=Math.exp(-f*e),g=(f-n)*e+1;return-.001+m*g},o=f=>{const m=Math.exp(-f*e),g=(n-f)*(e*e);return m*g});const u=5/e,d=PO(i,o,u);if(e=Ir(e),isNaN(d))return{stiffness:Ot.stiffness,damping:Ot.damping,duration:e};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:e}}}const CO=12;function PO(e,t,n){let r=n;for(let i=1;i<CO;i++)r=r-e(r)/t(r);return r}function Kf(e,t){return e*Math.sqrt(1-t*t)}const EO=["duration","bounce"],TO=["stiffness","damping","mass"];function dv(e,t){return t.some(n=>e[n]!==void 0)}function NO(e){let t={velocity:Ot.velocity,stiffness:Ot.stiffness,damping:Ot.damping,mass:Ot.mass,isResolvedFromDuration:!1,...e};if(!dv(e,TO)&&dv(e,EO))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*ui(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Ot.mass,stiffness:i,damping:o}}else{const n=SO(e);t={...t,...n,mass:Ot.mass},t.isResolvedFromDuration=!0}return t}function Qc(e=Ot.visualDuration,t=Ot.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:f,mass:m,duration:g,velocity:b,isResolvedFromDuration:x}=NO({...n,velocity:-Dr(n.velocity||0)}),w=b||0,v=f/(2*Math.sqrt(d*m)),_=l-o,C=Dr(Math.sqrt(d/m)),P=Math.abs(_)<5;r||(r=P?Ot.restSpeed.granular:Ot.restSpeed.default),i||(i=P?Ot.restDelta.granular:Ot.restDelta.default);let E;if(v<1){const T=Kf(C,v);E=I=>{const R=Math.exp(-v*C*I);return l-R*((w+v*C*_)/T*Math.sin(T*I)+_*Math.cos(T*I))}}else if(v===1)E=T=>l-Math.exp(-C*T)*(_+(w+C*_)*T);else{const T=C*Math.sqrt(v*v-1);E=I=>{const R=Math.exp(-v*C*I),k=Math.min(T*I,300);return l-R*((w+v*C*_)*Math.sinh(k)+T*_*Math.cosh(k))/T}}const M={calculatedDuration:x&&g||null,next:T=>{const I=E(T);if(x)u.done=T>=g;else{let R=T===0?w:0;v<1&&(R=T===0?Ir(w):U0(E,T,I));const k=Math.abs(R)<=r,U=Math.abs(l-I)<=i;u.done=k&&U}return u.value=u.done?l:I,u},toString:()=>{const T=Math.min(Om(M),Jc),I=W0(R=>M.next(T*R).value,T,30);return T+"ms "+I},toTransition:()=>{}};return M}Qc.applyToOptions=e=>{const t=_O(e,100,Qc);return e.ease=t.ease,e.duration=Ir(t.duration),e.type="keyframes",e};function qf({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:d,restDelta:f=.5,restSpeed:m}){const g=e[0],b={done:!1,value:g},x=k=>u!==void 0&&k<u||d!==void 0&&k>d,w=k=>u===void 0?d:d===void 0||Math.abs(u-k)<Math.abs(d-k)?u:d;let v=n*t;const _=g+v,C=l===void 0?_:l(_);C!==_&&(v=C-g);const P=k=>-v*Math.exp(-k/r),E=k=>C+P(k),M=k=>{const U=P(k),X=E(k);b.done=Math.abs(U)<=f,b.value=b.done?C:X};let T,I;const R=k=>{x(b.value)&&(T=k,I=Qc({keyframes:[b.value,w(b.value)],velocity:U0(E,k,b.value),damping:i,stiffness:o,restDelta:f,restSpeed:m}))};return R(0),{calculatedDuration:null,next:k=>{let U=!1;return!I&&T===void 0&&(U=!0,M(k),R(k)),T!==void 0&&k>=T?I.next(k-T):(!U&&M(k),b)}}}function jO(e,t,n){const r=[],i=n||di.mix||z0,o=e.length-1;for(let l=0;l<o;l++){let u=i(e[l],e[l+1]);if(t){const d=Array.isArray(t)?t[l]||Jn:t;u=xl(d,u)}r.push(u)}return r}function MO(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(wm(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=jO(t,r,i),d=u.length,f=m=>{if(l&&m<e[0])return t[0];let g=0;if(d>1)for(;g<e.length-2&&!(m<e[g+1]);g++);const b=za(e[g],e[g+1],m);return u[g](b)};return n?m=>f(ui(e[0],e[o-1],m)):f}function RO(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=za(0,t,r);e.push(Tt(n,1,i))}}function OO(e){const t=[0];return RO(t,e.length-1),t}function kO(e,t){return e.map(n=>n*t)}function AO(e,t){return e.map(()=>t||O0).splice(0,e.length-1)}function Aa({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=HR(r)?r.map(iv):iv(r),o={done:!1,value:t[0]},l=kO(n&&n.length===t.length?n:OO(t),e),u=MO(l,t,{ease:Array.isArray(i)?i:AO(t,i)});return{calculatedDuration:e,next:d=>(o.value=u(d),o.done=d>=e,o)}}const IO=e=>e!==null;function km(e,{repeat:t,repeatType:n="loop"},r,i=1){const o=e.filter(IO),u=i<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const DO={decay:qf,inertia:qf,tween:Aa,keyframes:Aa,spring:Qc};function H0(e){typeof e.type=="string"&&(e.type=DO[e.type])}class Am{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const LO=e=>e/100;class Im extends Am{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Nn.now()&&this.tick(Nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;H0(t);const{type:n=Aa,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=t;let{keyframes:u}=t;const d=n||Aa;d!==Aa&&typeof u[0]!="number"&&(this.mixKeyframes=xl(LO,z0(u[0],u[1])),u=[0,100]);const f=d({...t,keyframes:u});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=Om(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:m,repeat:g,repeatType:b,repeatDelay:x,type:w,onUpdate:v,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const C=this.currentTime-f*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,M=r;if(g){const k=Math.min(this.currentTime,i)/u;let U=Math.floor(k),X=k%1;!X&&k>=1&&(X=1),X===1&&U--,U=Math.min(U,g+1),!!(U%2)&&(b==="reverse"?(X=1-X,x&&(X-=x/u)):b==="mirror"&&(M=l)),E=ui(0,1,X)*u}const T=P?{done:!1,value:m[0]}:M.next(E);o&&(T.value=o(T.value));let{done:I}=T;!P&&d!==null&&(I=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return R&&w!==qf&&(T.value=km(m,this.options,_,this.speed)),v&&v(T.value),R&&this.finish(),T}then(t,n){return this.finished.then(t,n)}get duration(){return Dr(this.calculatedDuration)}get time(){return Dr(this.currentTime)}set time(t){var n;t=Ir(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Nn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Dr(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:t=bO,startTime:n}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),(o=(i=this.options).onPlay)==null||o.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function FO(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const vs=e=>e*180/Math.PI,Xf=e=>{const t=vs(Math.atan2(e[1],e[0]));return Jf(t)},BO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Xf,rotateZ:Xf,skewX:e=>vs(Math.atan(e[1])),skewY:e=>vs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Jf=e=>(e=e%360,e<0&&(e+=360),e),fv=Xf,hv=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),mv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),VO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hv,scaleY:mv,scale:e=>(hv(e)+mv(e))/2,rotateX:e=>Jf(vs(Math.atan2(e[6],e[5]))),rotateY:e=>Jf(vs(Math.atan2(-e[2],e[0]))),rotateZ:fv,rotate:fv,skewX:e=>vs(Math.atan(e[4])),skewY:e=>vs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Qf(e){return e.includes("scale")?1:0}function eh(e,t){if(!e||e==="none")return Qf(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=VO,i=n;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=BO,i=u}if(!i)return Qf(t);const o=r[t],l=i[1].split(",").map(zO);return typeof o=="function"?o(l):l[o]}const $O=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return eh(n,t)};function zO(e){return parseFloat(e.trim())}const ta=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],na=new Set(ta),pv=e=>e===ea||e===Ve,WO=new Set(["x","y","z"]),UO=ta.filter(e=>!WO.has(e));function HO(e){const t=[];return UO.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ss={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>eh(t,"x"),y:(e,{transform:t})=>eh(t,"y")};Ss.translateX=Ss.x;Ss.translateY=Ss.y;const Cs=new Set;let th=!1,nh=!1,rh=!1;function Z0(){if(nh){const e=Array.from(Cs).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=HO(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,l])=>{var u;(u=r.getValue(o))==null||u.set(l)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}nh=!1,th=!1,Cs.forEach(e=>e.complete(rh)),Cs.clear()}function G0(){Cs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(nh=!0)})}function ZO(){rh=!0,G0(),Z0(),rh=!1}class Dm{constructor(t,n,r,i,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Cs.add(this),th||(th=!0,Nt.read(G0),Nt.resolveKeyframes(Z0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const o=i==null?void 0:i.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const u=r.readValue(n,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),i&&o===void 0&&i.set(t[0])}FO(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Cs.delete(this)}cancel(){this.state==="scheduled"&&(Cs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const GO=e=>e.startsWith("--");function YO(e,t,n){GO(t)?e.style.setProperty(t,n):e.style[t]=n}const KO=Sm(()=>window.ScrollTimeline!==void 0),qO={};function XO(e,t){const n=Sm(e);return()=>qO[t]??n()}const Y0=XO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pa=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,gv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pa([0,.65,.55,1]),circOut:Pa([.55,0,1,.45]),backIn:Pa([.31,.01,.66,-.59]),backOut:Pa([.33,1.53,.69,.99])};function K0(e,t){if(e)return typeof e=="function"?Y0()?W0(e,t):"ease-out":k0(e)?Pa(e):Array.isArray(e)?e.map(n=>K0(n,t)||gv.easeOut):gv[e]}function JO(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:d}={},f=void 0){const m={[t]:n};d&&(m.offset=d);const g=K0(u,i);Array.isArray(g)&&(m.easing=g);const b={delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(b.pseudoElement=f),e.animate(m,b)}function q0(e){return typeof e=="function"&&"applyToOptions"in e}function QO({type:e,...t}){return q0(e)&&Y0()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ek extends Am{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,wm(typeof t.type!="string");const f=QO(t);this.animation=JO(n,r,i,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=km(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):YO(n,r,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Dr(Number(t))}get time(){return Dr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ir(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&KO()?(this.animation.timeline=t,Jn):n(this)}}const X0={anticipate:j0,backInOut:N0,circInOut:R0};function tk(e){return e in X0}function nk(e){typeof e.ease=="string"&&tk(e.ease)&&(e.ease=X0[e.ease])}const vv=10;class rk extends ek{constructor(t){nk(t),H0(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const u=new Im({...l,autoplay:!1}),d=Ir(this.finishedTime??this.time);n.setWithVelocity(u.sample(d-vv).value,u.sample(d).value,vv),u.stop()}}const yv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(zi.test(e)||e==="0")&&!e.startsWith("url("));function ik(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function sk(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],l=yv(i,t),u=yv(o,t);return!l||!u?!1:ik(e)||(n==="spring"||q0(n))&&r}function J0(e){return _0(e)&&"offsetHeight"in e}const ok=new Set(["opacity","clipPath","filter","transform"]),ak=Sm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lk(e){var f;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:o,type:l}=e;if(!J0((f=t==null?void 0:t.owner)==null?void 0:f.current))return!1;const{onUpdate:u,transformTemplate:d}=t.owner.getProps();return ak()&&n&&ok.has(n)&&(n!=="transform"||!d)&&!u&&!r&&i!=="mirror"&&o!==0&&l!=="inertia"}const ck=40;class uk extends Am{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:d,motionValue:f,element:m,...g}){var w;super(),this.stop=()=>{var v,_;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=Nn.now();const b={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:l,name:d,motionValue:f,element:m,...g},x=(m==null?void 0:m.KeyframeResolver)||Dm;this.keyframeResolver=new x(u,(v,_,C)=>this.onKeyframesResolved(v,_,b,!C),d,f,m),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:d,isHandoff:f,onUpdate:m}=r;this.resolvedAt=Nn.now(),sk(t,o,l,u)||((di.instantAnimations||!d)&&(m==null||m(km(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const b={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>ck?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},x=!f&&lk(b)?new rk({...b,element:b.motionValue.owner.current}):new Im(b);x.finished.then(()=>this.notifyFinished()).catch(Jn),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),ZO()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const dk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fk(e){const t=dk.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function Q0(e,t,n=1){const[r,i]=fk(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const l=o.trim();return b0(l)?parseFloat(l):l}return Nm(i)?Q0(i,t,n+1):i}function Lm(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const e_=new Set(["width","height","top","left","right","bottom",...ta]),hk={test:e=>e==="auto",parse:e=>e},t_=e=>t=>t.test(e),n_=[ea,Ve,Lr,Ei,iO,rO,hk],xv=e=>n_.find(t_(e));function mk(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||w0(e):!0}const pk=new Set(["brightness","contrast","saturate","opacity"]);function gk(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(jm)||[];if(!r)return e;const i=n.replace(r,"");let o=pk.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const vk=/\b([a-z-]*)\(.*?\)/gu,ih={...zi,getAnimatableNone:e=>{const t=e.match(vk);return t?t.map(gk).join(" "):e}},bv={...ea,transform:Math.round},yk={rotate:Ei,rotateX:Ei,rotateY:Ei,rotateZ:Ei,scale:hc,scaleX:hc,scaleY:hc,scaleZ:hc,skew:Ei,skewX:Ei,skewY:Ei,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:Wa,originX:ov,originY:ov,originZ:Ve},Fm={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve,...yk,zIndex:bv,fillOpacity:Wa,strokeOpacity:Wa,numOctaves:bv},xk={...Fm,color:on,backgroundColor:on,outlineColor:on,fill:on,stroke:on,borderColor:on,borderTopColor:on,borderRightColor:on,borderBottomColor:on,borderLeftColor:on,filter:ih,WebkitFilter:ih},r_=e=>xk[e];function i_(e,t){let n=r_(e);return n!==ih&&(n=zi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const bk=new Set(["auto","none","0"]);function _k(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!bk.has(o)&&Ua(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=i_(n,i)}class wk extends Dm{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),Nm(f))){const m=Q0(f,n.current);m!==void 0&&(t[d]=m),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!e_.has(r)||t.length!==2)return;const[i,o]=t,l=xv(i),u=xv(o);if(l!==u)if(pv(l)&&pv(u))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else Ss[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||mk(t[i]))&&r.push(i);r.length&&_k(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ss[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var u;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=Ss[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([d,f])=>{t.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function Sk(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const s_=(e,t)=>t&&typeof e=="number"?t.transform(e):e,_v=30,Ck=e=>!isNaN(parseFloat(e));class Pk{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var l,u;const o=Nn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();i&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Nn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Ck(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Cm);const r=this.events[t].add(n);return t==="change"?()=>{r(),Nt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>_v)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_v);return S0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wo(e,t){return new Pk(e,t)}const{schedule:Bm}=A0(queueMicrotask,!1),lr={x:!1,y:!1};function o_(){return lr.x||lr.y}function Ek(e){return e==="x"||e==="y"?lr[e]?null:(lr[e]=!0,()=>{lr[e]=!1}):lr.x||lr.y?null:(lr.x=lr.y=!0,()=>{lr.x=lr.y=!1})}function a_(e,t){const n=Sk(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function wv(e){return!(e.pointerType==="touch"||o_())}function Tk(e,t,n={}){const[r,i,o]=a_(e,n),l=u=>{if(!wv(u))return;const{target:d}=u,f=t(d,u);if(typeof f!="function"||!d)return;const m=g=>{wv(g)&&(f(g),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,i)};return r.forEach(u=>{u.addEventListener("pointerenter",l,i)}),o}const l_=(e,t)=>t?e===t?!0:l_(e,t.parentElement):!1,Vm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Nk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function jk(e){return Nk.has(e.tagName)||e.tabIndex!==-1}const Oc=new WeakSet;function Sv(e){return t=>{t.key==="Enter"&&e(t)}}function Kd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Mk=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Sv(()=>{if(Oc.has(n))return;Kd(n,"down");const i=Sv(()=>{Kd(n,"up")}),o=()=>Kd(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Cv(e){return Vm(e)&&!o_()}function Rk(e,t,n={}){const[r,i,o]=a_(e,n),l=u=>{const d=u.currentTarget;if(!Cv(u))return;Oc.add(d);const f=t(d,u),m=(x,w)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),Oc.has(d)&&Oc.delete(d),Cv(x)&&typeof f=="function"&&f(x,{success:w})},g=x=>{m(x,d===window||d===document||n.useGlobalTarget||l_(d,x.target))},b=x=>{m(x,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",b,i)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),J0(u)&&(u.addEventListener("focus",f=>Mk(f,i)),!jk(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function c_(e){return _0(e)&&"ownerSVGElement"in e}function Ok(e){return c_(e)&&e.tagName==="svg"}const an=e=>!!(e&&e.getVelocity),kk=[...n_,on,zi],Ak=e=>kk.find(t_(e)),u_=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Ik(e=!0){const t=p.useContext(xm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=p.useId();p.useEffect(()=>{if(e)return i(o)},[e]);const l=p.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,l]:[!0]}const d_=p.createContext({strict:!1}),Pv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Uo={};for(const e in Pv)Uo[e]={isEnabled:t=>Pv[e].some(n=>!!t[n])};function Dk(e){for(const t in e)Uo[t]={...Uo[t],...e[t]}}const Lk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function eu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Lk.has(e)}let f_=e=>!eu(e);function Fk(e){e&&(f_=t=>t.startsWith("on")?!eu(t):e(t))}try{Fk(require("@emotion/is-prop-valid").default)}catch{}function Bk(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(f_(i)||n===!0&&eu(i)||!t&&!eu(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Vk(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Fu=p.createContext({});function Bu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ha(e){return typeof e=="string"||Array.isArray(e)}const $m=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zm=["initial",...$m];function Vu(e){return Bu(e.animate)||zm.some(t=>Ha(e[t]))}function h_(e){return!!(Vu(e)||e.variants)}function $k(e,t){if(Vu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ha(n)?n:void 0,animate:Ha(r)?r:void 0}}return e.inherit!==!1?t:{}}function zk(e){const{initial:t,animate:n}=$k(e,p.useContext(Fu));return p.useMemo(()=>({initial:t,animate:n}),[Ev(t),Ev(n)])}function Ev(e){return Array.isArray(e)?e.join(" "):e}const Wk=Symbol.for("motionComponentSymbol");function go(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Uk(e,t,n){return p.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):go(n)&&(n.current=r))},[t])}const Wm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Hk="framerAppearId",m_="data-"+Wm(Hk),p_=p.createContext({});function Zk(e,t,n,r,i){var v,_;const{visualElement:o}=p.useContext(Fu),l=p.useContext(d_),u=p.useContext(xm),d=p.useContext(u_).reducedMotion,f=p.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=f.current,g=p.useContext(p_);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&Gk(f.current,n,i,g);const b=p.useRef(!1);p.useInsertionEffect(()=>{m&&b.current&&m.update(n,u)});const x=n[m_],w=p.useRef(!!x&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,x))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,x)));return FR(()=>{m&&(b.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Bm.render(m.render),w.current&&m.animationState&&m.animationState.animateChanges())}),p.useEffect(()=>{m&&(!w.current&&m.animationState&&m.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,x)}),w.current=!1))}),m}function Gk(e,t,n,r){const{layoutId:i,layout:o,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:f,layoutCrossfade:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:g_(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||u&&go(u),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:f})}function g_(e){if(e)return e.options.allowProjection!==!1?e.projection:g_(e.parent)}function Yk({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Dk(e);function o(u,d){let f;const m={...p.useContext(u_),...u,layoutId:Kk(u)},{isStatic:g}=m,b=zk(u),x=r(u,g);if(!g&&ym){qk();const w=Xk(m);f=w.MeasureLayout,b.visualElement=Zk(i,x,m,t,w.ProjectionNode)}return a.jsxs(Fu.Provider,{value:b,children:[f&&b.visualElement?a.jsx(f,{visualElement:b.visualElement,...m}):null,n(i,u,Uk(x,b.visualElement,d),x,g,b.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=p.forwardRef(o);return l[Wk]=i,l}function Kk({layoutId:e}){const t=p.useContext(x0).id;return t&&e!==void 0?t+"-"+e:e}function qk(e,t){p.useContext(d_).strict}function Xk(e){const{drag:t,layout:n}=Uo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Za={};function Jk(e){for(const t in e)Za[t]=e[t],Tm(t)&&(Za[t].isCSSVariable=!0)}function v_(e,{layout:t,layoutId:n}){return na.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Za[e]||e==="opacity")}const Qk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eA=ta.length;function tA(e,t,n){let r="",i=!0;for(let o=0;o<eA;o++){const l=ta[o],u=e[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const f=s_(u,Fm[l]);if(!d){i=!1;const m=Qk[l]||l;r+=`${m}(${f}) `}n&&(t[l]=f)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Um(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let l=!1,u=!1;for(const d in t){const f=t[d];if(na.has(d)){l=!0;continue}else if(Tm(d)){i[d]=f;continue}else{const m=s_(f,Fm[d]);d.startsWith("origin")?(u=!0,o[d]=m):r[d]=m}}if(t.transform||(l||n?r.transform=tA(t,e.transform,n):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:m=0}=o;r.transformOrigin=`${d} ${f} ${m}`}}const Hm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function y_(e,t,n){for(const r in t)!an(t[r])&&!v_(r,n)&&(e[r]=t[r])}function nA({transformTemplate:e},t){return p.useMemo(()=>{const n=Hm();return Um(n,t,e),Object.assign({},n.vars,n.style)},[t])}function rA(e,t){const n=e.style||{},r={};return y_(r,n,e),Object.assign(r,nA(e,t)),r}function iA(e,t){const n={},r=rA(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const sA={offset:"stroke-dashoffset",array:"stroke-dasharray"},oA={offset:"strokeDashoffset",array:"strokeDasharray"};function aA(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?sA:oA;e[o.offset]=Ve.transform(-r);const l=Ve.transform(t),u=Ve.transform(n);e[o.array]=`${l} ${u}`}function x_(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:l=0,...u},d,f,m){if(Um(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:b}=e;g.transform&&(b.transform=g.transform,delete g.transform),(b.transform||g.transformOrigin)&&(b.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),b.transform&&(b.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),i!==void 0&&aA(g,i,o,l,!1)}const b_=()=>({...Hm(),attrs:{}}),__=e=>typeof e=="string"&&e.toLowerCase()==="svg";function lA(e,t,n,r){const i=p.useMemo(()=>{const o=b_();return x_(o,t,__(r),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};y_(o,e.style,e),i.style={...o,...i.style}}return i}const cA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zm(e){return typeof e!="string"||e.includes("-")?!1:!!(cA.indexOf(e)>-1||/[A-Z]/u.test(e))}function uA(e=!1){return(n,r,i,{latestValues:o},l)=>{const d=(Zm(n)?lA:iA)(r,o,l,n),f=Bk(r,typeof n=="string",e),m=n!==p.Fragment?{...f,...d,ref:i}:{},{children:g}=r,b=p.useMemo(()=>an(g)?g.get():g,[g]);return p.createElement(n,{...m,children:b})}}function Tv(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Gm(e,t,n,r){if(typeof t=="function"){const[i,o]=Tv(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=Tv(r);t=t(n!==void 0?n:e.custom,i,o)}return t}function kc(e){return an(e)?e.get():e}function dA({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:fA(n,r,i,e),renderState:t()}}const w_=e=>(t,n)=>{const r=p.useContext(Fu),i=p.useContext(xm),o=()=>dA(e,t,r,i);return n?o():LR(o)};function fA(e,t,n,r){const i={},o=r(e,{});for(const b in o)i[b]=kc(o[b]);let{initial:l,animate:u}=e;const d=Vu(e),f=h_(e);t&&f&&!d&&e.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const g=m?u:l;if(g&&typeof g!="boolean"&&!Bu(g)){const b=Array.isArray(g)?g:[g];for(let x=0;x<b.length;x++){const w=Gm(e,b[x]);if(w){const{transitionEnd:v,transition:_,...C}=w;for(const P in C){let E=C[P];if(Array.isArray(E)){const M=m?E.length-1:0;E=E[M]}E!==null&&(i[P]=E)}for(const P in v)i[P]=v[P]}}}return i}function Ym(e,t,n){var o;const{style:r}=e,i={};for(const l in r)(an(r[l])||t.style&&an(t.style[l])||v_(l,e)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(i[l]=r[l]);return i}const hA={useVisualState:w_({scrapeMotionValuesFromProps:Ym,createRenderState:Hm})};function S_(e,t,n){const r=Ym(e,t,n);for(const i in e)if(an(e[i])||an(t[i])){const o=ta.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}const mA={useVisualState:w_({scrapeMotionValuesFromProps:S_,createRenderState:b_})};function pA(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...Zm(r)?mA:hA,preloadedFeatures:e,useRender:uA(i),createVisualElement:t,Component:r};return Yk(l)}}function Ga(e,t,n){const r=e.getProps();return Gm(r,t,n!==void 0?n:r.custom,e)}const sh=e=>Array.isArray(e);function gA(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Wo(n))}function vA(e){return sh(e)?e[e.length-1]||0:e}function yA(e,t){const n=Ga(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const l in o){const u=vA(o[l]);gA(e,l,u)}}function xA(e){return!!(an(e)&&e.add)}function oh(e,t){const n=e.getValue("willChange");if(xA(n))return n.add(t);if(!n&&di.WillChange){const r=new di.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function C_(e){return e.props[m_]}const bA=e=>e!==null;function _A(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(bA),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[o]}const wA={type:"spring",stiffness:500,damping:25,restSpeed:10},SA=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),CA={type:"keyframes",duration:.8},PA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},EA=(e,{keyframes:t})=>t.length>2?CA:na.has(e)?e.startsWith("scale")?SA(t[1]):wA:PA;function TA({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:u,from:d,elapsed:f,...m}){return!!Object.keys(m).length}const Km=(e,t,n,r={},i,o)=>l=>{const u=Lm(r,e)||{},d=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Ir(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:b=>{t.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:o?void 0:i};TA(u)||Object.assign(m,EA(e,m)),m.duration&&(m.duration=Ir(m.duration)),m.repeatDelay&&(m.repeatDelay=Ir(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),(di.instantAnimations||di.skipAnimations)&&(g=!0,m.duration=0,m.delay=0),m.allowFlatten=!u.type&&!u.ease,g&&!o&&t.get()!==void 0){const b=_A(m.keyframes,u);if(b!==void 0){Nt.update(()=>{m.onUpdate(b),m.onComplete()});return}}return u.isSync?new Im(m):new uk(m)};function NA({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function P_(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:l,...u}=t;r&&(o=r);const d=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const m in u){const g=e.getValue(m,e.latestValues[m]??null),b=u[m];if(b===void 0||f&&NA(f,m))continue;const x={delay:n,...Lm(o||{},m)},w=g.get();if(w!==void 0&&!g.isAnimating&&!Array.isArray(b)&&b===w&&!x.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const C=C_(e);if(C){const P=window.MotionHandoffAnimation(C,m,Nt);P!==null&&(x.startTime=P,v=!0)}}oh(e,m),g.start(Km(m,g,b,e.shouldReduceMotion&&e_.has(m)?{type:!1}:x,e,v));const _=g.animation;_&&d.push(_)}return l&&Promise.all(d).then(()=>{Nt.update(()=>{l&&yA(e,l)})}),d}function ah(e,t,n={}){var d;const r=Ga(e,t,n.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(P_(e,r,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:b}=i;return jA(e,t,m+f,g,b,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[f,m]=u==="beforeChildren"?[o,l]:[l,o];return f().then(()=>m())}else return Promise.all([o(),l(n.delay)])}function jA(e,t,n=0,r=0,i=1,o){const l=[],u=(e.variantChildren.size-1)*r,d=i===1?(f=0)=>f*r:(f=0)=>u-f*r;return Array.from(e.variantChildren).sort(MA).forEach((f,m)=>{f.notify("AnimationStart",t),l.push(ah(f,t,{...o,delay:n+d(m)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(l)}function MA(e,t){return e.sortNodePosition(t)}function RA(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>ah(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=ah(e,t,n);else{const i=typeof t=="function"?Ga(e,t,n.custom):t;r=Promise.all(P_(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function E_(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const OA=zm.length;function T_(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?T_(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<OA;n++){const r=zm[n],i=e.props[r];(Ha(i)||i===!1)&&(t[r]=i)}return t}const kA=[...$m].reverse(),AA=$m.length;function IA(e){return t=>Promise.all(t.map(({animation:n,options:r})=>RA(e,n,r)))}function DA(e){let t=IA(e),n=Nv(),r=!0;const i=d=>(f,m)=>{var b;const g=Ga(e,m,d==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(g){const{transition:x,transitionEnd:w,...v}=g;f={...f,...v,...w}}return f};function o(d){t=d(e)}function l(d){const{props:f}=e,m=T_(e.parent)||{},g=[],b=new Set;let x={},w=1/0;for(let _=0;_<AA;_++){const C=kA[_],P=n[C],E=f[C]!==void 0?f[C]:m[C],M=Ha(E),T=C===d?P.isActive:null;T===!1&&(w=_);let I=E===m[C]&&E!==f[C]&&M;if(I&&r&&e.manuallyAnimateOnMount&&(I=!1),P.protectedKeys={...x},!P.isActive&&T===null||!E&&!P.prevProp||Bu(E)||typeof E=="boolean")continue;const R=LA(P.prevProp,E);let k=R||C===d&&P.isActive&&!I&&M||_>w&&M,U=!1;const X=Array.isArray(E)?E:[E];let re=X.reduce(i(C),{});T===!1&&(re={});const{prevResolvedValues:$={}}=P,ne={...$,...re},J=Y=>{k=!0,b.has(Y)&&(U=!0,b.delete(Y)),P.needsAnimating[Y]=!0;const O=e.getValue(Y);O&&(O.liveStyle=!1)};for(const Y in ne){const O=re[Y],W=$[Y];if(x.hasOwnProperty(Y))continue;let V=!1;sh(O)&&sh(W)?V=!E_(O,W):V=O!==W,V?O!=null?J(Y):b.add(Y):O!==void 0&&b.has(Y)?J(Y):P.protectedKeys[Y]=!0}P.prevProp=E,P.prevResolvedValues=re,P.isActive&&(x={...x,...re}),r&&e.blockInitialAnimation&&(k=!1),k&&(!(I&&R)||U)&&g.push(...X.map(Y=>({animation:Y,options:{type:C}})))}if(b.size){const _={};if(typeof f.initial!="boolean"){const C=Ga(e,Array.isArray(f.initial)?f.initial[0]:f.initial);C&&C.transition&&(_.transition=C.transition)}b.forEach(C=>{const P=e.getBaseTarget(C),E=e.getValue(C);E&&(E.liveStyle=!0),_[C]=P??null}),g.push({animation:_})}let v=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(g):Promise.resolve()}function u(d,f){var g;if(n[d].isActive===f)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(b=>{var x;return(x=b.animationState)==null?void 0:x.setActive(d,f)}),n[d].isActive=f;const m=l(d);for(const b in n)n[b].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Nv(),r=!0}}}function LA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!E_(t,e):!1}function ds(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Nv(){return{animate:ds(!0),whileInView:ds(),whileHover:ds(),whileTap:ds(),whileDrag:ds(),whileFocus:ds(),exit:ds()}}class Gi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class FA extends Gi{constructor(t){super(t),t.animationState||(t.animationState=DA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let BA=0;class VA extends Gi{constructor(){super(...arguments),this.id=BA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const $A={animation:{Feature:FA},exit:{Feature:VA}};function Ya(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function wl(e){return{point:{x:e.pageX,y:e.pageY}}}const zA=e=>t=>Vm(t)&&e(t,wl(t));function Ia(e,t,n,r){return Ya(e,t,zA(n),r)}function N_({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function WA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function UA(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const j_=1e-4,HA=1-j_,ZA=1+j_,M_=.01,GA=0-M_,YA=0+M_;function gn(e){return e.max-e.min}function KA(e,t,n){return Math.abs(e-t)<=n}function jv(e,t,n,r=.5){e.origin=r,e.originPoint=Tt(t.min,t.max,e.origin),e.scale=gn(n)/gn(t),e.translate=Tt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=HA&&e.scale<=ZA||isNaN(e.scale))&&(e.scale=1),(e.translate>=GA&&e.translate<=YA||isNaN(e.translate))&&(e.translate=0)}function Da(e,t,n,r){jv(e.x,t.x,n.x,r?r.originX:void 0),jv(e.y,t.y,n.y,r?r.originY:void 0)}function Mv(e,t,n){e.min=n.min+t.min,e.max=e.min+gn(t)}function qA(e,t,n){Mv(e.x,t.x,n.x),Mv(e.y,t.y,n.y)}function Rv(e,t,n){e.min=t.min-n.min,e.max=e.min+gn(t)}function La(e,t,n){Rv(e.x,t.x,n.x),Rv(e.y,t.y,n.y)}const Ov=()=>({translate:0,scale:1,origin:0,originPoint:0}),vo=()=>({x:Ov(),y:Ov()}),kv=()=>({min:0,max:0}),It=()=>({x:kv(),y:kv()});function Kn(e){return[e("x"),e("y")]}function qd(e){return e===void 0||e===1}function lh({scale:e,scaleX:t,scaleY:n}){return!qd(e)||!qd(t)||!qd(n)}function fs(e){return lh(e)||R_(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function R_(e){return Av(e.x)||Av(e.y)}function Av(e){return e&&e!=="0%"}function tu(e,t,n){const r=e-n,i=t*r;return n+i}function Iv(e,t,n,r,i){return i!==void 0&&(e=tu(e,i,r)),tu(e,n,r)+t}function ch(e,t=0,n=1,r,i){e.min=Iv(e.min,t,n,r,i),e.max=Iv(e.max,t,n,r,i)}function O_(e,{x:t,y:n}){ch(e.x,t.translate,t.scale,t.originPoint),ch(e.y,n.translate,n.scale,n.originPoint)}const Dv=.999999999999,Lv=1.0000000000001;function XA(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,l;for(let u=0;u<i;u++){o=n[u],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&xo(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,O_(e,l)),r&&fs(o.latestValues)&&xo(e,o.latestValues))}t.x<Lv&&t.x>Dv&&(t.x=1),t.y<Lv&&t.y>Dv&&(t.y=1)}function yo(e,t){e.min=e.min+t,e.max=e.max+t}function Fv(e,t,n,r,i=.5){const o=Tt(e.min,e.max,i);ch(e,t,n,o,r)}function xo(e,t){Fv(e.x,t.x,t.scaleX,t.scale,t.originX),Fv(e.y,t.y,t.scaleY,t.scale,t.originY)}function k_(e,t){return N_(UA(e.getBoundingClientRect(),t))}function JA(e,t,n){const r=k_(e,n),{scroll:i}=t;return i&&(yo(r.x,i.offset.x),yo(r.y,i.offset.y)),r}const A_=({current:e})=>e?e.ownerDocument.defaultView:null,Bv=(e,t)=>Math.abs(e-t);function QA(e,t){const n=Bv(e.x,t.x),r=Bv(e.y,t.y);return Math.sqrt(n**2+r**2)}class I_{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Jd(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,x=QA(g.offset,{x:0,y:0})>=3;if(!b&&!x)return;const{point:w}=g,{timestamp:v}=qt;this.history.push({...w,timestamp:v});const{onStart:_,onMove:C}=this.handlers;b||(_&&_(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Xd(b,this.transformPagePoint),Nt.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:x,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Jd(g.type==="pointercancel"?this.lastMoveEventInfo:Xd(b,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,_),w&&w(g,_)},!Vm(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=wl(t),u=Xd(l,this.transformPagePoint),{point:d}=u,{timestamp:f}=qt;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=n;m&&m(t,Jd(u,this.history)),this.removeListeners=xl(Ia(this.contextWindow,"pointermove",this.handlePointerMove),Ia(this.contextWindow,"pointerup",this.handlePointerUp),Ia(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),$i(this.updatePoint)}}function Xd(e,t){return t?{point:t(e.point)}:e}function Vv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Jd({point:e},t){return{point:e,delta:Vv(e,D_(t)),offset:Vv(e,eI(t)),velocity:tI(t,.1)}}function eI(e){return e[0]}function D_(e){return e[e.length-1]}function tI(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=D_(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Ir(t)));)n--;if(!r)return{x:0,y:0};const o=Dr(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function nI(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Tt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Tt(n,e,r.max):Math.min(e,n)),e}function $v(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function rI(e,{top:t,left:n,bottom:r,right:i}){return{x:$v(e.x,n,i),y:$v(e.y,t,r)}}function zv(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function iI(e,t){return{x:zv(e.x,t.x),y:zv(e.y,t.y)}}function sI(e,t){let n=.5;const r=gn(e),i=gn(t);return i>r?n=za(t.min,t.max-r,e.min):r>i&&(n=za(e.min,e.max-i,t.min)),ui(0,1,n)}function oI(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const uh=.35;function aI(e=uh){return e===!1?e=0:e===!0&&(e=uh),{x:Wv(e,"left","right"),y:Wv(e,"top","bottom")}}function Wv(e,t,n){return{min:Uv(e,t),max:Uv(e,n)}}function Uv(e,t){return typeof e=="number"?e:e[t]||0}const lI=new WeakMap;class cI{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=It(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wl(m).point)},o=(m,g)=>{const{drag:b,dragPropagation:x,onDragStart:w}=this.getProps();if(b&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ek(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn(_=>{let C=this.getAxisMotionValue(_).get()||0;if(Lr.test(C)){const{projection:P}=this.visualElement;if(P&&P.layout){const E=P.layout.layoutBox[_];E&&(C=gn(E)*(parseFloat(C)/100))}}this.originPoint[_]=C}),w&&Nt.postRender(()=>w(m,g)),oh(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(m,g)=>{const{dragPropagation:b,dragDirectionLock:x,onDirectionLock:w,onDrag:v}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:_}=g;if(x&&this.currentDirection===null){this.currentDirection=uI(_),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,_),this.updateAxis("y",g.point,_),this.visualElement.render(),v&&v(m,g)},u=(m,g)=>this.stop(m,g),d=()=>Kn(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new I_(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:A_(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Nt.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!mc(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=nI(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;t&&go(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=rI(r.layoutBox,t):this.constraints=!1,this.elastic=aI(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Kn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=oI(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!go(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=JA(r,i.root,this.visualElement.getTransformPagePoint());let l=iI(i.layout.layoutBox,o);if(n){const u=n(WA(l));this.hasMutatedConstraints=!!u,u&&(l=N_(u))}return l}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=Kn(m=>{if(!mc(m,n,this.currentDirection))return;let g=d&&d[m]||{};l&&(g={min:0,max:0});const b=i?200:1e6,x=i?40:1e7,w={type:"inertia",velocity:r?t[m]:0,bounceStiffness:b,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(m,w)});return Promise.all(f).then(u)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return oh(this.visualElement,t),r.start(Km(t,r,0,n,this.visualElement,!1))}stopAnimation(){Kn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Kn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Kn(n=>{const{drag:r}=this.getProps();if(!mc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[n];o.set(t[n]-Tt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!go(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Kn(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();i[l]=sI({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kn(l=>{if(!mc(l,t,null))return;const u=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];u.set(Tt(d,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;lI.set(this.visualElement,this);const t=this.visualElement.current,n=Ia(t,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();go(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Nt.read(r);const l=Ya(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Kn(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=d[m].translate,g.set(g.get()+d[m].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=uh,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function mc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function uI(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class dI extends Gi{constructor(t){super(t),this.removeGroupControls=Jn,this.removeListeners=Jn,this.controls=new cI(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Hv=e=>(t,n)=>{e&&Nt.postRender(()=>e(t,n))};class fI extends Gi{constructor(){super(...arguments),this.removePointerDownListener=Jn}onPointerDown(t){this.session=new I_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:A_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Hv(t),onStart:Hv(n),onMove:r,onEnd:(o,l)=>{delete this.session,i&&Nt.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=Ia(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ac={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ba={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ve.test(e))e=parseFloat(e);else return e;const n=Zv(e,t.target.x),r=Zv(e,t.target.y);return`${n}% ${r}%`}},hI={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=zi.parse(e);if(i.length>5)return r;const o=zi.createTransformer(e),l=typeof i[0]!="number"?1:0,u=n.x.scale*t.x,d=n.y.scale*t.y;i[0+l]/=u,i[1+l]/=d;const f=Tt(u,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),o(i)}};class mI extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;Jk(pI),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ac.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,i||t.layoutDependency!==n||n===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||Nt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Bm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function L_(e){const[t,n]=Ik(),r=p.useContext(x0);return a.jsx(mI,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(p_),isPresent:t,safeToRemove:n})}const pI={borderRadius:{...ba,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ba,borderTopRightRadius:ba,borderBottomLeftRadius:ba,borderBottomRightRadius:ba,boxShadow:hI};function gI(e,t,n){const r=an(e)?e:Wo(e);return r.start(Km("",r,t,n)),r.animation}const vI=(e,t)=>e.depth-t.depth;class yI{constructor(){this.children=[],this.isDirty=!1}add(t){bm(this.children,t),this.isDirty=!0}remove(t){_m(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(vI),this.isDirty=!1,this.children.forEach(t)}}function xI(e,t){const n=Nn.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&($i(r),e(o-t))};return Nt.setup(r,!0),()=>$i(r)}const F_=["TopLeft","TopRight","BottomLeft","BottomRight"],bI=F_.length,Gv=e=>typeof e=="string"?parseFloat(e):e,Yv=e=>typeof e=="number"||Ve.test(e);function _I(e,t,n,r,i,o){i?(e.opacity=Tt(0,n.opacity??1,wI(r)),e.opacityExit=Tt(t.opacity??1,0,SI(r))):o&&(e.opacity=Tt(t.opacity??1,n.opacity??1,r));for(let l=0;l<bI;l++){const u=`border${F_[l]}Radius`;let d=Kv(t,u),f=Kv(n,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||Yv(d)===Yv(f)?(e[u]=Math.max(Tt(Gv(d),Gv(f),r),0),(Lr.test(f)||Lr.test(d))&&(e[u]+="%")):e[u]=f}(t.rotate||n.rotate)&&(e.rotate=Tt(t.rotate||0,n.rotate||0,r))}function Kv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const wI=B_(0,.5,M0),SI=B_(.5,.95,Jn);function B_(e,t,n){return r=>r<e?0:r>t?1:n(za(e,t,r))}function qv(e,t){e.min=t.min,e.max=t.max}function Yn(e,t){qv(e.x,t.x),qv(e.y,t.y)}function Xv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Jv(e,t,n,r,i){return e-=t,e=tu(e,1/n,r),i!==void 0&&(e=tu(e,1/i,r)),e}function CI(e,t=0,n=1,r=.5,i,o=e,l=e){if(Lr.test(t)&&(t=parseFloat(t),t=Tt(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=Tt(o.min,o.max,r);e===o&&(u-=t),e.min=Jv(e.min,t,n,u,i),e.max=Jv(e.max,t,n,u,i)}function Qv(e,t,[n,r,i],o,l){CI(e,t[n],t[r],t[i],t.scale,o,l)}const PI=["x","scaleX","originX"],EI=["y","scaleY","originY"];function ey(e,t,n,r){Qv(e.x,t,PI,n?n.x:void 0,r?r.x:void 0),Qv(e.y,t,EI,n?n.y:void 0,r?r.y:void 0)}function ty(e){return e.translate===0&&e.scale===1}function V_(e){return ty(e.x)&&ty(e.y)}function ny(e,t){return e.min===t.min&&e.max===t.max}function TI(e,t){return ny(e.x,t.x)&&ny(e.y,t.y)}function ry(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function $_(e,t){return ry(e.x,t.x)&&ry(e.y,t.y)}function iy(e){return gn(e.x)/gn(e.y)}function sy(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class NI{constructor(){this.members=[]}add(t){bm(this.members,t),t.scheduleRender()}remove(t){if(_m(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jI(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,l=(n==null?void 0:n.z)||0;if((i||o||l)&&(r=`translate3d(${i}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:g,rotateY:b,skewX:x,skewY:w}=n;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),b&&(r+=`rotateY(${b}deg) `),x&&(r+=`skewX(${x}deg) `),w&&(r+=`skewY(${w}deg) `)}const u=e.x.scale*t.x,d=e.y.scale*t.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}const Qd=["","X","Y","Z"],MI={visibility:"hidden"},RI=1e3;let OI=0;function ef(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function z_(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=C_(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Nt,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&z_(r)}function W_({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=t==null?void 0:t()){this.id=OI++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(II),this.nodes.forEach(VI),this.nodes.forEach($I),this.nodes.forEach(DI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new yI)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Cm),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=c_(l)&&!Ok(l),this.instance=l;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),e){let m;const g=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=xI(g,250),Ac.hasAnimatedSinceResize&&(Ac.hasAnimatedSinceResize=!1,this.nodes.forEach(ay))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||ZI,{onLayoutAnimationStart:v,onLayoutAnimationComplete:_}=f.getProps(),C=!this.targetLayout||!$_(this.targetLayout,x),P=!g&&b;if(this.options.layoutRoot||this.resumeFrom||P||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...Lm(w,"layout"),onPlay:v,onComplete:_};(f.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(m,P)}else g||ay(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$i(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zI),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&z_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oy);return}this.isUpdating||this.nodes.forEach(FI),this.isUpdating=!1,this.nodes.forEach(BI),this.nodes.forEach(kI),this.nodes.forEach(AI),this.clearAllSnapshots();const u=Nn.now();qt.delta=ui(0,1e3/60,u-qt.timestamp),qt.timestamp=u,qt.isProcessing=!0,Hd.update.process(qt),Hd.preRender.process(qt),Hd.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(LI),this.sharedNodes.forEach(WI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gn(this.snapshot.measuredBox.x)&&!gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=It(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!V_(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||fs(this.latestValues)||m)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),GI(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:l}=this.options;if(!l)return It();const u=l.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(YI))){const{scroll:m}=this.root;m&&(yo(u.x,m.offset.x),yo(u.y,m.offset.y))}return u}removeElementScroll(l){var d;const u=It();if(Yn(u,l),(d=this.scroll)!=null&&d.wasRoot)return u;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:g,options:b}=m;m!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&Yn(u,l),yo(u.x,g.offset.x),yo(u.y,g.offset.y))}return u}applyTransform(l,u=!1){const d=It();Yn(d,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&xo(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),fs(m.latestValues)&&xo(d,m.latestValues)}return fs(this.latestValues)&&xo(d,this.latestValues),d}removeTransform(l){const u=It();Yn(u,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!fs(f.latestValues))continue;lh(f.latestValues)&&f.updateSnapshot();const m=It(),g=f.measurePageBox();Yn(m,g),ey(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return fs(this.latestValues)&&ey(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var b;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),La(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=It(),this.targetWithTransforms=It()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yn(this.target,this.layout.layoutBox),O_(this.target,this.targetDelta)):Yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),La(this.relativeTargetOrigin,this.target,x.target),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||lh(this.parent.latestValues)||R_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(d=!1),d)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;Yn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;XA(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=It());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Xv(this.prevProjectionDelta.x,this.projectionDelta.x),Xv(this.prevProjectionDelta.y,this.projectionDelta.y)),Da(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!sy(this.projectionDelta.x,this.prevProjectionDelta.x)||!sy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vo(),this.projectionDelta=vo(),this.projectionDeltaWithTransform=vo()}setAnimationOrigin(l,u=!1){const d=this.snapshot,f=d?d.latestValues:{},m={...this.latestValues},g=vo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=It(),x=d?d.source:void 0,w=this.layout?this.layout.source:void 0,v=x!==w,_=this.getStack(),C=!_||_.members.length<=1,P=!!(v&&!C&&this.options.crossfade===!0&&!this.path.some(HI));this.animationProgress=0;let E;this.mixTargetDelta=M=>{const T=M/1e3;ly(g.x,l.x,T),ly(g.y,l.y,T),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(La(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),UI(this.relativeTarget,this.relativeTargetOrigin,b,T),E&&TI(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=It()),Yn(E,this.relativeTarget)),v&&(this.animationValues=m,_I(m,f,this.latestValues,T,P,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,d,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||f.stop(),this.pendingAnimation&&($i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nt.update(()=>{Ac.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wo(0)),this.currentAnimation=gI(this.motionValue,[0,1e3],{...l,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(RI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:m}=l;if(!(!u||!d||!f)){if(this!==l&&this.layout&&f&&U_(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||It();const g=gn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+g;const b=gn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+b}Yn(u,d),xo(u,m),Da(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new NI),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const f={};d.z&&ef("z",l,f,this.animationValues);for(let m=0;m<Qd.length;m++)ef(`rotate${Qd[m]}`,l,f,this.animationValues),ef(`skew${Qd[m]}`,l,f,this.animationValues);l.render();for(const m in f)l.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return MI;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=kc(l==null?void 0:l.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=kc(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!fs(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=jI(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:g,y:b}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,f.animationValues?u.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const x in Za){if(m[x]===void 0)continue;const{correct:w,applyTo:v,isCSSVariable:_}=Za[x],C=u.transform==="none"?m[x]:w(m[x],f);if(v){const P=v.length;for(let E=0;E<P;E++)u[v[E]]=C}else _?this.options.visualElement.renderState.vars[x]=C:u[x]=C}return this.options.layoutId&&(u.pointerEvents=f===this?kc(l==null?void 0:l.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(oy),this.root.sharedNodes.clear()}}}function kI(e){e.updateLayout()}function AI(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,l=t.source!==e.layout.source;o==="size"?Kn(g=>{const b=l?t.measuredBox[g]:t.layoutBox[g],x=gn(b);b.min=r[g].min,b.max=b.min+x}):U_(o,t.layoutBox,r)&&Kn(g=>{const b=l?t.measuredBox[g]:t.layoutBox[g],x=gn(r[g]);b.max=b.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+x)});const u=vo();Da(u,r,t.layoutBox);const d=vo();l?Da(d,e.applyTransform(i,!0),t.measuredBox):Da(d,r,t.layoutBox);const f=!V_(u);let m=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:x}=g;if(b&&x){const w=It();La(w,t.layoutBox,b.layoutBox);const v=It();La(v,r,x.layoutBox),$_(w,v)||(m=!0),g.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=w,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:d,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function II(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function DI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function LI(e){e.clearSnapshot()}function oy(e){e.clearMeasurements()}function FI(e){e.isLayoutDirty=!1}function BI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ay(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function VI(e){e.resolveTargetDelta()}function $I(e){e.calcProjection()}function zI(e){e.resetSkewAndRotation()}function WI(e){e.removeLeadSnapshot()}function ly(e,t,n){e.translate=Tt(t.translate,0,n),e.scale=Tt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function cy(e,t,n,r){e.min=Tt(t.min,n.min,r),e.max=Tt(t.max,n.max,r)}function UI(e,t,n,r){cy(e.x,t.x,n.x,r),cy(e.y,t.y,n.y,r)}function HI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ZI={duration:.45,ease:[.4,0,.1,1]},uy=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),dy=uy("applewebkit/")&&!uy("chrome/")?Math.round:Jn;function fy(e){e.min=dy(e.min),e.max=dy(e.max)}function GI(e){fy(e.x),fy(e.y)}function U_(e,t,n){return e==="position"||e==="preserve-aspect"&&!KA(iy(t),iy(n),.2)}function YI(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const KI=W_({attachResizeListener:(e,t)=>Ya(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tf={current:void 0},H_=W_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!tf.current){const e=new KI({});e.mount(window),e.setOptions({layoutScroll:!0}),tf.current=e}return tf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),qI={pan:{Feature:fI},drag:{Feature:dI,ProjectionNode:H_,MeasureLayout:L_}};function hy(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Nt.postRender(()=>o(t,wl(t)))}class XI extends Gi{mount(){const{current:t}=this.node;t&&(this.unmount=Tk(t,(n,r)=>(hy(this.node,r,"Start"),i=>hy(this.node,i,"End"))))}unmount(){}}class JI extends Gi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xl(Ya(this.node.current,"focus",()=>this.onFocus()),Ya(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function my(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Nt.postRender(()=>o(t,wl(t)))}class QI extends Gi{mount(){const{current:t}=this.node;t&&(this.unmount=Rk(t,(n,r)=>(my(this.node,r,"Start"),(i,{success:o})=>my(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dh=new WeakMap,nf=new WeakMap,eD=e=>{const t=dh.get(e.target);t&&t(e)},tD=e=>{e.forEach(eD)};function nD({root:e,...t}){const n=e||document;nf.has(n)||nf.set(n,{});const r=nf.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(tD,{root:e,...t})),r[i]}function rD(e,t,n){const r=nD(t);return dh.set(e,n),r.observe(e),()=>{dh.delete(e),r.unobserve(e)}}const iD={some:0,all:1};class sD extends Gi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:iD[i]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),b=f?m:g;b&&b(d)};return rD(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(oD(t,n))&&this.startObserver()}unmount(){}}function oD({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const aD={inView:{Feature:sD},tap:{Feature:QI},focus:{Feature:JI},hover:{Feature:XI}},lD={layout:{ProjectionNode:H_,MeasureLayout:L_}},fh={current:null},Z_={current:!1};function cD(){if(Z_.current=!0,!!ym)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>fh.current=e.matches;e.addListener(t),t()}else fh.current=!1}const uD=new WeakMap;function dD(e,t,n){for(const r in t){const i=t[r],o=n[r];if(an(i))e.addValue(r,i);else if(an(o))e.addValue(r,Wo(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const l=e.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=e.getStaticValue(r);e.addValue(r,Wo(l!==void 0?l:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const py=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fD{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Nn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Nt.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Vu(n),this.isVariantNode=h_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in g){const x=g[b];d[b]!==void 0&&an(x)&&x.set(d[b],!1)}}mount(t){this.current=t,uD.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Z_.current||cD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),$i(this.notifyUpdate),$i(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=na.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&Nt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Uo){const n=Uo[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):It()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<py.length;r++){const i=py[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=t[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=dD(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Wo(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(b0(r)||w0(r))?r=parseFloat(r):!Ak(r)&&zi.test(n)&&(r=i_(t,n)),this.setBaseTarget(t,an(r)?r.get():r)),an(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=Gm(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);l&&(r=l[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!an(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Cm),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class G_ extends fD{constructor(){super(...arguments),this.KeyframeResolver=wk}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;an(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Y_(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}function hD(e){return window.getComputedStyle(e)}class mD extends G_{constructor(){super(...arguments),this.type="html",this.renderInstance=Y_}readValueFromInstance(t,n){var r;if(na.has(n))return(r=this.projection)!=null&&r.isProjecting?Qf(n):$O(t,n);{const i=hD(t),o=(Tm(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return k_(t,n)}build(t,n,r){Um(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Ym(t,n,r)}}const K_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pD(e,t,n,r){Y_(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(K_.has(i)?i:Wm(i),t.attrs[i])}class gD extends G_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=It}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(na.has(n)){const r=r_(n);return r&&r.default||0}return n=K_.has(n)?n:Wm(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return S_(t,n,r)}build(t,n,r){x_(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){pD(t,n,r,i)}mount(t){this.isSVGTag=__(t.tagName),super.mount(t)}}const vD=(e,t)=>Zm(e)?new gD(t):new mD(t,{allowProjection:e!==p.Fragment}),yD=pA({...$A,...aD,...qI,...lD},vD),pn=Vk(yD);function xD(){const e=tr(),{user:t}=mi();return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50",children:a.jsxs("div",{className:"container mx-auto py-12 px-4",children:[a.jsxs(pn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-16",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsxs(pn.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.5,delay:.2},className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-green-500 rounded-full blur-xl opacity-20 animate-pulse"}),a.jsx(Nu,{className:"w-24 h-24 text-blue-600 relative z-10"})]})}),a.jsx(pn.h1,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"text-6xl font-bold mb-6 bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Eravat"}),a.jsx(pn.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Advanced Elephant Monitoring & Conservation Platform"})]}),t&&t.role!=="data_collector"&&a.jsx(pn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"mb-12 text-center",children:a.jsx(Ae,{className:"bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700 text-white font-semibold py-3 px-8 rounded-xl text-lg shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>e("/admin"),children:"Access Admin Panel"})}),a.jsxs(pn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[a.jsxs(Ze,{className:"hover:shadow-xl transition-all duration-300 bg-white border-0 rounded-2xl overflow-hidden group",children:[a.jsx(ht,{className:"bg-gradient-to-r from-blue-50 to-blue-100",children:a.jsxs(mt,{className:"text-blue-800 flex items-center gap-2",children:[a.jsx(Gh,{className:"w-5 h-5"}),"Dashboard"]})}),a.jsxs(Ke,{className:"p-6",children:[a.jsx("p",{className:"text-gray-600 mb-6",children:"View comprehensive statistics and recent observations in real-time"}),a.jsx(Ae,{className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-xl py-6 text-lg font-semibold transition-all duration-300 group-hover:scale-[1.02]",onClick:()=>e("/dashboard"),children:"Go to Dashboard"})]})]}),a.jsxs(Ze,{className:"hover:shadow-xl transition-all duration-300 bg-white border-0 rounded-2xl overflow-hidden group",children:[a.jsx(ht,{className:"bg-gradient-to-r from-green-50 to-green-100",children:a.jsxs(mt,{className:"text-green-800 flex items-center gap-2",children:[a.jsx(So,{className:"w-5 h-5"}),"Report Activity"]})}),a.jsxs(Ke,{className:"p-6",children:[a.jsx("p",{className:"text-gray-600 mb-6",children:"Report new elephant sightings or activities in your area"}),a.jsx(Ae,{className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-xl py-6 text-lg font-semibold transition-all duration-300 group-hover:scale-[1.02]",onClick:()=>e("/report"),children:"Report Activity"})]})]})]})]})})}const bD=()=>{const e=Vh();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var qm="Progress",Xm=100,[_D,BU]=Vt(qm),[wD,SD]=_D(qm),q_=p.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:o=CD,...l}=e;(i||i===0)&&!gy(i)&&console.error(PD(`${i}`,"Progress"));const u=gy(i)?i:Xm;r!==null&&!vy(r,u)&&console.error(ED(`${r}`,"Progress"));const d=vy(r,u)?r:null,f=nu(d)?o(d,u):void 0;return a.jsx(wD,{scope:n,value:d,max:u,children:a.jsx(Le.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":nu(d)?d:void 0,"aria-valuetext":f,role:"progressbar","data-state":Q_(d,u),"data-value":d??void 0,"data-max":u,...l,ref:t})})});q_.displayName=qm;var X_="ProgressIndicator",J_=p.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=SD(X_,n);return a.jsx(Le.div,{"data-state":Q_(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});J_.displayName=X_;function CD(e,t){return`${Math.round(e/t*100)}%`}function Q_(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function nu(e){return typeof e=="number"}function gy(e){return nu(e)&&!isNaN(e)&&e>0}function vy(e,t){return nu(e)&&!isNaN(e)&&e<=t&&e>=0}function PD(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Xm}\`.`}function ED(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Xm} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ew=q_,TD=J_;const Jm=p.forwardRef(({className:e,value:t,...n},r)=>a.jsx(ew,{ref:r,className:Pe("relative h-2 w-full overflow-hidden rounded-full bg-gray-200 dark:bg-gray-800",e),...n,children:a.jsx(TD,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Jm.displayName=ew.displayName;var rt;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const o={};for(const l of i)o[l]=l;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),l={};for(const u of o)l[u]=i[u];return e.objectValues(l)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&o.push(l);return o},e.find=(i,o)=>{for(const l of i)if(o(l))return l},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(rt||(rt={}));var hh;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(hh||(hh={}));const we=rt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ti=e=>{switch(typeof e){case"undefined":return we.undefined;case"string":return we.string;case"number":return isNaN(e)?we.nan:we.number;case"boolean":return we.boolean;case"function":return we.function;case"bigint":return we.bigint;case"symbol":return we.symbol;case"object":return Array.isArray(e)?we.array:e===null?we.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?we.promise:typeof Map<"u"&&e instanceof Map?we.map:typeof Set<"u"&&e instanceof Set?we.set:typeof Date<"u"&&e instanceof Date?we.date:we.object;default:return we.unknown}},ge=rt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ND=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Vn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let u=r,d=0;for(;d<l.path.length;){const f=l.path[d];d===l.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(n(l))):u[f]=u[f]||{_errors:[]},u=u[f],d++}}};return i(this),r}static assert(t){if(!(t instanceof Vn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,rt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Vn.create=e=>new Vn(e);const Ho=(e,t)=>{let n;switch(e.code){case ge.invalid_type:e.received===we.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ge.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,rt.jsonStringifyReplacer)}`;break;case ge.unrecognized_keys:n=`Unrecognized key(s) in object: ${rt.joinValues(e.keys,", ")}`;break;case ge.invalid_union:n="Invalid input";break;case ge.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${rt.joinValues(e.options)}`;break;case ge.invalid_enum_value:n=`Invalid enum value. Expected ${rt.joinValues(e.options)}, received '${e.received}'`;break;case ge.invalid_arguments:n="Invalid function arguments";break;case ge.invalid_return_type:n="Invalid function return type";break;case ge.invalid_date:n="Invalid date";break;case ge.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:rt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ge.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ge.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ge.custom:n="Invalid input";break;case ge.invalid_intersection_types:n="Intersection results could not be merged";break;case ge.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ge.not_finite:n="Number must be finite";break;default:n=t.defaultError,rt.assertNever(e)}return{message:n}};let tw=Ho;function jD(e){tw=e}function ru(){return tw}const iu=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],l={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let u="";const d=r.filter(f=>!!f).slice().reverse();for(const f of d)u=f(l,{data:t,defaultError:u}).message;return{...i,path:o,message:u}},MD=[];function xe(e,t){const n=ru(),r=iu({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Ho?void 0:Ho].filter(i=>!!i)});e.common.issues.push(r)}class ln{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return We;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const o=await i.key,l=await i.value;r.push({key:o,value:l})}return ln.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:o,value:l}=i;if(o.status==="aborted"||l.status==="aborted")return We;o.status==="dirty"&&t.dirty(),l.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(r[o.value]=l.value)}return{status:t.value,value:r}}}const We=Object.freeze({status:"aborted"}),bo=e=>({status:"dirty",value:e}),vn=e=>({status:"valid",value:e}),mh=e=>e.status==="aborted",ph=e=>e.status==="dirty",Rs=e=>e.status==="valid",Ka=e=>typeof Promise<"u"&&e instanceof Promise;function su(e,t,n,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function nw(e,t,n,r,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Te;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Te||(Te={}));var Ea,Ta;class $r{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const yy=(e,t)=>{if(Rs(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Vn(e.common.issues);return this._error=n,this._error}}};function qe(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(l,u)=>{var d,f;const{message:m}=e;return l.code==="invalid_enum_value"?{message:m??u.defaultError}:typeof u.data>"u"?{message:(d=m??r)!==null&&d!==void 0?d:u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:(f=m??n)!==null&&f!==void 0?f:u.defaultError}},description:i}}class Xe{get description(){return this._def.description}_getType(t){return ti(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ti(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ln,ctx:{common:t.parent.common,data:t.data,parsedType:ti(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Ka(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ti(t)},o=this._parseSync({data:t,path:i.path,parent:i});return yy(i,o)}"~validate"(t){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ti(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:i});return Rs(o)?{value:o.value}:{issues:i.common.issues}}catch(o){!((r=(n=o==null?void 0:o.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(o=>Rs(o)?{value:o.value}:{issues:i.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ti(t)},i=this._parse({data:t,path:r.path,parent:r}),o=await(Ka(i)?i:Promise.resolve(i));return yy(r,o)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const l=t(i),u=()=>o.addIssue({code:ge.custom,...r(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new vr({schema:this,typeName:Be.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Fr.create(this,this._def)}nullable(){return Zi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return mr.create(this)}promise(){return Go.create(this,this._def)}or(t){return Qa.create([this,t],this._def)}and(t){return el.create(this,t,this._def)}transform(t){return new vr({...qe(this._def),schema:this,typeName:Be.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new sl({...qe(this._def),innerType:this,defaultValue:n,typeName:Be.ZodDefault})}brand(){return new Qm({typeName:Be.ZodBranded,type:this,...qe(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new ol({...qe(this._def),innerType:this,catchValue:n,typeName:Be.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Sl.create(this,t)}readonly(){return al.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const RD=/^c[^\s-]{8,}$/i,OD=/^[0-9a-z]+$/,kD=/^[0-9A-HJKMNP-TV-Z]{26}$/i,AD=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ID=/^[a-z0-9_-]{21}$/i,DD=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,LD=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,FD=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,BD="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let rf;const VD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$D=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,zD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,WD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,UD=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,HD=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,rw="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ZD=new RegExp(`^${rw}$`);function iw(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function GD(e){return new RegExp(`^${iw(e)}$`)}function sw(e){let t=`${rw}T${iw(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function YD(e,t){return!!((t==="v4"||!t)&&VD.test(e)||(t==="v6"||!t)&&zD.test(e))}function KD(e,t){if(!DD.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||t&&i.alg!==t)}catch{return!1}}function qD(e,t){return!!((t==="v4"||!t)&&$D.test(e)||(t==="v6"||!t)&&WD.test(e))}class hr extends Xe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==we.string){const o=this._getOrReturnCtx(t);return xe(o,{code:ge.invalid_type,expected:we.string,received:o.parsedType}),We}const r=new ln;let i;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),xe(i,{code:ge.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),xe(i,{code:ge.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const l=t.data.length>o.value,u=t.data.length<o.value;(l||u)&&(i=this._getOrReturnCtx(t,i),l?xe(i,{code:ge.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&xe(i,{code:ge.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")FD.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"email",code:ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")rf||(rf=new RegExp(BD,"u")),rf.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"emoji",code:ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")AD.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"uuid",code:ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")ID.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"nanoid",code:ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")RD.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"cuid",code:ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")OD.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"cuid2",code:ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")kD.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"ulid",code:ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),xe(i,{validation:"url",code:ge.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"regex",code:ge.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),xe(i,{code:ge.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),xe(i,{code:ge.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),xe(i,{code:ge.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?sw(o).test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{code:ge.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?ZD.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{code:ge.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?GD(o).test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{code:ge.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?LD.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"duration",code:ge.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?YD(t.data,o.version)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"ip",code:ge.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?KD(t.data,o.alg)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"jwt",code:ge.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?qD(t.data,o.version)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"cidr",code:ge.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?UD.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"base64",code:ge.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?HD.test(t.data)||(i=this._getOrReturnCtx(t,i),xe(i,{validation:"base64url",code:ge.invalid_string,message:o.message}),r.dirty()):rt.assertNever(o);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:ge.invalid_string,...Te.errToObj(r)})}_addCheck(t){return new hr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Te.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Te.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Te.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Te.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Te.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Te.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Te.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Te.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Te.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Te.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Te.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Te.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Te.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...Te.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Te.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Te.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Te.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Te.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Te.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Te.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Te.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Te.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Te.errToObj(n)})}nonempty(t){return this.min(1,Te.errToObj(t))}trim(){return new hr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new hr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new hr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}hr.create=e=>{var t;return new hr({checks:[],typeName:Be.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...qe(e)})};function XD(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,o=parseInt(e.toFixed(i).replace(".","")),l=parseInt(t.toFixed(i).replace(".",""));return o%l/Math.pow(10,i)}class Wi extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==we.number){const o=this._getOrReturnCtx(t);return xe(o,{code:ge.invalid_type,expected:we.number,received:o.parsedType}),We}let r;const i=new ln;for(const o of this._def.checks)o.kind==="int"?rt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),xe(r,{code:ge.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),xe(r,{code:ge.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),xe(r,{code:ge.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?XD(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),xe(r,{code:ge.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),xe(r,{code:ge.not_finite,message:o.message}),i.dirty()):rt.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Te.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Te.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Te.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Te.toString(n))}setLimit(t,n,r,i){return new Wi({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Te.toString(i)}]})}_addCheck(t){return new Wi({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Te.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Te.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Te.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Te.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Te.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Te.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&rt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Wi.create=e=>new Wi({checks:[],typeName:Be.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...qe(e)});class Ui extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==we.bigint)return this._getInvalidInput(t);let r;const i=new ln;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),xe(r,{code:ge.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),xe(r,{code:ge.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),xe(r,{code:ge.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):rt.assertNever(o);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return xe(n,{code:ge.invalid_type,expected:we.bigint,received:n.parsedType}),We}gte(t,n){return this.setLimit("min",t,!0,Te.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Te.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Te.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Te.toString(n))}setLimit(t,n,r,i){return new Ui({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Te.toString(i)}]})}_addCheck(t){return new Ui({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Te.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Te.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ui.create=e=>{var t;return new Ui({checks:[],typeName:Be.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...qe(e)})};class qa extends Xe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==we.boolean){const r=this._getOrReturnCtx(t);return xe(r,{code:ge.invalid_type,expected:we.boolean,received:r.parsedType}),We}return vn(t.data)}}qa.create=e=>new qa({typeName:Be.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...qe(e)});class Os extends Xe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==we.date){const o=this._getOrReturnCtx(t);return xe(o,{code:ge.invalid_type,expected:we.date,received:o.parsedType}),We}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return xe(o,{code:ge.invalid_date}),We}const r=new ln;let i;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),xe(i,{code:ge.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),xe(i,{code:ge.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):rt.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Os({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Te.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Te.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Os.create=e=>new Os({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Be.ZodDate,...qe(e)});class ou extends Xe{_parse(t){if(this._getType(t)!==we.symbol){const r=this._getOrReturnCtx(t);return xe(r,{code:ge.invalid_type,expected:we.symbol,received:r.parsedType}),We}return vn(t.data)}}ou.create=e=>new ou({typeName:Be.ZodSymbol,...qe(e)});class Xa extends Xe{_parse(t){if(this._getType(t)!==we.undefined){const r=this._getOrReturnCtx(t);return xe(r,{code:ge.invalid_type,expected:we.undefined,received:r.parsedType}),We}return vn(t.data)}}Xa.create=e=>new Xa({typeName:Be.ZodUndefined,...qe(e)});class Ja extends Xe{_parse(t){if(this._getType(t)!==we.null){const r=this._getOrReturnCtx(t);return xe(r,{code:ge.invalid_type,expected:we.null,received:r.parsedType}),We}return vn(t.data)}}Ja.create=e=>new Ja({typeName:Be.ZodNull,...qe(e)});class Zo extends Xe{constructor(){super(...arguments),this._any=!0}_parse(t){return vn(t.data)}}Zo.create=e=>new Zo({typeName:Be.ZodAny,...qe(e)});class Ps extends Xe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return vn(t.data)}}Ps.create=e=>new Ps({typeName:Be.ZodUnknown,...qe(e)});class fi extends Xe{_parse(t){const n=this._getOrReturnCtx(t);return xe(n,{code:ge.invalid_type,expected:we.never,received:n.parsedType}),We}}fi.create=e=>new fi({typeName:Be.ZodNever,...qe(e)});class au extends Xe{_parse(t){if(this._getType(t)!==we.undefined){const r=this._getOrReturnCtx(t);return xe(r,{code:ge.invalid_type,expected:we.void,received:r.parsedType}),We}return vn(t.data)}}au.create=e=>new au({typeName:Be.ZodVoid,...qe(e)});class mr extends Xe{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==we.array)return xe(n,{code:ge.invalid_type,expected:we.array,received:n.parsedType}),We;if(i.exactLength!==null){const l=n.data.length>i.exactLength.value,u=n.data.length<i.exactLength.value;(l||u)&&(xe(n,{code:l?ge.too_big:ge.too_small,minimum:u?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(xe(n,{code:ge.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(xe(n,{code:ge.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,u)=>i.type._parseAsync(new $r(n,l,n.path,u)))).then(l=>ln.mergeArray(r,l));const o=[...n.data].map((l,u)=>i.type._parseSync(new $r(n,l,n.path,u)));return ln.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new mr({...this._def,minLength:{value:t,message:Te.toString(n)}})}max(t,n){return new mr({...this._def,maxLength:{value:t,message:Te.toString(n)}})}length(t,n){return new mr({...this._def,exactLength:{value:t,message:Te.toString(n)}})}nonempty(t){return this.min(1,t)}}mr.create=(e,t)=>new mr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Be.ZodArray,...qe(t)});function mo(e){if(e instanceof Et){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Fr.create(mo(r))}return new Et({...e._def,shape:()=>t})}else return e instanceof mr?new mr({...e._def,type:mo(e.element)}):e instanceof Fr?Fr.create(mo(e.unwrap())):e instanceof Zi?Zi.create(mo(e.unwrap())):e instanceof zr?zr.create(e.items.map(t=>mo(t))):e}class Et extends Xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=rt.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==we.object){const f=this._getOrReturnCtx(t);return xe(f,{code:ge.invalid_type,expected:we.object,received:f.parsedType}),We}const{status:r,ctx:i}=this._processInputParams(t),{shape:o,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof fi&&this._def.unknownKeys==="strip"))for(const f in i.data)l.includes(f)||u.push(f);const d=[];for(const f of l){const m=o[f],g=i.data[f];d.push({key:{status:"valid",value:f},value:m._parse(new $r(i,g,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof fi){const f=this._def.unknownKeys;if(f==="passthrough")for(const m of u)d.push({key:{status:"valid",value:m},value:{status:"valid",value:i.data[m]}});else if(f==="strict")u.length>0&&(xe(i,{code:ge.unrecognized_keys,keys:u}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const m of u){const g=i.data[m];d.push({key:{status:"valid",value:m},value:f._parse(new $r(i,g,i.path,m)),alwaysSet:m in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const m of d){const g=await m.key,b=await m.value;f.push({key:g,value:b,alwaysSet:m.alwaysSet})}return f}).then(f=>ln.mergeObjectSync(r,f)):ln.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(t){return Te.errToObj,new Et({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,o,l,u;const d=(l=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&l!==void 0?l:r.defaultError;return n.code==="unrecognized_keys"?{message:(u=Te.errToObj(t).message)!==null&&u!==void 0?u:d}:{message:d}}}:{}})}strip(){return new Et({...this._def,unknownKeys:"strip"})}passthrough(){return new Et({...this._def,unknownKeys:"passthrough"})}extend(t){return new Et({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Et({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Be.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Et({...this._def,catchall:t})}pick(t){const n={};return rt.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Et({...this._def,shape:()=>n})}omit(t){const n={};return rt.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Et({...this._def,shape:()=>n})}deepPartial(){return mo(this)}partial(t){const n={};return rt.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new Et({...this._def,shape:()=>n})}required(t){const n={};return rt.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Fr;)o=o._def.innerType;n[r]=o}}),new Et({...this._def,shape:()=>n})}keyof(){return ow(rt.objectKeys(this.shape))}}Et.create=(e,t)=>new Et({shape:()=>e,unknownKeys:"strip",catchall:fi.create(),typeName:Be.ZodObject,...qe(t)});Et.strictCreate=(e,t)=>new Et({shape:()=>e,unknownKeys:"strict",catchall:fi.create(),typeName:Be.ZodObject,...qe(t)});Et.lazycreate=(e,t)=>new Et({shape:e,unknownKeys:"strip",catchall:fi.create(),typeName:Be.ZodObject,...qe(t)});class Qa extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const l=o.map(u=>new Vn(u.ctx.common.issues));return xe(n,{code:ge.invalid_union,unionErrors:l}),We}if(n.common.async)return Promise.all(r.map(async o=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(i);{let o;const l=[];for(const d of r){const f={...n,common:{...n.common,issues:[]},parent:null},m=d._parseSync({data:n.data,path:n.path,parent:f});if(m.status==="valid")return m;m.status==="dirty"&&!o&&(o={result:m,ctx:f}),f.common.issues.length&&l.push(f.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const u=l.map(d=>new Vn(d));return xe(n,{code:ge.invalid_union,unionErrors:u}),We}}get options(){return this._def.options}}Qa.create=(e,t)=>new Qa({options:e,typeName:Be.ZodUnion,...qe(t)});const ei=e=>e instanceof nl?ei(e.schema):e instanceof vr?ei(e.innerType()):e instanceof rl?[e.value]:e instanceof Hi?e.options:e instanceof il?rt.objectValues(e.enum):e instanceof sl?ei(e._def.innerType):e instanceof Xa?[void 0]:e instanceof Ja?[null]:e instanceof Fr?[void 0,...ei(e.unwrap())]:e instanceof Zi?[null,...ei(e.unwrap())]:e instanceof Qm||e instanceof al?ei(e.unwrap()):e instanceof ol?ei(e._def.innerType):[];class $u extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==we.object)return xe(n,{code:ge.invalid_type,expected:we.object,received:n.parsedType}),We;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(xe(n,{code:ge.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),We)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const o of n){const l=ei(o.shape[t]);if(!l.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const u of l){if(i.has(u))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(u)}`);i.set(u,o)}}return new $u({typeName:Be.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...qe(r)})}}function gh(e,t){const n=ti(e),r=ti(t);if(e===t)return{valid:!0,data:e};if(n===we.object&&r===we.object){const i=rt.objectKeys(t),o=rt.objectKeys(e).filter(u=>i.indexOf(u)!==-1),l={...e,...t};for(const u of o){const d=gh(e[u],t[u]);if(!d.valid)return{valid:!1};l[u]=d.data}return{valid:!0,data:l}}else if(n===we.array&&r===we.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const l=e[o],u=t[o],d=gh(l,u);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return n===we.date&&r===we.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class el extends Xe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(o,l)=>{if(mh(o)||mh(l))return We;const u=gh(o.value,l.value);return u.valid?((ph(o)||ph(l))&&n.dirty(),{status:n.value,value:u.data}):(xe(r,{code:ge.invalid_intersection_types}),We)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,l])=>i(o,l)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}el.create=(e,t,n)=>new el({left:e,right:t,typeName:Be.ZodIntersection,...qe(n)});class zr extends Xe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.array)return xe(r,{code:ge.invalid_type,expected:we.array,received:r.parsedType}),We;if(r.data.length<this._def.items.length)return xe(r,{code:ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),We;!this._def.rest&&r.data.length>this._def.items.length&&(xe(r,{code:ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((l,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new $r(r,l,r.path,u)):null}).filter(l=>!!l);return r.common.async?Promise.all(o).then(l=>ln.mergeArray(n,l)):ln.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new zr({...this._def,rest:t})}}zr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zr({items:e,typeName:Be.ZodTuple,rest:null,...qe(t)})};class tl extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.object)return xe(r,{code:ge.invalid_type,expected:we.object,received:r.parsedType}),We;const i=[],o=this._def.keyType,l=this._def.valueType;for(const u in r.data)i.push({key:o._parse(new $r(r,u,r.path,u)),value:l._parse(new $r(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?ln.mergeObjectAsync(n,i):ln.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Xe?new tl({keyType:t,valueType:n,typeName:Be.ZodRecord,...qe(r)}):new tl({keyType:hr.create(),valueType:t,typeName:Be.ZodRecord,...qe(n)})}}class lu extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.map)return xe(r,{code:ge.invalid_type,expected:we.map,received:r.parsedType}),We;const i=this._def.keyType,o=this._def.valueType,l=[...r.data.entries()].map(([u,d],f)=>({key:i._parse(new $r(r,u,r.path,[f,"key"])),value:o._parse(new $r(r,d,r.path,[f,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of l){const f=await d.key,m=await d.value;if(f.status==="aborted"||m.status==="aborted")return We;(f.status==="dirty"||m.status==="dirty")&&n.dirty(),u.set(f.value,m.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const d of l){const f=d.key,m=d.value;if(f.status==="aborted"||m.status==="aborted")return We;(f.status==="dirty"||m.status==="dirty")&&n.dirty(),u.set(f.value,m.value)}return{status:n.value,value:u}}}}lu.create=(e,t,n)=>new lu({valueType:t,keyType:e,typeName:Be.ZodMap,...qe(n)});class ks extends Xe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.set)return xe(r,{code:ge.invalid_type,expected:we.set,received:r.parsedType}),We;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(xe(r,{code:ge.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(xe(r,{code:ge.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function l(d){const f=new Set;for(const m of d){if(m.status==="aborted")return We;m.status==="dirty"&&n.dirty(),f.add(m.value)}return{status:n.value,value:f}}const u=[...r.data.values()].map((d,f)=>o._parse(new $r(r,d,r.path,f)));return r.common.async?Promise.all(u).then(d=>l(d)):l(u)}min(t,n){return new ks({...this._def,minSize:{value:t,message:Te.toString(n)}})}max(t,n){return new ks({...this._def,maxSize:{value:t,message:Te.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}ks.create=(e,t)=>new ks({valueType:e,minSize:null,maxSize:null,typeName:Be.ZodSet,...qe(t)});class Po extends Xe{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==we.function)return xe(n,{code:ge.invalid_type,expected:we.function,received:n.parsedType}),We;function r(u,d){return iu({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ru(),Ho].filter(f=>!!f),issueData:{code:ge.invalid_arguments,argumentsError:d}})}function i(u,d){return iu({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ru(),Ho].filter(f=>!!f),issueData:{code:ge.invalid_return_type,returnTypeError:d}})}const o={errorMap:n.common.contextualErrorMap},l=n.data;if(this._def.returns instanceof Go){const u=this;return vn(async function(...d){const f=new Vn([]),m=await u._def.args.parseAsync(d,o).catch(x=>{throw f.addIssue(r(d,x)),f}),g=await Reflect.apply(l,this,m);return await u._def.returns._def.type.parseAsync(g,o).catch(x=>{throw f.addIssue(i(g,x)),f})})}else{const u=this;return vn(function(...d){const f=u._def.args.safeParse(d,o);if(!f.success)throw new Vn([r(d,f.error)]);const m=Reflect.apply(l,this,f.data),g=u._def.returns.safeParse(m,o);if(!g.success)throw new Vn([i(m,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Po({...this._def,args:zr.create(t).rest(Ps.create())})}returns(t){return new Po({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new Po({args:t||zr.create([]).rest(Ps.create()),returns:n||Ps.create(),typeName:Be.ZodFunction,...qe(r)})}}class nl extends Xe{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}nl.create=(e,t)=>new nl({getter:e,typeName:Be.ZodLazy,...qe(t)});class rl extends Xe{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return xe(n,{received:n.data,code:ge.invalid_literal,expected:this._def.value}),We}return{status:"valid",value:t.data}}get value(){return this._def.value}}rl.create=(e,t)=>new rl({value:e,typeName:Be.ZodLiteral,...qe(t)});function ow(e,t){return new Hi({values:e,typeName:Be.ZodEnum,...qe(t)})}class Hi extends Xe{constructor(){super(...arguments),Ea.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return xe(n,{expected:rt.joinValues(r),received:n.parsedType,code:ge.invalid_type}),We}if(su(this,Ea)||nw(this,Ea,new Set(this._def.values)),!su(this,Ea).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return xe(n,{received:n.data,code:ge.invalid_enum_value,options:r}),We}return vn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Hi.create(t,{...this._def,...n})}exclude(t,n=this._def){return Hi.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Ea=new WeakMap;Hi.create=ow;class il extends Xe{constructor(){super(...arguments),Ta.set(this,void 0)}_parse(t){const n=rt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==we.string&&r.parsedType!==we.number){const i=rt.objectValues(n);return xe(r,{expected:rt.joinValues(i),received:r.parsedType,code:ge.invalid_type}),We}if(su(this,Ta)||nw(this,Ta,new Set(rt.getValidEnumValues(this._def.values))),!su(this,Ta).has(t.data)){const i=rt.objectValues(n);return xe(r,{received:r.data,code:ge.invalid_enum_value,options:i}),We}return vn(t.data)}get enum(){return this._def.values}}Ta=new WeakMap;il.create=(e,t)=>new il({values:e,typeName:Be.ZodNativeEnum,...qe(t)});class Go extends Xe{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==we.promise&&n.common.async===!1)return xe(n,{code:ge.invalid_type,expected:we.promise,received:n.parsedType}),We;const r=n.parsedType===we.promise?n.data:Promise.resolve(n.data);return vn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Go.create=(e,t)=>new Go({type:e,typeName:Be.ZodPromise,...qe(t)});class vr extends Xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:l=>{xe(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const l=i.transform(r.data,o);if(r.common.async)return Promise.resolve(l).then(async u=>{if(n.value==="aborted")return We;const d=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return d.status==="aborted"?We:d.status==="dirty"||n.value==="dirty"?bo(d.value):d});{if(n.value==="aborted")return We;const u=this._def.schema._parseSync({data:l,path:r.path,parent:r});return u.status==="aborted"?We:u.status==="dirty"||n.value==="dirty"?bo(u.value):u}}if(i.type==="refinement"){const l=u=>{const d=i.refinement(u,o);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?We:(u.status==="dirty"&&n.dirty(),l(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?We:(u.status==="dirty"&&n.dirty(),l(u.value).then(()=>({status:n.value,value:u.value}))))}if(i.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Rs(l))return l;const u=i.transform(l.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>Rs(l)?Promise.resolve(i.transform(l.value,o)).then(u=>({status:n.value,value:u})):l);rt.assertNever(i)}}vr.create=(e,t,n)=>new vr({schema:e,typeName:Be.ZodEffects,effect:t,...qe(n)});vr.createWithPreprocess=(e,t,n)=>new vr({schema:t,effect:{type:"preprocess",transform:e},typeName:Be.ZodEffects,...qe(n)});class Fr extends Xe{_parse(t){return this._getType(t)===we.undefined?vn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Fr.create=(e,t)=>new Fr({innerType:e,typeName:Be.ZodOptional,...qe(t)});class Zi extends Xe{_parse(t){return this._getType(t)===we.null?vn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Zi.create=(e,t)=>new Zi({innerType:e,typeName:Be.ZodNullable,...qe(t)});class sl extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===we.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}sl.create=(e,t)=>new sl({innerType:e,typeName:Be.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...qe(t)});class ol extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ka(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Vn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Vn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ol.create=(e,t)=>new ol({innerType:e,typeName:Be.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...qe(t)});class cu extends Xe{_parse(t){if(this._getType(t)!==we.nan){const r=this._getOrReturnCtx(t);return xe(r,{code:ge.invalid_type,expected:we.nan,received:r.parsedType}),We}return{status:"valid",value:t.data}}}cu.create=e=>new cu({typeName:Be.ZodNaN,...qe(e)});const JD=Symbol("zod_brand");class Qm extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Sl extends Xe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?We:o.status==="dirty"?(n.dirty(),bo(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?We:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new Sl({in:t,out:n,typeName:Be.ZodPipeline})}}class al extends Xe{_parse(t){const n=this._def.innerType._parse(t),r=i=>(Rs(i)&&(i.value=Object.freeze(i.value)),i);return Ka(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}al.create=(e,t)=>new al({innerType:e,typeName:Be.ZodReadonly,...qe(t)});function xy(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function aw(e,t={},n){return e?Zo.create().superRefine((r,i)=>{var o,l;const u=e(r);if(u instanceof Promise)return u.then(d=>{var f,m;if(!d){const g=xy(t,r),b=(m=(f=g.fatal)!==null&&f!==void 0?f:n)!==null&&m!==void 0?m:!0;i.addIssue({code:"custom",...g,fatal:b})}});if(!u){const d=xy(t,r),f=(l=(o=d.fatal)!==null&&o!==void 0?o:n)!==null&&l!==void 0?l:!0;i.addIssue({code:"custom",...d,fatal:f})}}):Zo.create()}const QD={object:Et.lazycreate};var Be;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Be||(Be={}));const e2=(e,t={message:`Input not instance of ${e.name}`})=>aw(n=>n instanceof e,t),lw=hr.create,cw=Wi.create,t2=cu.create,n2=Ui.create,uw=qa.create,r2=Os.create,i2=ou.create,s2=Xa.create,o2=Ja.create,a2=Zo.create,l2=Ps.create,c2=fi.create,u2=au.create,d2=mr.create,f2=Et.create,h2=Et.strictCreate,m2=Qa.create,p2=$u.create,g2=el.create,v2=zr.create,y2=tl.create,x2=lu.create,b2=ks.create,_2=Po.create,w2=nl.create,S2=rl.create,C2=Hi.create,P2=il.create,E2=Go.create,by=vr.create,T2=Fr.create,N2=Zi.create,j2=vr.createWithPreprocess,M2=Sl.create,R2=()=>lw().optional(),O2=()=>cw().optional(),k2=()=>uw().optional(),A2={string:e=>hr.create({...e,coerce:!0}),number:e=>Wi.create({...e,coerce:!0}),boolean:e=>qa.create({...e,coerce:!0}),bigint:e=>Ui.create({...e,coerce:!0}),date:e=>Os.create({...e,coerce:!0})},I2=We;var ut=Object.freeze({__proto__:null,defaultErrorMap:Ho,setErrorMap:jD,getErrorMap:ru,makeIssue:iu,EMPTY_PATH:MD,addIssueToContext:xe,ParseStatus:ln,INVALID:We,DIRTY:bo,OK:vn,isAborted:mh,isDirty:ph,isValid:Rs,isAsync:Ka,get util(){return rt},get objectUtil(){return hh},ZodParsedType:we,getParsedType:ti,ZodType:Xe,datetimeRegex:sw,ZodString:hr,ZodNumber:Wi,ZodBigInt:Ui,ZodBoolean:qa,ZodDate:Os,ZodSymbol:ou,ZodUndefined:Xa,ZodNull:Ja,ZodAny:Zo,ZodUnknown:Ps,ZodNever:fi,ZodVoid:au,ZodArray:mr,ZodObject:Et,ZodUnion:Qa,ZodDiscriminatedUnion:$u,ZodIntersection:el,ZodTuple:zr,ZodRecord:tl,ZodMap:lu,ZodSet:ks,ZodFunction:Po,ZodLazy:nl,ZodLiteral:rl,ZodEnum:Hi,ZodNativeEnum:il,ZodPromise:Go,ZodEffects:vr,ZodTransformer:vr,ZodOptional:Fr,ZodNullable:Zi,ZodDefault:sl,ZodCatch:ol,ZodNaN:cu,BRAND:JD,ZodBranded:Qm,ZodPipeline:Sl,ZodReadonly:al,custom:aw,Schema:Xe,ZodSchema:Xe,late:QD,get ZodFirstPartyTypeKind(){return Be},coerce:A2,any:a2,array:d2,bigint:n2,boolean:uw,date:r2,discriminatedUnion:p2,effect:by,enum:C2,function:_2,instanceof:e2,intersection:g2,lazy:w2,literal:S2,map:x2,nan:t2,nativeEnum:P2,never:c2,null:o2,nullable:N2,number:cw,object:f2,oboolean:k2,onumber:O2,optional:T2,ostring:R2,pipeline:M2,preprocess:j2,promise:E2,record:y2,set:b2,strictObject:h2,string:lw,symbol:i2,transformer:by,tuple:v2,undefined:s2,union:m2,unknown:l2,void:u2,NEVER:I2,ZodIssueCode:ge,quotelessJson:ND,ZodError:Vn});const dw=ut.object({activity_date:ut.union([ut.date(),ut.string()]).transform(e=>e instanceof Date?e:new Date(e)),activity_time:ut.string().regex(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/,"Invalid time format (HH:MM)"),latitude:ut.string().refine(e=>{const t=parseFloat(e);return!isNaN(t)&&t>=-90&&t<=90},"Invalid latitude (-90 to 90)"),longitude:ut.string().refine(e=>{const t=parseFloat(e);return!isNaN(t)&&t>=-180&&t<=180},"Invalid longitude (-180 to 180)")}),D2=ut.object({observation_type:ut.enum(["direct","indirect","loss"]).optional(),total_elephants:ut.number().int().min(0).optional(),male_elephants:ut.number().int().min(0).optional(),female_elephants:ut.number().int().min(0).optional(),unknown_elephants:ut.number().int().min(0).optional(),calves:ut.number().int().min(0).optional(),indirect_sighting_type:ut.enum(["Pugmark","Dung","Broken Branches","Sound","Eyewitness"]).optional(),loss_type:ut.enum(["No loss","crop","livestock","property","fencing","solar panels","FD establishment","Other"]).optional()}).superRefine((e,t)=>{if(e.observation_type&&e.observation_type==="direct"&&e.total_elephants!==void 0){const n=(e.male_elephants||0)+(e.female_elephants||0)+(e.unknown_elephants||0)+(e.calves||0);e.total_elephants!==n&&t.addIssue({code:ut.ZodIssueCode.custom,message:"Sum of elephants must equal total elephants",path:["total_elephants"]})}}),fw=ut.object({compass_bearing:ut.number().min(0).max(360)}),hw=ut.object({photo_url:ut.string().url().optional()});ut.object({...dw.shape,observation_type:ut.enum(["direct","indirect","loss"]),total_elephants:ut.number().int().min(0).optional(),male_elephants:ut.number().int().min(0).optional(),female_elephants:ut.number().int().min(0).optional(),unknown_elephants:ut.number().int().min(0).optional(),calves:ut.number().int().min(0).optional(),indirect_sighting_type:ut.enum(["Pugmark","Dung","Broken Branches","Sound","Eyewitness"]).optional(),loss_type:ut.enum(["No loss","crop","livestock","property","fencing","solar panels","FD establishment","Other"]).optional(),...fw.shape,...hw.shape,user_id:ut.string().uuid()}).refine(e=>{if(e.observation_type==="direct"){if(!e.total_elephants)return!1;const t=(e.male_elephants||0)+(e.female_elephants||0)+(e.unknown_elephants||0)+(e.calves||0);return e.total_elephants===t}return e.observation_type==="indirect"?!!e.indirect_sighting_type:e.observation_type==="loss"?!!e.loss_type:!1},{message:"Invalid data for the selected observation type"});const L2={dateTimeLocation:dw,observationType:D2,compassBearing:fw,photo:hw},pc=["dateTimeLocation","observationType","compassBearing","photo"],mw=p.createContext(void 0);function F2({children:e}){const[t,n]=p.useState(0),[r,i]=p.useState({}),x={currentStep:pc[t],formData:r,setFormData:w=>{i(v=>{const _={...v};return Object.entries(w).forEach(([C,P])=>{P===void 0?delete _[C]:_[C]=P}),_})},goToNextStep:()=>{t<pc.length-1&&n(t+1)},goToPreviousStep:()=>{t>0&&n(t-1)},goToStep:w=>{const v=pc.indexOf(w);v!==-1&&n(v)},isStepValid:w=>{try{console.log("Validating step:",w),console.log("Current form data:",r);const v=L2[w];if(!v)return console.error("No schema found for step:",w),!1;if(w==="dateTimeLocation"){if(!["activity_date","activity_time","latitude","longitude"].every(T=>{const I=r[T],R=I!==void 0&&I!==""&&I!==null;return console.log(`Field ${T}:`,I,"isValid:",R),R}))return console.log("Missing required fields"),!1;const E={...r,activity_date:r.activity_date instanceof Date?r.activity_date:new Date(r.activity_date)},M=v.safeParse(E);return console.log("Schema validation result:",M),M.success}if(w==="photo")return!0;const _=v.safeParse(r);return console.log("Schema validation result:",_),_.success}catch(v){return console.error("Validation error:",v),!1}},isLastStep:()=>t===pc.length-1,resetForm:()=>{n(0),i({})}};return a.jsx(mw.Provider,{value:x,children:e})}function Cl(){const e=p.useContext(mw);if(e===void 0)throw new Error("useActivityForm must be used within an ActivityFormProvider");return e}const dt=p.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:Pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));dt.displayName="Input";var B2="Label",pw=p.forwardRef((e,t)=>a.jsx(Le.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));pw.displayName=B2;var gw=pw;const V2=Bh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),kt=p.forwardRef(({className:e,...t},n)=>a.jsx(gw,{ref:n,className:Pe(V2(),e),...t}));kt.displayName=gw.displayName;function vw(){const{formData:e,setFormData:t}=Cl(),n=async()=>{if(!navigator.geolocation){ye.error("Geolocation is not supported by your browser");return}try{const r=await new Promise((l,u)=>{navigator.geolocation.getCurrentPosition(l,u)}),i=new Date,o=i.toTimeString().split(" ")[0].substring(0,5);t({...e,activity_date:i,activity_time:o,latitude:r.coords.latitude.toFixed(6),longitude:r.coords.longitude.toFixed(6)}),ye.success("Location, date & time fetched successfully!")}catch(r){console.error("Error fetching location:",r),ye.error("Failed to fetch location. Please enter manually.")}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-end",children:a.jsxs(Ae,{type:"button",onClick:n,className:"bg-green-600 hover:bg-green-700 text-white",children:[a.jsx(So,{className:"w-4 h-4 mr-2"}),"Get Current Location & Time"]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(kt,{htmlFor:"activity_date",children:"Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Yh,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),a.jsx(dt,{type:"date",id:"activity_date",value:e.activity_date?new Date(e.activity_date).toISOString().split("T")[0]:"",onChange:r=>{const i=r.target.value?new Date(r.target.value+"T00:00:00"):null;t({...e,activity_date:i})},className:"pl-8",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(kt,{htmlFor:"activity_time",children:"Time"}),a.jsxs("div",{className:"relative",children:[a.jsx(GN,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),a.jsx(dt,{type:"time",id:"activity_time",value:e.activity_time||"",onChange:r=>{const i=r.target.value;t({...e,activity_time:i})},className:"pl-8",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(kt,{htmlFor:"latitude",children:"Latitude"}),a.jsx(dt,{type:"text",id:"latitude",placeholder:"e.g., 23.4536",value:e.latitude||"",onChange:r=>{const i=r.target.value.trim(),o=parseFloat(i);(i===""||!isNaN(o)&&o>=-90&&o<=90)&&t({...e,latitude:i})},required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(kt,{htmlFor:"longitude",children:"Longitude"}),a.jsx(dt,{type:"text",id:"longitude",placeholder:"e.g., 81.4763",value:e.longitude||"",onChange:r=>{const i=r.target.value.trim(),o=parseFloat(i);(i===""||!isNaN(o)&&o>=-180&&o<=180)&&t({...e,longitude:i})},required:!0})]})]})]})}var $2=p.createContext(void 0);function ra(e){const t=p.useContext($2);return e||t||"ltr"}var sf="rovingFocusGroup.onEntryFocus",z2={bubbles:!1,cancelable:!0},Pl="RovingFocusGroup",[vh,yw,W2]=zh(Pl),[U2,zu]=Vt(Pl,[W2]),[H2,Z2]=U2(Pl),xw=p.forwardRef((e,t)=>a.jsx(vh.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(vh.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(G2,{...e,ref:t})})}));xw.displayName=Pl;var G2=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...g}=e,b=p.useRef(null),x=Me(t,b),w=ra(o),[v,_]=er({prop:l,defaultProp:u??null,onChange:d,caller:Pl}),[C,P]=p.useState(!1),E=Pt(f),M=yw(n),T=p.useRef(!1),[I,R]=p.useState(0);return p.useEffect(()=>{const k=b.current;if(k)return k.addEventListener(sf,E),()=>k.removeEventListener(sf,E)},[E]),a.jsx(H2,{scope:n,orientation:r,dir:w,loop:i,currentTabStopId:v,onItemFocus:p.useCallback(k=>_(k),[_]),onItemShiftTab:p.useCallback(()=>P(!0),[]),onFocusableItemAdd:p.useCallback(()=>R(k=>k+1),[]),onFocusableItemRemove:p.useCallback(()=>R(k=>k-1),[]),children:a.jsx(Le.div,{tabIndex:C||I===0?-1:0,"data-orientation":r,...g,ref:x,style:{outline:"none",...e.style},onMouseDown:fe(e.onMouseDown,()=>{T.current=!0}),onFocus:fe(e.onFocus,k=>{const U=!T.current;if(k.target===k.currentTarget&&U&&!C){const X=new CustomEvent(sf,z2);if(k.currentTarget.dispatchEvent(X),!X.defaultPrevented){const re=M().filter(K=>K.focusable),$=re.find(K=>K.active),ne=re.find(K=>K.id===v),H=[$,ne,...re].filter(Boolean).map(K=>K.ref.current);ww(H,m)}}T.current=!1}),onBlur:fe(e.onBlur,()=>P(!1))})})}),bw="RovingFocusGroupItem",_w=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:l,...u}=e,d=Xn(),f=o||d,m=Z2(bw,n),g=m.currentTabStopId===f,b=yw(n),{onFocusableItemAdd:x,onFocusableItemRemove:w,currentTabStopId:v}=m;return p.useEffect(()=>{if(r)return x(),()=>w()},[r,x,w]),a.jsx(vh.ItemSlot,{scope:n,id:f,focusable:r,active:i,children:a.jsx(Le.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:fe(e.onMouseDown,_=>{r?m.onItemFocus(f):_.preventDefault()}),onFocus:fe(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:fe(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){m.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const C=q2(_,m.orientation,m.dir);if(C!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let E=b().filter(M=>M.focusable).map(M=>M.ref.current);if(C==="last")E.reverse();else if(C==="prev"||C==="next"){C==="prev"&&E.reverse();const M=E.indexOf(_.currentTarget);E=m.loop?X2(E,M+1):E.slice(M+1)}setTimeout(()=>ww(E))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:v!=null}):l})})});_w.displayName=bw;var Y2={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function K2(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function q2(e,t,n){const r=K2(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Y2[r]}function ww(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function X2(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Sw=xw,Cw=_w;function Wu(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ep="Radio",[J2,Pw]=Vt(ep),[Q2,eL]=J2(ep),Ew=p.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:o,disabled:l,value:u="on",onCheck:d,form:f,...m}=e,[g,b]=p.useState(null),x=Me(t,_=>b(_)),w=p.useRef(!1),v=g?f||!!g.closest("form"):!0;return a.jsxs(Q2,{scope:n,checked:i,disabled:l,children:[a.jsx(Le.button,{type:"button",role:"radio","aria-checked":i,"data-state":Mw(i),"data-disabled":l?"":void 0,disabled:l,value:u,...m,ref:x,onClick:fe(e.onClick,_=>{i||d==null||d(),v&&(w.current=_.isPropagationStopped(),w.current||_.stopPropagation())})}),v&&a.jsx(jw,{control:g,bubbles:!w.current,name:r,value:u,checked:i,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});Ew.displayName=ep;var Tw="RadioIndicator",Nw=p.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,o=eL(Tw,n);return a.jsx(yn,{present:r||o.checked,children:a.jsx(Le.span,{"data-state":Mw(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t})})});Nw.displayName=Tw;var tL="RadioBubbleInput",jw=p.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...i},o)=>{const l=p.useRef(null),u=Me(l,o),d=Wu(n),f=Qo(t);return p.useEffect(()=>{const m=l.current;if(!m)return;const g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&x){const w=new Event("click",{bubbles:r});x.call(m,n),m.dispatchEvent(w)}},[d,n,r]),a.jsx(Le.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});jw.displayName=tL;function Mw(e){return e?"checked":"unchecked"}var nL=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Uu="RadioGroup",[rL,VU]=Vt(Uu,[zu,Pw]),Rw=zu(),Ow=Pw(),[iL,sL]=rL(Uu),kw=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:o,required:l=!1,disabled:u=!1,orientation:d,dir:f,loop:m=!0,onValueChange:g,...b}=e,x=Rw(n),w=ra(f),[v,_]=er({prop:o,defaultProp:i??null,onChange:g,caller:Uu});return a.jsx(iL,{scope:n,name:r,required:l,disabled:u,value:v,onValueChange:_,children:a.jsx(Sw,{asChild:!0,...x,orientation:d,dir:w,loop:m,children:a.jsx(Le.div,{role:"radiogroup","aria-required":l,"aria-orientation":d,"data-disabled":u?"":void 0,dir:w,...b,ref:t})})})});kw.displayName=Uu;var Aw="RadioGroupItem",Iw=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,o=sL(Aw,n),l=o.disabled||r,u=Rw(n),d=Ow(n),f=p.useRef(null),m=Me(t,f),g=o.value===i.value,b=p.useRef(!1);return p.useEffect(()=>{const x=v=>{nL.includes(v.key)&&(b.current=!0)},w=()=>b.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",w)}},[]),a.jsx(Cw,{asChild:!0,...u,focusable:!l,active:g,children:a.jsx(Ew,{disabled:l,required:o.required,checked:g,...d,...i,name:o.name,ref:m,onCheck:()=>o.onValueChange(i.value),onKeyDown:fe(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:fe(i.onFocus,()=>{var x;b.current&&((x=f.current)==null||x.click())})})})});Iw.displayName=Aw;var oL="RadioGroupIndicator",Dw=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=Ow(n);return a.jsx(Nw,{...i,...r,ref:t})});Dw.displayName=oL;var Lw=kw,Fw=Iw,aL=Dw;const Bw=p.forwardRef(({className:e,...t},n)=>a.jsx(Lw,{className:Pe("grid gap-2",e),...t,ref:n}));Bw.displayName=Lw.displayName;const Ic=p.forwardRef(({className:e,...t},n)=>a.jsx(Fw,{ref:n,className:Pe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(aL,{className:"flex items-center justify-center",children:a.jsx(Sb,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Ic.displayName=Fw.displayName;var lL=kT();const cL=$h(lL);function As(e){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(e)}function uL(e,t){if(As(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(As(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vw(e){var t=uL(e,"string");return As(t)=="symbol"?t:t+""}function Na(e,t,n){return(t=Vw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_y(Object(n),!0).forEach(function(r){Na(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_y(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dL(e){if(Array.isArray(e))return e}function fL(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,l,u=[],d=!0,f=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function yh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function $w(e,t){if(e){if(typeof e=="string")return yh(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yh(e,t):void 0}}function hL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oi(e,t){return dL(e)||fL(e,t)||$w(e,t)||hL()}function pi(e,t){if(e==null)return{};var n,r,i=AT(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var mL=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function pL(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,i=r===void 0?!1:r,o=e.defaultValue,l=o===void 0?null:o,u=e.inputValue,d=e.menuIsOpen,f=e.onChange,m=e.onInputChange,g=e.onMenuClose,b=e.onMenuOpen,x=e.value,w=pi(e,mL),v=p.useState(u!==void 0?u:n),_=oi(v,2),C=_[0],P=_[1],E=p.useState(d!==void 0?d:i),M=oi(E,2),T=M[0],I=M[1],R=p.useState(x!==void 0?x:l),k=oi(R,2),U=k[0],X=k[1],re=p.useCallback(function(O,W){typeof f=="function"&&f(O,W),X(O)},[f]),$=p.useCallback(function(O,W){var V;typeof m=="function"&&(V=m(O,W)),P(V!==void 0?V:O)},[m]),ne=p.useCallback(function(){typeof b=="function"&&b(),I(!0)},[b]),J=p.useCallback(function(){typeof g=="function"&&g(),I(!1)},[g]),H=u!==void 0?u:C,K=d!==void 0?d:T,Y=x!==void 0?x:U;return Ie(Ie({},w),{},{inputValue:H,menuIsOpen:K,onChange:re,onInputChange:$,onMenuClose:J,onMenuOpen:ne,value:Y})}function gL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vw(r.key),r)}}function vL(e,t,n){return t&&wy(e.prototype,t),n&&wy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IT(e,t)}function uu(e){return uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uu(e)}function zw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zw=function(){return!!e})()}function xL(e,t){if(t&&(As(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DT(e)}function bL(e){var t=zw();return function(){var n,r=uu(e);if(t){var i=uu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xL(this,n)}}function _L(e){if(Array.isArray(e))return yh(e)}function wL(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tp(e){return _L(e)||wL(e)||$w(e)||SL()}function CL(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function PL(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var EL=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(PL(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=CL(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),tn="-ms-",du="-moz-",lt="-webkit-",Ww="comm",np="rule",rp="decl",TL="@import",Uw="@keyframes",NL="@layer",jL=Math.abs,Hu=String.fromCharCode,ML=Object.assign;function RL(e,t){return Xt(e,0)^45?(((t<<2^Xt(e,0))<<2^Xt(e,1))<<2^Xt(e,2))<<2^Xt(e,3):0}function Hw(e){return e.trim()}function OL(e,t){return(e=t.exec(e))?e[0]:e}function ct(e,t,n){return e.replace(t,n)}function xh(e,t){return e.indexOf(t)}function Xt(e,t){return e.charCodeAt(t)|0}function ll(e,t,n){return e.slice(t,n)}function Mr(e){return e.length}function ip(e){return e.length}function gc(e,t){return t.push(e),e}function kL(e,t){return e.map(t).join("")}var Zu=1,Yo=1,Zw=0,Rn=0,Bt=0,ia="";function Gu(e,t,n,r,i,o,l){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Zu,column:Yo,length:l,return:""}}function _a(e,t){return ML(Gu("",null,null,"",null,null,0),e,{length:-e.length},t)}function AL(){return Bt}function IL(){return Bt=Rn>0?Xt(ia,--Rn):0,Yo--,Bt===10&&(Yo=1,Zu--),Bt}function $n(){return Bt=Rn<Zw?Xt(ia,Rn++):0,Yo++,Bt===10&&(Yo=1,Zu++),Bt}function Br(){return Xt(ia,Rn)}function Dc(){return Rn}function El(e,t){return ll(ia,e,t)}function cl(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Gw(e){return Zu=Yo=1,Zw=Mr(ia=e),Rn=0,[]}function Yw(e){return ia="",e}function Lc(e){return Hw(El(Rn-1,bh(e===91?e+2:e===40?e+1:e)))}function DL(e){for(;(Bt=Br())&&Bt<33;)$n();return cl(e)>2||cl(Bt)>3?"":" "}function LL(e,t){for(;--t&&$n()&&!(Bt<48||Bt>102||Bt>57&&Bt<65||Bt>70&&Bt<97););return El(e,Dc()+(t<6&&Br()==32&&$n()==32))}function bh(e){for(;$n();)switch(Bt){case e:return Rn;case 34:case 39:e!==34&&e!==39&&bh(Bt);break;case 40:e===41&&bh(e);break;case 92:$n();break}return Rn}function FL(e,t){for(;$n()&&e+Bt!==57;)if(e+Bt===84&&Br()===47)break;return"/*"+El(t,Rn-1)+"*"+Hu(e===47?e:$n())}function BL(e){for(;!cl(Br());)$n();return El(e,Rn)}function VL(e){return Yw(Fc("",null,null,null,[""],e=Gw(e),0,[0],e))}function Fc(e,t,n,r,i,o,l,u,d){for(var f=0,m=0,g=l,b=0,x=0,w=0,v=1,_=1,C=1,P=0,E="",M=i,T=o,I=r,R=E;_;)switch(w=P,P=$n()){case 40:if(w!=108&&Xt(R,g-1)==58){xh(R+=ct(Lc(P),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:R+=Lc(P);break;case 9:case 10:case 13:case 32:R+=DL(w);break;case 92:R+=LL(Dc()-1,7);continue;case 47:switch(Br()){case 42:case 47:gc($L(FL($n(),Dc()),t,n),d);break;default:R+="/"}break;case 123*v:u[f++]=Mr(R)*C;case 125*v:case 59:case 0:switch(P){case 0:case 125:_=0;case 59+m:C==-1&&(R=ct(R,/\f/g,"")),x>0&&Mr(R)-g&&gc(x>32?Cy(R+";",r,n,g-1):Cy(ct(R," ","")+";",r,n,g-2),d);break;case 59:R+=";";default:if(gc(I=Sy(R,t,n,f,m,i,u,E,M=[],T=[],g),o),P===123)if(m===0)Fc(R,t,I,I,M,o,g,u,T);else switch(b===99&&Xt(R,3)===110?100:b){case 100:case 108:case 109:case 115:Fc(e,I,I,r&&gc(Sy(e,I,I,0,0,i,u,E,i,M=[],g),T),i,T,g,u,r?M:T);break;default:Fc(R,I,I,I,[""],T,0,u,T)}}f=m=x=0,v=C=1,E=R="",g=l;break;case 58:g=1+Mr(R),x=w;default:if(v<1){if(P==123)--v;else if(P==125&&v++==0&&IL()==125)continue}switch(R+=Hu(P),P*v){case 38:C=m>0?1:(R+="\f",-1);break;case 44:u[f++]=(Mr(R)-1)*C,C=1;break;case 64:Br()===45&&(R+=Lc($n())),b=Br(),m=g=Mr(E=R+=BL(Dc())),P++;break;case 45:w===45&&Mr(R)==2&&(v=0)}}return o}function Sy(e,t,n,r,i,o,l,u,d,f,m){for(var g=i-1,b=i===0?o:[""],x=ip(b),w=0,v=0,_=0;w<r;++w)for(var C=0,P=ll(e,g+1,g=jL(v=l[w])),E=e;C<x;++C)(E=Hw(v>0?b[C]+" "+P:ct(P,/&\f/g,b[C])))&&(d[_++]=E);return Gu(e,t,n,i===0?np:u,d,f,m)}function $L(e,t,n){return Gu(e,t,n,Ww,Hu(AL()),ll(e,2,-2),0)}function Cy(e,t,n,r){return Gu(e,t,n,rp,ll(e,0,r),ll(e,r+1,-1),r)}function Eo(e,t){for(var n="",r=ip(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function zL(e,t,n,r){switch(e.type){case NL:if(e.children.length)break;case TL:case rp:return e.return=e.return||e.value;case Ww:return"";case Uw:return e.return=e.value+"{"+Eo(e.children,r)+"}";case np:e.value=e.props.join(",")}return Mr(n=Eo(e.children,r))?e.return=e.value+"{"+n+"}":""}function WL(e){var t=ip(e);return function(n,r,i,o){for(var l="",u=0;u<t;u++)l+=e[u](n,r,i,o)||"";return l}}function UL(e){return function(t){t.root||(t=t.return)&&e(t)}}function HL(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var ZL=function(t,n,r){for(var i=0,o=0;i=o,o=Br(),i===38&&o===12&&(n[r]=1),!cl(o);)$n();return El(t,Rn)},GL=function(t,n){var r=-1,i=44;do switch(cl(i)){case 0:i===38&&Br()===12&&(n[r]=1),t[r]+=ZL(Rn-1,n,r);break;case 2:t[r]+=Lc(i);break;case 4:if(i===44){t[++r]=Br()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Hu(i)}while(i=$n());return t},YL=function(t,n){return Yw(GL(Gw(t),n))},Py=new WeakMap,KL=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Py.get(r))&&!i){Py.set(t,!0);for(var o=[],l=YL(n,o),u=r.props,d=0,f=0;d<l.length;d++)for(var m=0;m<u.length;m++,f++)t.props[f]=o[d]?l[d].replace(/&\f/g,u[m]):u[m]+" "+l[d]}}},qL=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function Kw(e,t){switch(RL(e,t)){case 5103:return lt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return lt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return lt+e+du+e+tn+e+e;case 6828:case 4268:return lt+e+tn+e+e;case 6165:return lt+e+tn+"flex-"+e+e;case 5187:return lt+e+ct(e,/(\w+).+(:[^]+)/,lt+"box-$1$2"+tn+"flex-$1$2")+e;case 5443:return lt+e+tn+"flex-item-"+ct(e,/flex-|-self/,"")+e;case 4675:return lt+e+tn+"flex-line-pack"+ct(e,/align-content|flex-|-self/,"")+e;case 5548:return lt+e+tn+ct(e,"shrink","negative")+e;case 5292:return lt+e+tn+ct(e,"basis","preferred-size")+e;case 6060:return lt+"box-"+ct(e,"-grow","")+lt+e+tn+ct(e,"grow","positive")+e;case 4554:return lt+ct(e,/([^-])(transform)/g,"$1"+lt+"$2")+e;case 6187:return ct(ct(ct(e,/(zoom-|grab)/,lt+"$1"),/(image-set)/,lt+"$1"),e,"")+e;case 5495:case 3959:return ct(e,/(image-set\([^]*)/,lt+"$1$`$1");case 4968:return ct(ct(e,/(.+:)(flex-)?(.*)/,lt+"box-pack:$3"+tn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+lt+e+e;case 4095:case 3583:case 4068:case 2532:return ct(e,/(.+)-inline(.+)/,lt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mr(e)-1-t>6)switch(Xt(e,t+1)){case 109:if(Xt(e,t+4)!==45)break;case 102:return ct(e,/(.+:)(.+)-([^]+)/,"$1"+lt+"$2-$3$1"+du+(Xt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~xh(e,"stretch")?Kw(ct(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Xt(e,t+1)!==115)break;case 6444:switch(Xt(e,Mr(e)-3-(~xh(e,"!important")&&10))){case 107:return ct(e,":",":"+lt)+e;case 101:return ct(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+lt+(Xt(e,14)===45?"inline-":"")+"box$3$1"+lt+"$2$3$1"+tn+"$2box$3")+e}break;case 5936:switch(Xt(e,t+11)){case 114:return lt+e+tn+ct(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return lt+e+tn+ct(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return lt+e+tn+ct(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return lt+e+tn+e+e}return e}var XL=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case rp:t.return=Kw(t.value,t.length);break;case Uw:return Eo([_a(t,{value:ct(t.value,"@","@"+lt)})],i);case np:if(t.length)return kL(t.props,function(o){switch(OL(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Eo([_a(t,{props:[ct(o,/:(read-\w+)/,":"+du+"$1")]})],i);case"::placeholder":return Eo([_a(t,{props:[ct(o,/:(plac\w+)/,":"+lt+"input-$1")]}),_a(t,{props:[ct(o,/:(plac\w+)/,":"+du+"$1")]}),_a(t,{props:[ct(o,/:(plac\w+)/,tn+"input-$1")]})],i)}return""})}},JL=[XL],QL=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var _=v.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=t.stylisPlugins||JL,o={},l,u=[];l=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var _=v.getAttribute("data-emotion").split(" "),C=1;C<_.length;C++)o[_[C]]=!0;u.push(v)});var d,f=[KL,qL];{var m,g=[zL,UL(function(v){m.insert(v)})],b=WL(f.concat(i,g)),x=function(_){return Eo(VL(_),b)};d=function(_,C,P,E){m=P,x(_?_+"{"+C.styles+"}":C.styles),E&&(w.inserted[C.name]=!0)}}var w={key:n,sheet:new EL({key:n,container:l,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:d};return w.sheet.hydrate(u),w},of={exports:{}},ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function eF(){if(Ey)return ft;Ey=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,l=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,m=e?Symbol.for("react.forward_ref"):60112,g=e?Symbol.for("react.suspense"):60113,b=e?Symbol.for("react.suspense_list"):60120,x=e?Symbol.for("react.memo"):60115,w=e?Symbol.for("react.lazy"):60116,v=e?Symbol.for("react.block"):60121,_=e?Symbol.for("react.fundamental"):60117,C=e?Symbol.for("react.responder"):60118,P=e?Symbol.for("react.scope"):60119;function E(T){if(typeof T=="object"&&T!==null){var I=T.$$typeof;switch(I){case t:switch(T=T.type,T){case d:case f:case r:case o:case i:case g:return T;default:switch(T=T&&T.$$typeof,T){case u:case m:case w:case x:case l:return T;default:return I}}case n:return I}}}function M(T){return E(T)===f}return ft.AsyncMode=d,ft.ConcurrentMode=f,ft.ContextConsumer=u,ft.ContextProvider=l,ft.Element=t,ft.ForwardRef=m,ft.Fragment=r,ft.Lazy=w,ft.Memo=x,ft.Portal=n,ft.Profiler=o,ft.StrictMode=i,ft.Suspense=g,ft.isAsyncMode=function(T){return M(T)||E(T)===d},ft.isConcurrentMode=M,ft.isContextConsumer=function(T){return E(T)===u},ft.isContextProvider=function(T){return E(T)===l},ft.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},ft.isForwardRef=function(T){return E(T)===m},ft.isFragment=function(T){return E(T)===r},ft.isLazy=function(T){return E(T)===w},ft.isMemo=function(T){return E(T)===x},ft.isPortal=function(T){return E(T)===n},ft.isProfiler=function(T){return E(T)===o},ft.isStrictMode=function(T){return E(T)===i},ft.isSuspense=function(T){return E(T)===g},ft.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===r||T===f||T===o||T===i||T===g||T===b||typeof T=="object"&&T!==null&&(T.$$typeof===w||T.$$typeof===x||T.$$typeof===l||T.$$typeof===u||T.$$typeof===m||T.$$typeof===_||T.$$typeof===C||T.$$typeof===P||T.$$typeof===v)},ft.typeOf=E,ft}var Ty;function tF(){return Ty||(Ty=1,of.exports=eF()),of.exports}var af,Ny;function nF(){if(Ny)return af;Ny=1;var e=tF(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=r,o[e.Memo]=i;function l(w){return e.isMemo(w)?i:o[w.$$typeof]||t}var u=Object.defineProperty,d=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,b=Object.prototype;function x(w,v,_){if(typeof v!="string"){if(b){var C=g(v);C&&C!==b&&x(w,C,_)}var P=d(v);f&&(P=P.concat(f(v)));for(var E=l(w),M=l(v),T=0;T<P.length;++T){var I=P[T];if(!n[I]&&!(_&&_[I])&&!(M&&M[I])&&!(E&&E[I])){var R=m(v,I);try{u(w,I,R)}catch{}}}}return w}return af=x,af}nF();var rF=!0;function iF(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var qw=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||rF===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},sF=function(t,n,r){qw(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function oF(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var aF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},lF=/[A-Z]|^ms/g,cF=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Xw=function(t){return t.charCodeAt(1)===45},jy=function(t){return t!=null&&typeof t!="boolean"},lf=HL(function(e){return Xw(e)?e:e.replace(lF,"-$&").toLowerCase()}),My=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(cF,function(r,i,o){return Rr={name:i,styles:o,next:Rr},i})}return aF[t]!==1&&!Xw(t)&&typeof n=="number"&&n!==0?n+"px":n};function ul(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Rr={name:i.name,styles:i.styles,next:Rr},i.name;var o=n;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)Rr={name:l.name,styles:l.styles,next:Rr},l=l.next;var u=o.styles+";";return u}return uF(e,t,n)}case"function":{if(e!==void 0){var d=Rr,f=n(e);return Rr=d,ul(e,t,f)}break}}var m=n;return m}function uF(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ul(e,t,n[i])+";";else for(var o in n){var l=n[o];if(typeof l!="object"){var u=l;jy(u)&&(r+=lf(o)+":"+My(o,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&t==null)for(var d=0;d<l.length;d++)jy(l[d])&&(r+=lf(o)+":"+My(o,l[d])+";");else{var f=ul(e,t,l);switch(o){case"animation":case"animationName":{r+=lf(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var Ry=/label:\s*([^\s;{]+)\s*(;|$)/g,Rr;function Jw(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Rr=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,i+=ul(n,t,o);else{var l=o;i+=l[0]}for(var u=1;u<e.length;u++)if(i+=ul(n,t,e[u]),r){var d=o;i+=d[u]}Ry.lastIndex=0;for(var f="",m;(m=Ry.exec(i))!==null;)f+="-"+m[1];var g=oF(i)+f;return{name:g,styles:i,next:Rr}}var dF=function(t){return t()},fF=Wc.useInsertionEffect?Wc.useInsertionEffect:!1,hF=fF||dF,Qw=p.createContext(typeof HTMLElement<"u"?QL({key:"css"}):null);Qw.Provider;var mF=function(t){return p.forwardRef(function(n,r){var i=p.useContext(Qw);return t(n,i,r)})},pF=p.createContext({}),sp={}.hasOwnProperty,_h="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",gF=function(t,n){var r={};for(var i in n)sp.call(n,i)&&(r[i]=n[i]);return r[_h]=t,r},vF=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return qw(n,r,i),hF(function(){return sF(n,r,i)}),null},yF=mF(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[_h],o=[r],l="";typeof e.className=="string"?l=iF(t.registered,o,e.className):e.className!=null&&(l=e.className+" ");var u=Jw(o,void 0,p.useContext(pF));l+=t.key+"-"+u.name;var d={};for(var f in e)sp.call(e,f)&&f!=="css"&&f!==_h&&(d[f]=e[f]);return d.className=l,n&&(d.ref=n),p.createElement(p.Fragment,null,p.createElement(vF,{cache:t,serialized:u,isStringTag:typeof i=="string"}),p.createElement(i,d))}),xF=yF,ke=function(t,n){var r=arguments;if(n==null||!sp.call(n,"css"))return p.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=xF,o[1]=gF(t,n);for(var l=2;l<i;l++)o[l]=r[l];return p.createElement.apply(null,o)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(ke||(ke={}));function op(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Jw(t)}function bF(){var e=op.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function _F(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var wh=p.useLayoutEffect,wF=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],fu=function(){};function SF(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function CF(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(t&&e)for(var l in t)t.hasOwnProperty(l)&&t[l]&&o.push("".concat(SF(e,l)));return o.filter(function(u){return u}).map(function(u){return String(u).trim()}).join(" ")}var Oy=function(t){return kF(t)?t.filter(Boolean):As(t)==="object"&&t!==null?[t]:[]},eS=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=pi(t,wF);return Ie({},n)},At=function(t,n,r){var i=t.cx,o=t.getStyles,l=t.getClassNames,u=t.className;return{css:o(n,t),className:i(r??{},l(n,t),u)}};function Yu(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function PF(e){return Yu(e)?window.innerHeight:e.clientHeight}function tS(e){return Yu(e)?window.pageYOffset:e.scrollTop}function hu(e,t){if(Yu(e)){window.scrollTo(0,t);return}e.scrollTop=t}function EF(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}function TF(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function vc(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:fu,i=tS(e),o=t-i,l=10,u=0;function d(){u+=l;var f=TF(u,i,o,n);hu(e,f),u<n?window.requestAnimationFrame(d):r(e)}d()}function ky(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?hu(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&hu(e,Math.max(t.offsetTop-i,0))}function NF(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function Ay(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function jF(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var nS=!1,MF={get passive(){return nS=!0}},yc=typeof window<"u"?window:{};yc.addEventListener&&yc.removeEventListener&&(yc.addEventListener("p",fu,MF),yc.removeEventListener("p",fu,!1));var RF=nS;function OF(e){return e!=null}function kF(e){return Array.isArray(e)}function xc(e,t,n){return e?t:n}var AF=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=Object.entries(t).filter(function(l){var u=oi(l,1),d=u[0];return!r.includes(d)});return o.reduce(function(l,u){var d=oi(u,2),f=d[0],m=d[1];return l[f]=m,l},{})},IF=["children","innerProps"],DF=["children","innerProps"];function LF(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,l=e.isFixedPosition,u=e.controlHeight,d=EF(n),f={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return f;var m=d.getBoundingClientRect(),g=m.height,b=n.getBoundingClientRect(),x=b.bottom,w=b.height,v=b.top,_=n.offsetParent.getBoundingClientRect(),C=_.top,P=l?window.innerHeight:PF(d),E=tS(d),M=parseInt(getComputedStyle(n).marginBottom,10),T=parseInt(getComputedStyle(n).marginTop,10),I=C-T,R=P-v,k=I+E,U=g-E-v,X=x-P+E+M,re=E+v-T,$=160;switch(i){case"auto":case"bottom":if(R>=w)return{placement:"bottom",maxHeight:t};if(U>=w&&!l)return o&&vc(d,X,$),{placement:"bottom",maxHeight:t};if(!l&&U>=r||l&&R>=r){o&&vc(d,X,$);var ne=l?R-M:U-M;return{placement:"bottom",maxHeight:ne}}if(i==="auto"||l){var J=t,H=l?I:k;return H>=r&&(J=Math.min(H-M-u,t)),{placement:"top",maxHeight:J}}if(i==="bottom")return o&&hu(d,X),{placement:"bottom",maxHeight:t};break;case"top":if(I>=w)return{placement:"top",maxHeight:t};if(k>=w&&!l)return o&&vc(d,re,$),{placement:"top",maxHeight:t};if(!l&&k>=r||l&&I>=r){var K=t;return(!l&&k>=r||l&&I>=r)&&(K=l?I-T:k-T),o&&vc(d,re,$),{placement:"top",maxHeight:K}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return f}function FF(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var rS=function(t){return t==="auto"?"bottom":t},BF=function(t,n){var r,i=t.placement,o=t.theme,l=o.borderRadius,u=o.spacing,d=o.colors;return Ie((r={label:"menu"},Na(r,FF(i),"100%"),Na(r,"position","absolute"),Na(r,"width","100%"),Na(r,"zIndex",1),r),n?{}:{backgroundColor:d.neutral0,borderRadius:l,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:u.menuGutter,marginTop:u.menuGutter})},iS=p.createContext(null),VF=function(t){var n=t.children,r=t.minMenuHeight,i=t.maxMenuHeight,o=t.menuPlacement,l=t.menuPosition,u=t.menuShouldScrollIntoView,d=t.theme,f=p.useContext(iS)||{},m=f.setPortalPlacement,g=p.useRef(null),b=p.useState(i),x=oi(b,2),w=x[0],v=x[1],_=p.useState(null),C=oi(_,2),P=C[0],E=C[1],M=d.spacing.controlHeight;return wh(function(){var T=g.current;if(T){var I=l==="fixed",R=u&&!I,k=LF({maxHeight:i,menuEl:T,minHeight:r,placement:o,shouldScroll:R,isFixedPosition:I,controlHeight:M});v(k.maxHeight),E(k.placement),m==null||m(k.placement)}},[i,o,l,u,r,m,M]),n({ref:g,placerProps:Ie(Ie({},t),{},{placement:P||rS(o),maxHeight:w})})},$F=function(t){var n=t.children,r=t.innerRef,i=t.innerProps;return ke("div",$e({},At(t,"menu",{menu:!0}),{ref:r},i),n)},zF=$F,WF=function(t,n){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return Ie({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},UF=function(t){var n=t.children,r=t.innerProps,i=t.innerRef,o=t.isMulti;return ke("div",$e({},At(t,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:i},r),n)},sS=function(t,n){var r=t.theme,i=r.spacing.baseUnit,o=r.colors;return Ie({textAlign:"center"},n?{}:{color:o.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},HF=sS,ZF=sS,GF=function(t){var n=t.children,r=n===void 0?"No options":n,i=t.innerProps,o=pi(t,IF);return ke("div",$e({},At(Ie(Ie({},o),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},YF=function(t){var n=t.children,r=n===void 0?"Loading...":n,i=t.innerProps,o=pi(t,DF);return ke("div",$e({},At(Ie(Ie({},o),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},KF=function(t){var n=t.rect,r=t.offset,i=t.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},qF=function(t){var n=t.appendTo,r=t.children,i=t.controlElement,o=t.innerProps,l=t.menuPlacement,u=t.menuPosition,d=p.useRef(null),f=p.useRef(null),m=p.useState(rS(l)),g=oi(m,2),b=g[0],x=g[1],w=p.useMemo(function(){return{setPortalPlacement:x}},[]),v=p.useState(null),_=oi(v,2),C=_[0],P=_[1],E=p.useCallback(function(){if(i){var R=NF(i),k=u==="fixed"?0:window.pageYOffset,U=R[b]+k;(U!==(C==null?void 0:C.offset)||R.left!==(C==null?void 0:C.rect.left)||R.width!==(C==null?void 0:C.rect.width))&&P({offset:U,rect:R})}},[i,u,b,C==null?void 0:C.offset,C==null?void 0:C.rect.left,C==null?void 0:C.rect.width]);wh(function(){E()},[E]);var M=p.useCallback(function(){typeof f.current=="function"&&(f.current(),f.current=null),i&&d.current&&(f.current=Ou(i,d.current,E,{elementResize:"ResizeObserver"in window}))},[i,E]);wh(function(){M()},[M]);var T=p.useCallback(function(R){d.current=R,M()},[M]);if(!n&&u!=="fixed"||!C)return null;var I=ke("div",$e({ref:T},At(Ie(Ie({},t),{},{offset:C.offset,position:u,rect:C.rect}),"menuPortal",{"menu-portal":!0}),o),r);return ke(iS.Provider,{value:w},n?hi.createPortal(I,n):I)},XF=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},JF=function(t){var n=t.children,r=t.innerProps,i=t.isDisabled,o=t.isRtl;return ke("div",$e({},At(t,"container",{"--is-disabled":i,"--is-rtl":o}),r),n)},QF=function(t,n){var r=t.theme.spacing,i=t.isMulti,o=t.hasValue,l=t.selectProps.controlShouldRenderValue;return Ie({alignItems:"center",display:i&&o&&l?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},e4=function(t){var n=t.children,r=t.innerProps,i=t.isMulti,o=t.hasValue;return ke("div",$e({},At(t,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":o}),r),n)},t4=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},n4=function(t){var n=t.children,r=t.innerProps;return ke("div",$e({},At(t,"indicatorsContainer",{indicators:!0}),r),n)},Iy,r4=["size"],i4=["innerProps","isRtl","size"],s4={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},oS=function(t){var n=t.size,r=pi(t,r4);return ke("svg",$e({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:s4},r))},ap=function(t){return ke(oS,$e({size:20},t),ke("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},aS=function(t){return ke(oS,$e({size:20},t),ke("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},lS=function(t,n){var r=t.isFocused,i=t.theme,o=i.spacing.baseUnit,l=i.colors;return Ie({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?l.neutral60:l.neutral20,padding:o*2,":hover":{color:r?l.neutral80:l.neutral40}})},o4=lS,a4=function(t){var n=t.children,r=t.innerProps;return ke("div",$e({},At(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||ke(aS,null))},l4=lS,c4=function(t){var n=t.children,r=t.innerProps;return ke("div",$e({},At(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||ke(ap,null))},u4=function(t,n){var r=t.isDisabled,i=t.theme,o=i.spacing.baseUnit,l=i.colors;return Ie({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?l.neutral10:l.neutral20,marginBottom:o*2,marginTop:o*2})},d4=function(t){var n=t.innerProps;return ke("span",$e({},n,At(t,"indicatorSeparator",{"indicator-separator":!0})))},f4=bF(Iy||(Iy=_F([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),h4=function(t,n){var r=t.isFocused,i=t.size,o=t.theme,l=o.colors,u=o.spacing.baseUnit;return Ie({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?l.neutral60:l.neutral20,padding:u*2})},cf=function(t){var n=t.delay,r=t.offset;return ke("span",{css:op({animation:"".concat(f4," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},m4=function(t){var n=t.innerProps,r=t.isRtl,i=t.size,o=i===void 0?4:i,l=pi(t,i4);return ke("div",$e({},At(Ie(Ie({},l),{},{innerProps:n,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ke(cf,{delay:0,offset:r}),ke(cf,{delay:160,offset:!0}),ke(cf,{delay:320,offset:!r}))},p4=function(t,n){var r=t.isDisabled,i=t.isFocused,o=t.theme,l=o.colors,u=o.borderRadius,d=o.spacing;return Ie({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:d.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?l.neutral5:l.neutral0,borderColor:r?l.neutral10:i?l.primary:l.neutral20,borderRadius:u,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(l.primary):void 0,"&:hover":{borderColor:i?l.primary:l.neutral30}})},g4=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,o=t.innerRef,l=t.innerProps,u=t.menuIsOpen;return ke("div",$e({ref:o},At(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":u}),l,{"aria-disabled":r||void 0}),n)},v4=g4,y4=["data"],x4=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},b4=function(t){var n=t.children,r=t.cx,i=t.getStyles,o=t.getClassNames,l=t.Heading,u=t.headingProps,d=t.innerProps,f=t.label,m=t.theme,g=t.selectProps;return ke("div",$e({},At(t,"group",{group:!0}),d),ke(l,$e({},u,{selectProps:g,theme:m,getStyles:i,getClassNames:o,cx:r}),f),ke("div",null,n))},_4=function(t,n){var r=t.theme,i=r.colors,o=r.spacing;return Ie({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},w4=function(t){var n=eS(t);n.data;var r=pi(n,y4);return ke("div",$e({},At(t,"groupHeading",{"group-heading":!0}),r))},S4=b4,C4=["innerRef","isDisabled","isHidden","inputClassName"],P4=function(t,n){var r=t.isDisabled,i=t.value,o=t.theme,l=o.spacing,u=o.colors;return Ie(Ie({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},E4),n?{}:{margin:l.baseUnit/2,paddingBottom:l.baseUnit/2,paddingTop:l.baseUnit/2,color:u.neutral80})},cS={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},E4={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ie({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},cS)},T4=function(t){return Ie({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},cS)},N4=function(t){var n=t.cx,r=t.value,i=eS(t),o=i.innerRef,l=i.isDisabled,u=i.isHidden,d=i.inputClassName,f=pi(i,C4);return ke("div",$e({},At(t,"input",{"input-container":!0}),{"data-value":r||""}),ke("input",$e({className:n({input:!0},d),ref:o,style:T4(u),disabled:l},f)))},j4=N4,M4=function(t,n){var r=t.theme,i=r.spacing,o=r.borderRadius,l=r.colors;return Ie({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:l.neutral10,borderRadius:o/2,margin:i.baseUnit/2})},R4=function(t,n){var r=t.theme,i=r.borderRadius,o=r.colors,l=t.cropWithEllipsis;return Ie({overflow:"hidden",textOverflow:l||l===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},O4=function(t,n){var r=t.theme,i=r.spacing,o=r.borderRadius,l=r.colors,u=t.isFocused;return Ie({alignItems:"center",display:"flex"},n?{}:{borderRadius:o/2,backgroundColor:u?l.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:l.dangerLight,color:l.danger}})},uS=function(t){var n=t.children,r=t.innerProps;return ke("div",r,n)},k4=uS,A4=uS;function I4(e){var t=e.children,n=e.innerProps;return ke("div",$e({role:"button"},n),t||ke(ap,{size:14}))}var D4=function(t){var n=t.children,r=t.components,i=t.data,o=t.innerProps,l=t.isDisabled,u=t.removeProps,d=t.selectProps,f=r.Container,m=r.Label,g=r.Remove;return ke(f,{data:i,innerProps:Ie(Ie({},At(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":l})),o),selectProps:d},ke(m,{data:i,innerProps:Ie({},At(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:d},n),ke(g,{data:i,innerProps:Ie(Ie({},At(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},u),selectProps:d}))},L4=D4,F4=function(t,n){var r=t.isDisabled,i=t.isFocused,o=t.isSelected,l=t.theme,u=l.spacing,d=l.colors;return Ie({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:o?d.primary:i?d.primary25:"transparent",color:r?d.neutral20:o?d.neutral0:"inherit",padding:"".concat(u.baseUnit*2,"px ").concat(u.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?d.primary:d.primary50}})},B4=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,o=t.isSelected,l=t.innerRef,u=t.innerProps;return ke("div",$e({},At(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":o}),{ref:l,"aria-disabled":r},u),n)},V4=B4,$4=function(t,n){var r=t.theme,i=r.spacing,o=r.colors;return Ie({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:o.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},z4=function(t){var n=t.children,r=t.innerProps;return ke("div",$e({},At(t,"placeholder",{placeholder:!0}),r),n)},W4=z4,U4=function(t,n){var r=t.isDisabled,i=t.theme,o=i.spacing,l=i.colors;return Ie({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?l.neutral40:l.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},H4=function(t){var n=t.children,r=t.isDisabled,i=t.innerProps;return ke("div",$e({},At(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},Z4=H4,G4={ClearIndicator:c4,Control:v4,DropdownIndicator:a4,DownChevron:aS,CrossIcon:ap,Group:S4,GroupHeading:w4,IndicatorsContainer:n4,IndicatorSeparator:d4,Input:j4,LoadingIndicator:m4,Menu:zF,MenuList:UF,MenuPortal:qF,LoadingMessage:YF,NoOptionsMessage:GF,MultiValue:L4,MultiValueContainer:k4,MultiValueLabel:A4,MultiValueRemove:I4,Option:V4,Placeholder:W4,SelectContainer:JF,SingleValue:Z4,ValueContainer:e4},Y4=function(t){return Ie(Ie({},G4),t.components)},Dy=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function K4(e,t){return!!(e===t||Dy(e)&&Dy(t))}function q4(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!K4(e[n],t[n]))return!1;return!0}function X4(e,t){t===void 0&&(t=q4);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var l=e.apply(this,i);return n={lastResult:l,lastArgs:i,lastThis:this},l}return r.clear=function(){n=null},r}var J4={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Q4=function(t){return ke("span",$e({css:J4},t))},Ly=Q4,e5={guidance:function(t){var n=t.isSearchable,r=t.isMulti,i=t.tabSelectsValue,o=t.context,l=t.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return l?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,i=r===void 0?"":r,o=t.labels,l=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return l?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,i=t.options,o=t.label,l=o===void 0?"":o,u=t.selectValue,d=t.isDisabled,f=t.isSelected,m=t.isAppleDevice,g=function(v,_){return v&&v.length?"".concat(v.indexOf(_)+1," of ").concat(v.length):""};if(n==="value"&&u)return"value ".concat(l," focused, ").concat(g(u,r),".");if(n==="menu"&&m){var b=d?" disabled":"",x="".concat(f?" selected":"").concat(b);return"".concat(l).concat(x,", ").concat(g(i,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},t5=function(t){var n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,o=t.focusableOptions,l=t.isFocused,u=t.selectValue,d=t.selectProps,f=t.id,m=t.isAppleDevice,g=d.ariaLiveMessages,b=d.getOptionLabel,x=d.inputValue,w=d.isMulti,v=d.isOptionDisabled,_=d.isSearchable,C=d.menuIsOpen,P=d.options,E=d.screenReaderStatus,M=d.tabSelectsValue,T=d.isLoading,I=d["aria-label"],R=d["aria-live"],k=p.useMemo(function(){return Ie(Ie({},e5),g||{})},[g]),U=p.useMemo(function(){var H="";if(n&&k.onChange){var K=n.option,Y=n.options,O=n.removedValue,W=n.removedValues,V=n.value,Q=function(be){return Array.isArray(be)?null:be},G=O||K||Q(V),ie=G?b(G):"",se=Y||W||void 0,le=se?se.map(b):[],he=Ie({isDisabled:G&&v(G,u),label:ie,labels:le},n);H=k.onChange(he)}return H},[n,k,v,u,b]),X=p.useMemo(function(){var H="",K=r||i,Y=!!(r&&u&&u.includes(r));if(K&&k.onFocus){var O={focused:K,label:b(K),isDisabled:v(K,u),isSelected:Y,options:o,context:K===r?"menu":"value",selectValue:u,isAppleDevice:m};H=k.onFocus(O)}return H},[r,i,b,v,k,o,u,m]),re=p.useMemo(function(){var H="";if(C&&P.length&&!T&&k.onFilter){var K=E({count:o.length});H=k.onFilter({inputValue:x,resultsMessage:K})}return H},[o,x,C,k,P,E,T]),$=(n==null?void 0:n.action)==="initial-input-focus",ne=p.useMemo(function(){var H="";if(k.guidance){var K=i?"value":C?"menu":"input";H=k.guidance({"aria-label":I,context:K,isDisabled:r&&v(r,u),isMulti:w,isSearchable:_,tabSelectsValue:M,isInitialFocus:$})}return H},[I,r,i,w,v,_,C,k,u,M,$]),J=ke(p.Fragment,null,ke("span",{id:"aria-selection"},U),ke("span",{id:"aria-focused"},X),ke("span",{id:"aria-results"},re),ke("span",{id:"aria-guidance"},ne));return ke(p.Fragment,null,ke(Ly,{id:f},$&&J),ke(Ly,{"aria-live":R,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},l&&!$&&J))},n5=t5,Sh=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],r5=new RegExp("["+Sh.map(function(e){return e.letters}).join("")+"]","g"),dS={};for(var uf=0;uf<Sh.length;uf++)for(var df=Sh[uf],ff=0;ff<df.letters.length;ff++)dS[df.letters[ff]]=df.base;var fS=function(t){return t.replace(r5,function(n){return dS[n]})},i5=X4(fS),Fy=function(t){return t.replace(/^\s+|\s+$/g,"")},s5=function(t){return"".concat(t.label," ").concat(t.value)},o5=function(t){return function(n,r){if(n.data.__isNew__)return!0;var i=Ie({ignoreCase:!0,ignoreAccents:!0,stringify:s5,trim:!0,matchFrom:"any"},t),o=i.ignoreCase,l=i.ignoreAccents,u=i.stringify,d=i.trim,f=i.matchFrom,m=d?Fy(r):r,g=d?Fy(u(n)):u(n);return o&&(m=m.toLowerCase(),g=g.toLowerCase()),l&&(m=i5(m),g=fS(g)),f==="start"?g.substr(0,m.length)===m:g.indexOf(m)>-1}},a5=["innerRef"];function l5(e){var t=e.innerRef,n=pi(e,a5),r=AF(n,"onExited","in","enter","exit","appear");return ke("input",$e({ref:t},r,{css:op({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var c5=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function u5(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,o=e.onTopLeave,l=p.useRef(!1),u=p.useRef(!1),d=p.useRef(0),f=p.useRef(null),m=p.useCallback(function(_,C){if(f.current!==null){var P=f.current,E=P.scrollTop,M=P.scrollHeight,T=P.clientHeight,I=f.current,R=C>0,k=M-T-E,U=!1;k>C&&l.current&&(r&&r(_),l.current=!1),R&&u.current&&(o&&o(_),u.current=!1),R&&C>k?(n&&!l.current&&n(_),I.scrollTop=M,U=!0,l.current=!0):!R&&-C>E&&(i&&!u.current&&i(_),I.scrollTop=0,U=!0,u.current=!0),U&&c5(_)}},[n,r,i,o]),g=p.useCallback(function(_){m(_,_.deltaY)},[m]),b=p.useCallback(function(_){d.current=_.changedTouches[0].clientY},[]),x=p.useCallback(function(_){var C=d.current-_.changedTouches[0].clientY;m(_,C)},[m]),w=p.useCallback(function(_){if(_){var C=RF?{passive:!1}:!1;_.addEventListener("wheel",g,C),_.addEventListener("touchstart",b,C),_.addEventListener("touchmove",x,C)}},[x,b,g]),v=p.useCallback(function(_){_&&(_.removeEventListener("wheel",g,!1),_.removeEventListener("touchstart",b,!1),_.removeEventListener("touchmove",x,!1))},[x,b,g]);return p.useEffect(function(){if(t){var _=f.current;return w(_),function(){v(_)}}},[t,w,v]),function(_){f.current=_}}var By=["boxSizing","height","overflow","paddingRight","position"],Vy={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function $y(e){e.cancelable&&e.preventDefault()}function zy(e){e.stopPropagation()}function Wy(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Uy(){return"ontouchstart"in window||navigator.maxTouchPoints}var Hy=!!(typeof window<"u"&&window.document&&window.document.createElement),wa=0,no={capture:!1,passive:!1};function d5(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,i=p.useRef({}),o=p.useRef(null),l=p.useCallback(function(d){if(Hy){var f=document.body,m=f&&f.style;if(r&&By.forEach(function(w){var v=m&&m[w];i.current[w]=v}),r&&wa<1){var g=parseInt(i.current.paddingRight,10)||0,b=document.body?document.body.clientWidth:0,x=window.innerWidth-b+g||0;Object.keys(Vy).forEach(function(w){var v=Vy[w];m&&(m[w]=v)}),m&&(m.paddingRight="".concat(x,"px"))}f&&Uy()&&(f.addEventListener("touchmove",$y,no),d&&(d.addEventListener("touchstart",Wy,no),d.addEventListener("touchmove",zy,no))),wa+=1}},[r]),u=p.useCallback(function(d){if(Hy){var f=document.body,m=f&&f.style;wa=Math.max(wa-1,0),r&&wa<1&&By.forEach(function(g){var b=i.current[g];m&&(m[g]=b)}),f&&Uy()&&(f.removeEventListener("touchmove",$y,no),d&&(d.removeEventListener("touchstart",Wy,no),d.removeEventListener("touchmove",zy,no)))}},[r]);return p.useEffect(function(){if(t){var d=o.current;return l(d),function(){u(d)}}},[t,l,u]),function(d){o.current=d}}var f5=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},h5={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function m5(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=r===void 0?!0:r,o=e.onBottomArrive,l=e.onBottomLeave,u=e.onTopArrive,d=e.onTopLeave,f=u5({isEnabled:i,onBottomArrive:o,onBottomLeave:l,onTopArrive:u,onTopLeave:d}),m=d5({isEnabled:n}),g=function(x){f(x),m(x)};return ke(p.Fragment,null,n&&ke("div",{onClick:f5,css:h5}),t(g))}var p5={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},g5=function(t){var n=t.name,r=t.onFocus;return ke("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:p5,value:"",onChange:function(){}})},v5=g5;function lp(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function y5(){return lp(/^iPhone/i)}function hS(){return lp(/^Mac/i)}function x5(){return lp(/^iPad/i)||hS()&&navigator.maxTouchPoints>1}function b5(){return y5()||x5()}function _5(){return hS()||b5()}var w5=function(t){return t.label},S5=function(t){return t.label},C5=function(t){return t.value},P5=function(t){return!!t.isDisabled},E5={clearIndicator:l4,container:XF,control:p4,dropdownIndicator:o4,group:x4,groupHeading:_4,indicatorsContainer:t4,indicatorSeparator:u4,input:P4,loadingIndicator:h4,loadingMessage:ZF,menu:BF,menuList:WF,menuPortal:KF,multiValue:M4,multiValueLabel:R4,multiValueRemove:O4,noOptionsMessage:HF,option:F4,placeholder:$4,singleValue:U4,valueContainer:QF},T5={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},N5=4,mS=4,j5=38,M5=mS*2,R5={baseUnit:mS,controlHeight:j5,menuGutter:M5},hf={borderRadius:N5,colors:T5,spacing:R5},O5={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Ay(),captureMenuScroll:!Ay(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:o5(),formatGroupLabel:w5,getOptionLabel:S5,getOptionValue:C5,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:P5,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!jF(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Zy(e,t,n,r){var i=vS(e,t,n),o=yS(e,t,n),l=gS(e,t),u=mu(e,t);return{type:"option",data:t,isDisabled:i,isSelected:o,label:l,value:u,index:r}}function Bc(e,t){return e.options.map(function(n,r){if("options"in n){var i=n.options.map(function(l,u){return Zy(e,l,t,u)}).filter(function(l){return Yy(e,l)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=Zy(e,n,t,r);return Yy(e,o)?o:void 0}).filter(OF)}function pS(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,tp(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function Gy(e,t){return e.reduce(function(n,r){return r.type==="group"?n.push.apply(n,tp(r.options.map(function(i){return{data:i.data,id:"".concat(t,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),n},[])}function k5(e,t){return pS(Bc(e,t))}function Yy(e,t){var n=e.inputValue,r=n===void 0?"":n,i=t.data,o=t.isSelected,l=t.label,u=t.value;return(!bS(e)||!o)&&xS(e,{label:l,value:u,data:i},r)}function A5(e,t){var n=e.focusedValue,r=e.selectValue,i=r.indexOf(n);if(i>-1){var o=t.indexOf(n);if(o>-1)return n;if(i<t.length)return t[i]}return null}function I5(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var mf=function(t,n){var r,i=(r=t.find(function(o){return o.data===n}))===null||r===void 0?void 0:r.id;return i||null},gS=function(t,n){return t.getOptionLabel(n)},mu=function(t,n){return t.getOptionValue(n)};function vS(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function yS(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=mu(e,t);return n.some(function(i){return mu(e,i)===r})}function xS(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var bS=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},D5=1,_S=function(e){yL(n,e);var t=bL(n);function n(r){var i;if(gL(this,n),i=t.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=_5(),i.controlRef=null,i.getControlRef=function(d){i.controlRef=d},i.focusedOptionRef=null,i.getFocusedOptionRef=function(d){i.focusedOptionRef=d},i.menuListRef=null,i.getMenuListRef=function(d){i.menuListRef=d},i.inputRef=null,i.getInputRef=function(d){i.inputRef=d},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(d,f){var m=i.props,g=m.onChange,b=m.name;f.name=b,i.ariaOnChange(d,f),g(d,f)},i.setValue=function(d,f,m){var g=i.props,b=g.closeMenuOnSelect,x=g.isMulti,w=g.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:w}),b&&(i.setState({inputIsHiddenAfterUpdate:!x}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(d,{action:f,option:m})},i.selectOption=function(d){var f=i.props,m=f.blurInputOnSelect,g=f.isMulti,b=f.name,x=i.state.selectValue,w=g&&i.isOptionSelected(d,x),v=i.isOptionDisabled(d,x);if(w){var _=i.getOptionValue(d);i.setValue(x.filter(function(C){return i.getOptionValue(C)!==_}),"deselect-option",d)}else if(!v)g?i.setValue([].concat(tp(x),[d]),"select-option",d):i.setValue(d,"select-option");else{i.ariaOnChange(d,{action:"select-option",option:d,name:b});return}m&&i.blurInput()},i.removeValue=function(d){var f=i.props.isMulti,m=i.state.selectValue,g=i.getOptionValue(d),b=m.filter(function(w){return i.getOptionValue(w)!==g}),x=xc(f,b,b[0]||null);i.onChange(x,{action:"remove-value",removedValue:d}),i.focusInput()},i.clearValue=function(){var d=i.state.selectValue;i.onChange(xc(i.props.isMulti,[],null),{action:"clear",removedValues:d})},i.popValue=function(){var d=i.props.isMulti,f=i.state.selectValue,m=f[f.length-1],g=f.slice(0,f.length-1),b=xc(d,g,g[0]||null);m&&i.onChange(b,{action:"pop-value",removedValue:m})},i.getFocusedOptionId=function(d){return mf(i.state.focusableOptionsWithIds,d)},i.getFocusableOptionsWithIds=function(){return Gy(Bc(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];return CF.apply(void 0,[i.props.classNamePrefix].concat(f))},i.getOptionLabel=function(d){return gS(i.props,d)},i.getOptionValue=function(d){return mu(i.props,d)},i.getStyles=function(d,f){var m=i.props.unstyled,g=E5[d](f,m);g.boxSizing="border-box";var b=i.props.styles[d];return b?b(g,f):g},i.getClassNames=function(d,f){var m,g;return(m=(g=i.props.classNames)[d])===null||m===void 0?void 0:m.call(g,f)},i.getElementId=function(d){return"".concat(i.state.instancePrefix,"-").concat(d)},i.getComponents=function(){return Y4(i.props)},i.buildCategorizedOptions=function(){return Bc(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return pS(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(d,f){i.setState({ariaSelection:Ie({value:d},f)})},i.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(d){i.blockOptionHover=!1},i.onControlMouseDown=function(d){if(!d.defaultPrevented){var f=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&i.onMenuClose():f&&i.openMenu("first"):(f&&(i.openAfterFocus=!0),i.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},i.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0)&&!i.props.isDisabled){var f=i.props,m=f.isMulti,g=f.menuIsOpen;i.focusInput(),g?(i.setState({inputIsHiddenAfterUpdate:!m}),i.onMenuClose()):i.openMenu("first"),d.preventDefault()}},i.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(i.clearValue(),d.preventDefault(),i.openAfterFocus=!1,d.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(d){typeof i.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&Yu(d.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(d)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(d){var f=d.touches,m=f&&f.item(0);m&&(i.initialTouchX=m.clientX,i.initialTouchY=m.clientY,i.userIsDragging=!1)},i.onTouchMove=function(d){var f=d.touches,m=f&&f.item(0);if(m){var g=Math.abs(m.clientX-i.initialTouchX),b=Math.abs(m.clientY-i.initialTouchY),x=5;i.userIsDragging=g>x||b>x}},i.onTouchEnd=function(d){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(d.target)&&i.menuListRef&&!i.menuListRef.contains(d.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(d){i.userIsDragging||i.onControlMouseDown(d)},i.onClearIndicatorTouchEnd=function(d){i.userIsDragging||i.onClearIndicatorMouseDown(d)},i.onDropdownIndicatorTouchEnd=function(d){i.userIsDragging||i.onDropdownIndicatorMouseDown(d)},i.handleInputChange=function(d){var f=i.props.inputValue,m=d.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(m,{action:"input-change",prevInputValue:f}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(d){i.props.onFocus&&i.props.onFocus(d),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(d){var f=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(d),i.onInputChange("",{action:"input-blur",prevInputValue:f}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(d){if(!(i.blockOptionHover||i.state.focusedOption===d)){var f=i.getFocusableOptions(),m=f.indexOf(d);i.setState({focusedOption:d,focusedOptionId:m>-1?i.getFocusedOptionId(d):null})}},i.shouldHideSelectedOptions=function(){return bS(i.props)},i.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),i.focus()},i.onKeyDown=function(d){var f=i.props,m=f.isMulti,g=f.backspaceRemovesValue,b=f.escapeClearsValue,x=f.inputValue,w=f.isClearable,v=f.isDisabled,_=f.menuIsOpen,C=f.onKeyDown,P=f.tabSelectsValue,E=f.openMenuOnFocus,M=i.state,T=M.focusedOption,I=M.focusedValue,R=M.selectValue;if(!v&&!(typeof C=="function"&&(C(d),d.defaultPrevented))){switch(i.blockOptionHover=!0,d.key){case"ArrowLeft":if(!m||x)return;i.focusValue("previous");break;case"ArrowRight":if(!m||x)return;i.focusValue("next");break;case"Delete":case"Backspace":if(x)return;if(I)i.removeValue(I);else{if(!g)return;m?i.popValue():w&&i.clearValue()}break;case"Tab":if(i.isComposing||d.shiftKey||!_||!P||!T||E&&i.isOptionSelected(T,R))return;i.selectOption(T);break;case"Enter":if(d.keyCode===229)break;if(_){if(!T||i.isComposing)return;i.selectOption(T);break}return;case"Escape":_?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:x}),i.onMenuClose()):w&&b&&i.clearValue();break;case" ":if(x)return;if(!_){i.openMenu("first");break}if(!T)return;i.selectOption(T);break;case"ArrowUp":_?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":_?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!_)return;i.focusOption("pageup");break;case"PageDown":if(!_)return;i.focusOption("pagedown");break;case"Home":if(!_)return;i.focusOption("first");break;case"End":if(!_)return;i.focusOption("last");break;default:return}d.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++D5),i.state.selectValue=Oy(r.value),r.menuIsOpen&&i.state.selectValue.length){var o=i.getFocusableOptionsWithIds(),l=i.buildFocusableOptions(),u=l.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=o,i.state.focusedOption=l[u],i.state.focusedOptionId=mf(o,l[u])}return i}return vL(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&ky(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var o=this.props,l=o.isDisabled,u=o.menuIsOpen,d=this.state.isFocused;(d&&!l&&i.isDisabled||d&&u&&!i.menuIsOpen)&&this.focusInput(),d&&l&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!d&&!l&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(ky(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,l=this.state,u=l.selectValue,d=l.isFocused,f=this.buildFocusableOptions(),m=i==="first"?0:f.length-1;if(!this.props.isMulti){var g=f.indexOf(u[0]);g>-1&&(m=g)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:f[m],focusedOptionId:this.getFocusedOptionId(f[m])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,l=o.selectValue,u=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=l.indexOf(u);u||(d=-1);var f=l.length-1,m=-1;if(l.length){switch(i){case"previous":d===0?m=0:d===-1?m=f:m=d-1;break;case"next":d>-1&&d<f&&(m=d+1);break}this.setState({inputIsHidden:m!==-1,focusedValue:l[m]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,l=this.state.focusedOption,u=this.getFocusableOptions();if(u.length){var d=0,f=u.indexOf(l);l||(f=-1),i==="up"?d=f>0?f-1:u.length-1:i==="down"?d=(f+1)%u.length:i==="pageup"?(d=f-o,d<0&&(d=0)):i==="pagedown"?(d=f+o,d>u.length-1&&(d=u.length-1)):i==="last"&&(d=u.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:u[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(u[d])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(hf):Ie(Ie({},hf),this.props.theme):hf}},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,l=this.getStyles,u=this.getClassNames,d=this.getValue,f=this.selectOption,m=this.setValue,g=this.props,b=g.isMulti,x=g.isRtl,w=g.options,v=this.hasValue();return{clearValue:i,cx:o,getStyles:l,getClassNames:u,getValue:d,hasValue:v,isMulti:b,isRtl:x,options:w,selectOption:f,selectProps:g,setValue:m,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,l=i.isMulti;return o===void 0?l:o}},{key:"isOptionDisabled",value:function(i,o){return vS(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return yS(this.props,i,o)}},{key:"filterOption",value:function(i,o){return xS(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var l=this.props.inputValue,u=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:l,selectValue:u})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,o=i.isDisabled,l=i.isSearchable,u=i.inputId,d=i.inputValue,f=i.tabIndex,m=i.form,g=i.menuIsOpen,b=i.required,x=this.getComponents(),w=x.Input,v=this.state,_=v.inputIsHidden,C=v.ariaSelection,P=this.commonProps,E=u||this.getElementId("input"),M=Ie(Ie(Ie({"aria-autocomplete":"list","aria-expanded":g,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":b,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},g&&{"aria-controls":this.getElementId("listbox")}),!l&&{"aria-readonly":!0}),this.hasValue()?(C==null?void 0:C.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return l?p.createElement(w,$e({},P,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:E,innerRef:this.getInputRef,isDisabled:o,isHidden:_,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:f,form:m,type:"text",value:d},M)):p.createElement(l5,$e({id:E,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:fu,onFocus:this.onInputFocus,disabled:o,tabIndex:f,inputMode:"none",form:m,value:""},M))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),l=o.MultiValue,u=o.MultiValueContainer,d=o.MultiValueLabel,f=o.MultiValueRemove,m=o.SingleValue,g=o.Placeholder,b=this.commonProps,x=this.props,w=x.controlShouldRenderValue,v=x.isDisabled,_=x.isMulti,C=x.inputValue,P=x.placeholder,E=this.state,M=E.selectValue,T=E.focusedValue,I=E.isFocused;if(!this.hasValue()||!w)return C?null:p.createElement(g,$e({},b,{key:"placeholder",isDisabled:v,isFocused:I,innerProps:{id:this.getElementId("placeholder")}}),P);if(_)return M.map(function(k,U){var X=k===T,re="".concat(i.getOptionLabel(k),"-").concat(i.getOptionValue(k));return p.createElement(l,$e({},b,{components:{Container:u,Label:d,Remove:f},isFocused:X,isDisabled:v,key:re,index:U,removeProps:{onClick:function(){return i.removeValue(k)},onTouchEnd:function(){return i.removeValue(k)},onMouseDown:function(ne){ne.preventDefault()}},data:k}),i.formatOptionLabel(k,"value"))});if(C)return null;var R=M[0];return p.createElement(m,$e({},b,{data:R,isDisabled:v}),this.formatOptionLabel(R,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),o=i.ClearIndicator,l=this.commonProps,u=this.props,d=u.isDisabled,f=u.isLoading,m=this.state.isFocused;if(!this.isClearable()||!o||d||!this.hasValue()||f)return null;var g={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return p.createElement(o,$e({},l,{innerProps:g,isFocused:m}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),o=i.LoadingIndicator,l=this.commonProps,u=this.props,d=u.isDisabled,f=u.isLoading,m=this.state.isFocused;if(!o||!f)return null;var g={"aria-hidden":"true"};return p.createElement(o,$e({},l,{innerProps:g,isDisabled:d,isFocused:m}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,l=i.IndicatorSeparator;if(!o||!l)return null;var u=this.commonProps,d=this.props.isDisabled,f=this.state.isFocused;return p.createElement(l,$e({},u,{isDisabled:d,isFocused:f}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator;if(!o)return null;var l=this.commonProps,u=this.props.isDisabled,d=this.state.isFocused,f={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return p.createElement(o,$e({},l,{innerProps:f,isDisabled:u,isFocused:d}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),l=o.Group,u=o.GroupHeading,d=o.Menu,f=o.MenuList,m=o.MenuPortal,g=o.LoadingMessage,b=o.NoOptionsMessage,x=o.Option,w=this.commonProps,v=this.state.focusedOption,_=this.props,C=_.captureMenuScroll,P=_.inputValue,E=_.isLoading,M=_.loadingMessage,T=_.minMenuHeight,I=_.maxMenuHeight,R=_.menuIsOpen,k=_.menuPlacement,U=_.menuPosition,X=_.menuPortalTarget,re=_.menuShouldBlockScroll,$=_.menuShouldScrollIntoView,ne=_.noOptionsMessage,J=_.onMenuScrollToTop,H=_.onMenuScrollToBottom;if(!R)return null;var K=function(ie,se){var le=ie.type,he=ie.data,oe=ie.isDisabled,be=ie.isSelected,Ne=ie.label,Ee=ie.value,Re=v===he,Oe=oe?void 0:function(){return i.onOptionHover(he)},Qe=oe?void 0:function(){return i.selectOption(he)},xt="".concat(i.getElementId("option"),"-").concat(se),bt={id:xt,onClick:Qe,onMouseMove:Oe,onMouseOver:Oe,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:be};return p.createElement(x,$e({},w,{innerProps:bt,data:he,isDisabled:oe,isSelected:be,key:xt,label:Ne,type:le,value:Ee,isFocused:Re,innerRef:Re?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(ie.data,"menu"))},Y;if(this.hasOptions())Y=this.getCategorizedOptions().map(function(G){if(G.type==="group"){var ie=G.data,se=G.options,le=G.index,he="".concat(i.getElementId("group"),"-").concat(le),oe="".concat(he,"-heading");return p.createElement(l,$e({},w,{key:he,data:ie,options:se,Heading:u,headingProps:{id:oe,data:G.data},label:i.formatGroupLabel(G.data)}),G.options.map(function(be){return K(be,"".concat(le,"-").concat(be.index))}))}else if(G.type==="option")return K(G,"".concat(G.index))});else if(E){var O=M({inputValue:P});if(O===null)return null;Y=p.createElement(g,w,O)}else{var W=ne({inputValue:P});if(W===null)return null;Y=p.createElement(b,w,W)}var V={minMenuHeight:T,maxMenuHeight:I,menuPlacement:k,menuPosition:U,menuShouldScrollIntoView:$},Q=p.createElement(VF,$e({},w,V),function(G){var ie=G.ref,se=G.placerProps,le=se.placement,he=se.maxHeight;return p.createElement(d,$e({},w,V,{innerRef:ie,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:E,placement:le}),p.createElement(m5,{captureEnabled:C,onTopArrive:J,onBottomArrive:H,lockEnabled:re},function(oe){return p.createElement(f,$e({},w,{innerRef:function(Ne){i.getMenuListRef(Ne),oe(Ne)},innerProps:{role:"listbox","aria-multiselectable":w.isMulti,id:i.getElementId("listbox")},isLoading:E,maxHeight:he,focusedOption:v}),Y)}))});return X||U==="fixed"?p.createElement(m,$e({},w,{appendTo:X,controlElement:this.controlRef,menuPlacement:k,menuPosition:U}),Q):Q}},{key:"renderFormField",value:function(){var i=this,o=this.props,l=o.delimiter,u=o.isDisabled,d=o.isMulti,f=o.name,m=o.required,g=this.state.selectValue;if(m&&!this.hasValue()&&!u)return p.createElement(v5,{name:f,onFocus:this.onValueInputFocus});if(!(!f||u))if(d)if(l){var b=g.map(function(v){return i.getOptionValue(v)}).join(l);return p.createElement("input",{name:f,type:"hidden",value:b})}else{var x=g.length>0?g.map(function(v,_){return p.createElement("input",{key:"i-".concat(_),name:f,type:"hidden",value:i.getOptionValue(v)})}):p.createElement("input",{name:f,type:"hidden",value:""});return p.createElement("div",null,x)}else{var w=g[0]?this.getOptionValue(g[0]):"";return p.createElement("input",{name:f,type:"hidden",value:w})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,l=o.ariaSelection,u=o.focusedOption,d=o.focusedValue,f=o.isFocused,m=o.selectValue,g=this.getFocusableOptions();return p.createElement(n5,$e({},i,{id:this.getElementId("live-region"),ariaSelection:l,focusedOption:u,focusedValue:d,isFocused:f,selectValue:m,focusableOptions:g,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,l=i.IndicatorsContainer,u=i.SelectContainer,d=i.ValueContainer,f=this.props,m=f.className,g=f.id,b=f.isDisabled,x=f.menuIsOpen,w=this.state.isFocused,v=this.commonProps=this.getCommonProps();return p.createElement(u,$e({},v,{className:m,innerProps:{id:g,onKeyDown:this.onKeyDown},isDisabled:b,isFocused:w}),this.renderLiveRegion(),p.createElement(o,$e({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:b,isFocused:w,menuIsOpen:x}),p.createElement(d,$e({},v,{isDisabled:b}),this.renderPlaceholderOrValue(),this.renderInput()),p.createElement(l,$e({},v,{isDisabled:b}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,o){var l=o.prevProps,u=o.clearFocusValueOnUpdate,d=o.inputIsHiddenAfterUpdate,f=o.ariaSelection,m=o.isFocused,g=o.prevWasFocused,b=o.instancePrefix,x=i.options,w=i.value,v=i.menuIsOpen,_=i.inputValue,C=i.isMulti,P=Oy(w),E={};if(l&&(w!==l.value||x!==l.options||v!==l.menuIsOpen||_!==l.inputValue)){var M=v?k5(i,P):[],T=v?Gy(Bc(i,P),"".concat(b,"-option")):[],I=u?A5(o,P):null,R=I5(o,M),k=mf(T,R);E={selectValue:P,focusedOption:R,focusedOptionId:k,focusableOptionsWithIds:T,focusedValue:I,clearFocusValueOnUpdate:!1}}var U=d!=null&&i!==l?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},X=f,re=m&&g;return m&&!re&&(X={value:xc(C,P,P[0]||null),options:P,action:"initial-input-focus"},re=!g),(f==null?void 0:f.action)==="initial-input-focus"&&(X=null),Ie(Ie(Ie({},E),U),{},{prevProps:i,ariaSelection:X,prevWasFocused:re})}}]),n}(p.Component);_S.defaultProps=O5;var L5=p.forwardRef(function(e,t){var n=pL(e);return p.createElement(_S,$e({ref:t},n))}),F5=L5;const Ky=({options:e,value:t,onChange:n,placeholder:r,className:i,...o})=>{const l=e.find(u=>u.value===t)||null;return a.jsx(F5,{options:e,value:l,onChange:u=>n(u?u.value:""),placeholder:r||"Select an option",className:i,classNamePrefix:"stepper-select",isSearchable:!1,...o})};function wS(){const{formData:e,setFormData:t}=Cl(),n=p.useCallback(l=>{t({...e,observation_type:l,total_elephants:void 0,male_elephants:void 0,female_elephants:void 0,unknown_elephants:void 0,calves:void 0,indirect_sighting_type:void 0,loss_type:void 0})},[e,t]),r=p.useMemo(()=>cL(l=>{t(l)},300),[t]),i=p.useCallback((l,u)=>{const d=parseInt(u);!isNaN(d)&&d>=0&&r({[l]:d})},[r]),o=p.useCallback((l,u)=>{t({[l]:u})},[t]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Bw,{value:e.observation_type,onValueChange:l=>n(l),className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(kt,{htmlFor:"direct",className:`flex flex-col items-center justify-center p-4 rounded-lg border-2 cursor-pointer
            ${e.observation_type==="direct"?"border-green-600 bg-green-50":"border-gray-200"}
          `,children:[a.jsx(Ic,{value:"direct",id:"direct",className:"sr-only"}),a.jsx("span",{className:"text-lg font-semibold",children:"Direct Sighting"})]}),a.jsxs(kt,{htmlFor:"indirect",className:`flex flex-col items-center justify-center p-4 rounded-lg border-2 cursor-pointer
            ${e.observation_type==="indirect"?"border-green-600 bg-green-50":"border-gray-200"}
          `,children:[a.jsx(Ic,{value:"indirect",id:"indirect",className:"sr-only"}),a.jsx("span",{className:"text-lg font-semibold",children:"Indirect Sighting"})]}),a.jsxs(kt,{htmlFor:"loss",className:`flex flex-col items-center justify-center p-4 rounded-lg border-2 cursor-pointer
            ${e.observation_type==="loss"?"border-green-600 bg-green-50":"border-gray-200"}
          `,children:[a.jsx(Ic,{value:"loss",id:"loss",className:"sr-only"}),a.jsx("span",{className:"text-lg font-semibold",children:"Loss by Elephant"})]})]}),e.observation_type==="direct"&&a.jsx(Ze,{children:a.jsx(Ke,{className:"pt-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(kt,{htmlFor:"total_elephants",children:"Total Elephants"}),a.jsx(dt,{type:"number",id:"total_elephants",min:"0",value:e.total_elephants||"",onChange:l=>i("total_elephants",l.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(kt,{htmlFor:"male_elephants",children:"Male Elephants"}),a.jsx(dt,{type:"number",id:"male_elephants",min:"0",value:e.male_elephants||"",onChange:l=>i("male_elephants",l.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(kt,{htmlFor:"female_elephants",children:"Female Elephants"}),a.jsx(dt,{type:"number",id:"female_elephants",min:"0",value:e.female_elephants||"",onChange:l=>i("female_elephants",l.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(kt,{htmlFor:"unknown_elephants",children:"Unknown Elephants"}),a.jsx(dt,{type:"number",id:"unknown_elephants",min:"0",value:e.unknown_elephants||"",onChange:l=>i("unknown_elephants",l.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(kt,{htmlFor:"calves",children:"Calves"}),a.jsx(dt,{type:"number",id:"calves",min:"0",value:e.calves||"",onChange:l=>i("calves",l.target.value)})]})]})})}),e.observation_type==="indirect"&&a.jsx(Ze,{children:a.jsx(Ke,{className:"pt-6",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(kt,{htmlFor:"indirect_sighting_type",children:"Type of Indirect Sighting"}),a.jsx(Ky,{value:e.indirect_sighting_type,onChange:l=>o("indirect_sighting_type",l),options:[{value:"Pugmark",label:"Pugmark"},{value:"Dung",label:"Dung"},{value:"Broken Branches",label:"Broken Branches"},{value:"Sound",label:"Sound"},{value:"Eyewitness",label:"Eyewitness"}],placeholder:"Select type of indirect sighting",className:"w-full h-12 text-base"})]})})}),e.observation_type==="loss"&&a.jsx(Ze,{children:a.jsx(Ke,{className:"pt-6",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(kt,{htmlFor:"loss_type",children:"Type of Loss"}),a.jsx(Ky,{value:e.loss_type,onChange:l=>o("loss_type",l),options:[{value:"No loss",label:"No loss"},{value:"crop",label:"Crop"},{value:"livestock",label:"Livestock"},{value:"property",label:"Property"},{value:"fencing",label:"Fencing"},{value:"solar panels",label:"Solar Panels"},{value:"FD establishment",label:"FD Establishment"},{value:"Other",label:"Other"}],placeholder:"Select type of loss",className:"w-full h-12 text-base"})]})})})]})}var Ku="Tabs",[B5,$U]=Vt(Ku,[zu]),SS=zu(),[V5,cp]=B5(Ku),CS=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:l="horizontal",dir:u,activationMode:d="automatic",...f}=e,m=ra(u),[g,b]=er({prop:r,onChange:i,defaultProp:o??"",caller:Ku});return a.jsx(V5,{scope:n,baseId:Xn(),value:g,onValueChange:b,orientation:l,dir:m,activationMode:d,children:a.jsx(Le.div,{dir:m,"data-orientation":l,...f,ref:t})})});CS.displayName=Ku;var PS="TabsList",ES=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,o=cp(PS,n),l=SS(n);return a.jsx(Sw,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(Le.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});ES.displayName=PS;var TS="TabsTrigger",NS=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=e,l=cp(TS,n),u=SS(n),d=RS(l.baseId,r),f=OS(l.baseId,r),m=r===l.value;return a.jsx(Cw,{asChild:!0,...u,focusable:!i,active:m,children:a.jsx(Le.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...o,ref:t,onMouseDown:fe(e.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?l.onValueChange(r):g.preventDefault()}),onKeyDown:fe(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&l.onValueChange(r)}),onFocus:fe(e.onFocus,()=>{const g=l.activationMode!=="manual";!m&&!i&&g&&l.onValueChange(r)})})})});NS.displayName=TS;var jS="TabsContent",MS=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...l}=e,u=cp(jS,n),d=RS(u.baseId,r),f=OS(u.baseId,r),m=r===u.value,g=p.useRef(m);return p.useEffect(()=>{const b=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(b)},[]),a.jsx(yn,{present:i||m,children:({present:b})=>a.jsx(Le.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!b,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:b&&o})})});MS.displayName=jS;function RS(e,t){return`${e}-trigger-${t}`}function OS(e,t){return`${e}-content-${t}`}var $5=CS,kS=ES,AS=NS,IS=MS;const up=$5,qu=p.forwardRef(({className:e,...t},n)=>a.jsx(kS,{ref:n,className:Pe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));qu.displayName=kS.displayName;const ai=p.forwardRef(({className:e,...t},n)=>a.jsx(AS,{ref:n,className:Pe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ai.displayName=AS.displayName;const To=p.forwardRef(({className:e,...t},n)=>a.jsx(IS,{ref:n,className:Pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));To.displayName=IS.displayName;const qy=1,z5=10;function DS(){const{formData:e,setFormData:t}=Cl(),[n,r]=p.useState(!1),[i,o]=p.useState(!1),[l,u]=p.useState(!1),[d,f]=p.useState([]),[m,g]=p.useState(0),[b,x]=p.useState(null),[w,v]=p.useState(!1),[_,C]=p.useState("gps"),[P,E]=p.useState({heading:0,accuracy:0,isGPSBased:!1,isErratic:!1,speed:0}),M=p.useRef([]),T=p.useRef(null),I=p.useRef(null),R=p.useRef(null),k=p.useRef(null),U=p.useRef(null);p.useEffect(()=>{const G=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;v(G);const ie=localStorage.getItem("compassCalibrationOffset");ie&&g(parseFloat(ie));const se=localStorage.getItem("compassMode");return se&&C(se),window.DeviceOrientationEvent?x(!G):(ye.error("Device orientation is not supported on this device"),x(!1)),()=>{R.current!==null&&navigator.geolocation.clearWatch(R.current),k.current&&k.current.srcObject&&k.current.srcObject.getTracks().forEach(he=>he.stop())}},[]);const X=G=>{const ie=parseInt(G);!isNaN(ie)&&ie>=0&&ie<=360&&t({compass_bearing:ie})},re=()=>{_==="visual"?J():$()},$=()=>{u(!0),ye.info("Point your device north and tap 'Set North' when ready")},ne=()=>{if(I.current!==null){const G=(360-I.current)%360;g(G),localStorage.setItem("compassCalibrationOffset",G.toString()),u(!1),ye.success("North direction set successfully")}},J=async()=>{try{const G=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});k.current&&(k.current.srcObject=G,u(!0),ye.info("Align the camera with a known landmark and tap 'Set Direction'"))}catch(G){console.error("Error accessing camera:",G),ye.error("Failed to access camera")}},H=()=>{if(U.current&&k.current){const G=U.current,ie=k.current,se=G.getContext("2d");if(se){se.drawImage(ie,0,0,G.width,G.height),se.getImageData(0,0,G.width,G.height);const le=0;g(le),localStorage.setItem("compassCalibrationOffset",le.toString()),u(!1),ye.success("Direction set from visual reference")}}},K=p.useCallback(G=>{if(!n||i||!T.current){T.current=G;return}const{speed:ie,accuracy:se}=G.coords,le=T.current.coords,he=G.coords;if(E(oe=>({...oe,speed:ie||0,accuracy:se<=z5?1:.5})),ie&&ie>qy){const oe=Math.round((Math.atan2(he.longitude-le.longitude,he.latitude-le.latitude)*180/Math.PI+360)%360);E(be=>({...be,heading:oe,isGPSBased:!0,isErratic:!1})),i||t({compass_bearing:oe})}else if(_==="manual"&&I.current!==null){const oe=(I.current+m)%360;E(be=>({...be,heading:oe,isGPSBased:!1,isErratic:!1})),i||t({compass_bearing:oe})}T.current=G},[n,i,t,_,m]),Y=p.useCallback(G=>{if(!n||i)return;let ie=0;if(w&&G.webkitCompassHeading?ie=G.webkitCompassHeading:G.alpha!==null&&(ie=Math.round((360-G.alpha)%360)),I.current=ie,_==="manual"&&P.speed<=qy){const se=(ie+m)%360;M.current=[...M.current.slice(-4),se];const le=Math.round(M.current.reduce((he,oe)=>he+oe,0)/M.current.length);E(he=>({...he,heading:le,accuracy:.8,isGPSBased:!1,isErratic:!1})),i||t({compass_bearing:le})}},[n,i,m,t,_,P.speed]);p.useEffect(()=>(n&&(R.current=navigator.geolocation.watchPosition(K,G=>console.error("GPS Error:",G),{enableHighAccuracy:!0}),_==="manual"&&window.addEventListener("deviceorientation",Y)),()=>{R.current!==null&&navigator.geolocation.clearWatch(R.current),window.removeEventListener("deviceorientation",Y)}),[n,K,Y,_]);const O=()=>{r(!n),n?ye.info("Compass tracking stopped"):ye.info("Compass tracking started")},W=()=>{o(!i),i?ye.info("Compass bearing unlocked"):ye.info("Compass bearing locked")},V=G=>{C(G),localStorage.setItem("compassMode",G),ye.info(`Switched to ${G} mode`)},Q=G=>G>=.8?"bg-green-500":G>=.5?"bg-yellow-500":"bg-red-500";return a.jsx("div",{className:"space-y-6",children:a.jsx(Ze,{children:a.jsx(Ke,{className:"pt-6",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx(up,{defaultValue:_,onValueChange:G=>V(G),children:a.jsxs(qu,{children:[a.jsxs(ai,{value:"gps",children:[a.jsx(Lg,{className:"w-4 h-4 mr-2"}),"GPS"]}),a.jsxs(ai,{value:"manual",children:[a.jsx(Bf,{className:"w-4 h-4 mr-2"}),"Manual"]}),a.jsxs(ai,{value:"visual",children:[a.jsx(Uc,{className:"w-4 h-4 mr-2"}),"Visual"]})]})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(Ae,{variant:n?"destructive":"default",onClick:O,className:"flex items-center space-x-2",children:[a.jsx(Bf,{className:`w-4 h-4 ${n?"animate-spin":""}`}),a.jsx("span",{children:n?"Stop Tracking":"Start Tracking"})]}),a.jsxs(Ae,{variant:i?"default":"outline",onClick:W,className:"flex items-center space-x-2",disabled:!n,children:[i?a.jsx(XN,{className:"w-4 h-4"}):a.jsx(qN,{className:"w-4 h-4"}),a.jsx("span",{children:i?"Unlock":"Lock"})]}),l?a.jsxs(Ae,{variant:"default",onClick:_==="visual"?H:ne,className:"flex items-center space-x-2",children:[a.jsx(Lg,{className:"w-4 h-4"}),a.jsxs("span",{children:["Set ",_==="visual"?"Direction":"North"]})]}):a.jsxs(Ae,{variant:"outline",onClick:re,className:"flex items-center space-x-2",disabled:!n,children:[a.jsx(Vo,{className:`w-4 h-4 ${l?"animate-spin":""}`}),a.jsx("span",{children:"Calibrate"})]})]}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(kt,{htmlFor:"compass_bearing",className:"text-lg",children:"Compass Bearing (0-360)"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(dt,{type:"number",id:"compass_bearing",min:"0",max:"360",value:e.compass_bearing||"",onChange:G=>X(G.target.value),className:"w-32 text-center",disabled:n&&!i}),a.jsx("span",{className:"text-lg",children:""})]})]}),n&&a.jsxs("div",{className:"w-full space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{children:"Accuracy:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Jm,{value:P.accuracy*100,className:"w-24"}),a.jsx("span",{className:`w-3 h-3 rounded-full ${Q(P.accuracy)}`})]})]}),P.isGPSBased&&a.jsxs("div",{className:"text-sm text-blue-500",children:["Using GPS-based heading (Speed: ",P.speed.toFixed(1)," m/s)"]}),P.isErratic&&a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-red-500",children:[a.jsx(Bo,{className:"w-4 h-4"}),a.jsx("span",{children:"Compass readings are erratic. Please calibrate or use manual mode."})]})]}),_==="visual"&&l&&a.jsxs("div",{className:"relative w-full aspect-video",children:[a.jsx("video",{ref:k,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover rounded-lg"}),a.jsx("canvas",{ref:U,className:"hidden",width:640,height:480}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"w-32 h-32 border-2 border-white rounded-full opacity-50"})})]}),a.jsxs("div",{className:"text-sm text-gray-500 text-center max-w-md",children:["Enter the compass bearing in degrees, where:",a.jsxs("ul",{className:"mt-2 space-y-1",children:[a.jsx("li",{children:"0 or 360 = North"}),a.jsx("li",{children:"90 = East"}),a.jsx("li",{children:"180 = South"}),a.jsx("li",{children:"270 = West"})]})]})]})})})})}function LS(){const{formData:e,setFormData:t}=Cl(),{user:n}=mi(),[r,i]=p.useState(!1),[o,l]=p.useState(e.photo_url||null),u=p.useRef(null),d=p.useRef(null),f=p.useCallback(async x=>{try{if(!n){ye.error("Please log in to upload photos");return}if(!x){ye.error("No file selected");return}if(!x.type.startsWith("image/")){ye.error("Please select an image file");return}if(x.size>5*1024*1024){ye.error("File size should be less than 5MB");return}i(!0),ye.info("Uploading photo...");const w=x.name.split(".").pop(),_=`activity-photos/${`${n.id}_${Date.now()}.${w}`}`,C=URL.createObjectURL(x);l(C);const{error:P}=await Ce.storage.from("elephant-watch").upload(_,x,{cacheControl:"3600",upsert:!1});if(P){console.error("Upload error:",P),ye.error("Failed to upload photo. Please try again."),l(null),t({...e,photo_url:void 0});return}t({...e,photo_url:_}),ye.success("Photo uploaded successfully!")}catch(w){console.error("Error uploading photo:",w),ye.error("Failed to upload photo. Please try again."),l(null),t({...e,photo_url:void 0})}finally{i(!1)}},[e,t,n]),m=p.useCallback(async()=>{if(e.photo_url)try{if(i(!0),e.photo_url.startsWith("activity-photos/")){const{error:x}=await Ce.storage.from("elephant-watch").remove([e.photo_url]);if(x){console.error("Error removing photo:",x),ye.error("Failed to remove photo");return}}l(null),t({...e,photo_url:void 0}),ye.success("Photo removed successfully!")}catch(x){console.error("Error removing photo:",x),ye.error("Failed to remove photo. Please try again.")}finally{i(!1)}},[e,t]),g=()=>{if(!n){ye.error("Please log in to take photos");return}d.current&&d.current.click()},b=()=>{if(!n){ye.error("Please log in to upload photos");return}u.current&&u.current.click()};return a.jsx(Ze,{children:a.jsx(Ke,{className:"pt-6",children:a.jsx("div",{className:"flex flex-col items-center gap-4",children:o?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:o,alt:"Preview",className:"max-w-full h-auto rounded-lg shadow-lg",style:{maxHeight:"300px"}}),a.jsx(Ae,{variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:m,disabled:r,children:a.jsx(qh,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Uc,{className:"w-16 h-16 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Upload a photo of the elephant or signs of elephant activity (optional)"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsx("input",{ref:d,type:"file",className:"hidden",accept:"image/*",capture:"environment",onChange:x=>{var v;const w=(v=x.target.files)==null?void 0:v[0];w&&f(w)},disabled:r}),a.jsx("input",{ref:u,type:"file",className:"hidden",accept:"image/*",onChange:x=>{var v;const w=(v=x.target.files)==null?void 0:v[0];w&&f(w)},disabled:r}),a.jsxs(Ae,{type:"button",variant:"outline",onClick:g,disabled:r,className:"w-full sm:w-auto",children:[a.jsx(Uc,{className:"w-4 h-4 mr-2"}),r?"Uploading...":"Take Photo"]}),a.jsxs(Ae,{type:"button",variant:"outline",onClick:b,disabled:r,className:"w-full sm:w-auto",children:[a.jsx(rj,{className:"w-4 h-4 mr-2"}),r?"Uploading...":"Upload Photo"]})]})]})})})})}const W5=()=>{const[e,t]=p.useState(navigator.onLine);return p.useEffect(()=>{const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),e};function bc(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pf={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Xy;function U5(){return Xy||(Xy=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,o){function l(f,m){if(!i[f]){if(!r[f]){var g=typeof bc=="function"&&bc;if(!m&&g)return g(f,!0);if(u)return u(f,!0);var b=new Error("Cannot find module '"+f+"'");throw b.code="MODULE_NOT_FOUND",b}var x=i[f]={exports:{}};r[f][0].call(x.exports,function(w){var v=r[f][1][w];return l(v||w)},x,x.exports,n,r,i,o)}return i[f].exports}for(var u=typeof bc=="function"&&bc,d=0;d<o.length;d++)l(o[d]);return l}({1:[function(n,r,i){(function(o){var l=o.MutationObserver||o.WebKitMutationObserver,u;if(l){var d=0,f=new l(w),m=o.document.createTextNode("");f.observe(m,{characterData:!0}),u=function(){m.data=d=++d%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var g=new o.MessageChannel;g.port1.onmessage=w,u=function(){g.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?u=function(){var _=o.document.createElement("script");_.onreadystatechange=function(){w(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},o.document.documentElement.appendChild(_)}:u=function(){setTimeout(w,0)};var b,x=[];function w(){b=!0;for(var _,C,P=x.length;P;){for(C=x,x=[],_=-1;++_<P;)C[_]();P=x.length}b=!1}r.exports=v;function v(_){x.push(_)===1&&!b&&u()}}).call(this,typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var o=n(1);function l(){}var u={},d=["REJECTED"],f=["FULFILLED"],m=["PENDING"];r.exports=g;function g(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,T!==l&&v(this,T)}g.prototype.catch=function(T){return this.then(null,T)},g.prototype.then=function(T,I){if(typeof T!="function"&&this.state===f||typeof I!="function"&&this.state===d)return this;var R=new this.constructor(l);if(this.state!==m){var k=this.state===f?T:I;x(R,k,this.outcome)}else this.queue.push(new b(R,T,I));return R};function b(T,I,R){this.promise=T,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(T){u.resolve(this.promise,T)},b.prototype.otherCallFulfilled=function(T){x(this.promise,this.onFulfilled,T)},b.prototype.callRejected=function(T){u.reject(this.promise,T)},b.prototype.otherCallRejected=function(T){x(this.promise,this.onRejected,T)};function x(T,I,R){o(function(){var k;try{k=I(R)}catch(U){return u.reject(T,U)}k===T?u.reject(T,new TypeError("Cannot resolve promise with itself")):u.resolve(T,k)})}u.resolve=function(T,I){var R=_(w,I);if(R.status==="error")return u.reject(T,R.value);var k=R.value;if(k)v(T,k);else{T.state=f,T.outcome=I;for(var U=-1,X=T.queue.length;++U<X;)T.queue[U].callFulfilled(I)}return T},u.reject=function(T,I){T.state=d,T.outcome=I;for(var R=-1,k=T.queue.length;++R<k;)T.queue[R].callRejected(I);return T};function w(T){var I=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof I=="function")return function(){I.apply(T,arguments)}}function v(T,I){var R=!1;function k($){R||(R=!0,u.reject(T,$))}function U($){R||(R=!0,u.resolve(T,$))}function X(){I(U,k)}var re=_(X);re.status==="error"&&k(re.value)}function _(T,I){var R={};try{R.value=T(I),R.status="success"}catch(k){R.status="error",R.value=k}return R}g.resolve=C;function C(T){return T instanceof this?T:u.resolve(new this(l),T)}g.reject=P;function P(T){var I=new this(l);return u.reject(I,T)}g.all=E;function E(T){var I=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=T.length,k=!1;if(!R)return this.resolve([]);for(var U=new Array(R),X=0,re=-1,$=new this(l);++re<R;)ne(T[re],re);return $;function ne(J,H){I.resolve(J).then(K,function(Y){k||(k=!0,u.reject($,Y))});function K(Y){U[H]=Y,++X===R&&!k&&(k=!0,u.resolve($,U))}}}g.race=M;function M(T){var I=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=T.length,k=!1;if(!R)return this.resolve([]);for(var U=-1,X=new this(l);++U<R;)re(T[U]);return X;function re($){I.resolve($).then(function(ne){k||(k=!0,u.resolve(X,ne))},function(ne){k||(k=!0,u.reject(X,ne))})}}},{1:1}],3:[function(n,r,i){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j};function l(j,B){if(!(j instanceof B))throw new TypeError("Cannot call a class as a function")}function u(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=u();function f(){try{if(!d||!d.open)return!1;var j=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),B=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!j||B)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function m(j,B){j=j||[],B=B||{};try{return new Blob(j,B)}catch(D){if(D.name!=="TypeError")throw D;for(var A=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,z=new A,Z=0;Z<j.length;Z+=1)z.append(j[Z]);return z.getBlob(B.type)}}typeof Promise>"u"&&n(3);var g=Promise;function b(j,B){B&&j.then(function(A){B(null,A)},function(A){B(A)})}function x(j,B,A){typeof B=="function"&&j.then(B),typeof A=="function"&&j.catch(A)}function w(j){return typeof j!="string"&&(console.warn(j+" used as a key, but it is not a string."),j=String(j)),j}function v(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var _="local-forage-detect-blob-support",C=void 0,P={},E=Object.prototype.toString,M="readonly",T="readwrite";function I(j){for(var B=j.length,A=new ArrayBuffer(B),z=new Uint8Array(A),Z=0;Z<B;Z++)z[Z]=j.charCodeAt(Z);return A}function R(j){return new g(function(B){var A=j.transaction(_,T),z=m([""]);A.objectStore(_).put(z,"key"),A.onabort=function(Z){Z.preventDefault(),Z.stopPropagation(),B(!1)},A.oncomplete=function(){var Z=navigator.userAgent.match(/Chrome\/(\d+)/),D=navigator.userAgent.match(/Edge\//);B(D||!Z||parseInt(Z[1],10)>=43)}}).catch(function(){return!1})}function k(j){return typeof C=="boolean"?g.resolve(C):R(j).then(function(B){return C=B,C})}function U(j){var B=P[j.name],A={};A.promise=new g(function(z,Z){A.resolve=z,A.reject=Z}),B.deferredOperations.push(A),B.dbReady?B.dbReady=B.dbReady.then(function(){return A.promise}):B.dbReady=A.promise}function X(j){var B=P[j.name],A=B.deferredOperations.pop();if(A)return A.resolve(),A.promise}function re(j,B){var A=P[j.name],z=A.deferredOperations.pop();if(z)return z.reject(B),z.promise}function $(j,B){return new g(function(A,z){if(P[j.name]=P[j.name]||G(),j.db)if(B)U(j),j.db.close();else return A(j.db);var Z=[j.name];B&&Z.push(j.version);var D=d.open.apply(d,Z);B&&(D.onupgradeneeded=function(te){var ue=D.result;try{ue.createObjectStore(j.storeName),te.oldVersion<=1&&ue.createObjectStore(_)}catch(pe){if(pe.name==="ConstraintError")console.warn('The database "'+j.name+'" has been upgraded from version '+te.oldVersion+" to version "+te.newVersion+', but the storage "'+j.storeName+'" already exists.');else throw pe}}),D.onerror=function(te){te.preventDefault(),z(D.error)},D.onsuccess=function(){var te=D.result;te.onversionchange=function(ue){ue.target.close()},A(te),X(j)}})}function ne(j){return $(j,!1)}function J(j){return $(j,!0)}function H(j,B){if(!j.db)return!0;var A=!j.db.objectStoreNames.contains(j.storeName),z=j.version<j.db.version,Z=j.version>j.db.version;if(z&&(j.version!==B&&console.warn('The database "'+j.name+`" can't be downgraded from version `+j.db.version+" to version "+j.version+"."),j.version=j.db.version),Z||A){if(A){var D=j.db.version+1;D>j.version&&(j.version=D)}return!0}return!1}function K(j){return new g(function(B,A){var z=new FileReader;z.onerror=A,z.onloadend=function(Z){var D=btoa(Z.target.result||"");B({__local_forage_encoded_blob:!0,data:D,type:j.type})},z.readAsBinaryString(j)})}function Y(j){var B=I(atob(j.data));return m([B],{type:j.type})}function O(j){return j&&j.__local_forage_encoded_blob}function W(j){var B=this,A=B._initReady().then(function(){var z=P[B._dbInfo.name];if(z&&z.dbReady)return z.dbReady});return x(A,j,j),A}function V(j){U(j);for(var B=P[j.name],A=B.forages,z=0;z<A.length;z++){var Z=A[z];Z._dbInfo.db&&(Z._dbInfo.db.close(),Z._dbInfo.db=null)}return j.db=null,ne(j).then(function(D){return j.db=D,H(j)?J(j):D}).then(function(D){j.db=B.db=D;for(var te=0;te<A.length;te++)A[te]._dbInfo.db=D}).catch(function(D){throw re(j,D),D})}function Q(j,B,A,z){z===void 0&&(z=1);try{var Z=j.db.transaction(j.storeName,B);A(null,Z)}catch(D){if(z>0&&(!j.db||D.name==="InvalidStateError"||D.name==="NotFoundError"))return g.resolve().then(function(){if(!j.db||D.name==="NotFoundError"&&!j.db.objectStoreNames.contains(j.storeName)&&j.version<=j.db.version)return j.db&&(j.version=j.db.version+1),J(j)}).then(function(){return V(j).then(function(){Q(j,B,A,z-1)})}).catch(A);A(D)}}function G(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ie(j){var B=this,A={db:null};if(j)for(var z in j)A[z]=j[z];var Z=P[A.name];Z||(Z=G(),P[A.name]=Z),Z.forages.push(B),B._initReady||(B._initReady=B.ready,B.ready=W);var D=[];function te(){return g.resolve()}for(var ue=0;ue<Z.forages.length;ue++){var pe=Z.forages[ue];pe!==B&&D.push(pe._initReady().catch(te))}var de=Z.forages.slice(0);return g.all(D).then(function(){return A.db=Z.db,ne(A)}).then(function(ve){return A.db=ve,H(A,B._defaultConfig.version)?J(A):ve}).then(function(ve){A.db=Z.db=ve,B._dbInfo=A;for(var Se=0;Se<de.length;Se++){var He=de[Se];He!==B&&(He._dbInfo.db=A.db,He._dbInfo.version=A.version)}})}function se(j,B){var A=this;j=w(j);var z=new g(function(Z,D){A.ready().then(function(){Q(A._dbInfo,M,function(te,ue){if(te)return D(te);try{var pe=ue.objectStore(A._dbInfo.storeName),de=pe.get(j);de.onsuccess=function(){var ve=de.result;ve===void 0&&(ve=null),O(ve)&&(ve=Y(ve)),Z(ve)},de.onerror=function(){D(de.error)}}catch(ve){D(ve)}})}).catch(D)});return b(z,B),z}function le(j,B){var A=this,z=new g(function(Z,D){A.ready().then(function(){Q(A._dbInfo,M,function(te,ue){if(te)return D(te);try{var pe=ue.objectStore(A._dbInfo.storeName),de=pe.openCursor(),ve=1;de.onsuccess=function(){var Se=de.result;if(Se){var He=Se.value;O(He)&&(He=Y(He));var De=j(He,Se.key,ve++);De!==void 0?Z(De):Se.continue()}else Z()},de.onerror=function(){D(de.error)}}catch(Se){D(Se)}})}).catch(D)});return b(z,B),z}function he(j,B,A){var z=this;j=w(j);var Z=new g(function(D,te){var ue;z.ready().then(function(){return ue=z._dbInfo,E.call(B)==="[object Blob]"?k(ue.db).then(function(pe){return pe?B:K(B)}):B}).then(function(pe){Q(z._dbInfo,T,function(de,ve){if(de)return te(de);try{var Se=ve.objectStore(z._dbInfo.storeName);pe===null&&(pe=void 0);var He=Se.put(pe,j);ve.oncomplete=function(){pe===void 0&&(pe=null),D(pe)},ve.onabort=ve.onerror=function(){var De=He.error?He.error:He.transaction.error;te(De)}}catch(De){te(De)}})}).catch(te)});return b(Z,A),Z}function oe(j,B){var A=this;j=w(j);var z=new g(function(Z,D){A.ready().then(function(){Q(A._dbInfo,T,function(te,ue){if(te)return D(te);try{var pe=ue.objectStore(A._dbInfo.storeName),de=pe.delete(j);ue.oncomplete=function(){Z()},ue.onerror=function(){D(de.error)},ue.onabort=function(){var ve=de.error?de.error:de.transaction.error;D(ve)}}catch(ve){D(ve)}})}).catch(D)});return b(z,B),z}function be(j){var B=this,A=new g(function(z,Z){B.ready().then(function(){Q(B._dbInfo,T,function(D,te){if(D)return Z(D);try{var ue=te.objectStore(B._dbInfo.storeName),pe=ue.clear();te.oncomplete=function(){z()},te.onabort=te.onerror=function(){var de=pe.error?pe.error:pe.transaction.error;Z(de)}}catch(de){Z(de)}})}).catch(Z)});return b(A,j),A}function Ne(j){var B=this,A=new g(function(z,Z){B.ready().then(function(){Q(B._dbInfo,M,function(D,te){if(D)return Z(D);try{var ue=te.objectStore(B._dbInfo.storeName),pe=ue.count();pe.onsuccess=function(){z(pe.result)},pe.onerror=function(){Z(pe.error)}}catch(de){Z(de)}})}).catch(Z)});return b(A,j),A}function Ee(j,B){var A=this,z=new g(function(Z,D){if(j<0){Z(null);return}A.ready().then(function(){Q(A._dbInfo,M,function(te,ue){if(te)return D(te);try{var pe=ue.objectStore(A._dbInfo.storeName),de=!1,ve=pe.openKeyCursor();ve.onsuccess=function(){var Se=ve.result;if(!Se){Z(null);return}j===0||de?Z(Se.key):(de=!0,Se.advance(j))},ve.onerror=function(){D(ve.error)}}catch(Se){D(Se)}})}).catch(D)});return b(z,B),z}function Re(j){var B=this,A=new g(function(z,Z){B.ready().then(function(){Q(B._dbInfo,M,function(D,te){if(D)return Z(D);try{var ue=te.objectStore(B._dbInfo.storeName),pe=ue.openKeyCursor(),de=[];pe.onsuccess=function(){var ve=pe.result;if(!ve){z(de);return}de.push(ve.key),ve.continue()},pe.onerror=function(){Z(pe.error)}}catch(ve){Z(ve)}})}).catch(Z)});return b(A,j),A}function Oe(j,B){B=v.apply(this,arguments);var A=this.config();j=typeof j!="function"&&j||{},j.name||(j.name=j.name||A.name,j.storeName=j.storeName||A.storeName);var z=this,Z;if(!j.name)Z=g.reject("Invalid arguments");else{var D=j.name===A.name&&z._dbInfo.db,te=D?g.resolve(z._dbInfo.db):ne(j).then(function(ue){var pe=P[j.name],de=pe.forages;pe.db=ue;for(var ve=0;ve<de.length;ve++)de[ve]._dbInfo.db=ue;return ue});j.storeName?Z=te.then(function(ue){if(ue.objectStoreNames.contains(j.storeName)){var pe=ue.version+1;U(j);var de=P[j.name],ve=de.forages;ue.close();for(var Se=0;Se<ve.length;Se++){var He=ve[Se];He._dbInfo.db=null,He._dbInfo.version=pe}var De=new g(function(et,wt){var _t=d.open(j.name,pe);_t.onerror=function(Jt){var ir=_t.result;ir.close(),wt(Jt)},_t.onupgradeneeded=function(){var Jt=_t.result;Jt.deleteObjectStore(j.storeName)},_t.onsuccess=function(){var Jt=_t.result;Jt.close(),et(Jt)}});return De.then(function(et){de.db=et;for(var wt=0;wt<ve.length;wt++){var _t=ve[wt];_t._dbInfo.db=et,X(_t._dbInfo)}}).catch(function(et){throw(re(j,et)||g.resolve()).catch(function(){}),et})}}):Z=te.then(function(ue){U(j);var pe=P[j.name],de=pe.forages;ue.close();for(var ve=0;ve<de.length;ve++){var Se=de[ve];Se._dbInfo.db=null}var He=new g(function(De,et){var wt=d.deleteDatabase(j.name);wt.onerror=function(){var _t=wt.result;_t&&_t.close(),et(wt.error)},wt.onblocked=function(){console.warn('dropInstance blocked for database "'+j.name+'" until all open connections are closed')},wt.onsuccess=function(){var _t=wt.result;_t&&_t.close(),De(_t)}});return He.then(function(De){pe.db=De;for(var et=0;et<de.length;et++){var wt=de[et];X(wt._dbInfo)}}).catch(function(De){throw(re(j,De)||g.resolve()).catch(function(){}),De})})}return b(Z,B),Z}var Qe={_driver:"asyncStorage",_initStorage:ie,_support:f(),iterate:le,getItem:se,setItem:he,removeItem:oe,clear:be,length:Ne,key:Ee,keys:Re,dropInstance:Oe};function xt(){return typeof openDatabase=="function"}var bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$t="~~local_forage_type~",Ht=/^~~local_forage_type~([^~]+)~/,zt="__lfsc__:",Mt=zt.length,Hr="arbf",On="blob",vi="si08",kn="ui08",$s="uic8",zs="si16",Wt="si32",Wn="ur16",Ji="ui32",Ws="fl32",_r="fl64",Qi=Mt+Hr.length,es=Object.prototype.toString;function Zr(j){var B=j.length*.75,A=j.length,z,Z=0,D,te,ue,pe;j[j.length-1]==="="&&(B--,j[j.length-2]==="="&&B--);var de=new ArrayBuffer(B),ve=new Uint8Array(de);for(z=0;z<A;z+=4)D=bt.indexOf(j[z]),te=bt.indexOf(j[z+1]),ue=bt.indexOf(j[z+2]),pe=bt.indexOf(j[z+3]),ve[Z++]=D<<2|te>>4,ve[Z++]=(te&15)<<4|ue>>2,ve[Z++]=(ue&3)<<6|pe&63;return de}function _n(j){var B=new Uint8Array(j),A="",z;for(z=0;z<B.length;z+=3)A+=bt[B[z]>>2],A+=bt[(B[z]&3)<<4|B[z+1]>>4],A+=bt[(B[z+1]&15)<<2|B[z+2]>>6],A+=bt[B[z+2]&63];return B.length%3===2?A=A.substring(0,A.length-1)+"=":B.length%3===1&&(A=A.substring(0,A.length-2)+"=="),A}function ts(j,B){var A="";if(j&&(A=es.call(j)),j&&(A==="[object ArrayBuffer]"||j.buffer&&es.call(j.buffer)==="[object ArrayBuffer]")){var z,Z=zt;j instanceof ArrayBuffer?(z=j,Z+=Hr):(z=j.buffer,A==="[object Int8Array]"?Z+=vi:A==="[object Uint8Array]"?Z+=kn:A==="[object Uint8ClampedArray]"?Z+=$s:A==="[object Int16Array]"?Z+=zs:A==="[object Uint16Array]"?Z+=Wn:A==="[object Int32Array]"?Z+=Wt:A==="[object Uint32Array]"?Z+=Ji:A==="[object Float32Array]"?Z+=Ws:A==="[object Float64Array]"?Z+=_r:B(new Error("Failed to get type for BinaryArray"))),B(Z+_n(z))}else if(A==="[object Blob]"){var D=new FileReader;D.onload=function(){var te=$t+j.type+"~"+_n(this.result);B(zt+On+te)},D.readAsArrayBuffer(j)}else try{B(JSON.stringify(j))}catch(te){console.error("Couldn't convert value into a JSON string: ",j),B(null,te)}}function wr(j){if(j.substring(0,Mt)!==zt)return JSON.parse(j);var B=j.substring(Qi),A=j.substring(Mt,Qi),z;if(A===On&&Ht.test(B)){var Z=B.match(Ht);z=Z[1],B=B.substring(Z[0].length)}var D=Zr(B);switch(A){case Hr:return D;case On:return m([D],{type:z});case vi:return new Int8Array(D);case kn:return new Uint8Array(D);case $s:return new Uint8ClampedArray(D);case zs:return new Int16Array(D);case Wn:return new Uint16Array(D);case Wt:return new Int32Array(D);case Ji:return new Uint32Array(D);case Ws:return new Float32Array(D);case _r:return new Float64Array(D);default:throw new Error("Unkown type: "+A)}}var nr={serialize:ts,deserialize:wr,stringToBuffer:Zr,bufferToString:_n};function Us(j,B,A,z){j.executeSql("CREATE TABLE IF NOT EXISTS "+B.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],A,z)}function Hs(j){var B=this,A={db:null};if(j)for(var z in j)A[z]=typeof j[z]!="string"?j[z].toString():j[z];var Z=new g(function(D,te){try{A.db=openDatabase(A.name,String(A.version),A.description,A.size)}catch(ue){return te(ue)}A.db.transaction(function(ue){Us(ue,A,function(){B._dbInfo=A,D()},function(pe,de){te(de)})},te)});return A.serializer=nr,Z}function wn(j,B,A,z,Z,D){j.executeSql(A,z,Z,function(te,ue){ue.code===ue.SYNTAX_ERR?te.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[B.storeName],function(pe,de){de.rows.length?D(pe,ue):Us(pe,B,function(){pe.executeSql(A,z,Z,D)},D)},D):D(te,ue)},D)}function Zs(j,B){var A=this;j=w(j);var z=new g(function(Z,D){A.ready().then(function(){var te=A._dbInfo;te.db.transaction(function(ue){wn(ue,te,"SELECT * FROM "+te.storeName+" WHERE key = ? LIMIT 1",[j],function(pe,de){var ve=de.rows.length?de.rows.item(0).value:null;ve&&(ve=te.serializer.deserialize(ve)),Z(ve)},function(pe,de){D(de)})})}).catch(D)});return b(z,B),z}function yi(j,B){var A=this,z=new g(function(Z,D){A.ready().then(function(){var te=A._dbInfo;te.db.transaction(function(ue){wn(ue,te,"SELECT * FROM "+te.storeName,[],function(pe,de){for(var ve=de.rows,Se=ve.length,He=0;He<Se;He++){var De=ve.item(He),et=De.value;if(et&&(et=te.serializer.deserialize(et)),et=j(et,De.key,He+1),et!==void 0){Z(et);return}}Z()},function(pe,de){D(de)})})}).catch(D)});return b(z,B),z}function An(j,B,A,z){var Z=this;j=w(j);var D=new g(function(te,ue){Z.ready().then(function(){B===void 0&&(B=null);var pe=B,de=Z._dbInfo;de.serializer.serialize(B,function(ve,Se){Se?ue(Se):de.db.transaction(function(He){wn(He,de,"INSERT OR REPLACE INTO "+de.storeName+" (key, value) VALUES (?, ?)",[j,ve],function(){te(pe)},function(De,et){ue(et)})},function(He){if(He.code===He.QUOTA_ERR){if(z>0){te(An.apply(Z,[j,pe,A,z-1]));return}ue(He)}})})}).catch(ue)});return b(D,A),D}function aa(j,B,A){return An.apply(this,[j,B,A,1])}function Ue(j,B){var A=this;j=w(j);var z=new g(function(Z,D){A.ready().then(function(){var te=A._dbInfo;te.db.transaction(function(ue){wn(ue,te,"DELETE FROM "+te.storeName+" WHERE key = ?",[j],function(){Z()},function(pe,de){D(de)})})}).catch(D)});return b(z,B),z}function ot(j){var B=this,A=new g(function(z,Z){B.ready().then(function(){var D=B._dbInfo;D.db.transaction(function(te){wn(te,D,"DELETE FROM "+D.storeName,[],function(){z()},function(ue,pe){Z(pe)})})}).catch(Z)});return b(A,j),A}function gt(j){var B=this,A=new g(function(z,Z){B.ready().then(function(){var D=B._dbInfo;D.db.transaction(function(te){wn(te,D,"SELECT COUNT(key) as c FROM "+D.storeName,[],function(ue,pe){var de=pe.rows.item(0).c;z(de)},function(ue,pe){Z(pe)})})}).catch(Z)});return b(A,j),A}function cn(j,B){var A=this,z=new g(function(Z,D){A.ready().then(function(){var te=A._dbInfo;te.db.transaction(function(ue){wn(ue,te,"SELECT key FROM "+te.storeName+" WHERE id = ? LIMIT 1",[j+1],function(pe,de){var ve=de.rows.length?de.rows.item(0).key:null;Z(ve)},function(pe,de){D(de)})})}).catch(D)});return b(z,B),z}function Yt(j){var B=this,A=new g(function(z,Z){B.ready().then(function(){var D=B._dbInfo;D.db.transaction(function(te){wn(te,D,"SELECT key FROM "+D.storeName,[],function(ue,pe){for(var de=[],ve=0;ve<pe.rows.length;ve++)de.push(pe.rows.item(ve).key);z(de)},function(ue,pe){Z(pe)})})}).catch(Z)});return b(A,j),A}function Un(j){return new g(function(B,A){j.transaction(function(z){z.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Z,D){for(var te=[],ue=0;ue<D.rows.length;ue++)te.push(D.rows.item(ue).name);B({db:j,storeNames:te})},function(Z,D){A(D)})},function(z){A(z)})})}function rr(j,B){B=v.apply(this,arguments);var A=this.config();j=typeof j!="function"&&j||{},j.name||(j.name=j.name||A.name,j.storeName=j.storeName||A.storeName);var z=this,Z;return j.name?Z=new g(function(D){var te;j.name===A.name?te=z._dbInfo.db:te=openDatabase(j.name,"","",0),j.storeName?D({db:te,storeNames:[j.storeName]}):D(Un(te))}).then(function(D){return new g(function(te,ue){D.db.transaction(function(pe){function de(De){return new g(function(et,wt){pe.executeSql("DROP TABLE IF EXISTS "+De,[],function(){et()},function(_t,Jt){wt(Jt)})})}for(var ve=[],Se=0,He=D.storeNames.length;Se<He;Se++)ve.push(de(D.storeNames[Se]));g.all(ve).then(function(){te()}).catch(function(De){ue(De)})},function(pe){ue(pe)})})}):Z=g.reject("Invalid arguments"),b(Z,B),Z}var un={_driver:"webSQLStorage",_initStorage:Hs,_support:xt(),iterate:yi,getItem:Zs,setItem:aa,removeItem:Ue,clear:ot,length:gt,key:cn,keys:Yt,dropInstance:rr};function Hn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function In(j,B){var A=j.name+"/";return j.storeName!==B.storeName&&(A+=j.storeName+"/"),A}function je(){var j="_localforage_support_test";try{return localStorage.setItem(j,!0),localStorage.removeItem(j),!1}catch{return!0}}function Dl(){return!je()||localStorage.length>0}function Ll(j){var B=this,A={};if(j)for(var z in j)A[z]=j[z];return A.keyPrefix=In(j,B._defaultConfig),Dl()?(B._dbInfo=A,A.serializer=nr,g.resolve()):g.reject()}function Fl(j){var B=this,A=B.ready().then(function(){for(var z=B._dbInfo.keyPrefix,Z=localStorage.length-1;Z>=0;Z--){var D=localStorage.key(Z);D.indexOf(z)===0&&localStorage.removeItem(D)}});return b(A,j),A}function Bl(j,B){var A=this;j=w(j);var z=A.ready().then(function(){var Z=A._dbInfo,D=localStorage.getItem(Z.keyPrefix+j);return D&&(D=Z.serializer.deserialize(D)),D});return b(z,B),z}function la(j,B){var A=this,z=A.ready().then(function(){for(var Z=A._dbInfo,D=Z.keyPrefix,te=D.length,ue=localStorage.length,pe=1,de=0;de<ue;de++){var ve=localStorage.key(de);if(ve.indexOf(D)===0){var Se=localStorage.getItem(ve);if(Se&&(Se=Z.serializer.deserialize(Se)),Se=j(Se,ve.substring(te),pe++),Se!==void 0)return Se}}});return b(z,B),z}function Vl(j,B){var A=this,z=A.ready().then(function(){var Z=A._dbInfo,D;try{D=localStorage.key(j)}catch{D=null}return D&&(D=D.substring(Z.keyPrefix.length)),D});return b(z,B),z}function xi(j){var B=this,A=B.ready().then(function(){for(var z=B._dbInfo,Z=localStorage.length,D=[],te=0;te<Z;te++){var ue=localStorage.key(te);ue.indexOf(z.keyPrefix)===0&&D.push(ue.substring(z.keyPrefix.length))}return D});return b(A,j),A}function $l(j){var B=this,A=B.keys().then(function(z){return z.length});return b(A,j),A}function pd(j,B){var A=this;j=w(j);var z=A.ready().then(function(){var Z=A._dbInfo;localStorage.removeItem(Z.keyPrefix+j)});return b(z,B),z}function gd(j,B,A){var z=this;j=w(j);var Z=z.ready().then(function(){B===void 0&&(B=null);var D=B;return new g(function(te,ue){var pe=z._dbInfo;pe.serializer.serialize(B,function(de,ve){if(ve)ue(ve);else try{localStorage.setItem(pe.keyPrefix+j,de),te(D)}catch(Se){(Se.name==="QuotaExceededError"||Se.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ue(Se),ue(Se)}})})});return b(Z,A),Z}function vd(j,B){if(B=v.apply(this,arguments),j=typeof j!="function"&&j||{},!j.name){var A=this.config();j.name=j.name||A.name,j.storeName=j.storeName||A.storeName}var z=this,Z;return j.name?Z=new g(function(D){j.storeName?D(In(j,z._defaultConfig)):D(j.name+"/")}).then(function(D){for(var te=localStorage.length-1;te>=0;te--){var ue=localStorage.key(te);ue.indexOf(D)===0&&localStorage.removeItem(ue)}}):Z=g.reject("Invalid arguments"),b(Z,B),Z}var yd={_driver:"localStorageWrapper",_initStorage:Ll,_support:Hn(),iterate:la,getItem:Bl,setItem:gd,removeItem:pd,clear:Fl,length:$l,key:Vl,keys:xi,dropInstance:vd},zl=function(B,A){return B===A||typeof B=="number"&&typeof A=="number"&&isNaN(B)&&isNaN(A)},xd=function(B,A){for(var z=B.length,Z=0;Z<z;){if(zl(B[Z],A))return!0;Z++}return!1},ns=Array.isArray||function(j){return Object.prototype.toString.call(j)==="[object Array]"},rs={},Wl={},bi={INDEXEDDB:Qe,WEBSQL:un,LOCALSTORAGE:yd},bd=[bi.INDEXEDDB._driver,bi.WEBSQL._driver,bi.LOCALSTORAGE._driver],Gs=["dropInstance"],is=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Gs),ss={description:"",driver:bd.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ul(j,B){j[B]=function(){var A=arguments;return j.ready().then(function(){return j[B].apply(j,A)})}}function Ys(){for(var j=1;j<arguments.length;j++){var B=arguments[j];if(B)for(var A in B)B.hasOwnProperty(A)&&(ns(B[A])?arguments[0][A]=B[A].slice():arguments[0][A]=B[A])}return arguments[0]}var os=function(){function j(B){l(this,j);for(var A in bi)if(bi.hasOwnProperty(A)){var z=bi[A],Z=z._driver;this[A]=Z,rs[Z]||this.defineDriver(z)}this._defaultConfig=Ys({},ss),this._config=Ys({},this._defaultConfig,B),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return j.prototype.config=function(A){if((typeof A>"u"?"undefined":o(A))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var z in A){if(z==="storeName"&&(A[z]=A[z].replace(/\W/g,"_")),z==="version"&&typeof A[z]!="number")return new Error("Database version must be a number.");this._config[z]=A[z]}return"driver"in A&&A.driver?this.setDriver(this._config.driver):!0}else return typeof A=="string"?this._config[A]:this._config},j.prototype.defineDriver=function(A,z,Z){var D=new g(function(te,ue){try{var pe=A._driver,de=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!A._driver){ue(de);return}for(var ve=is.concat("_initStorage"),Se=0,He=ve.length;Se<He;Se++){var De=ve[Se],et=!xd(Gs,De);if((et||A[De])&&typeof A[De]!="function"){ue(de);return}}var wt=function(){for(var ir=function(ua){return function(){var Ks=new Error("Method "+ua+" is not implemented by the current driver"),da=g.reject(Ks);return b(da,arguments[arguments.length-1]),da}},as=0,ca=Gs.length;as<ca;as++){var _i=Gs[as];A[_i]||(A[_i]=ir(_i))}};wt();var _t=function(ir){rs[pe]&&console.info("Redefining LocalForage driver: "+pe),rs[pe]=A,Wl[pe]=ir,te()};"_support"in A?A._support&&typeof A._support=="function"?A._support().then(_t,ue):_t(!!A._support):_t(!0)}catch(Jt){ue(Jt)}});return x(D,z,Z),D},j.prototype.driver=function(){return this._driver||null},j.prototype.getDriver=function(A,z,Z){var D=rs[A]?g.resolve(rs[A]):g.reject(new Error("Driver not found."));return x(D,z,Z),D},j.prototype.getSerializer=function(A){var z=g.resolve(nr);return x(z,A),z},j.prototype.ready=function(A){var z=this,Z=z._driverSet.then(function(){return z._ready===null&&(z._ready=z._initDriver()),z._ready});return x(Z,A,A),Z},j.prototype.setDriver=function(A,z,Z){var D=this;ns(A)||(A=[A]);var te=this._getSupportedDrivers(A);function ue(){D._config.driver=D.driver()}function pe(Se){return D._extend(Se),ue(),D._ready=D._initStorage(D._config),D._ready}function de(Se){return function(){var He=0;function De(){for(;He<Se.length;){var et=Se[He];return He++,D._dbInfo=null,D._ready=null,D.getDriver(et).then(pe).catch(De)}ue();var wt=new Error("No available storage method found.");return D._driverSet=g.reject(wt),D._driverSet}return De()}}var ve=this._driverSet!==null?this._driverSet.catch(function(){return g.resolve()}):g.resolve();return this._driverSet=ve.then(function(){var Se=te[0];return D._dbInfo=null,D._ready=null,D.getDriver(Se).then(function(He){D._driver=He._driver,ue(),D._wrapLibraryMethodsWithReady(),D._initDriver=de(te)})}).catch(function(){ue();var Se=new Error("No available storage method found.");return D._driverSet=g.reject(Se),D._driverSet}),x(this._driverSet,z,Z),this._driverSet},j.prototype.supports=function(A){return!!Wl[A]},j.prototype._extend=function(A){Ys(this,A)},j.prototype._getSupportedDrivers=function(A){for(var z=[],Z=0,D=A.length;Z<D;Z++){var te=A[Z];this.supports(te)&&z.push(te)}return z},j.prototype._wrapLibraryMethodsWithReady=function(){for(var A=0,z=is.length;A<z;A++)Ul(this,is[A])},j.prototype.createInstance=function(A){return new j(A)},j}(),tt=new os;r.exports=tt},{3:3}]},{},[4])(4)})}(pf)),pf.exports}var H5=U5();const Z5=$h(H5),FS=Z5.createInstance({name:"ActivityReports",storeName:"pending_activities"}),Jy=async e=>{const t=crypto.randomUUID(),n={...e,id:t,timestamp:new Date().toISOString(),syncStatus:"pending",createdOffline:!0};return await FS.setItem(t,n),t},G5=async()=>{const e=[];return await FS.iterate(t=>{t.syncStatus==="pending"&&e.push(t)}),e},Y5=()=>{const[e,t]=p.useState(0);return p.useEffect(()=>{const n=async()=>{const i=await G5();t(i.length)};n();const r=setInterval(n,5e3);return()=>clearInterval(r)},[]),e===0?null:a.jsxs("div",{className:"fixed bottom-4 right-4 bg-yellow-500 text-white px-4 py-2 rounded-full shadow-lg flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[e," activities pending sync"]})]})},_c=[{type:"dateTimeLocation",title:"Date/Time & Location",icon:a.jsx(So,{className:"w-5 h-5"}),component:vw},{type:"observationType",title:"Type of Observation",icon:a.jsx(Cb,{className:"w-5 h-5"}),component:wS},{type:"compassBearing",title:"Compass Bearing",icon:a.jsx(Bf,{className:"w-5 h-5"}),component:DS},{type:"photo",title:"Photo",icon:a.jsx(Uc,{className:"w-5 h-5"}),component:LS}];function K5(){const{currentStep:e,formData:t,goToNextStep:n,goToPreviousStep:r,isStepValid:i,isLastStep:o,resetForm:l}=Cl(),[u,d]=p.useState(!1),f=tr(),{user:m}=mi(),g=W5(),b=["dateTimeLocation","observationType","compassBearing","photo"].indexOf(e),[x,w]=p.useState(null),[v,_]=p.useState(null),C=async()=>{var E;try{const{data:{session:M}}=await Ce.auth.getSession();if(!M){ye.error("You must be logged in to submit an activity report");return}const T=M.user.id;if(!T){ye.error("User auth ID not found");return}const{data:I,error:R}=await Ce.from("users").select("id").eq("auth_id",T).single();if(R){console.error("Error fetching user:",R),ye.error("Error fetching user information");return}if(!I||!I.id){console.error("User not found in users table"),ye.error("User not found in system");return}const k=I.id;if(!t.activity_date||!t.activity_time||!t.observation_type){ye.error("Please fill in all required fields");return}const U=typeof t.activity_date=="string"?t.activity_date:(E=t.activity_date)==null?void 0:E.toISOString().split("T")[0],X=t.activity_time||"",re={activity_date:U,activity_time:X,observation_type:String(t.observation_type),latitude:Number(t.latitude),longitude:Number(t.longitude),total_elephants:t.total_elephants?Number(t.total_elephants):null,male_elephants:t.male_elephants?Number(t.male_elephants):null,female_elephants:t.female_elephants?Number(t.female_elephants):null,unknown_elephants:t.unknown_elephants?Number(t.unknown_elephants):null,calves:t.calves?Number(t.calves):null,indirect_sighting_type:t.indirect_sighting_type?String(t.indirect_sighting_type):null,loss_type:t.loss_type?String(t.loss_type):null,compass_bearing:t.compass_bearing?Number(t.compass_bearing):null,photo_url:t.photo_url?String(t.photo_url):null,user_id:k};if(g){const{error:$}=await Ce.from("activity_reports").insert([re]);$?(console.error("Insert error details:",$),await Jy(re),ye.error("Online submission failed. Report saved offline.")):(ye.success("Activity report submitted successfully"),l(),f("/"))}else await Jy(re),ye.success("You are offline. Report saved locally and will be synced when online."),l(),f("/")}catch(M){console.error("Error submitting activity report:",M),ye.error(M.message||"Failed to submit report")}finally{d(!1)}};let P;switch(e){case"dateTimeLocation":P=vw;break;case"observationType":P=wS;break;case"compassBearing":P=DS;break;case"photo":P=LS;break;default:P=null}return a.jsxs("div",{className:"container mx-auto p-4",children:[!g&&a.jsxs("div",{className:"p-3 mb-4 text-sm text-yellow-800 bg-yellow-100 rounded-lg dark:bg-yellow-900 dark:text-yellow-300",role:"alert",children:[a.jsx("span",{className:"font-medium",children:"You are currently offline."})," Reports will be saved locally and synced when you reconnect."]}),a.jsxs(Ze,{className:"w-full bg-white rounded-xl shadow-sm border border-gray-100",children:[a.jsxs(ht,{className:"space-y-6 p-6 border-b border-gray-100",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(mt,{className:"text-2xl font-bold text-gray-900",children:"Elephant Watch Report"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Step ",b+1," of ",_c.length]}),a.jsx(Jm,{value:(b+1)/_c.length*100,className:"w-48 h-2 bg-gray-100"})]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:_c.map((E,M)=>a.jsxs(Ae,{variant:M===b?"default":"outline",size:"sm",className:`
                  ${M===b?"bg-blue-600 hover:bg-blue-700 text-white border-blue-600":"bg-white hover:bg-gray-50 text-gray-600 border-gray-200"}
                  flex items-center gap-2 px-4 py-2 rounded-md transition-colors
                `,disabled:M>b&&!i(_c[M-1].type),children:[E.icon,E.title]},E.type))})]}),a.jsxs(Ke,{className:"p-6",children:[P&&a.jsx(P,{}),a.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-100",children:[a.jsx(Ae,{variant:"outline",onClick:r,disabled:b===0||u,className:"border-gray-200 text-gray-600 hover:bg-gray-50",children:"Previous"}),o()?a.jsx(Ae,{onClick:C,disabled:!i(e)||u,className:"bg-blue-600 hover:bg-blue-700 text-white",children:u?"Submitting...":"Submit Report"}):a.jsx(Ae,{onClick:n,disabled:!i(e)||u,className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Next"})]})]})]}),a.jsx(Y5,{})]})}function q5(){return a.jsx(F2,{children:a.jsx(K5,{})})}const Qy=()=>{const[e,t]=p.useState(!1),{user:n,loading:r}=mi(),i=tr();return p.useEffect(()=>{!r&&!n&&i("/login")},[n,r,i]),r?a.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}):n?a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"container mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[a.jsxs("header",{className:"mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl",children:"Wild Elephant Monitoring System"}),a.jsx("h2",{className:"mt-2 text-2xl font-semibold text-gray-600",children:"    (2025)"})]}),a.jsx(Ze,{className:"mb-8 overflow-hidden border border-blue-100 bg-white shadow-sm",children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Bo,{className:"h-6 w-6 text-blue-600 flex-shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:" / Instructions:"}),a.jsxs("ul",{className:"space-y-3 text-gray-600",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600",children:""}),a.jsxs("span",{children:["       : /  ,   ,  ,  ",a.jsx("br",{}),a.jsx("span",{className:"text-gray-500",children:"Complete this form in four steps: Date/Time & Location, Type of Observation, Compass Bearing, and Photo."})]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600",children:""}),a.jsxs("span",{children:["       'Next'           'Previous'    ",a.jsx("br",{}),a.jsx("span",{className:"text-gray-500",children:"Fill in the required information in each step and click 'Next'. Use 'Previous' to go back to earlier steps."})]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600",children:""}),a.jsxs("span",{children:["GPS   Degree Decimal    (: 23.4536 81.4763)    ",a.jsx("br",{}),a.jsx("span",{className:"text-gray-500",children:"Enter GPS location in Degree Decimal format (Example: 23.4536 81.4763). Accurate location is crucial."})]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-600",children:""}),a.jsxs("span",{children:["    ,         ",a.jsx("br",{}),a.jsx("span",{className:"text-gray-500",children:"Based on observation type, provide elephant count or indirect evidence details."})]})]})]})]})]})})}),a.jsx("main",{className:"max-w-4xl mx-auto",children:a.jsx(q5,{})})]})}):null};function ex(e,[t,n]){return Math.min(n,Math.max(t,e))}var gf=0;function Xu(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tx()),document.body.insertAdjacentElement("beforeend",e[1]??tx()),gf++,()=>{gf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gf--}},[])}function tx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vf="focusScope.autoFocusOnMount",yf="focusScope.autoFocusOnUnmount",nx={bubbles:!1,cancelable:!0},X5="FocusScope",dp=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=e,[u,d]=p.useState(null),f=Pt(i),m=Pt(o),g=p.useRef(null),b=Me(t,v=>d(v)),x=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(E){if(x.paused||!u)return;const M=E.target;u.contains(M)?g.current=M:Ti(g.current,{select:!0})},_=function(E){if(x.paused||!u)return;const M=E.relatedTarget;M!==null&&(u.contains(M)||Ti(g.current,{select:!0}))},C=function(E){if(document.activeElement===document.body)for(const T of E)T.removedNodes.length>0&&Ti(u)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const P=new MutationObserver(C);return u&&P.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),P.disconnect()}}},[r,u,x.paused]),p.useEffect(()=>{if(u){ix.add(x);const v=document.activeElement;if(!u.contains(v)){const C=new CustomEvent(vf,nx);u.addEventListener(vf,f),u.dispatchEvent(C),C.defaultPrevented||(J5(rB(BS(u)),{select:!0}),document.activeElement===v&&Ti(u))}return()=>{u.removeEventListener(vf,f),setTimeout(()=>{const C=new CustomEvent(yf,nx);u.addEventListener(yf,m),u.dispatchEvent(C),C.defaultPrevented||Ti(v??document.body,{select:!0}),u.removeEventListener(yf,m),ix.remove(x)},0)}}},[u,f,m,x]);const w=p.useCallback(v=>{if(!n&&!r||x.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,C=document.activeElement;if(_&&C){const P=v.currentTarget,[E,M]=Q5(P);E&&M?!v.shiftKey&&C===M?(v.preventDefault(),n&&Ti(E,{select:!0})):v.shiftKey&&C===E&&(v.preventDefault(),n&&Ti(M,{select:!0})):C===P&&v.preventDefault()}},[n,r,x.paused]);return a.jsx(Le.div,{tabIndex:-1,...l,ref:b,onKeyDown:w})});dp.displayName=X5;function J5(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ti(r,{select:t}),document.activeElement!==n)return}function Q5(e){const t=BS(e),n=rx(t,e),r=rx(t.reverse(),e);return[n,r]}function BS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function rx(e,t){for(const n of e)if(!eB(n,{upTo:t}))return n}function eB(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function tB(e){return e instanceof HTMLInputElement&&"select"in e}function Ti(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&tB(e)&&t&&e.select()}}var ix=nB();function nB(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=sx(e,t),e.unshift(t)},remove(t){var n;e=sx(e,t),(n=e[0])==null||n.resume()}}}function sx(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function rB(e){return e.filter(t=>t.tagName!=="A")}function iB(e){const t=sB(e),n=p.forwardRef((r,i)=>{const{children:o,...l}=r,u=p.Children.toArray(o),d=u.find(aB);if(d){const f=d.props.children,m=u.map(g=>g===d?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return a.jsx(t,{...l,ref:i,children:p.isValidElement(f)?p.cloneElement(f,void 0,m):null})}return a.jsx(t,{...l,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function sB(e){const t=p.forwardRef((n,r)=>{const{children:i,...o}=n,l=p.isValidElement(i)?cB(i):void 0,u=Me(l,r);if(p.isValidElement(i)){const d=lB(o,i.props);return i.type!==p.Fragment&&(d.ref=u),p.cloneElement(i,d)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oB=Symbol("radix.slottable");function aB(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oB}function lB(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function cB(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var uB=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ro=new WeakMap,wc=new WeakMap,Sc={},xf=0,VS=function(e){return e&&(e.host||VS(e.parentNode))},dB=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=VS(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},fB=function(e,t,n,r){var i=dB(t,Array.isArray(e)?e:[e]);Sc[n]||(Sc[n]=new WeakMap);var o=Sc[n],l=[],u=new Set,d=new Set(i),f=function(g){!g||u.has(g)||(u.add(g),f(g.parentNode))};i.forEach(f);var m=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(b){if(u.has(b))m(b);else try{var x=b.getAttribute(r),w=x!==null&&x!=="false",v=(ro.get(b)||0)+1,_=(o.get(b)||0)+1;ro.set(b,v),o.set(b,_),l.push(b),v===1&&w&&wc.set(b,!0),_===1&&b.setAttribute(n,"true"),w||b.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",b,C)}})};return m(t),u.clear(),xf++,function(){l.forEach(function(g){var b=ro.get(g)-1,x=o.get(g)-1;ro.set(g,b),o.set(g,x),b||(wc.has(g)||g.removeAttribute(r),wc.delete(g)),x||g.removeAttribute(n)}),xf--,xf||(ro=new WeakMap,ro=new WeakMap,wc=new WeakMap,Sc={})}},Ju=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=uB(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),fB(r,i,n,"aria-hidden")):function(){return null}},Or=function(){return Or=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Or.apply(this,arguments)};function $S(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function hB(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Vc="right-scroll-bar-position",$c="width-before-scroll-bar",mB="with-scroll-bars-hidden",pB="--removed-body-scroll-bar-size";function bf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function gB(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var vB=typeof window<"u"?p.useLayoutEffect:p.useEffect,ox=new WeakMap;function yB(e,t){var n=gB(null,function(r){return e.forEach(function(i){return bf(i,r)})});return vB(function(){var r=ox.get(n);if(r){var i=new Set(r),o=new Set(e),l=n.current;i.forEach(function(u){o.has(u)||bf(u,null)}),o.forEach(function(u){i.has(u)||bf(u,l)})}ox.set(n,e)},[e]),n}function xB(e){return e}function bB(e,t){t===void 0&&(t=xB);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(u){return o(u)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(o),l=n}var d=function(){var m=l;l=[],m.forEach(o)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(m){l.push(m),f()},filter:function(m){return l=l.filter(m),n}}}};return i}function _B(e){e===void 0&&(e={});var t=bB(null);return t.options=Or({async:!0,ssr:!1},e),t}var zS=function(e){var t=e.sideCar,n=$S(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Or({},n))};zS.isSideCarExport=!0;function wB(e,t){return e.useMedium(t),zS}var WS=_B(),_f=function(){},Qu=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:_f,onWheelCapture:_f,onTouchMoveCapture:_f}),i=r[0],o=r[1],l=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,m=e.enabled,g=e.shards,b=e.sideCar,x=e.noIsolation,w=e.inert,v=e.allowPinchZoom,_=e.as,C=_===void 0?"div":_,P=e.gapMode,E=$S(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=b,T=yB([n,t]),I=Or(Or({},E),i);return p.createElement(p.Fragment,null,m&&p.createElement(M,{sideCar:WS,removeScrollBar:f,shards:g,noIsolation:x,inert:w,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:P}),l?p.cloneElement(p.Children.only(u),Or(Or({},I),{ref:T})):p.createElement(C,Or({},I,{className:d,ref:T}),u))});Qu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qu.classNames={fullWidth:$c,zeroRight:Vc};var SB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function CB(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=SB();return t&&e.setAttribute("nonce",t),e}function PB(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function EB(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var TB=function(){var e=0,t=null;return{add:function(n){e==0&&(t=CB())&&(PB(t,n),EB(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},NB=function(){var e=TB();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},US=function(){var e=NB(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},jB={left:0,top:0,right:0,gap:0},wf=function(e){return parseInt(e||"",10)||0},MB=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[wf(n),wf(r),wf(i)]},RB=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return jB;var t=MB(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},OB=US(),No="data-scroll-locked",kB=function(e,t,n,r){var i=e.left,o=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(mB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(No,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vc,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat($c,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Vc," .").concat(Vc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat($c," .").concat($c,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(No,`] {
    `).concat(pB,": ").concat(u,`px;
  }
`)},ax=function(){var e=parseInt(document.body.getAttribute(No)||"0",10);return isFinite(e)?e:0},AB=function(){p.useEffect(function(){return document.body.setAttribute(No,(ax()+1).toString()),function(){var e=ax()-1;e<=0?document.body.removeAttribute(No):document.body.setAttribute(No,e.toString())}},[])},IB=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;AB();var o=p.useMemo(function(){return RB(i)},[i]);return p.createElement(OB,{styles:kB(o,!t,i,n?"":"!important")})},Ch=!1;if(typeof window<"u")try{var Cc=Object.defineProperty({},"passive",{get:function(){return Ch=!0,!0}});window.addEventListener("test",Cc,Cc),window.removeEventListener("test",Cc,Cc)}catch{Ch=!1}var io=Ch?{passive:!1}:!1,DB=function(e){return e.tagName==="TEXTAREA"},HS=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!DB(e)&&n[t]==="visible")},LB=function(e){return HS(e,"overflowY")},FB=function(e){return HS(e,"overflowX")},lx=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=ZS(e,r);if(i){var o=GS(e,r),l=o[1],u=o[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},BB=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},VB=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},ZS=function(e,t){return e==="v"?LB(t):FB(t)},GS=function(e,t){return e==="v"?BB(t):VB(t)},$B=function(e,t){return e==="h"&&t==="rtl"?-1:1},zB=function(e,t,n,r,i){var o=$B(e,window.getComputedStyle(t).direction),l=o*r,u=n.target,d=t.contains(u),f=!1,m=l>0,g=0,b=0;do{var x=GS(e,u),w=x[0],v=x[1],_=x[2],C=v-_-o*w;(w||C)&&ZS(e,u)&&(g+=C,b+=w),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(m&&Math.abs(g)<1||!m&&Math.abs(b)<1)&&(f=!0),f},Pc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cx=function(e){return[e.deltaX,e.deltaY]},ux=function(e){return e&&"current"in e?e.current:e},WB=function(e,t){return e[0]===t[0]&&e[1]===t[1]},UB=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},HB=0,so=[];function ZB(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(HB++)[0],o=p.useState(US)[0],l=p.useRef(e);p.useEffect(function(){l.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=hB([e.lockRef.current],(e.shards||[]).map(ux),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=p.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!l.current.allowPinchZoom;var C=Pc(v),P=n.current,E="deltaX"in v?v.deltaX:P[0]-C[0],M="deltaY"in v?v.deltaY:P[1]-C[1],T,I=v.target,R=Math.abs(E)>Math.abs(M)?"h":"v";if("touches"in v&&R==="h"&&I.type==="range")return!1;var k=lx(R,I);if(!k)return!0;if(k?T=R:(T=R==="v"?"h":"v",k=lx(R,I)),!k)return!1;if(!r.current&&"changedTouches"in v&&(E||M)&&(r.current=T),!T)return!0;var U=r.current||T;return zB(U,_,v,U==="h"?E:M)},[]),d=p.useCallback(function(v){var _=v;if(!(!so.length||so[so.length-1]!==o)){var C="deltaY"in _?cx(_):Pc(_),P=t.current.filter(function(T){return T.name===_.type&&(T.target===_.target||_.target===T.shadowParent)&&WB(T.delta,C)})[0];if(P&&P.should){_.cancelable&&_.preventDefault();return}if(!P){var E=(l.current.shards||[]).map(ux).filter(Boolean).filter(function(T){return T.contains(_.target)}),M=E.length>0?u(_,E[0]):!l.current.noIsolation;M&&_.cancelable&&_.preventDefault()}}},[]),f=p.useCallback(function(v,_,C,P){var E={name:v,delta:_,target:C,should:P,shadowParent:GB(C)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(M){return M!==E})},1)},[]),m=p.useCallback(function(v){n.current=Pc(v),r.current=void 0},[]),g=p.useCallback(function(v){f(v.type,cx(v),v.target,u(v,e.lockRef.current))},[]),b=p.useCallback(function(v){f(v.type,Pc(v),v.target,u(v,e.lockRef.current))},[]);p.useEffect(function(){return so.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",d,io),document.addEventListener("touchmove",d,io),document.addEventListener("touchstart",m,io),function(){so=so.filter(function(v){return v!==o}),document.removeEventListener("wheel",d,io),document.removeEventListener("touchmove",d,io),document.removeEventListener("touchstart",m,io)}},[]);var x=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(o,{styles:UB(i)}):null,x?p.createElement(IB,{gapMode:e.gapMode}):null)}function GB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const YB=wB(WS,ZB);var Tl=p.forwardRef(function(e,t){return p.createElement(Qu,Or({},e,{ref:t,sideCar:YB}))});Tl.classNames=Qu.classNames;var KB=[" ","Enter","ArrowUp","ArrowDown"],qB=[" ","Enter"],Is="Select",[ed,td,XB]=zh(Is),[sa,zU]=Vt(Is,[XB,ku]),nd=ku(),[JB,Yi]=sa(Is),[QB,eV]=sa(Is),YS=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:l,defaultValue:u,onValueChange:d,dir:f,name:m,autoComplete:g,disabled:b,required:x,form:w}=e,v=nd(t),[_,C]=p.useState(null),[P,E]=p.useState(null),[M,T]=p.useState(!1),I=ra(f),[R,k]=er({prop:r,defaultProp:i??!1,onChange:o,caller:Is}),[U,X]=er({prop:l,defaultProp:u,onChange:d,caller:Is}),re=p.useRef(null),$=_?w||!!_.closest("form"):!0,[ne,J]=p.useState(new Set),H=Array.from(ne).map(K=>K.props.value).join(";");return a.jsx(FM,{...v,children:a.jsxs(JB,{required:x,scope:t,trigger:_,onTriggerChange:C,valueNode:P,onValueNodeChange:E,valueNodeHasChildren:M,onValueNodeHasChildrenChange:T,contentId:Xn(),value:U,onValueChange:X,open:R,onOpenChange:k,dir:I,triggerPointerDownPosRef:re,disabled:b,children:[a.jsx(ed.Provider,{scope:t,children:a.jsx(QB,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(K=>{J(Y=>new Set(Y).add(K))},[]),onNativeOptionRemove:p.useCallback(K=>{J(Y=>{const O=new Set(Y);return O.delete(K),O})},[]),children:n})}),$?a.jsxs(g1,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:g,value:U,onChange:K=>X(K.target.value),disabled:b,form:w,children:[U===void 0?a.jsx("option",{value:""}):null,Array.from(ne)]},H):null]})})};YS.displayName=Is;var KS="SelectTrigger",qS=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=nd(n),l=Yi(KS,n),u=l.disabled||r,d=Me(t,l.onTriggerChange),f=td(n),m=p.useRef("touch"),[g,b,x]=y1(v=>{const _=f().filter(E=>!E.disabled),C=_.find(E=>E.value===l.value),P=x1(_,v,C);P!==void 0&&l.onValueChange(P.value)}),w=v=>{u||(l.onOpenChange(!0),x()),v&&(l.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return a.jsx(Qb,{asChild:!0,...o,children:a.jsx(Le.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":v1(l.value)?"":void 0,...i,ref:d,onClick:fe(i.onClick,v=>{v.currentTarget.focus(),m.current!=="mouse"&&w(v)}),onPointerDown:fe(i.onPointerDown,v=>{m.current=v.pointerType;const _=v.target;_.hasPointerCapture(v.pointerId)&&_.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:fe(i.onKeyDown,v=>{const _=g.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&b(v.key),!(_&&v.key===" ")&&KB.includes(v.key)&&(w(),v.preventDefault())})})})});qS.displayName=KS;var XS="SelectValue",JS=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:l="",...u}=e,d=Yi(XS,n),{onValueNodeHasChildrenChange:f}=d,m=o!==void 0,g=Me(t,d.onValueNodeChange);return jt(()=>{f(m)},[f,m]),a.jsx(Le.span,{...u,ref:g,style:{pointerEvents:"none"},children:v1(d.value)?a.jsx(a.Fragment,{children:l}):o})});JS.displayName=XS;var tV="SelectIcon",QS=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return a.jsx(Le.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});QS.displayName=tV;var nV="SelectPortal",e1=e=>a.jsx(Cu,{asChild:!0,...e});e1.displayName=nV;var Ds="SelectContent",t1=p.forwardRef((e,t)=>{const n=Yi(Ds,e.__scopeSelect),[r,i]=p.useState();if(jt(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?hi.createPortal(a.jsx(n1,{scope:e.__scopeSelect,children:a.jsx(ed.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(r1,{...e,ref:t})});t1.displayName=Ds;var cr=10,[n1,Ki]=sa(Ds),rV="SelectContentImpl",iV=iB("SelectContent.RemoveScroll"),r1=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:l,side:u,sideOffset:d,align:f,alignOffset:m,arrowPadding:g,collisionBoundary:b,collisionPadding:x,sticky:w,hideWhenDetached:v,avoidCollisions:_,...C}=e,P=Yi(Ds,n),[E,M]=p.useState(null),[T,I]=p.useState(null),R=Me(t,oe=>M(oe)),[k,U]=p.useState(null),[X,re]=p.useState(null),$=td(n),[ne,J]=p.useState(!1),H=p.useRef(!1);p.useEffect(()=>{if(E)return Ju(E)},[E]),Xu();const K=p.useCallback(oe=>{const[be,...Ne]=$().map(Oe=>Oe.ref.current),[Ee]=Ne.slice(-1),Re=document.activeElement;for(const Oe of oe)if(Oe===Re||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===be&&T&&(T.scrollTop=0),Oe===Ee&&T&&(T.scrollTop=T.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==Re))return},[$,T]),Y=p.useCallback(()=>K([k,E]),[K,k,E]);p.useEffect(()=>{ne&&Y()},[ne,Y]);const{onOpenChange:O,triggerPointerDownPosRef:W}=P;p.useEffect(()=>{if(E){let oe={x:0,y:0};const be=Ee=>{var Re,Oe;oe={x:Math.abs(Math.round(Ee.pageX)-(((Re=W.current)==null?void 0:Re.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((Oe=W.current)==null?void 0:Oe.y)??0))}},Ne=Ee=>{oe.x<=10&&oe.y<=10?Ee.preventDefault():E.contains(Ee.target)||O(!1),document.removeEventListener("pointermove",be),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",Ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",Ne,{capture:!0})}}},[E,O,W]),p.useEffect(()=>{const oe=()=>O(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[O]);const[V,Q]=y1(oe=>{const be=$().filter(Re=>!Re.disabled),Ne=be.find(Re=>Re.ref.current===document.activeElement),Ee=x1(be,oe,Ne);Ee&&setTimeout(()=>Ee.ref.current.focus())}),G=p.useCallback((oe,be,Ne)=>{const Ee=!H.current&&!Ne;(P.value!==void 0&&P.value===be||Ee)&&(U(oe),Ee&&(H.current=!0))},[P.value]),ie=p.useCallback(()=>E==null?void 0:E.focus(),[E]),se=p.useCallback((oe,be,Ne)=>{const Ee=!H.current&&!Ne;(P.value!==void 0&&P.value===be||Ee)&&re(oe)},[P.value]),le=r==="popper"?Ph:i1,he=le===Ph?{side:u,sideOffset:d,align:f,alignOffset:m,arrowPadding:g,collisionBoundary:b,collisionPadding:x,sticky:w,hideWhenDetached:v,avoidCollisions:_}:{};return a.jsx(n1,{scope:n,content:E,viewport:T,onViewportChange:I,itemRefCallback:G,selectedItem:k,onItemLeave:ie,itemTextRefCallback:se,focusSelectedItem:Y,selectedItemText:X,position:r,isPositioned:ne,searchRef:V,children:a.jsx(Tl,{as:iV,allowPinchZoom:!0,children:a.jsx(dp,{asChild:!0,trapped:P.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:fe(i,oe=>{var be;(be=P.trigger)==null||be.focus({preventScroll:!0}),oe.preventDefault()}),children:a.jsx(gl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:a.jsx(le,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:oe=>oe.preventDefault(),...C,...he,onPlaced:()=>J(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:fe(C.onKeyDown,oe=>{const be=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!be&&oe.key.length===1&&Q(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Ee=$().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const Re=oe.target,Oe=Ee.indexOf(Re);Ee=Ee.slice(Oe+1)}setTimeout(()=>K(Ee)),oe.preventDefault()}})})})})})})});r1.displayName=rV;var sV="SelectItemAlignedPosition",i1=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=Yi(Ds,n),l=Ki(Ds,n),[u,d]=p.useState(null),[f,m]=p.useState(null),g=Me(t,R=>m(R)),b=td(n),x=p.useRef(!1),w=p.useRef(!0),{viewport:v,selectedItem:_,selectedItemText:C,focusSelectedItem:P}=l,E=p.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&f&&v&&_&&C){const R=o.trigger.getBoundingClientRect(),k=f.getBoundingClientRect(),U=o.valueNode.getBoundingClientRect(),X=C.getBoundingClientRect();if(o.dir!=="rtl"){const Re=X.left-k.left,Oe=U.left-Re,Qe=R.left-Oe,xt=R.width+Qe,bt=Math.max(xt,k.width),$t=window.innerWidth-cr,Ht=ex(Oe,[cr,Math.max(cr,$t-bt)]);u.style.minWidth=xt+"px",u.style.left=Ht+"px"}else{const Re=k.right-X.right,Oe=window.innerWidth-U.right-Re,Qe=window.innerWidth-R.right-Oe,xt=R.width+Qe,bt=Math.max(xt,k.width),$t=window.innerWidth-cr,Ht=ex(Oe,[cr,Math.max(cr,$t-bt)]);u.style.minWidth=xt+"px",u.style.right=Ht+"px"}const re=b(),$=window.innerHeight-cr*2,ne=v.scrollHeight,J=window.getComputedStyle(f),H=parseInt(J.borderTopWidth,10),K=parseInt(J.paddingTop,10),Y=parseInt(J.borderBottomWidth,10),O=parseInt(J.paddingBottom,10),W=H+K+ne+O+Y,V=Math.min(_.offsetHeight*5,W),Q=window.getComputedStyle(v),G=parseInt(Q.paddingTop,10),ie=parseInt(Q.paddingBottom,10),se=R.top+R.height/2-cr,le=$-se,he=_.offsetHeight/2,oe=_.offsetTop+he,be=H+K+oe,Ne=W-be;if(be<=se){const Re=re.length>0&&_===re[re.length-1].ref.current;u.style.bottom="0px";const Oe=f.clientHeight-v.offsetTop-v.offsetHeight,Qe=Math.max(le,he+(Re?ie:0)+Oe+Y),xt=be+Qe;u.style.height=xt+"px"}else{const Re=re.length>0&&_===re[0].ref.current;u.style.top="0px";const Qe=Math.max(se,H+v.offsetTop+(Re?G:0)+he)+Ne;u.style.height=Qe+"px",v.scrollTop=be-se+v.offsetTop}u.style.margin=`${cr}px 0`,u.style.minHeight=V+"px",u.style.maxHeight=$+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[b,o.trigger,o.valueNode,u,f,v,_,C,o.dir,r]);jt(()=>E(),[E]);const[M,T]=p.useState();jt(()=>{f&&T(window.getComputedStyle(f).zIndex)},[f]);const I=p.useCallback(R=>{R&&w.current===!0&&(E(),P==null||P(),w.current=!1)},[E,P]);return a.jsx(aV,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:x,onScrollButtonChange:I,children:a.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:a.jsx(Le.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});i1.displayName=sV;var oV="SelectPopperPosition",Ph=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=cr,...o}=e,l=nd(n);return a.jsx(e0,{...l,...o,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ph.displayName=oV;var[aV,fp]=sa(Ds,{}),Eh="SelectViewport",s1=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,o=Ki(Eh,n),l=fp(Eh,n),u=Me(t,o.onViewportChange),d=p.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(ed.Slot,{scope:n,children:a.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:fe(i.onScroll,f=>{const m=f.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:b}=l;if(b!=null&&b.current&&g){const x=Math.abs(d.current-m.scrollTop);if(x>0){const w=window.innerHeight-cr*2,v=parseFloat(g.style.minHeight),_=parseFloat(g.style.height),C=Math.max(v,_);if(C<w){const P=C+x,E=Math.min(w,P),M=P-E;g.style.height=E+"px",g.style.bottom==="0px"&&(m.scrollTop=M>0?M:0,g.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});s1.displayName=Eh;var o1="SelectGroup",[lV,cV]=sa(o1),uV=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Xn();return a.jsx(lV,{scope:n,id:i,children:a.jsx(Le.div,{role:"group","aria-labelledby":i,...r,ref:t})})});uV.displayName=o1;var a1="SelectLabel",l1=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=cV(a1,n);return a.jsx(Le.div,{id:i.id,...r,ref:t})});l1.displayName=a1;var pu="SelectItem",[dV,c1]=sa(pu),u1=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...l}=e,u=Yi(pu,n),d=Ki(pu,n),f=u.value===r,[m,g]=p.useState(o??""),[b,x]=p.useState(!1),w=Me(t,P=>{var E;return(E=d.itemRefCallback)==null?void 0:E.call(d,P,r,i)}),v=Xn(),_=p.useRef("touch"),C=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(dV,{scope:n,value:r,disabled:i,textId:v,isSelected:f,onItemTextChange:p.useCallback(P=>{g(E=>E||((P==null?void 0:P.textContent)??"").trim())},[]),children:a.jsx(ed.ItemSlot,{scope:n,value:r,disabled:i,textValue:m,children:a.jsx(Le.div,{role:"option","aria-labelledby":v,"data-highlighted":b?"":void 0,"aria-selected":f&&b,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:w,onFocus:fe(l.onFocus,()=>x(!0)),onBlur:fe(l.onBlur,()=>x(!1)),onClick:fe(l.onClick,()=>{_.current!=="mouse"&&C()}),onPointerUp:fe(l.onPointerUp,()=>{_.current==="mouse"&&C()}),onPointerDown:fe(l.onPointerDown,P=>{_.current=P.pointerType}),onPointerMove:fe(l.onPointerMove,P=>{var E;_.current=P.pointerType,i?(E=d.onItemLeave)==null||E.call(d):_.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(l.onPointerLeave,P=>{var E;P.currentTarget===document.activeElement&&((E=d.onItemLeave)==null||E.call(d))}),onKeyDown:fe(l.onKeyDown,P=>{var M;((M=d.searchRef)==null?void 0:M.current)!==""&&P.key===" "||(qB.includes(P.key)&&C(),P.key===" "&&P.preventDefault())})})})})});u1.displayName=pu;var ja="SelectItemText",d1=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,l=Yi(ja,n),u=Ki(ja,n),d=c1(ja,n),f=eV(ja,n),[m,g]=p.useState(null),b=Me(t,C=>g(C),d.onItemTextChange,C=>{var P;return(P=u.itemTextRefCallback)==null?void 0:P.call(u,C,d.value,d.disabled)}),x=m==null?void 0:m.textContent,w=p.useMemo(()=>a.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:_}=f;return jt(()=>(v(w),()=>_(w)),[v,_,w]),a.jsxs(a.Fragment,{children:[a.jsx(Le.span,{id:d.textId,...o,ref:b}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?hi.createPortal(o.children,l.valueNode):null]})});d1.displayName=ja;var f1="SelectItemIndicator",h1=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return c1(f1,n).isSelected?a.jsx(Le.span,{"aria-hidden":!0,...r,ref:t}):null});h1.displayName=f1;var Th="SelectScrollUpButton",fV=p.forwardRef((e,t)=>{const n=Ki(Th,e.__scopeSelect),r=fp(Th,e.__scopeSelect),[i,o]=p.useState(!1),l=Me(t,r.onScrollButtonChange);return jt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=d.scrollTop>0;o(f)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?a.jsx(m1,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});fV.displayName=Th;var Nh="SelectScrollDownButton",hV=p.forwardRef((e,t)=>{const n=Ki(Nh,e.__scopeSelect),r=fp(Nh,e.__scopeSelect),[i,o]=p.useState(!1),l=Me(t,r.onScrollButtonChange);return jt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<f;o(m)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?a.jsx(m1,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});hV.displayName=Nh;var m1=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=Ki("SelectScrollButton",n),l=p.useRef(null),u=td(n),d=p.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return p.useEffect(()=>()=>d(),[d]),jt(()=>{var m;const f=u().find(g=>g.ref.current===document.activeElement);(m=f==null?void 0:f.ref.current)==null||m.scrollIntoView({block:"nearest"})},[u]),a.jsx(Le.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:fe(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:fe(i.onPointerMove,()=>{var f;(f=o.onItemLeave)==null||f.call(o),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:fe(i.onPointerLeave,()=>{d()})})}),mV="SelectSeparator",p1=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(Le.div,{"aria-hidden":!0,...r,ref:t})});p1.displayName=mV;var jh="SelectArrow",pV=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=nd(n),o=Yi(jh,n),l=Ki(jh,n);return o.open&&l.position==="popper"?a.jsx(t0,{...i,...r,ref:t}):null});pV.displayName=jh;var gV="SelectBubbleInput",g1=p.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=p.useRef(null),o=Me(r,i),l=Wu(t);return p.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&m){const g=new Event("change",{bubbles:!0});m.call(u,t),u.dispatchEvent(g)}},[l,t]),a.jsx(Le.select,{...n,style:{...eb,...n.style},ref:o,defaultValue:t})});g1.displayName=gV;function v1(e){return e===""||e===void 0}function y1(e){const t=Pt(e),n=p.useRef(""),r=p.useRef(0),i=p.useCallback(l=>{const u=n.current+l;t(u),function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(u)},[t]),o=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function x1(e,t,n){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=vV(e,Math.max(o,0));i.length===1&&(l=l.filter(f=>f!==n));const d=l.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function vV(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var yV=YS,b1=qS,xV=JS,bV=QS,_V=e1,_1=t1,wV=s1,w1=l1,S1=u1,SV=d1,CV=h1,C1=p1;function PV(){return typeof navigator<"u"&&/wv/.test(navigator.userAgent)&&/Android/.test(navigator.userAgent)}const Di=yV,Li=xV,ri=p.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(b1,{ref:r,className:Pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:[t,a.jsx(bV,{asChild:!0,children:a.jsx(ZN,{className:"h-4 w-4 opacity-50"})})]}));ri.displayName=b1.displayName;const ii=p.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>{const o=PV(),l=a.jsx(_1,{ref:i,className:Pe("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:a.jsx(wV,{className:Pe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})});return o?l:a.jsx(_V,{children:l})});ii.displayName=_1.displayName;const EV=p.forwardRef(({className:e,...t},n)=>a.jsx(w1,{ref:n,className:Pe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));EV.displayName=w1.displayName;const Lt=p.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(S1,{ref:r,className:Pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(CV,{children:a.jsx(Kh,{className:"h-4 w-4"})})}),a.jsx(SV,{children:t})]}));Lt.displayName=S1.displayName;const TV=p.forwardRef(({className:e,...t},n)=>a.jsx(C1,{ref:n,className:Pe("-mx-1 my-1 h-px bg-muted",e),...t}));TV.displayName=C1.displayName;function P1(e,t){const n=p.useRef(t);p.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const NV=1;function jV(e){return Object.freeze({__version:NV,map:e})}function E1(e,t){return Object.freeze({...e,...t})}const T1=p.createContext(null),N1=T1.Provider;function rd(){const e=p.useContext(T1);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function j1(e){function t(n,r){const{instance:i,context:o}=e(n).current;return p.useImperativeHandle(r,()=>i),n.children==null?null:me.createElement(N1,{value:o},n.children)}return p.forwardRef(t)}function MV(e){function t(n,r){const[i,o]=p.useState(!1),{instance:l}=e(n,o).current;p.useImperativeHandle(r,()=>l),p.useEffect(function(){i&&l.update()},[l,i,n.children]);const u=l._contentNode;return u?hi.createPortal(n.children,u):null}return p.forwardRef(t)}function RV(e){function t(n,r){const{instance:i}=e(n).current;return p.useImperativeHandle(r,()=>i),null}return p.forwardRef(t)}function hp(e,t){const n=p.useRef();p.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function id(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function OV(e,t){return function(r,i){const o=rd(),l=e(id(r,o),o);return P1(o.map,r.attribution),hp(l.current,r.eventHandlers),t(l.current,o,r,i),l}}var Ma={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var kV=Ma.exports,dx;function AV(){return dx||(dx=1,function(e,t){(function(n,r){r(t)})(kV,function(n){var r="1.9.4";function i(s){var c,h,y,S;for(h=1,y=arguments.length;h<y;h++){S=arguments[h];for(c in S)s[c]=S[c]}return s}var o=Object.create||function(){function s(){}return function(c){return s.prototype=c,new s}}();function l(s,c){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var y=h.call(arguments,2);return function(){return s.apply(c,y.length?y.concat(h.call(arguments)):arguments)}}var u=0;function d(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function f(s,c,h){var y,S,N,F;return F=function(){y=!1,S&&(N.apply(h,S),S=!1)},N=function(){y?S=arguments:(s.apply(h,arguments),setTimeout(F,c),y=!0)},N}function m(s,c,h){var y=c[1],S=c[0],N=y-S;return s===y&&h?s:((s-S)%N+N)%N+S}function g(){return!1}function b(s,c){if(c===!1)return s;var h=Math.pow(10,c===void 0?6:c);return Math.round(s*h)/h}function x(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function w(s){return x(s).split(/\s+/)}function v(s,c){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var h in c)s.options[h]=c[h];return s.options}function _(s,c,h){var y=[];for(var S in s)y.push(encodeURIComponent(h?S.toUpperCase():S)+"="+encodeURIComponent(s[S]));return(!c||c.indexOf("?")===-1?"?":"&")+y.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function P(s,c){return s.replace(C,function(h,y){var S=c[y];if(S===void 0)throw new Error("No value provided for variable "+h);return typeof S=="function"&&(S=S(c)),S})}var E=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function M(s,c){for(var h=0;h<s.length;h++)if(s[h]===c)return h;return-1}var T="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var R=0;function k(s){var c=+new Date,h=Math.max(0,16-(c-R));return R=c+h,window.setTimeout(s,h)}var U=window.requestAnimationFrame||I("RequestAnimationFrame")||k,X=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function re(s,c,h){if(h&&U===k)s.call(c);else return U.call(window,l(s,c))}function $(s){s&&X.call(window,s)}var ne={__proto__:null,extend:i,create:o,bind:l,get lastId(){return u},stamp:d,throttle:f,wrapNum:m,falseFn:g,formatNum:b,trim:x,splitWords:w,setOptions:v,getParamString:_,template:P,isArray:E,indexOf:M,emptyImageUrl:T,requestFn:U,cancelFn:X,requestAnimFrame:re,cancelAnimFrame:$};function J(){}J.extend=function(s){var c=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=c.__super__=this.prototype,y=o(h);y.constructor=c,c.prototype=y;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(c[S]=this[S]);return s.statics&&i(c,s.statics),s.includes&&(H(s.includes),i.apply(null,[y].concat(s.includes))),i(y,s),delete y.statics,delete y.includes,y.options&&(y.options=h.options?o(h.options):{},i(y.options,s.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var N=0,F=y._initHooks.length;N<F;N++)y._initHooks[N].call(this)}},c},J.include=function(s){var c=this.prototype.options;return i(this.prototype,s),s.options&&(this.prototype.options=c,this.mergeOptions(s.options)),this},J.mergeOptions=function(s){return i(this.prototype.options,s),this},J.addInitHook=function(s){var c=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function H(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=E(s)?s:[s];for(var c=0;c<s.length;c++)s[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var K={on:function(s,c,h){if(typeof s=="object")for(var y in s)this._on(y,s[y],c);else{s=w(s);for(var S=0,N=s.length;S<N;S++)this._on(s[S],c,h)}return this},off:function(s,c,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var y in s)this._off(y,s[y],c);else{s=w(s);for(var S=arguments.length===1,N=0,F=s.length;N<F;N++)S?this._off(s[N]):this._off(s[N],c,h)}return this},_on:function(s,c,h,y){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(s,c,h)===!1){h===this&&(h=void 0);var S={fn:c,ctx:h};y&&(S.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(S)}},_off:function(s,c,h){var y,S,N;if(this._events&&(y=this._events[s],!!y)){if(arguments.length===1){if(this._firingCount)for(S=0,N=y.length;S<N;S++)y[S].fn=g;delete this._events[s];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var F=this._listens(s,c,h);if(F!==!1){var q=y[F];this._firingCount&&(q.fn=g,this._events[s]=y=y.slice()),y.splice(F,1)}}},fire:function(s,c,h){if(!this.listens(s,h))return this;var y=i({},c,{type:s,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var S=this._events[s];if(S){this._firingCount=this._firingCount+1||1;for(var N=0,F=S.length;N<F;N++){var q=S[N],ee=q.fn;q.once&&this.off(s,ee,q.ctx),ee.call(q.ctx||this,y)}this._firingCount--}}return h&&this._propagateEvent(y),this},listens:function(s,c,h,y){typeof s!="string"&&console.warn('"string" type argument expected');var S=c;typeof c!="function"&&(y=!!c,S=void 0,h=void 0);var N=this._events&&this._events[s];if(N&&N.length&&this._listens(s,S,h)!==!1)return!0;if(y){for(var F in this._eventParents)if(this._eventParents[F].listens(s,c,h,y))return!0}return!1},_listens:function(s,c,h){if(!this._events)return!1;var y=this._events[s]||[];if(!c)return!!y.length;h===this&&(h=void 0);for(var S=0,N=y.length;S<N;S++)if(y[S].fn===c&&y[S].ctx===h)return S;return!1},once:function(s,c,h){if(typeof s=="object")for(var y in s)this._on(y,s[y],c,!0);else{s=w(s);for(var S=0,N=s.length;S<N;S++)this._on(s[S],c,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[d(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[d(s)],this},_propagateEvent:function(s){for(var c in this._eventParents)this._eventParents[c].fire(s.type,i({layer:s.target,propagatedFrom:s.target},s),!0)}};K.addEventListener=K.on,K.removeEventListener=K.clearAllEventListeners=K.off,K.addOneTimeEventListener=K.once,K.fireEvent=K.fire,K.hasEventListeners=K.listens;var Y=J.extend(K);function O(s,c,h){this.x=h?Math.round(s):s,this.y=h?Math.round(c):c}var W=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};O.prototype={clone:function(){return new O(this.x,this.y)},add:function(s){return this.clone()._add(V(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(V(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new O(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new O(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=W(this.x),this.y=W(this.y),this},distanceTo:function(s){s=V(s);var c=s.x-this.x,h=s.y-this.y;return Math.sqrt(c*c+h*h)},equals:function(s){return s=V(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=V(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function V(s,c,h){return s instanceof O?s:E(s)?new O(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new O(s.x,s.y):new O(s,c,h)}function Q(s,c){if(s)for(var h=c?[s,c]:s,y=0,S=h.length;y<S;y++)this.extend(h[y])}Q.prototype={extend:function(s){var c,h;if(!s)return this;if(s instanceof O||typeof s[0]=="number"||"x"in s)c=h=V(s);else if(s=G(s),c=s.min,h=s.max,!c||!h)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=h.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return V((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return V(this.min.x,this.max.y)},getTopRight:function(){return V(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var c,h;return typeof s[0]=="number"||s instanceof O?s=V(s):s=G(s),s instanceof Q?(c=s.min,h=s.max):c=h=s,c.x>=this.min.x&&h.x<=this.max.x&&c.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=G(s);var c=this.min,h=this.max,y=s.min,S=s.max,N=S.x>=c.x&&y.x<=h.x,F=S.y>=c.y&&y.y<=h.y;return N&&F},overlaps:function(s){s=G(s);var c=this.min,h=this.max,y=s.min,S=s.max,N=S.x>c.x&&y.x<h.x,F=S.y>c.y&&y.y<h.y;return N&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var c=this.min,h=this.max,y=Math.abs(c.x-h.x)*s,S=Math.abs(c.y-h.y)*s;return G(V(c.x-y,c.y-S),V(h.x+y,h.y+S))},equals:function(s){return s?(s=G(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function G(s,c){return!s||s instanceof Q?s:new Q(s,c)}function ie(s,c){if(s)for(var h=c?[s,c]:s,y=0,S=h.length;y<S;y++)this.extend(h[y])}ie.prototype={extend:function(s){var c=this._southWest,h=this._northEast,y,S;if(s instanceof le)y=s,S=s;else if(s instanceof ie){if(y=s._southWest,S=s._northEast,!y||!S)return this}else return s?this.extend(he(s)||se(s)):this;return!c&&!h?(this._southWest=new le(y.lat,y.lng),this._northEast=new le(S.lat,S.lng)):(c.lat=Math.min(y.lat,c.lat),c.lng=Math.min(y.lng,c.lng),h.lat=Math.max(S.lat,h.lat),h.lng=Math.max(S.lng,h.lng)),this},pad:function(s){var c=this._southWest,h=this._northEast,y=Math.abs(c.lat-h.lat)*s,S=Math.abs(c.lng-h.lng)*s;return new ie(new le(c.lat-y,c.lng-S),new le(h.lat+y,h.lng+S))},getCenter:function(){return new le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new le(this.getNorth(),this.getWest())},getSouthEast:function(){return new le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof le||"lat"in s?s=he(s):s=se(s);var c=this._southWest,h=this._northEast,y,S;return s instanceof ie?(y=s.getSouthWest(),S=s.getNorthEast()):y=S=s,y.lat>=c.lat&&S.lat<=h.lat&&y.lng>=c.lng&&S.lng<=h.lng},intersects:function(s){s=se(s);var c=this._southWest,h=this._northEast,y=s.getSouthWest(),S=s.getNorthEast(),N=S.lat>=c.lat&&y.lat<=h.lat,F=S.lng>=c.lng&&y.lng<=h.lng;return N&&F},overlaps:function(s){s=se(s);var c=this._southWest,h=this._northEast,y=s.getSouthWest(),S=s.getNorthEast(),N=S.lat>c.lat&&y.lat<h.lat,F=S.lng>c.lng&&y.lng<h.lng;return N&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,c){return s?(s=se(s),this._southWest.equals(s.getSouthWest(),c)&&this._northEast.equals(s.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function se(s,c){return s instanceof ie?s:new ie(s,c)}function le(s,c,h){if(isNaN(s)||isNaN(c))throw new Error("Invalid LatLng object: ("+s+", "+c+")");this.lat=+s,this.lng=+c,h!==void 0&&(this.alt=+h)}le.prototype={equals:function(s,c){if(!s)return!1;s=he(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(c===void 0?1e-9:c)},toString:function(s){return"LatLng("+b(this.lat,s)+", "+b(this.lng,s)+")"},distanceTo:function(s){return be.distance(this,he(s))},wrap:function(){return be.wrapLatLng(this)},toBounds:function(s){var c=180*s/40075017,h=c/Math.cos(Math.PI/180*this.lat);return se([this.lat-c,this.lng-h],[this.lat+c,this.lng+h])},clone:function(){return new le(this.lat,this.lng,this.alt)}};function he(s,c,h){return s instanceof le?s:E(s)&&typeof s[0]!="object"?s.length===3?new le(s[0],s[1],s[2]):s.length===2?new le(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new le(s.lat,"lng"in s?s.lng:s.lon,s.alt):c===void 0?null:new le(s,c,h)}var oe={latLngToPoint:function(s,c){var h=this.projection.project(s),y=this.scale(c);return this.transformation._transform(h,y)},pointToLatLng:function(s,c){var h=this.scale(c),y=this.transformation.untransform(s,h);return this.projection.unproject(y)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var c=this.projection.bounds,h=this.scale(s),y=this.transformation.transform(c.min,h),S=this.transformation.transform(c.max,h);return new Q(y,S)},infinite:!1,wrapLatLng:function(s){var c=this.wrapLng?m(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?m(s.lat,this.wrapLat,!0):s.lat,y=s.alt;return new le(h,c,y)},wrapLatLngBounds:function(s){var c=s.getCenter(),h=this.wrapLatLng(c),y=c.lat-h.lat,S=c.lng-h.lng;if(y===0&&S===0)return s;var N=s.getSouthWest(),F=s.getNorthEast(),q=new le(N.lat-y,N.lng-S),ee=new le(F.lat-y,F.lng-S);return new ie(q,ee)}},be=i({},oe,{wrapLng:[-180,180],R:6371e3,distance:function(s,c){var h=Math.PI/180,y=s.lat*h,S=c.lat*h,N=Math.sin((c.lat-s.lat)*h/2),F=Math.sin((c.lng-s.lng)*h/2),q=N*N+Math.cos(y)*Math.cos(S)*F*F,ee=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*ee}}),Ne=6378137,Ee={R:Ne,MAX_LATITUDE:85.0511287798,project:function(s){var c=Math.PI/180,h=this.MAX_LATITUDE,y=Math.max(Math.min(h,s.lat),-h),S=Math.sin(y*c);return new O(this.R*s.lng*c,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(s){var c=180/Math.PI;return new le((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*c,s.x*c/this.R)},bounds:function(){var s=Ne*Math.PI;return new Q([-s,-s],[s,s])}()};function Re(s,c,h,y){if(E(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=c,this._c=h,this._d=y}Re.prototype={transform:function(s,c){return this._transform(s.clone(),c)},_transform:function(s,c){return c=c||1,s.x=c*(this._a*s.x+this._b),s.y=c*(this._c*s.y+this._d),s},untransform:function(s,c){return c=c||1,new O((s.x/c-this._b)/this._a,(s.y/c-this._d)/this._c)}};function Oe(s,c,h,y){return new Re(s,c,h,y)}var Qe=i({},be,{code:"EPSG:3857",projection:Ee,transformation:function(){var s=.5/(Math.PI*Ee.R);return Oe(s,.5,-s,.5)}()}),xt=i({},Qe,{code:"EPSG:900913"});function bt(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function $t(s,c){var h="",y,S,N,F,q,ee;for(y=0,N=s.length;y<N;y++){for(q=s[y],S=0,F=q.length;S<F;S++)ee=q[S],h+=(S?"L":"M")+ee.x+" "+ee.y;h+=c?je.svg?"z":"x":""}return h||"M0 0"}var Ht=document.documentElement.style,zt="ActiveXObject"in window,Mt=zt&&!document.addEventListener,Hr="msLaunchUri"in navigator&&!("documentMode"in document),On=In("webkit"),vi=In("android"),kn=In("android 2")||In("android 3"),$s=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),zs=vi&&In("Google")&&$s<537&&!("AudioNode"in window),Wt=!!window.opera,Wn=!Hr&&In("chrome"),Ji=In("gecko")&&!On&&!Wt&&!zt,Ws=!Wn&&In("safari"),_r=In("phantom"),Qi="OTransition"in Ht,es=navigator.platform.indexOf("Win")===0,Zr=zt&&"transition"in Ht,_n="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!kn,ts="MozPerspective"in Ht,wr=!window.L_DISABLE_3D&&(Zr||_n||ts)&&!Qi&&!_r,nr=typeof orientation<"u"||In("mobile"),Us=nr&&On,Hs=nr&&_n,wn=!window.PointerEvent&&window.MSPointerEvent,Zs=!!(window.PointerEvent||wn),yi="ontouchstart"in window||!!window.TouchEvent,An=!window.L_NO_TOUCH&&(yi||Zs),aa=nr&&Wt,Ue=nr&&Ji,ot=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,gt=function(){var s=!1;try{var c=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",g,c),window.removeEventListener("testPassiveEventSupport",g,c)}catch{}return s}(),cn=function(){return!!document.createElement("canvas").getContext}(),Yt=!!(document.createElementNS&&bt("svg").createSVGRect),Un=!!Yt&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),rr=!Yt&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var c=s.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),un=navigator.platform.indexOf("Mac")===0,Hn=navigator.platform.indexOf("Linux")===0;function In(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var je={ie:zt,ielt9:Mt,edge:Hr,webkit:On,android:vi,android23:kn,androidStock:zs,opera:Wt,chrome:Wn,gecko:Ji,safari:Ws,phantom:_r,opera12:Qi,win:es,ie3d:Zr,webkit3d:_n,gecko3d:ts,any3d:wr,mobile:nr,mobileWebkit:Us,mobileWebkit3d:Hs,msPointer:wn,pointer:Zs,touch:An,touchNative:yi,mobileOpera:aa,mobileGecko:Ue,retina:ot,passiveEvents:gt,canvas:cn,svg:Yt,vml:rr,inlineSvg:Un,mac:un,linux:Hn},Dl=je.msPointer?"MSPointerDown":"pointerdown",Ll=je.msPointer?"MSPointerMove":"pointermove",Fl=je.msPointer?"MSPointerUp":"pointerup",Bl=je.msPointer?"MSPointerCancel":"pointercancel",la={touchstart:Dl,touchmove:Ll,touchend:Fl,touchcancel:Bl},Vl={touchstart:rs,touchmove:ns,touchend:ns,touchcancel:ns},xi={},$l=!1;function pd(s,c,h){return c==="touchstart"&&xd(),Vl[c]?(h=Vl[c].bind(this,h),s.addEventListener(la[c],h,!1),h):(console.warn("wrong event specified:",c),g)}function gd(s,c,h){if(!la[c]){console.warn("wrong event specified:",c);return}s.removeEventListener(la[c],h,!1)}function vd(s){xi[s.pointerId]=s}function yd(s){xi[s.pointerId]&&(xi[s.pointerId]=s)}function zl(s){delete xi[s.pointerId]}function xd(){$l||(document.addEventListener(Dl,vd,!0),document.addEventListener(Ll,yd,!0),document.addEventListener(Fl,zl,!0),document.addEventListener(Bl,zl,!0),$l=!0)}function ns(s,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var h in xi)c.touches.push(xi[h]);c.changedTouches=[c],s(c)}}function rs(s,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Kt(c),ns(s,c)}function Wl(s){var c={},h,y;for(y in s)h=s[y],c[y]=h&&h.bind?h.bind(s):h;return s=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var bi=200;function bd(s,c){s.addEventListener("dblclick",c);var h=0,y;function S(N){if(N.detail!==1){y=N.detail;return}if(!(N.pointerType==="mouse"||N.sourceCapabilities&&!N.sourceCapabilities.firesTouchEvents)){var F=Hp(N);if(!(F.some(function(ee){return ee instanceof HTMLLabelElement&&ee.attributes.for})&&!F.some(function(ee){return ee instanceof HTMLInputElement||ee instanceof HTMLSelectElement}))){var q=Date.now();q-h<=bi?(y++,y===2&&c(Wl(N))):y=1,h=q}}}return s.addEventListener("click",S),{dblclick:c,simDblclick:S}}function Gs(s,c){s.removeEventListener("dblclick",c.dblclick),s.removeEventListener("click",c.simDblclick)}var is=Se(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ss=Se(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ul=ss==="webkitTransition"||ss==="OTransition"?ss+"End":"transitionend";function Ys(s){return typeof s=="string"?document.getElementById(s):s}function os(s,c){var h=s.style[c]||s.currentStyle&&s.currentStyle[c];if((!h||h==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(s,null);h=y?y[c]:null}return h==="auto"?null:h}function tt(s,c,h){var y=document.createElement(s);return y.className=c||"",h&&h.appendChild(y),y}function j(s){var c=s.parentNode;c&&c.removeChild(s)}function B(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function A(s){var c=s.parentNode;c&&c.lastChild!==s&&c.appendChild(s)}function z(s){var c=s.parentNode;c&&c.firstChild!==s&&c.insertBefore(s,c.firstChild)}function Z(s,c){if(s.classList!==void 0)return s.classList.contains(c);var h=pe(s);return h.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(h)}function D(s,c){if(s.classList!==void 0)for(var h=w(c),y=0,S=h.length;y<S;y++)s.classList.add(h[y]);else if(!Z(s,c)){var N=pe(s);ue(s,(N?N+" ":"")+c)}}function te(s,c){s.classList!==void 0?s.classList.remove(c):ue(s,x((" "+pe(s)+" ").replace(" "+c+" "," ")))}function ue(s,c){s.className.baseVal===void 0?s.className=c:s.className.baseVal=c}function pe(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function de(s,c){"opacity"in s.style?s.style.opacity=c:"filter"in s.style&&ve(s,c)}function ve(s,c){var h=!1,y="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(y)}catch{if(c===1)return}c=Math.round(c*100),h?(h.Enabled=c!==100,h.Opacity=c):s.style.filter+=" progid:"+y+"(opacity="+c+")"}function Se(s){for(var c=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in c)return s[h];return!1}function He(s,c,h){var y=c||new O(0,0);s.style[is]=(je.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(h?" scale("+h+")":"")}function De(s,c){s._leaflet_pos=c,je.any3d?He(s,c):(s.style.left=c.x+"px",s.style.top=c.y+"px")}function et(s){return s._leaflet_pos||new O(0,0)}var wt,_t,Jt;if("onselectstart"in document)wt=function(){Ge(window,"selectstart",Kt)},_t=function(){St(window,"selectstart",Kt)};else{var ir=Se(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);wt=function(){if(ir){var s=document.documentElement.style;Jt=s[ir],s[ir]="none"}},_t=function(){ir&&(document.documentElement.style[ir]=Jt,Jt=void 0)}}function as(){Ge(window,"dragstart",Kt)}function ca(){St(window,"dragstart",Kt)}var _i,Hl;function ua(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Ks(),_i=s,Hl=s.style.outlineStyle,s.style.outlineStyle="none",Ge(window,"keydown",Ks))}function Ks(){_i&&(_i.style.outlineStyle=Hl,_i=void 0,Hl=void 0,St(window,"keydown",Ks))}function da(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function _d(s){var c=s.getBoundingClientRect();return{x:c.width/s.offsetWidth||1,y:c.height/s.offsetHeight||1,boundingClientRect:c}}var kE={__proto__:null,TRANSFORM:is,TRANSITION:ss,TRANSITION_END:Ul,get:Ys,getStyle:os,create:tt,remove:j,empty:B,toFront:A,toBack:z,hasClass:Z,addClass:D,removeClass:te,setClass:ue,getClass:pe,setOpacity:de,testProp:Se,setTransform:He,setPosition:De,getPosition:et,get disableTextSelection(){return wt},get enableTextSelection(){return _t},disableImageDrag:as,enableImageDrag:ca,preventOutline:ua,restoreOutline:Ks,getSizedParentNode:da,getScale:_d};function Ge(s,c,h,y){if(c&&typeof c=="object")for(var S in c)Sd(s,S,c[S],h);else{c=w(c);for(var N=0,F=c.length;N<F;N++)Sd(s,c[N],h,y)}return this}var Sr="_leaflet_events";function St(s,c,h,y){if(arguments.length===1)Up(s),delete s[Sr];else if(c&&typeof c=="object")for(var S in c)Cd(s,S,c[S],h);else if(c=w(c),arguments.length===2)Up(s,function(q){return M(c,q)!==-1});else for(var N=0,F=c.length;N<F;N++)Cd(s,c[N],h,y);return this}function Up(s,c){for(var h in s[Sr]){var y=h.split(/\d/)[0];(!c||c(y))&&Cd(s,y,null,null,h)}}var wd={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Sd(s,c,h,y){var S=c+d(h)+(y?"_"+d(y):"");if(s[Sr]&&s[Sr][S])return this;var N=function(q){return h.call(y||s,q||window.event)},F=N;!je.touchNative&&je.pointer&&c.indexOf("touch")===0?N=pd(s,c,N):je.touch&&c==="dblclick"?N=bd(s,N):"addEventListener"in s?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?s.addEventListener(wd[c]||c,N,je.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(N=function(q){q=q||window.event,Ed(s,q)&&F(q)},s.addEventListener(wd[c],N,!1)):s.addEventListener(c,F,!1):s.attachEvent("on"+c,N),s[Sr]=s[Sr]||{},s[Sr][S]=N}function Cd(s,c,h,y,S){S=S||c+d(h)+(y?"_"+d(y):"");var N=s[Sr]&&s[Sr][S];if(!N)return this;!je.touchNative&&je.pointer&&c.indexOf("touch")===0?gd(s,c,N):je.touch&&c==="dblclick"?Gs(s,N):"removeEventListener"in s?s.removeEventListener(wd[c]||c,N,!1):s.detachEvent("on"+c,N),s[Sr][S]=null}function ls(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Pd(s){return Sd(s,"wheel",ls),this}function fa(s){return Ge(s,"mousedown touchstart dblclick contextmenu",ls),s._leaflet_disable_click=!0,this}function Kt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function cs(s){return Kt(s),ls(s),this}function Hp(s){if(s.composedPath)return s.composedPath();for(var c=[],h=s.target;h;)c.push(h),h=h.parentNode;return c}function Zp(s,c){if(!c)return new O(s.clientX,s.clientY);var h=_d(c),y=h.boundingClientRect;return new O((s.clientX-y.left)/h.x-c.clientLeft,(s.clientY-y.top)/h.y-c.clientTop)}var AE=je.linux&&je.chrome?window.devicePixelRatio:je.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Gp(s){return je.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/AE:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Ed(s,c){var h=c.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var IE={__proto__:null,on:Ge,off:St,stopPropagation:ls,disableScrollPropagation:Pd,disableClickPropagation:fa,preventDefault:Kt,stop:cs,getPropagationPath:Hp,getMousePosition:Zp,getWheelDelta:Gp,isExternalTarget:Ed,addListener:Ge,removeListener:St},Yp=Y.extend({run:function(s,c,h,y){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=et(s),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=re(this._animate,this),this._step()},_step:function(s){var c=+new Date-this._startTime,h=this._duration*1e3;c<h?this._runFrame(this._easeOut(c/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,c){var h=this._startPos.add(this._offset.multiplyBy(s));c&&h._round(),De(this._el,h),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),nt=Y.extend({options:{crs:Qe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,c){c=v(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(he(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ss&&je.any3d&&!je.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ge(this._proxy,Ul,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,c,h){if(c=c===void 0?this._zoom:this._limitZoom(c),s=this._limitCenter(he(s),c,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=i({animate:h.animate},h.zoom),h.pan=i({animate:h.animate,duration:h.duration},h.pan));var y=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,c,h.zoom):this._tryAnimatedPan(s,h.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(s,c,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,c){return this._loaded?this.setView(this.getCenter(),s,{zoom:c}):(this._zoom=s,this)},zoomIn:function(s,c){return s=s||(je.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,c)},zoomOut:function(s,c){return s=s||(je.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,c)},setZoomAround:function(s,c,h){var y=this.getZoomScale(c),S=this.getSize().divideBy(2),N=s instanceof O?s:this.latLngToContainerPoint(s),F=N.subtract(S).multiplyBy(1-1/y),q=this.containerPointToLatLng(S.add(F));return this.setView(q,c,{zoom:h})},_getBoundsCenterZoom:function(s,c){c=c||{},s=s.getBounds?s.getBounds():se(s);var h=V(c.paddingTopLeft||c.padding||[0,0]),y=V(c.paddingBottomRight||c.padding||[0,0]),S=this.getBoundsZoom(s,!1,h.add(y));if(S=typeof c.maxZoom=="number"?Math.min(c.maxZoom,S):S,S===1/0)return{center:s.getCenter(),zoom:S};var N=y.subtract(h).divideBy(2),F=this.project(s.getSouthWest(),S),q=this.project(s.getNorthEast(),S),ee=this.unproject(F.add(q).divideBy(2).add(N),S);return{center:ee,zoom:S}},fitBounds:function(s,c){if(s=se(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,c);return this.setView(h.center,h.zoom,c)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,c){return this.setView(s,this._zoom,{pan:c})},panBy:function(s,c){if(s=V(s).round(),c=c||{},!s.x&&!s.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Yp,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){D(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,c.duration||.25,c.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,c,h){if(h=h||{},h.animate===!1||!je.any3d)return this.setView(s,c,h);this._stop();var y=this.project(this.getCenter()),S=this.project(s),N=this.getSize(),F=this._zoom;s=he(s),c=c===void 0?F:c;var q=Math.max(N.x,N.y),ee=q*this.getZoomScale(F,c),ce=S.distanceTo(y)||1,_e=1.42,Fe=_e*_e;function Je(Ft){var rc=Ft?-1:1,ST=Ft?ee:q,CT=ee*ee-q*q+rc*Fe*Fe*ce*ce,PT=2*ST*Fe*ce,Ld=CT/PT,Ng=Math.sqrt(Ld*Ld+1)-Ld,ET=Ng<1e-9?-18:Math.log(Ng);return ET}function dn(Ft){return(Math.exp(Ft)-Math.exp(-Ft))/2}function Zt(Ft){return(Math.exp(Ft)+Math.exp(-Ft))/2}function Gn(Ft){return dn(Ft)/Zt(Ft)}var Sn=Je(0);function to(Ft){return q*(Zt(Sn)/Zt(Sn+_e*Ft))}function xT(Ft){return q*(Zt(Sn)*Gn(Sn+_e*Ft)-dn(Sn))/Fe}function bT(Ft){return 1-Math.pow(1-Ft,1.5)}var _T=Date.now(),Eg=(Je(1)-Sn)/_e,wT=h.duration?1e3*h.duration:1e3*Eg*.8;function Tg(){var Ft=(Date.now()-_T)/wT,rc=bT(Ft)*Eg;Ft<=1?(this._flyToFrame=re(Tg,this),this._move(this.unproject(y.add(S.subtract(y).multiplyBy(xT(rc)/ce)),F),this.getScaleZoom(q/to(rc),F),{flyTo:!0})):this._move(s,c)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Tg.call(this),this},flyToBounds:function(s,c){var h=this._getBoundsCenterZoom(s,c);return this.flyTo(h.center,h.zoom,c)},setMaxBounds:function(s){return s=se(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var c=this.options.minZoom;return this.options.minZoom=s,this._loaded&&c!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var c=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&c!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,c){this._enforcingBounds=!0;var h=this.getCenter(),y=this._limitCenter(h,this._zoom,se(s));return h.equals(y)||this.panTo(y,c),this._enforcingBounds=!1,this},panInside:function(s,c){c=c||{};var h=V(c.paddingTopLeft||c.padding||[0,0]),y=V(c.paddingBottomRight||c.padding||[0,0]),S=this.project(this.getCenter()),N=this.project(s),F=this.getPixelBounds(),q=G([F.min.add(h),F.max.subtract(y)]),ee=q.getSize();if(!q.contains(N)){this._enforcingBounds=!0;var ce=N.subtract(q.getCenter()),_e=q.extend(N).getSize().subtract(ee);S.x+=ce.x<0?-_e.x:_e.x,S.y+=ce.y<0?-_e.y:_e.y,this.panTo(this.unproject(S),c),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=i({animate:!1,pan:!0},s===!0?{animate:!0}:s);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),y=c.divideBy(2).round(),S=h.divideBy(2).round(),N=y.subtract(S);return!N.x&&!N.y?this:(s.animate&&s.pan?this.panBy(N):(s.pan&&this._rawPanBy(N),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=i({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=l(this._handleGeolocationResponse,this),h=l(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,h,s):navigator.geolocation.getCurrentPosition(c,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var c=s.code,h=s.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var c=s.coords.latitude,h=s.coords.longitude,y=new le(c,h),S=y.toBounds(s.coords.accuracy*2),N=this._locateOptions;if(N.setView){var F=this.getBoundsZoom(S);this.setView(y,N.maxZoom?Math.min(F,N.maxZoom):F)}var q={latlng:y,bounds:S,timestamp:s.timestamp};for(var ee in s.coords)typeof s.coords[ee]=="number"&&(q[ee]=s.coords[ee]);this.fire("locationfound",q)}},addHandler:function(s,c){if(!c)return this;var h=this[s]=new c(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),j(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)j(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,c){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),y=tt("div",h,c||this._mapPane);return s&&(this._panes[s]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),c=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new ie(c,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,c,h){s=se(s),h=V(h||[0,0]);var y=this.getZoom()||0,S=this.getMinZoom(),N=this.getMaxZoom(),F=s.getNorthWest(),q=s.getSouthEast(),ee=this.getSize().subtract(h),ce=G(this.project(q,y),this.project(F,y)).getSize(),_e=je.any3d?this.options.zoomSnap:1,Fe=ee.x/ce.x,Je=ee.y/ce.y,dn=c?Math.max(Fe,Je):Math.min(Fe,Je);return y=this.getScaleZoom(dn,y),_e&&(y=Math.round(y/(_e/100))*(_e/100),y=c?Math.ceil(y/_e)*_e:Math.floor(y/_e)*_e),Math.max(S,Math.min(N,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new O(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,c){var h=this._getTopLeftPoint(s,c);return new Q(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,c){var h=this.options.crs;return c=c===void 0?this._zoom:c,h.scale(s)/h.scale(c)},getScaleZoom:function(s,c){var h=this.options.crs;c=c===void 0?this._zoom:c;var y=h.zoom(s*h.scale(c));return isNaN(y)?1/0:y},project:function(s,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(he(s),c)},unproject:function(s,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(V(s),c)},layerPointToLatLng:function(s){var c=V(s).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(s){var c=this.project(he(s))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(he(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(se(s))},distance:function(s,c){return this.options.crs.distance(he(s),he(c))},containerPointToLayerPoint:function(s){return V(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return V(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var c=this.containerPointToLayerPoint(V(s));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(he(s)))},mouseEventToContainerPoint:function(s){return Zp(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var c=this._container=Ys(s);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ge(c,"scroll",this._onScroll,this),this._containerId=d(c)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&je.any3d,D(s,"leaflet-container"+(je.touch?" leaflet-touch":"")+(je.retina?" leaflet-retina":"")+(je.ielt9?" leaflet-oldie":"")+(je.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=os(s,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),De(this._mapPane,new O(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(D(s.markerPane,"leaflet-zoom-hide"),D(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,c,h){De(this._mapPane,new O(0,0));var y=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var S=this._zoom!==c;this._moveStart(S,h)._move(s,c)._moveEnd(S),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(s,c){return s&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(s,c,h,y){c===void 0&&(c=this._zoom);var S=this._zoom!==c;return this._zoom=c,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),y?h&&h.pinch&&this.fire("zoom",h):((S||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){De(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[d(this._container)]=this;var c=s?St:Ge;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),je.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=re(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,c){for(var h=[],y,S=c==="mouseout"||c==="mouseover",N=s.target||s.srcElement,F=!1;N;){if(y=this._targets[d(N)],y&&(c==="click"||c==="preclick")&&this._draggableMoved(y)){F=!0;break}if(y&&y.listens(c,!0)&&(S&&!Ed(N,s)||(h.push(y),S))||N===this._container)break;N=N.parentNode}return!h.length&&!F&&!S&&this.listens(c,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var c=s.target||s.srcElement;if(!(!this._loaded||c._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(c))){var h=s.type;h==="mousedown"&&ua(c),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,c,h){if(s.type==="click"){var y=i({},s);y.type="preclick",this._fireDOMEvent(y,y.type,h)}var S=this._findEventTargets(s,c);if(h){for(var N=[],F=0;F<h.length;F++)h[F].listens(c,!0)&&N.push(h[F]);S=N.concat(S)}if(S.length){c==="contextmenu"&&Kt(s);var q=S[0],ee={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var ce=q.getLatLng&&(!q._radius||q._radius<=10);ee.containerPoint=ce?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(s),ee.layerPoint=this.containerPointToLayerPoint(ee.containerPoint),ee.latlng=ce?q.getLatLng():this.layerPointToLatLng(ee.layerPoint)}for(F=0;F<S.length;F++)if(S[F].fire(c,ee,!0),ee.originalEvent._stopped||S[F].options.bubblingMouseEvents===!1&&M(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,c=this._handlers.length;s<c;s++)this._handlers[s].disable()},whenReady:function(s,c){return this._loaded?s.call(c||this,{target:this}):this.on("load",s,c),this},_getMapPanePos:function(){return et(this._mapPane)||new O(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,c){var h=s&&c!==void 0?this._getNewPixelOrigin(s,c):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,c){var h=this.getSize()._divideBy(2);return this.project(s,c)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,c,h){var y=this._getNewPixelOrigin(h,c);return this.project(s,c)._subtract(y)},_latLngBoundsToNewLayerBounds:function(s,c,h){var y=this._getNewPixelOrigin(h,c);return G([this.project(s.getSouthWest(),c)._subtract(y),this.project(s.getNorthWest(),c)._subtract(y),this.project(s.getSouthEast(),c)._subtract(y),this.project(s.getNorthEast(),c)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,c,h){if(!h)return s;var y=this.project(s,c),S=this.getSize().divideBy(2),N=new Q(y.subtract(S),y.add(S)),F=this._getBoundsOffset(N,h,c);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?s:this.unproject(y.add(F),c)},_limitOffset:function(s,c){if(!c)return s;var h=this.getPixelBounds(),y=new Q(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(y,c))},_getBoundsOffset:function(s,c,h){var y=G(this.project(c.getNorthEast(),h),this.project(c.getSouthWest(),h)),S=y.min.subtract(s.min),N=y.max.subtract(s.max),F=this._rebound(S.x,-N.x),q=this._rebound(S.y,-N.y);return new O(F,q)},_rebound:function(s,c){return s+c>0?Math.round(s-c)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(c))},_limitZoom:function(s){var c=this.getMinZoom(),h=this.getMaxZoom(),y=je.any3d?this.options.zoomSnap:1;return y&&(s=Math.round(s/y)*y),Math.max(c,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){te(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,c){var h=this._getCenterOffset(s)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,c),!0)},_createAnimProxy:function(){var s=this._proxy=tt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(c){var h=is,y=this._proxy.style[h];He(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),y===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){j(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),c=this.getZoom();He(this._proxy,this.project(s,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,c,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(c),S=this._getCenterOffset(s)._divideBy(1-1/y);return h.animate!==!0&&!this.getSize().contains(S)?!1:(re(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,c,!0)},this),!0)},_animateZoom:function(s,c,h,y){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=c,D(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:c,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&te(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function DE(s,c){return new nt(s,c)}var sr=J.extend({options:{position:"topright"},initialize:function(s){v(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var c=this._map;return c&&c.removeControl(this),this.options.position=s,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var c=this._container=this.onAdd(s),h=this.getPosition(),y=s._controlCorners[h];return D(c,"leaflet-control"),h.indexOf("bottom")!==-1?y.insertBefore(c,y.firstChild):y.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(j(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),ha=function(s){return new sr(s)};nt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},c="leaflet-",h=this._controlContainer=tt("div",c+"control-container",this._container);function y(S,N){var F=c+S+" "+c+N;s[S+N]=tt("div",F,h)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)j(this._controlCorners[s]);j(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Kp=sr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,c,h,y){return h<y?-1:y<h?1:0}},initialize:function(s,c,h){v(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in s)this._addLayer(s[y],y);for(y in c)this._addLayer(c[y],y,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return sr.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,c){return this._addLayer(s,c),this._map?this._update():this},addOverlay:function(s,c){return this._addLayer(s,c,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var c=this._getLayer(d(s));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){D(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(D(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):te(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return te(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",c=this._container=tt("div",s),h=this.options.collapsed;c.setAttribute("aria-haspopup",!0),fa(c),Pd(c);var y=this._section=tt("section",s+"-list");h&&(this._map.on("click",this.collapse,this),Ge(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=tt("a",s+"-toggle",c);S.href="#",S.title="Layers",S.setAttribute("role","button"),Ge(S,{keydown:function(N){N.keyCode===13&&this._expandSafely()},click:function(N){Kt(N),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=tt("div",s+"-base",y),this._separator=tt("div",s+"-separator",y),this._overlaysList=tt("div",s+"-overlays",y),c.appendChild(y)},_getLayer:function(s){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&d(this._layers[c].layer)===s)return this._layers[c]},_addLayer:function(s,c,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:c,overlay:h}),this.options.sortLayers&&this._layers.sort(l(function(y,S){return this.options.sortFunction(y.layer,S.layer,y.name,S.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;B(this._baseLayersList),B(this._overlaysList),this._layerControlInputs=[];var s,c,h,y,S=0;for(h=0;h<this._layers.length;h++)y=this._layers[h],this._addItem(y),c=c||y.overlay,s=s||!y.overlay,S+=y.overlay?0:1;return this.options.hideSingleBase&&(s=s&&S>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=c&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var c=this._getLayer(d(s.target)),h=c.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,c)},_createRadioElement:function(s,c){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(c?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=h,y.firstChild},_addItem:function(s){var c=document.createElement("label"),h=this._map.hasLayer(s.layer),y;s.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=h):y=this._createRadioElement("leaflet-base-layers_"+d(this),h),this._layerControlInputs.push(y),y.layerId=d(s.layer),Ge(y,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+s.name;var N=document.createElement("span");c.appendChild(N),N.appendChild(y),N.appendChild(S);var F=s.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,c,h,y=[],S=[];this._handlingClick=!0;for(var N=s.length-1;N>=0;N--)c=s[N],h=this._getLayer(c.layerId).layer,c.checked?y.push(h):c.checked||S.push(h);for(N=0;N<S.length;N++)this._map.hasLayer(S[N])&&this._map.removeLayer(S[N]);for(N=0;N<y.length;N++)this._map.hasLayer(y[N])||this._map.addLayer(y[N]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,c,h,y=this._map.getZoom(),S=s.length-1;S>=0;S--)c=s[S],h=this._getLayer(c.layerId).layer,c.disabled=h.options.minZoom!==void 0&&y<h.options.minZoom||h.options.maxZoom!==void 0&&y>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Ge(s,"click",Kt),this.expand();var c=this;setTimeout(function(){St(s,"click",Kt),c._preventClick=!1})}}),LE=function(s,c,h){return new Kp(s,c,h)},Td=sr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var c="leaflet-control-zoom",h=tt("div",c+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,c+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,c+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,c,h,y,S){var N=tt("a",h,y);return N.innerHTML=s,N.href="#",N.title=c,N.setAttribute("role","button"),N.setAttribute("aria-label",c),fa(N),Ge(N,"click",cs),Ge(N,"click",S,this),Ge(N,"click",this._refocusOnMap,this),N},_updateDisabled:function(){var s=this._map,c="leaflet-disabled";te(this._zoomInButton,c),te(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(D(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(D(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});nt.mergeOptions({zoomControl:!0}),nt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Td,this.addControl(this.zoomControl))});var FE=function(s){return new Td(s)},qp=sr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var c="leaflet-control-scale",h=tt("div",c),y=this.options;return this._addScales(y,c+"-line",h),s.on(y.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,c,h){s.metric&&(this._mScale=tt("div",c,h)),s.imperial&&(this._iScale=tt("div",c,h))},_update:function(){var s=this._map,c=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,c]),s.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var c=this._getRoundNum(s),h=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,h,c/s)},_updateImperial:function(s){var c=s*3.2808399,h,y,S;c>5280?(h=c/5280,y=this._getRoundNum(h),this._updateScale(this._iScale,y+" mi",y/h)):(S=this._getRoundNum(c),this._updateScale(this._iScale,S+" ft",S/c))},_updateScale:function(s,c,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=c},_getRoundNum:function(s){var c=Math.pow(10,(Math.floor(s)+"").length-1),h=s/c;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,c*h}}),BE=function(s){return new qp(s)},VE='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Nd=sr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(je.inlineSvg?VE+" ":"")+"Leaflet</a>"},initialize:function(s){v(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=tt("div","leaflet-control-attribution"),fa(this._container);for(var c in s._layers)s._layers[c].getAttribution&&this.addAttribution(s._layers[c].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var c in this._attributions)this._attributions[c]&&s.push(c);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});nt.mergeOptions({attributionControl:!0}),nt.addInitHook(function(){this.options.attributionControl&&new Nd().addTo(this)});var $E=function(s){return new Nd(s)};sr.Layers=Kp,sr.Zoom=Td,sr.Scale=qp,sr.Attribution=Nd,ha.layers=LE,ha.zoom=FE,ha.scale=BE,ha.attribution=$E;var Cr=J.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Cr.addTo=function(s,c){return s.addHandler(c,this),this};var zE={Events:K},Xp=je.touch?"touchstart mousedown":"mousedown",wi=Y.extend({options:{clickTolerance:3},initialize:function(s,c,h,y){v(this,y),this._element=s,this._dragStartTarget=c||s,this._preventOutline=h},enable:function(){this._enabled||(Ge(this._dragStartTarget,Xp,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wi._dragging===this&&this.finishDrag(!0),St(this._dragStartTarget,Xp,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Z(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){wi._dragging===this&&this.finishDrag();return}if(!(wi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(wi._dragging=this,this._preventOutline&&ua(this._element),as(),wt(),!this._moving)){this.fire("down");var c=s.touches?s.touches[0]:s,h=da(this._element);this._startPoint=new O(c.clientX,c.clientY),this._startPos=et(this._element),this._parentScale=_d(h);var y=s.type==="mousedown";Ge(document,y?"mousemove":"touchmove",this._onMove,this),Ge(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var c=s.touches&&s.touches.length===1?s.touches[0]:s,h=new O(c.clientX,c.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Kt(s),this._moved||(this.fire("dragstart"),this._moved=!0,D(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),D(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),De(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){te(document.body,"leaflet-dragging"),this._lastTarget&&(te(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),St(document,"mousemove touchmove",this._onMove,this),St(document,"mouseup touchend touchcancel",this._onUp,this),ca(),_t();var c=this._moved&&this._moving;this._moving=!1,wi._dragging=!1,c&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Jp(s,c,h){var y,S=[1,4,2,8],N,F,q,ee,ce,_e,Fe,Je;for(N=0,_e=s.length;N<_e;N++)s[N]._code=us(s[N],c);for(q=0;q<4;q++){for(Fe=S[q],y=[],N=0,_e=s.length,F=_e-1;N<_e;F=N++)ee=s[N],ce=s[F],ee._code&Fe?ce._code&Fe||(Je=Zl(ce,ee,Fe,c,h),Je._code=us(Je,c),y.push(Je)):(ce._code&Fe&&(Je=Zl(ce,ee,Fe,c,h),Je._code=us(Je,c),y.push(Je)),y.push(ee));s=y}return s}function Qp(s,c){var h,y,S,N,F,q,ee,ce,_e;if(!s||s.length===0)throw new Error("latlngs not passed");Zn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Fe=he([0,0]),Je=se(s),dn=Je.getNorthWest().distanceTo(Je.getSouthWest())*Je.getNorthEast().distanceTo(Je.getNorthWest());dn<1700&&(Fe=jd(s));var Zt=s.length,Gn=[];for(h=0;h<Zt;h++){var Sn=he(s[h]);Gn.push(c.project(he([Sn.lat-Fe.lat,Sn.lng-Fe.lng])))}for(q=ee=ce=0,h=0,y=Zt-1;h<Zt;y=h++)S=Gn[h],N=Gn[y],F=S.y*N.x-N.y*S.x,ee+=(S.x+N.x)*F,ce+=(S.y+N.y)*F,q+=F*3;q===0?_e=Gn[0]:_e=[ee/q,ce/q];var to=c.unproject(V(_e));return he([to.lat+Fe.lat,to.lng+Fe.lng])}function jd(s){for(var c=0,h=0,y=0,S=0;S<s.length;S++){var N=he(s[S]);c+=N.lat,h+=N.lng,y++}return he([c/y,h/y])}var WE={__proto__:null,clipPolygon:Jp,polygonCenter:Qp,centroid:jd};function eg(s,c){if(!c||!s.length)return s.slice();var h=c*c;return s=ZE(s,h),s=HE(s,h),s}function tg(s,c,h){return Math.sqrt(ma(s,c,h,!0))}function UE(s,c,h){return ma(s,c,h)}function HE(s,c){var h=s.length,y=typeof Uint8Array<"u"?Uint8Array:Array,S=new y(h);S[0]=S[h-1]=1,Md(s,S,c,0,h-1);var N,F=[];for(N=0;N<h;N++)S[N]&&F.push(s[N]);return F}function Md(s,c,h,y,S){var N=0,F,q,ee;for(q=y+1;q<=S-1;q++)ee=ma(s[q],s[y],s[S],!0),ee>N&&(F=q,N=ee);N>h&&(c[F]=1,Md(s,c,h,y,F),Md(s,c,h,F,S))}function ZE(s,c){for(var h=[s[0]],y=1,S=0,N=s.length;y<N;y++)GE(s[y],s[S])>c&&(h.push(s[y]),S=y);return S<N-1&&h.push(s[N-1]),h}var ng;function rg(s,c,h,y,S){var N=y?ng:us(s,h),F=us(c,h),q,ee,ce;for(ng=F;;){if(!(N|F))return[s,c];if(N&F)return!1;q=N||F,ee=Zl(s,c,q,h,S),ce=us(ee,h),q===N?(s=ee,N=ce):(c=ee,F=ce)}}function Zl(s,c,h,y,S){var N=c.x-s.x,F=c.y-s.y,q=y.min,ee=y.max,ce,_e;return h&8?(ce=s.x+N*(ee.y-s.y)/F,_e=ee.y):h&4?(ce=s.x+N*(q.y-s.y)/F,_e=q.y):h&2?(ce=ee.x,_e=s.y+F*(ee.x-s.x)/N):h&1&&(ce=q.x,_e=s.y+F*(q.x-s.x)/N),new O(ce,_e,S)}function us(s,c){var h=0;return s.x<c.min.x?h|=1:s.x>c.max.x&&(h|=2),s.y<c.min.y?h|=4:s.y>c.max.y&&(h|=8),h}function GE(s,c){var h=c.x-s.x,y=c.y-s.y;return h*h+y*y}function ma(s,c,h,y){var S=c.x,N=c.y,F=h.x-S,q=h.y-N,ee=F*F+q*q,ce;return ee>0&&(ce=((s.x-S)*F+(s.y-N)*q)/ee,ce>1?(S=h.x,N=h.y):ce>0&&(S+=F*ce,N+=q*ce)),F=s.x-S,q=s.y-N,y?F*F+q*q:new O(S,N)}function Zn(s){return!E(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function ig(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Zn(s)}function sg(s,c){var h,y,S,N,F,q,ee,ce;if(!s||s.length===0)throw new Error("latlngs not passed");Zn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var _e=he([0,0]),Fe=se(s),Je=Fe.getNorthWest().distanceTo(Fe.getSouthWest())*Fe.getNorthEast().distanceTo(Fe.getNorthWest());Je<1700&&(_e=jd(s));var dn=s.length,Zt=[];for(h=0;h<dn;h++){var Gn=he(s[h]);Zt.push(c.project(he([Gn.lat-_e.lat,Gn.lng-_e.lng])))}for(h=0,y=0;h<dn-1;h++)y+=Zt[h].distanceTo(Zt[h+1])/2;if(y===0)ce=Zt[0];else for(h=0,N=0;h<dn-1;h++)if(F=Zt[h],q=Zt[h+1],S=F.distanceTo(q),N+=S,N>y){ee=(N-y)/S,ce=[q.x-ee*(q.x-F.x),q.y-ee*(q.y-F.y)];break}var Sn=c.unproject(V(ce));return he([Sn.lat+_e.lat,Sn.lng+_e.lng])}var YE={__proto__:null,simplify:eg,pointToSegmentDistance:tg,closestPointOnSegment:UE,clipSegment:rg,_getEdgeIntersection:Zl,_getBitCode:us,_sqClosestPointOnSegment:ma,isFlat:Zn,_flat:ig,polylineCenter:sg},Rd={project:function(s){return new O(s.lng,s.lat)},unproject:function(s){return new le(s.y,s.x)},bounds:new Q([-180,-90],[180,90])},Od={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var c=Math.PI/180,h=this.R,y=s.lat*c,S=this.R_MINOR/h,N=Math.sqrt(1-S*S),F=N*Math.sin(y),q=Math.tan(Math.PI/4-y/2)/Math.pow((1-F)/(1+F),N/2);return y=-h*Math.log(Math.max(q,1e-10)),new O(s.lng*c*h,y)},unproject:function(s){for(var c=180/Math.PI,h=this.R,y=this.R_MINOR/h,S=Math.sqrt(1-y*y),N=Math.exp(-s.y/h),F=Math.PI/2-2*Math.atan(N),q=0,ee=.1,ce;q<15&&Math.abs(ee)>1e-7;q++)ce=S*Math.sin(F),ce=Math.pow((1-ce)/(1+ce),S/2),ee=Math.PI/2-2*Math.atan(N*ce)-F,F+=ee;return new le(F*c,s.x*c/h)}},KE={__proto__:null,LonLat:Rd,Mercator:Od,SphericalMercator:Ee},qE=i({},be,{code:"EPSG:3395",projection:Od,transformation:function(){var s=.5/(Math.PI*Od.R);return Oe(s,.5,-s,.5)}()}),og=i({},be,{code:"EPSG:4326",projection:Rd,transformation:Oe(1/180,1,-1/180,.5)}),XE=i({},oe,{projection:Rd,transformation:Oe(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,c){var h=c.lng-s.lng,y=c.lat-s.lat;return Math.sqrt(h*h+y*y)},infinite:!0});oe.Earth=be,oe.EPSG3395=qE,oe.EPSG3857=Qe,oe.EPSG900913=xt,oe.EPSG4326=og,oe.Simple=XE;var or=Y.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[d(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[d(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var c=s.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var h=this.getEvents();c.on(h,this),this.once("remove",function(){c.off(h,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});nt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var c=d(s);return this._layers[c]?this:(this._layers[c]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var c=d(s);return this._layers[c]?(this._loaded&&s.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return d(s)in this._layers},eachLayer:function(s,c){for(var h in this._layers)s.call(c,this._layers[h]);return this},_addLayers:function(s){s=s?E(s)?s:[s]:[];for(var c=0,h=s.length;c<h;c++)this.addLayer(s[c])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[d(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var c=d(s);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,c=-1/0,h=this._getZoomSpan();for(var y in this._zoomBoundLayers){var S=this._zoomBoundLayers[y].options;s=S.minZoom===void 0?s:Math.min(s,S.minZoom),c=S.maxZoom===void 0?c:Math.max(c,S.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var qs=or.extend({initialize:function(s,c){v(this,c),this._layers={};var h,y;if(s)for(h=0,y=s.length;h<y;h++)this.addLayer(s[h])},addLayer:function(s){var c=this.getLayerId(s);return this._layers[c]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var c=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(s){var c=typeof s=="number"?s:this.getLayerId(s);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var c=Array.prototype.slice.call(arguments,1),h,y;for(h in this._layers)y=this._layers[h],y[s]&&y[s].apply(y,c);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,c){for(var h in this._layers)s.call(c,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return d(s)}}),JE=function(s,c){return new qs(s,c)},Gr=qs.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),qs.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),qs.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new ie;for(var c in this._layers){var h=this._layers[c];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),QE=function(s,c){return new Gr(s,c)},Xs=J.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){v(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,c){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(h,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(y,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(s,c){var h=this.options,y=h[c+"Size"];typeof y=="number"&&(y=[y,y]);var S=V(y),N=V(c==="shadow"&&h.shadowAnchor||h.iconAnchor||S&&S.divideBy(2,!0));s.className="leaflet-marker-"+c+" "+(h.className||""),N&&(s.style.marginLeft=-N.x+"px",s.style.marginTop=-N.y+"px"),S&&(s.style.width=S.x+"px",s.style.height=S.y+"px")},_createImg:function(s,c){return c=c||document.createElement("img"),c.src=s,c},_getIconUrl:function(s){return je.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function eT(s){return new Xs(s)}var pa=Xs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof pa.imagePath!="string"&&(pa.imagePath=this._detectIconPath()),(this.options.imagePath||pa.imagePath)+Xs.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var c=function(h,y,S){var N=y.exec(h);return N&&N[S]};return s=c(s,/^url\((['"])?(.+)\1\)$/,2),s&&c(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=tt("div","leaflet-default-icon-path",document.body),c=os(s,"background-image")||os(s,"backgroundImage");if(document.body.removeChild(s),c=this._stripUrl(c),c)return c;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),ag=Cr.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new wi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),D(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&te(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var c=this._marker,h=c._map,y=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,N=et(c._icon),F=h.getPixelBounds(),q=h.getPixelOrigin(),ee=G(F.min._subtract(q).add(S),F.max._subtract(q).subtract(S));if(!ee.contains(N)){var ce=V((Math.max(ee.max.x,N.x)-ee.max.x)/(F.max.x-ee.max.x)-(Math.min(ee.min.x,N.x)-ee.min.x)/(F.min.x-ee.min.x),(Math.max(ee.max.y,N.y)-ee.max.y)/(F.max.y-ee.max.y)-(Math.min(ee.min.y,N.y)-ee.min.y)/(F.min.y-ee.min.y)).multiplyBy(y);h.panBy(ce,{animate:!1}),this._draggable._newPos._add(ce),this._draggable._startPos._add(ce),De(c._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=re(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=re(this._adjustPan.bind(this,s)))},_onDrag:function(s){var c=this._marker,h=c._shadow,y=et(c._icon),S=c._map.layerPointToLatLng(y);h&&De(h,y),c._latlng=S,s.latlng=S,s.oldLatLng=this._oldLatLng,c.fire("move",s).fire("drag",s)},_onDragEnd:function(s){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Gl=or.extend({options:{icon:new pa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,c){v(this,c),this._latlng=he(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var c=this._latlng;return this._latlng=he(s),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),y=!1;h!==this._icon&&(this._icon&&this._removeIcon(),y=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),D(h,c),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ge(h,"focus",this._panOnFocus,this);var S=s.icon.createShadow(this._shadow),N=!1;S!==this._shadow&&(this._removeShadow(),N=!0),S&&(D(S,c),S.alt=""),this._shadow=S,s.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&N&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&St(this._icon,"focus",this._panOnFocus,this),j(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&j(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&De(this._icon,s),this._shadow&&De(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(D(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ag)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ag(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&de(this._icon,s),this._shadow&&de(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var c=this.options.icon.options,h=c.iconSize?V(c.iconSize):V(0,0),y=c.iconAnchor?V(c.iconAnchor):V(0,0);s.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:h.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function tT(s,c){return new Gl(s,c)}var Si=or.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return v(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Yl=Si.extend({options:{fill:!0,radius:10},initialize:function(s,c){v(this,c),this._latlng=he(s),this._radius=this.options.radius},setLatLng:function(s){var c=this._latlng;return this._latlng=he(s),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var c=s&&s.radius||this._radius;return Si.prototype.setStyle.call(this,s),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,c=this._radiusY||s,h=this._clickTolerance(),y=[s+h,c+h];this._pxBounds=new Q(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function nT(s,c){return new Yl(s,c)}var kd=Yl.extend({initialize:function(s,c,h){if(typeof c=="number"&&(c=i({},h,{radius:c})),v(this,c),this._latlng=he(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new ie(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Si.prototype.setStyle,_project:function(){var s=this._latlng.lng,c=this._latlng.lat,h=this._map,y=h.options.crs;if(y.distance===be.distance){var S=Math.PI/180,N=this._mRadius/be.R/S,F=h.project([c+N,s]),q=h.project([c-N,s]),ee=F.add(q).divideBy(2),ce=h.unproject(ee).lat,_e=Math.acos((Math.cos(N*S)-Math.sin(c*S)*Math.sin(ce*S))/(Math.cos(c*S)*Math.cos(ce*S)))/S;(isNaN(_e)||_e===0)&&(_e=N/Math.cos(Math.PI/180*c)),this._point=ee.subtract(h.getPixelOrigin()),this._radius=isNaN(_e)?0:ee.x-h.project([ce,s-_e]).x,this._radiusY=ee.y-F.y}else{var Fe=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Fe).x}this._updateBounds()}});function rT(s,c,h){return new kd(s,c,h)}var Yr=Si.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,c){v(this,c),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var c=1/0,h=null,y=ma,S,N,F=0,q=this._parts.length;F<q;F++)for(var ee=this._parts[F],ce=1,_e=ee.length;ce<_e;ce++){S=ee[ce-1],N=ee[ce];var Fe=y(s,S,N,!0);Fe<c&&(c=Fe,h=y(s,S,N))}return h&&(h.distance=Math.sqrt(c)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return sg(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,c){return c=c||this._defaultShape(),s=he(s),c.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new ie,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Zn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var c=[],h=Zn(s),y=0,S=s.length;y<S;y++)h?(c[y]=he(s[y]),this._bounds.extend(c[y])):c[y]=this._convertLatLngs(s[y]);return c},_project:function(){var s=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),c=new O(s,s);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(s,c,h){var y=s[0]instanceof le,S=s.length,N,F;if(y){for(F=[],N=0;N<S;N++)F[N]=this._map.latLngToLayerPoint(s[N]),h.extend(F[N]);c.push(F)}else for(N=0;N<S;N++)this._projectLatlngs(s[N],c,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,h,y,S,N,F,q,ee;for(h=0,S=0,N=this._rings.length;h<N;h++)for(ee=this._rings[h],y=0,F=ee.length;y<F-1;y++)q=rg(ee[y],ee[y+1],s,y,!0),q&&(c[S]=c[S]||[],c[S].push(q[0]),(q[1]!==ee[y+1]||y===F-2)&&(c[S].push(q[1]),S++))}},_simplifyPoints:function(){for(var s=this._parts,c=this.options.smoothFactor,h=0,y=s.length;h<y;h++)s[h]=eg(s[h],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,c){var h,y,S,N,F,q,ee=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,N=this._parts.length;h<N;h++)for(q=this._parts[h],y=0,F=q.length,S=F-1;y<F;S=y++)if(!(!c&&y===0)&&tg(s,q[S],q[y])<=ee)return!0;return!1}});function iT(s,c){return new Yr(s,c)}Yr._flat=ig;var Js=Yr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var c=Yr.prototype._convertLatLngs.call(this,s),h=c.length;return h>=2&&c[0]instanceof le&&c[0].equals(c[h-1])&&c.pop(),c},_setLatLngs:function(s){Yr.prototype._setLatLngs.call(this,s),Zn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Zn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,c=this.options.weight,h=new O(c,c);if(s=new Q(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,S=this._rings.length,N;y<S;y++)N=Jp(this._rings[y],s,!0),N.length&&this._parts.push(N)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var c=!1,h,y,S,N,F,q,ee,ce;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(N=0,ee=this._parts.length;N<ee;N++)for(h=this._parts[N],F=0,ce=h.length,q=ce-1;F<ce;q=F++)y=h[F],S=h[q],y.y>s.y!=S.y>s.y&&s.x<(S.x-y.x)*(s.y-y.y)/(S.y-y.y)+y.x&&(c=!c);return c||Yr.prototype._containsPoint.call(this,s,!0)}});function sT(s,c){return new Js(s,c)}var Kr=Gr.extend({initialize:function(s,c){v(this,c),this._layers={},s&&this.addData(s)},addData:function(s){var c=E(s)?s:s.features,h,y,S;if(c){for(h=0,y=c.length;h<y;h++)S=c[h],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var N=this.options;if(N.filter&&!N.filter(s))return this;var F=Kl(s,N);return F?(F.feature=Jl(s),F.defaultOptions=F.options,this.resetStyle(F),N.onEachFeature&&N.onEachFeature(s,F),this.addLayer(F)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=i({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(c){this._setLayerStyle(c,s)},this)},_setLayerStyle:function(s,c){s.setStyle&&(typeof c=="function"&&(c=c(s.feature)),s.setStyle(c))}});function Kl(s,c){var h=s.type==="Feature"?s.geometry:s,y=h?h.coordinates:null,S=[],N=c&&c.pointToLayer,F=c&&c.coordsToLatLng||Ad,q,ee,ce,_e;if(!y&&!h)return null;switch(h.type){case"Point":return q=F(y),lg(N,s,q,c);case"MultiPoint":for(ce=0,_e=y.length;ce<_e;ce++)q=F(y[ce]),S.push(lg(N,s,q,c));return new Gr(S);case"LineString":case"MultiLineString":return ee=ql(y,h.type==="LineString"?0:1,F),new Yr(ee,c);case"Polygon":case"MultiPolygon":return ee=ql(y,h.type==="Polygon"?1:2,F),new Js(ee,c);case"GeometryCollection":for(ce=0,_e=h.geometries.length;ce<_e;ce++){var Fe=Kl({geometry:h.geometries[ce],type:"Feature",properties:s.properties},c);Fe&&S.push(Fe)}return new Gr(S);case"FeatureCollection":for(ce=0,_e=h.features.length;ce<_e;ce++){var Je=Kl(h.features[ce],c);Je&&S.push(Je)}return new Gr(S);default:throw new Error("Invalid GeoJSON object.")}}function lg(s,c,h,y){return s?s(c,h):new Gl(h,y&&y.markersInheritOptions&&y)}function Ad(s){return new le(s[1],s[0],s[2])}function ql(s,c,h){for(var y=[],S=0,N=s.length,F;S<N;S++)F=c?ql(s[S],c-1,h):(h||Ad)(s[S]),y.push(F);return y}function Id(s,c){return s=he(s),s.alt!==void 0?[b(s.lng,c),b(s.lat,c),b(s.alt,c)]:[b(s.lng,c),b(s.lat,c)]}function Xl(s,c,h,y){for(var S=[],N=0,F=s.length;N<F;N++)S.push(c?Xl(s[N],Zn(s[N])?0:c-1,h,y):Id(s[N],y));return!c&&h&&S.length>0&&S.push(S[0].slice()),S}function Qs(s,c){return s.feature?i({},s.feature,{geometry:c}):Jl(c)}function Jl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Dd={toGeoJSON:function(s){return Qs(this,{type:"Point",coordinates:Id(this.getLatLng(),s)})}};Gl.include(Dd),kd.include(Dd),Yl.include(Dd),Yr.include({toGeoJSON:function(s){var c=!Zn(this._latlngs),h=Xl(this._latlngs,c?1:0,!1,s);return Qs(this,{type:(c?"Multi":"")+"LineString",coordinates:h})}}),Js.include({toGeoJSON:function(s){var c=!Zn(this._latlngs),h=c&&!Zn(this._latlngs[0]),y=Xl(this._latlngs,h?2:c?1:0,!0,s);return c||(y=[y]),Qs(this,{type:(h?"Multi":"")+"Polygon",coordinates:y})}}),qs.include({toMultiPoint:function(s){var c=[];return this.eachLayer(function(h){c.push(h.toGeoJSON(s).geometry.coordinates)}),Qs(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(s){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(s);var h=c==="GeometryCollection",y=[];return this.eachLayer(function(S){if(S.toGeoJSON){var N=S.toGeoJSON(s);if(h)y.push(N.geometry);else{var F=Jl(N);F.type==="FeatureCollection"?y.push.apply(y,F.features):y.push(F)}}}),h?Qs(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function cg(s,c){return new Kr(s,c)}var oT=cg,Ql=or.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,c,h){this._url=s,this._bounds=se(c),v(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(D(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){j(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&A(this._image),this},bringToBack:function(){return this._map&&z(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=se(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",c=this._image=s?this._url:tt("img");if(D(c,"leaflet-image-layer"),this._zoomAnimated&&D(c,"leaflet-zoom-animated"),this.options.className&&D(c,this.options.className),c.onselectstart=g,c.onmousemove=g,c.onload=l(this.fire,this,"load"),c.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(s){var c=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;He(this._image,h,c)},_reset:function(){var s=this._image,c=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=c.getSize();De(s,c.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){de(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),aT=function(s,c,h){return new Ql(s,c,h)},ug=Ql.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",c=this._image=s?this._url:tt("video");if(D(c,"leaflet-image-layer"),this._zoomAnimated&&D(c,"leaflet-zoom-animated"),this.options.className&&D(c,this.options.className),c.onselectstart=g,c.onmousemove=g,c.onloadeddata=l(this.fire,this,"load"),s){for(var h=c.getElementsByTagName("source"),y=[],S=0;S<h.length;S++)y.push(h[S].src);this._url=h.length>0?y:[c.src];return}E(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var N=0;N<this._url.length;N++){var F=tt("source");F.src=this._url[N],c.appendChild(F)}}});function lT(s,c,h){return new ug(s,c,h)}var dg=Ql.extend({_initImage:function(){var s=this._image=this._url;D(s,"leaflet-image-layer"),this._zoomAnimated&&D(s,"leaflet-zoom-animated"),this.options.className&&D(s,this.options.className),s.onselectstart=g,s.onmousemove=g}});function cT(s,c,h){return new dg(s,c,h)}var Pr=or.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,c){s&&(s instanceof le||E(s))?(this._latlng=he(s),v(this,c)):(v(this,s),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&de(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&de(this._container,1),this.bringToFront(),this.options.interactive&&(D(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(de(this._container,0),this._removeTimeout=setTimeout(l(j,void 0,this._container),200)):j(this._container),this.options.interactive&&(te(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=he(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&A(this._container),this},bringToBack:function(){return this._map&&z(this._container),this},_prepareOpen:function(s){var c=this._source;if(!c._map)return!1;if(c instanceof Gr){c=null;var h=this._source._layers;for(var y in h)if(h[y]._map){c=h[y];break}if(!c)return!1;this._source=c}if(!s)if(c.getCenter)s=c.getCenter();else if(c.getLatLng)s=c.getLatLng();else if(c.getBounds)s=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")s.innerHTML=c;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),c=V(this.options.offset),h=this._getAnchor();this._zoomAnimated?De(this._container,s.add(h)):c=c.add(s).add(h);var y=this._containerBottom=-c.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=y+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});nt.include({_initOverlay:function(s,c,h,y){var S=c;return S instanceof s||(S=new s(y).setContent(c)),h&&S.setLatLng(h),S}}),or.include({_initOverlay:function(s,c,h,y){var S=h;return S instanceof s?(v(S,y),S._source=this):(S=c&&!y?c:new s(y,this),S.setContent(h)),S}});var ec=Pr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Pr.prototype.openOn.call(this,s)},onAdd:function(s){Pr.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Si||this._source.on("preclick",ls))},onRemove:function(s){Pr.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Si||this._source.off("preclick",ls))},getEvents:function(){var s=Pr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",c=this._container=tt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=tt("div",s+"-content-wrapper",c);if(this._contentNode=tt("div",s+"-content",h),fa(c),Pd(this._contentNode),Ge(c,"contextmenu",ls),this._tipContainer=tt("div",s+"-tip-container",c),this._tip=tt("div",s+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=tt("a",s+"-close-button",c);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',Ge(y,"click",function(S){Kt(S),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,c=s.style;c.width="",c.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),c.width=h+1+"px",c.whiteSpace="",c.height="";var y=s.offsetHeight,S=this.options.maxHeight,N="leaflet-popup-scrolled";S&&y>S?(c.height=S+"px",D(s,N)):te(s,N),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();De(this._container,c.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,c=parseInt(os(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+c,y=this._containerWidth,S=new O(this._containerLeft,-h-this._containerBottom);S._add(et(this._container));var N=s.layerPointToContainerPoint(S),F=V(this.options.autoPanPadding),q=V(this.options.autoPanPaddingTopLeft||F),ee=V(this.options.autoPanPaddingBottomRight||F),ce=s.getSize(),_e=0,Fe=0;N.x+y+ee.x>ce.x&&(_e=N.x+y-ce.x+ee.x),N.x-_e-q.x<0&&(_e=N.x-q.x),N.y+h+ee.y>ce.y&&(Fe=N.y+h-ce.y+ee.y),N.y-Fe-q.y<0&&(Fe=N.y-q.y),(_e||Fe)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([_e,Fe]))}},_getAnchor:function(){return V(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),uT=function(s,c){return new ec(s,c)};nt.mergeOptions({closePopupOnClick:!0}),nt.include({openPopup:function(s,c,h){return this._initOverlay(ec,s,c,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),or.include({bindPopup:function(s,c){return this._popup=this._initOverlay(ec,this._popup,s,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Gr||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){cs(s);var c=s.layer||s.target;if(this._popup._source===c&&!(c instanceof Si)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=c,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var tc=Pr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Pr.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Pr.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Pr.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",c=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=tt("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var c,h,y=this._map,S=this._container,N=y.latLngToContainerPoint(y.getCenter()),F=y.layerPointToContainerPoint(s),q=this.options.direction,ee=S.offsetWidth,ce=S.offsetHeight,_e=V(this.options.offset),Fe=this._getAnchor();q==="top"?(c=ee/2,h=ce):q==="bottom"?(c=ee/2,h=0):q==="center"?(c=ee/2,h=ce/2):q==="right"?(c=0,h=ce/2):q==="left"?(c=ee,h=ce/2):F.x<N.x?(q="right",c=0,h=ce/2):(q="left",c=ee+(_e.x+Fe.x)*2,h=ce/2),s=s.subtract(V(c,h,!0)).add(_e).add(Fe),te(S,"leaflet-tooltip-right"),te(S,"leaflet-tooltip-left"),te(S,"leaflet-tooltip-top"),te(S,"leaflet-tooltip-bottom"),D(S,"leaflet-tooltip-"+q),De(S,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&de(this._container,s)},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(c)},_getAnchor:function(){return V(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),dT=function(s,c){return new tc(s,c)};nt.include({openTooltip:function(s,c,h){return this._initOverlay(tc,s,c,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),or.include({bindTooltip:function(s,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(tc,this._tooltip,s,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var c=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[c](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Gr||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var c=typeof s.getElement=="function"&&s.getElement();c&&(Ge(c,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Ge(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var c=typeof s.getElement=="function"&&s.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var c=s.latlng,h,y;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),y=this._map.containerPointToLayerPoint(h),c=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(c)}});var fg=Xs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var c=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(B(c),c.appendChild(h.html)):c.innerHTML=h.html!==!1?h.html:"",h.bgPos){var y=V(h.bgPos);c.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function fT(s){return new fg(s)}Xs.Default=pa;var ga=or.extend({options:{tileSize:256,opacity:1,updateWhenIdle:je.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){v(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),j(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(A(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(z(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof O?s:new O(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var c=this.getPane().children,h=-s(-1/0,1/0),y=0,S=c.length,N;y<S;y++)N=c[y].style.zIndex,c[y]!==this._container&&N&&(h=s(h,+N));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!je.ielt9){de(this._container,this.options.opacity);var s=+new Date,c=!1,h=!1;for(var y in this._tiles){var S=this._tiles[y];if(!(!S.current||!S.loaded)){var N=Math.min(1,(s-S.loaded)/200);de(S.el,N),N<1?c=!0:(S.active?h=!0:this._onOpaqueTile(S),S.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),c&&($(this._fadeFrame),this._fadeFrame=re(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=tt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,c=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=c-Math.abs(s-h),this._onUpdateLevel(h)):(j(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var y=this._levels[s],S=this._map;return y||(y=this._levels[s]={},y.el=tt("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=c,y.origin=S.project(S.unproject(S.getPixelOrigin()),s).round(),y.zoom=s,this._setZoomTransform(y,S.getCenter(),S.getZoom()),g(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var s,c,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)c=this._tiles[s],c.retain=c.current;for(s in this._tiles)if(c=this._tiles[s],c.current&&!c.active){var y=c.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var c in this._tiles)this._tiles[c].coords.z===s&&this._removeTile(c)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)j(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,c,h,y){var S=Math.floor(s/2),N=Math.floor(c/2),F=h-1,q=new O(+S,+N);q.z=+F;var ee=this._tileCoordsToKey(q),ce=this._tiles[ee];return ce&&ce.active?(ce.retain=!0,!0):(ce&&ce.loaded&&(ce.retain=!0),F>y?this._retainParent(S,N,F,y):!1)},_retainChildren:function(s,c,h,y){for(var S=2*s;S<2*s+2;S++)for(var N=2*c;N<2*c+2;N++){var F=new O(S,N);F.z=h+1;var q=this._tileCoordsToKey(F),ee=this._tiles[q];if(ee&&ee.active){ee.retain=!0;continue}else ee&&ee.loaded&&(ee.retain=!0);h+1<y&&this._retainChildren(S,N,h+1,y)}},_resetView:function(s){var c=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var c=this.options;return c.minNativeZoom!==void 0&&s<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<s?c.maxNativeZoom:s},_setView:function(s,c,h,y){var S=Math.round(c);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var N=this.options.updateWhenZooming&&S!==this._tileZoom;(!y||N)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,c)},_setZoomTransforms:function(s,c){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,c)},_setZoomTransform:function(s,c,h){var y=this._map.getZoomScale(h,s.zoom),S=s.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(c,h)).round();je.any3d?He(s.el,S,y):De(s.el,S)},_resetGrid:function(){var s=this._map,c=s.options.crs,h=this._tileSize=this.getTileSize(),y=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,c.wrapLng[0]],y).x/h.x),Math.ceil(s.project([0,c.wrapLng[1]],y).x/h.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([c.wrapLat[0],0],y).y/h.x),Math.ceil(s.project([c.wrapLat[1],0],y).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var c=this._map,h=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),y=c.getZoomScale(h,this._tileZoom),S=c.project(s,this._tileZoom).floor(),N=c.getSize().divideBy(y*2);return new Q(S.subtract(N),S.add(N))},_update:function(s){var c=this._map;if(c){var h=this._clampZoom(c.getZoom());if(s===void 0&&(s=c.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(s),S=this._pxBoundsToTileRange(y),N=S.getCenter(),F=[],q=this.options.keepBuffer,ee=new Q(S.getBottomLeft().subtract([q,-q]),S.getTopRight().add([q,-q]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ce in this._tiles){var _e=this._tiles[ce].coords;(_e.z!==this._tileZoom||!ee.contains(new O(_e.x,_e.y)))&&(this._tiles[ce].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var Fe=S.min.y;Fe<=S.max.y;Fe++)for(var Je=S.min.x;Je<=S.max.x;Je++){var dn=new O(Je,Fe);if(dn.z=this._tileZoom,!!this._isValidTile(dn)){var Zt=this._tiles[this._tileCoordsToKey(dn)];Zt?Zt.current=!0:F.push(dn)}}if(F.sort(function(Sn,to){return Sn.distanceTo(N)-to.distanceTo(N)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Gn=document.createDocumentFragment();for(Je=0;Je<F.length;Je++)this._addTile(F[Je],Gn);this._level.el.appendChild(Gn)}}}},_isValidTile:function(s){var c=this._map.options.crs;if(!c.infinite){var h=this._globalTileRange;if(!c.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!c.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(s);return se(this.options.bounds).overlaps(y)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var c=this._map,h=this.getTileSize(),y=s.scaleBy(h),S=y.add(h),N=c.unproject(y,s.z),F=c.unproject(S,s.z);return[N,F]},_tileCoordsToBounds:function(s){var c=this._tileCoordsToNwSe(s),h=new ie(c[0],c[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var c=s.split(":"),h=new O(+c[0],+c[1]);return h.z=+c[2],h},_removeTile:function(s){var c=this._tiles[s];c&&(j(c.el),delete this._tiles[s],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){D(s,"leaflet-tile");var c=this.getTileSize();s.style.width=c.x+"px",s.style.height=c.y+"px",s.onselectstart=g,s.onmousemove=g,je.ielt9&&this.options.opacity<1&&de(s,this.options.opacity)},_addTile:function(s,c){var h=this._getTilePos(s),y=this._tileCoordsToKey(s),S=this.createTile(this._wrapCoords(s),l(this._tileReady,this,s));this._initTile(S),this.createTile.length<2&&re(l(this._tileReady,this,s,null,S)),De(S,h),this._tiles[y]={el:S,coords:s,current:!0},c.appendChild(S),this.fire("tileloadstart",{tile:S,coords:s})},_tileReady:function(s,c,h){c&&this.fire("tileerror",{error:c,tile:h,coords:s});var y=this._tileCoordsToKey(s);h=this._tiles[y],h&&(h.loaded=+new Date,this._map._fadeAnimated?(de(h.el,0),$(this._fadeFrame),this._fadeFrame=re(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),c||(D(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),je.ielt9||!this._map._fadeAnimated?re(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var c=new O(this._wrapX?m(s.x,this._wrapX):s.x,this._wrapY?m(s.y,this._wrapY):s.y);return c.z=s.z,c},_pxBoundsToTileRange:function(s){var c=this.getTileSize();return new Q(s.min.unscaleBy(c).floor(),s.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function hT(s){return new ga(s)}var eo=ga.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,c){this._url=s,c=v(this,c),c.detectRetina&&je.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,c){return this._url===s&&c===void 0&&(c=!0),this._url=s,c||this.redraw(),this},createTile:function(s,c){var h=document.createElement("img");return Ge(h,"load",l(this._tileOnLoad,this,c,h)),Ge(h,"error",l(this._tileOnError,this,c,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var c={r:je.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(c.y=h),c["-y"]=h}return P(this._url,i(c,this.options))},_tileOnLoad:function(s,c){je.ielt9?setTimeout(l(s,this,null,c),0):s(null,c)},_tileOnError:function(s,c,h){var y=this.options.errorTileUrl;y&&c.getAttribute("src")!==y&&(c.src=y),s(h,c)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,c=this.options.maxZoom,h=this.options.zoomReverse,y=this.options.zoomOffset;return h&&(s=c-s),s+y},_getSubdomain:function(s){var c=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var s,c;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(c=this._tiles[s].el,c.onload=g,c.onerror=g,!c.complete)){c.src=T;var h=this._tiles[s].coords;j(c),delete this._tiles[s],this.fire("tileabort",{tile:c,coords:h})}},_removeTile:function(s){var c=this._tiles[s];if(c)return c.el.setAttribute("src",T),ga.prototype._removeTile.call(this,s)},_tileReady:function(s,c,h){if(!(!this._map||h&&h.getAttribute("src")===T))return ga.prototype._tileReady.call(this,s,c,h)}});function hg(s,c){return new eo(s,c)}var mg=eo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,c){this._url=s;var h=i({},this.defaultWmsParams);for(var y in c)y in this.options||(h[y]=c[y]);c=v(this,c);var S=c.detectRetina&&je.retina?2:1,N=this.getTileSize();h.width=N.x*S,h.height=N.y*S,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,eo.prototype.onAdd.call(this,s)},getTileUrl:function(s){var c=this._tileCoordsToNwSe(s),h=this._crs,y=G(h.project(c[0]),h.project(c[1])),S=y.min,N=y.max,F=(this._wmsVersion>=1.3&&this._crs===og?[S.y,S.x,N.y,N.x]:[S.x,S.y,N.x,N.y]).join(","),q=eo.prototype.getTileUrl.call(this,s);return q+_(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(s,c){return i(this.wmsParams,s),c||this.redraw(),this}});function mT(s,c){return new mg(s,c)}eo.WMS=mg,hg.wms=mT;var qr=or.extend({options:{padding:.1},initialize:function(s){v(this,s),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),D(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,c){var h=this._map.getZoomScale(c,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,c),N=y.multiplyBy(-h).add(S).subtract(this._map._getNewPixelOrigin(s,c));je.any3d?He(this._container,N,h):De(this._container,N)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,c=this._map.getSize(),h=this._map.containerPointToLayerPoint(c.multiplyBy(-s)).round();this._bounds=new Q(h,h.add(c.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),pg=qr.extend({options:{tolerance:0},getEvents:function(){var s=qr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Ge(s,"mousemove",this._onMouseMove,this),Ge(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ge(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,j(this._container),St(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var c in this._layers)s=this._layers[c],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qr.prototype._update.call(this);var s=this._bounds,c=this._container,h=s.getSize(),y=je.retina?2:1;De(c,s.min),c.width=y*h.x,c.height=y*h.y,c.style.width=h.x+"px",c.style.height=h.y+"px",je.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){qr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[d(s)]=s;var c=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var c=s._order,h=c.next,y=c.prev;h?h.prev=y:this._drawLast=y,y?y.next=h:this._drawFirst=h,delete s._order,delete this._layers[d(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var c=s.options.dashArray.split(/[, ]+/),h=[],y,S;for(S=0;S<c.length;S++){if(y=Number(c[S]),isNaN(y))return;h.push(y)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||re(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var c=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(s._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(s._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var c=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,c=this._redrawBounds;if(this._ctx.save(),c){var h=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)s=y.layer,(!c||s._pxBounds&&s._pxBounds.intersects(c))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,c){if(this._drawing){var h,y,S,N,F=s._parts,q=F.length,ee=this._ctx;if(q){for(ee.beginPath(),h=0;h<q;h++){for(y=0,S=F[h].length;y<S;y++)N=F[h][y],ee[y?"lineTo":"moveTo"](N.x,N.y);c&&ee.closePath()}this._fillStroke(ee,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var c=s._point,h=this._ctx,y=Math.max(Math.round(s._radius),1),S=(Math.max(Math.round(s._radiusY),1)||y)/y;S!==1&&(h.save(),h.scale(1,S)),h.beginPath(),h.arc(c.x,c.y/S,y,0,Math.PI*2,!1),S!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,c){var h=c.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(c.options&&c.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var c=this._map.mouseEventToLayerPoint(s),h,y,S=this._drawFirst;S;S=S.next)h=S.layer,h.options.interactive&&h._containsPoint(c)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(y=h);this._fireEvent(y?[y]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,c)}},_handleMouseOut:function(s){var c=this._hoveredLayer;c&&(te(this._container,"leaflet-interactive"),this._fireEvent([c],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,c){if(!this._mouseHoverThrottled){for(var h,y,S=this._drawFirst;S;S=S.next)h=S.layer,h.options.interactive&&h._containsPoint(c)&&(y=h);y!==this._hoveredLayer&&(this._handleMouseOut(s),y&&(D(this._container,"leaflet-interactive"),this._fireEvent([y],s,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,c,h){this._map._fireDOMEvent(c,h||c.type,s)},_bringToFront:function(s){var c=s._order;if(c){var h=c.next,y=c.prev;if(h)h.prev=y;else return;y?y.next=h:h&&(this._drawFirst=h),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(s)}},_bringToBack:function(s){var c=s._order;if(c){var h=c.next,y=c.prev;if(y)y.next=h;else return;h?h.prev=y:y&&(this._drawLast=y),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(s)}}});function gg(s){return je.canvas?new pg(s):null}var va=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),pT={_initContainer:function(){this._container=tt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var c=s._container=va("shape");D(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",s._path=va("path"),c.appendChild(s._path),this._updateStyle(s),this._layers[d(s)]=s},_addPath:function(s){var c=s._container;this._container.appendChild(c),s.options.interactive&&s.addInteractiveTarget(c)},_removePath:function(s){var c=s._container;j(c),s.removeInteractiveTarget(c),delete this._layers[d(s)]},_updateStyle:function(s){var c=s._stroke,h=s._fill,y=s.options,S=s._container;S.stroked=!!y.stroke,S.filled=!!y.fill,y.stroke?(c||(c=s._stroke=va("stroke")),S.appendChild(c),c.weight=y.weight+"px",c.color=y.color,c.opacity=y.opacity,y.dashArray?c.dashStyle=E(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=y.lineCap.replace("butt","flat"),c.joinstyle=y.lineJoin):c&&(S.removeChild(c),s._stroke=null),y.fill?(h||(h=s._fill=va("fill")),S.appendChild(h),h.color=y.fillColor||y.color,h.opacity=y.fillOpacity):h&&(S.removeChild(h),s._fill=null)},_updateCircle:function(s){var c=s._point.round(),h=Math.round(s._radius),y=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+c.x+","+c.y+" "+h+","+y+" 0,"+65535*360)},_setPath:function(s,c){s._path.v=c},_bringToFront:function(s){A(s._container)},_bringToBack:function(s){z(s._container)}},nc=je.vml?va:bt,ya=qr.extend({_initContainer:function(){this._container=nc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=nc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){j(this._container),St(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qr.prototype._update.call(this);var s=this._bounds,c=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,h.setAttribute("width",c.x),h.setAttribute("height",c.y)),De(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(s){var c=s._path=nc("path");s.options.className&&D(c,s.options.className),s.options.interactive&&D(c,"leaflet-interactive"),this._updateStyle(s),this._layers[d(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){j(s._path),s.removeInteractiveTarget(s._path),delete this._layers[d(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var c=s._path,h=s.options;c&&(h.stroke?(c.setAttribute("stroke",h.color),c.setAttribute("stroke-opacity",h.opacity),c.setAttribute("stroke-width",h.weight),c.setAttribute("stroke-linecap",h.lineCap),c.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?c.setAttribute("stroke-dasharray",h.dashArray):c.removeAttribute("stroke-dasharray"),h.dashOffset?c.setAttribute("stroke-dashoffset",h.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),h.fill?(c.setAttribute("fill",h.fillColor||h.color),c.setAttribute("fill-opacity",h.fillOpacity),c.setAttribute("fill-rule",h.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(s,c){this._setPath(s,$t(s._parts,c))},_updateCircle:function(s){var c=s._point,h=Math.max(Math.round(s._radius),1),y=Math.max(Math.round(s._radiusY),1)||h,S="a"+h+","+y+" 0 1,0 ",N=s._empty()?"M0 0":"M"+(c.x-h)+","+c.y+S+h*2+",0 "+S+-h*2+",0 ";this._setPath(s,N)},_setPath:function(s,c){s._path.setAttribute("d",c)},_bringToFront:function(s){A(s._path)},_bringToBack:function(s){z(s._path)}});je.vml&&ya.include(pT);function vg(s){return je.svg||je.vml?new ya(s):null}nt.include({getRenderer:function(s){var c=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var c=this._paneRenderers[s];return c===void 0&&(c=this._createRenderer({pane:s}),this._paneRenderers[s]=c),c},_createRenderer:function(s){return this.options.preferCanvas&&gg(s)||vg(s)}});var yg=Js.extend({initialize:function(s,c){Js.prototype.initialize.call(this,this._boundsToLatLngs(s),c)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=se(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function gT(s,c){return new yg(s,c)}ya.create=nc,ya.pointsToPath=$t,Kr.geometryToLayer=Kl,Kr.coordsToLatLng=Ad,Kr.coordsToLatLngs=ql,Kr.latLngToCoords=Id,Kr.latLngsToCoords=Xl,Kr.getFeature=Qs,Kr.asFeature=Jl,nt.mergeOptions({boxZoom:!0});var xg=Cr.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Ge(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){St(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){j(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),wt(),as(),this._startPoint=this._map.mouseEventToContainerPoint(s),Ge(document,{contextmenu:cs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=tt("div","leaflet-zoom-box",this._container),D(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var c=new Q(this._point,this._startPoint),h=c.getSize();De(this._box,c.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(j(this._box),te(this._container,"leaflet-crosshair")),_t(),ca(),St(document,{contextmenu:cs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var c=new ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nt.addInitHook("addHandler","boxZoom",xg),nt.mergeOptions({doubleClickZoom:!0});var bg=Cr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var c=this._map,h=c.getZoom(),y=c.options.zoomDelta,S=s.originalEvent.shiftKey?h-y:h+y;c.options.doubleClickZoom==="center"?c.setZoom(S):c.setZoomAround(s.containerPoint,S)}});nt.addInitHook("addHandler","doubleClickZoom",bg),nt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _g=Cr.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new wi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}D(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){te(this._map._container,"leaflet-grab"),te(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=se(this._map.options.maxBounds);this._offsetLimit=G(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var c=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(c),this._prunePositions(c)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,c){return s-(s-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;s.x<c.min.x&&(s.x=this._viscousLimit(s.x,c.min.x)),s.y<c.min.y&&(s.y=this._viscousLimit(s.y,c.min.y)),s.x>c.max.x&&(s.x=this._viscousLimit(s.x,c.max.x)),s.y>c.max.y&&(s.y=this._viscousLimit(s.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,c=Math.round(s/2),h=this._initialWorldOffset,y=this._draggable._newPos.x,S=(y-c+h)%s+c-h,N=(y+c+h)%s-c-h,F=Math.abs(S+h)<Math.abs(N+h)?S:N;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(s){var c=this._map,h=c.options,y=!h.inertia||s.noInertia||this._times.length<2;if(c.fire("dragend",s),y)c.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),N=(this._lastTime-this._times[0])/1e3,F=h.easeLinearity,q=S.multiplyBy(F/N),ee=q.distanceTo([0,0]),ce=Math.min(h.inertiaMaxSpeed,ee),_e=q.multiplyBy(ce/ee),Fe=ce/(h.inertiaDeceleration*F),Je=_e.multiplyBy(-Fe/2).round();!Je.x&&!Je.y?c.fire("moveend"):(Je=c._limitOffset(Je,c.options.maxBounds),re(function(){c.panBy(Je,{duration:Fe,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});nt.addInitHook("addHandler","dragging",_g),nt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var wg=Cr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Ge(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),St(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,c=document.documentElement,h=s.scrollTop||c.scrollTop,y=s.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(y,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var c=this._panKeys={},h=this.keyCodes,y,S;for(y=0,S=h.left.length;y<S;y++)c[h.left[y]]=[-1*s,0];for(y=0,S=h.right.length;y<S;y++)c[h.right[y]]=[s,0];for(y=0,S=h.down.length;y<S;y++)c[h.down[y]]=[0,s];for(y=0,S=h.up.length;y<S;y++)c[h.up[y]]=[0,-1*s]},_setZoomDelta:function(s){var c=this._zoomKeys={},h=this.keyCodes,y,S;for(y=0,S=h.zoomIn.length;y<S;y++)c[h.zoomIn[y]]=s;for(y=0,S=h.zoomOut.length;y<S;y++)c[h.zoomOut[y]]=-s},_addHooks:function(){Ge(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){St(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var c=s.keyCode,h=this._map,y;if(c in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(y=this._panKeys[c],s.shiftKey&&(y=V(y).multiplyBy(3)),h.options.maxBounds&&(y=h._limitOffset(V(y),h.options.maxBounds)),h.options.worldCopyJump){var S=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(y)));h.panTo(S)}else h.panBy(y)}else if(c in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;cs(s)}}});nt.addInitHook("addHandler","keyboard",wg),nt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Sg=Cr.extend({addHooks:function(){Ge(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){St(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var c=Gp(s),h=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var y=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),y),cs(s)},_performZoom:function(){var s=this._map,c=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,N=h?Math.ceil(S/h)*h:S,F=s._limitZoom(c+(this._delta>0?N:-N))-c;this._delta=0,this._startTime=null,F&&(s.options.scrollWheelZoom==="center"?s.setZoom(c+F):s.setZoomAround(this._lastMousePos,c+F))}});nt.addInitHook("addHandler","scrollWheelZoom",Sg);var vT=600;nt.mergeOptions({tapHold:je.touchNative&&je.safari&&je.mobile,tapTolerance:15});var Cg=Cr.extend({addHooks:function(){Ge(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){St(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var c=s.touches[0];this._startPos=this._newPos=new O(c.clientX,c.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Ge(document,"touchend",Kt),Ge(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),vT),Ge(document,"touchend touchcancel contextmenu",this._cancel,this),Ge(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){St(document,"touchend",Kt),St(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),St(document,"touchend touchcancel contextmenu",this._cancel,this),St(document,"touchmove",this._onMove,this)},_onMove:function(s){var c=s.touches[0];this._newPos=new O(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,c){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});h._simulated=!0,c.target.dispatchEvent(h)}});nt.addInitHook("addHandler","tapHold",Cg),nt.mergeOptions({touchZoom:je.touch,bounceAtZoomLimits:!0});var Pg=Cr.extend({addHooks:function(){D(this._map._container,"leaflet-touch-zoom"),Ge(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){te(this._map._container,"leaflet-touch-zoom"),St(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var c=this._map;if(!(!s.touches||s.touches.length!==2||c._animatingZoom||this._zooming)){var h=c.mouseEventToContainerPoint(s.touches[0]),y=c.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(h.add(y)._divideBy(2))),this._startDist=h.distanceTo(y),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Ge(document,"touchmove",this._onTouchMove,this),Ge(document,"touchend touchcancel",this._onTouchEnd,this),Kt(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var c=this._map,h=c.mouseEventToContainerPoint(s.touches[0]),y=c.mouseEventToContainerPoint(s.touches[1]),S=h.distanceTo(y)/this._startDist;if(this._zoom=c.getScaleZoom(S,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&S<1||this._zoom>c.getMaxZoom()&&S>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var N=h._add(y)._divideBy(2)._subtract(this._centerPoint);if(S===1&&N.x===0&&N.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(N),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var F=l(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=re(F,this,!0),Kt(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),St(document,"touchmove",this._onTouchMove,this),St(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});nt.addInitHook("addHandler","touchZoom",Pg),nt.BoxZoom=xg,nt.DoubleClickZoom=bg,nt.Drag=_g,nt.Keyboard=wg,nt.ScrollWheelZoom=Sg,nt.TapHold=Cg,nt.TouchZoom=Pg,n.Bounds=Q,n.Browser=je,n.CRS=oe,n.Canvas=pg,n.Circle=kd,n.CircleMarker=Yl,n.Class=J,n.Control=sr,n.DivIcon=fg,n.DivOverlay=Pr,n.DomEvent=IE,n.DomUtil=kE,n.Draggable=wi,n.Evented=Y,n.FeatureGroup=Gr,n.GeoJSON=Kr,n.GridLayer=ga,n.Handler=Cr,n.Icon=Xs,n.ImageOverlay=Ql,n.LatLng=le,n.LatLngBounds=ie,n.Layer=or,n.LayerGroup=qs,n.LineUtil=YE,n.Map=nt,n.Marker=Gl,n.Mixin=zE,n.Path=Si,n.Point=O,n.PolyUtil=WE,n.Polygon=Js,n.Polyline=Yr,n.Popup=ec,n.PosAnimation=Yp,n.Projection=KE,n.Rectangle=yg,n.Renderer=qr,n.SVG=ya,n.SVGOverlay=dg,n.TileLayer=eo,n.Tooltip=tc,n.Transformation=Re,n.Util=ne,n.VideoOverlay=ug,n.bind=l,n.bounds=G,n.canvas=gg,n.circle=rT,n.circleMarker=nT,n.control=ha,n.divIcon=fT,n.extend=i,n.featureGroup=QE,n.geoJSON=cg,n.geoJson=oT,n.gridLayer=hT,n.icon=eT,n.imageOverlay=aT,n.latLng=he,n.latLngBounds=se,n.layerGroup=JE,n.map=DE,n.marker=tT,n.point=V,n.polygon=sT,n.polyline=iT,n.popup=uT,n.rectangle=gT,n.setOptions=v,n.stamp=d,n.svg=vg,n.svgOverlay=cT,n.tileLayer=hg,n.tooltip=dT,n.transformation=Oe,n.version=r,n.videoOverlay=lT;var yT=window.L;n.noConflict=function(){return window.L=yT,this},window.L=n})}(Ma,Ma.exports)),Ma.exports}var oa=AV();const M1=$h(oa);function sd(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function od(e,t){return t==null?function(r,i){const o=p.useRef();return o.current||(o.current=e(r,i)),o}:function(r,i){const o=p.useRef();o.current||(o.current=e(r,i));const l=p.useRef(r),{instance:u}=o.current;return p.useEffect(function(){l.current!==r&&(t(u,r,l.current),l.current=r)},[u,r,i]),o}}function R1(e,t){p.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var o;(o=t.layerContainer)==null||o.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function O1(e){return function(n){const r=rd(),i=e(id(n,r),r);return P1(r.map,n.attribution),hp(i.current,n.eventHandlers),R1(i.current,r),i}}function IV(e,t){const n=p.useRef();p.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function DV(e){return function(n){const r=rd(),i=e(id(n,r),r);return hp(i.current,n.eventHandlers),R1(i.current,r),IV(i.current,n),i}}function LV(e,t){const n=od(e,t),r=O1(n);return j1(r)}function FV(e,t){const n=od(e),r=OV(n,t);return MV(r)}function BV(e,t){const n=od(e,t),r=DV(n);return j1(r)}function VV(e,t){const n=od(e,t),r=O1(n);return RV(r)}function $V(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function zV(){return rd().map}function Mh(){return Mh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mh.apply(this,arguments)}function WV({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:o,placeholder:l,style:u,whenReady:d,zoom:f,...m},g){const[b]=p.useState({className:i,id:o,style:u}),[x,w]=p.useState(null);p.useImperativeHandle(g,()=>(x==null?void 0:x.map)??null,[x]);const v=p.useCallback(C=>{if(C!==null&&x===null){const P=new oa.Map(C,m);n!=null&&f!=null?P.setView(n,f):e!=null&&P.fitBounds(e,t),d!=null&&P.whenReady(d),w(jV(P))}},[]);p.useEffect(()=>()=>{x==null||x.map.remove()},[x]);const _=x?me.createElement(N1,{value:x},r):l??null;return me.createElement("div",Mh({},b,{ref:v}),_)}const UV=p.forwardRef(WV),HV=LV(function({position:t,...n},r){const i=new oa.Marker(t,n);return sd(i,E1(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),ZV=BV(function({positions:t,...n},r){const i=new oa.Polygon(t,n);return sd(i,E1(r,{overlayContainer:i}))},function(t,n,r){n.positions!==r.positions&&t.setLatLngs(n.positions)}),fx=FV(function(t,n){const r=new oa.Popup(t,n.overlayContainer);return sd(r,n)},function(t,n,{position:r},i){p.useEffect(function(){const{instance:l}=t;function u(f){f.popup===l&&(l.update(),i(!0))}function d(f){f.popup===l&&i(!1)}return n.map.on({popupopen:u,popupclose:d}),n.overlayContainer==null?(r!=null&&l.setLatLng(r),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var m;n.map.off({popupopen:u,popupclose:d}),(m=n.overlayContainer)==null||m.unbindPopup(),n.map.removeLayer(l)}},[t,n,i,r])}),GV=VV(function({url:t,...n},r){const i=new oa.TileLayer(t,id(n,r));return sd(i,r)},function(t,n,r){$V(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)});function YV({polygons:e}){const t=zV();return p.useEffect(()=>{if(e.length>0){const n=M1.latLngBounds(e.flatMap(r=>r.coordinates));t.fitBounds(n,{padding:[50,50]})}},[e,t]),null}const KV=()=>{var R,k,U,X,re,$,ne,J,H,K,Y,O,W;const[e,t]=p.useState({timeRange:"7d"}),[n,r]=p.useState(!0),[i,o]=p.useState(!1),[l,u]=p.useState([]),[d,f]=p.useState([]),[m,g]=p.useState([]),[b,x]=p.useState({divisionStats:[],rangeStats:[],beatStats:[],heatmap:[],observationTypes:[]}),[w,v]=p.useState(null),[_,C]=p.useState(!1),[P,E]=p.useState([]);p.useEffect(()=>{async function V(){r(!0);const{data:Q,error:G}=await Ce.from("divisions").select("id, name").order("name");if(G){console.error("Error fetching divisions:",G);return}u(Q||[]),r(!1)}V()},[]),p.useEffect(()=>{async function V(){if(!e.division){f([]),g([]);return}r(!0);const{data:Q,error:G}=await Ce.from("ranges").select(`
          new_id,
          name,
          new_division_id
        `).eq("new_division_id",e.division).order("name");if(G){console.error("Error fetching ranges:",G);return}const ie=(Q||[]).map(se=>({id:se.new_id,name:se.name}));f(ie),g([]),r(!1)}V()},[e.division]),p.useEffect(()=>{async function V(){if(!e.range||!e.division){g([]);return}r(!0);const{data:Q,error:G}=await Ce.from("beats").select(`
          new_id,
          name,
          new_range_id,
          new_division_id
        `).eq("new_range_id",e.range).eq("new_division_id",e.division).order("name");if(G){console.error("Error fetching beats:",G);return}const ie=(Q||[]).map(se=>({id:se.new_id,name:se.name}));g(ie),r(!1)}V()},[e.range,e.division]);const M=async()=>{r(!0);try{const{data:V,error:Q}=await Ce.from("v_dashboard_kpi_summary").select("*").single();if(Q)throw Q;const{data:G,error:ie}=await Ce.from("v_dashboard_division_stats").select("*");if(ie)throw ie;const{data:se,error:le}=await Ce.from("v_dashboard_range_stats").select("*");if(le)throw le;const{data:he,error:oe}=await Ce.from("v_dashboard_beat_stats").select("*");if(oe)throw oe;const{data:be,error:Ne}=await Ce.from("v_dashboard_observations_by_type").select("*");if(Ne)throw Ne;const{data:Ee,error:Re}=await Ce.from("v_elephant_activity_observations_by_type").select("*");if(Re)throw Re;const Oe=(Ee==null?void 0:Ee.reduce((bt,$t)=>bt+($t.count||0),0))||0,xt={kpiSummary:{...V,total_loss_reports:Oe,loss_types:Ee||[]},divisionStats:G||[],rangeStats:se||[],beatStats:he||[],heatmap:[],observationTypes:be||[]};x(xt),v(null)}catch(V){console.error("Error fetching dashboard data:",V),v("Failed to load dashboard data")}finally{r(!1)}};p.useEffect(()=>{M()},[]);const T=(V,Q)=>{t(G=>({...G,[V]:Q}))},I=async()=>{o(!0);try{await M()}finally{o(!1)}};return p.useEffect(()=>{async function V(){if(!e.division){E([]);return}try{let Q=[];const{data:G,error:ie}=await Ce.from("division_polygons").select(`
            id,
            new_division_id,
            divisions!inner(
              name
            )
          `).eq("new_division_id",e.division).single();if(console.log("Division data:",G),console.log("Division error:",ie),G)try{const{data:se,error:le}=await Ce.from("division_polygons").select("polygon").eq("id",G.id).single();if(le){console.error("Error fetching polygon:",le);return}const{data:he,error:oe}=await Ce.rpc("st_asgeojson",{geom:se.polygon});if(oe){console.error("Error converting to GeoJSON:",oe);return}const be=JSON.parse(he);console.log("Parsed division GeoJSON:",be),Q.push({id:G.id,name:G.divisions.name,coordinates:be.coordinates[0].map(([Ne,Ee])=>[Ee,Ne]),type:"division"})}catch(se){console.error("Error processing division polygon:",se)}if(e.range){const{data:se,error:le}=await Ce.from("range_polygons").select(`
              id,
              new_range_id,
              ranges!inner(
                name
              )
            `).eq("new_range_id",e.range).single();if(console.log("Range data:",se),console.log("Range error:",le),se)try{const{data:he,error:oe}=await Ce.from("range_polygons").select("polygon").eq("id",se.id).single();if(oe){console.error("Error fetching polygon:",oe);return}const{data:be,error:Ne}=await Ce.rpc("st_asgeojson",{geom:he.polygon});if(Ne){console.error("Error converting to GeoJSON:",Ne);return}const Ee=JSON.parse(be);console.log("Parsed range GeoJSON:",Ee),Q.push({id:se.id,name:se.ranges.name,coordinates:Ee.coordinates[0].map(([Re,Oe])=>[Oe,Re]),type:"range"})}catch(he){console.error("Error processing range polygon:",he)}}if(e.beat){const{data:se,error:le}=await Ce.from("beat_polygons").select(`
              id,
              new_beat_id,
              beats!inner(
                name
              )
            `).eq("new_beat_id",e.beat).single();if(console.log("Beat data:",se),console.log("Beat error:",le),se)try{const{data:he,error:oe}=await Ce.from("beat_polygons").select("polygon").eq("id",se.id).single();if(oe){console.error("Error fetching polygon:",oe);return}const{data:be,error:Ne}=await Ce.rpc("st_asgeojson",{geom:he.polygon});if(Ne){console.error("Error converting to GeoJSON:",Ne);return}const Ee=JSON.parse(be);console.log("Parsed beat GeoJSON:",Ee),Q.push({id:se.id,name:se.beats.name,coordinates:Ee.coordinates[0].map(([Re,Oe])=>[Oe,Re]),type:"beat"})}catch(he){console.error("Error processing beat polygon:",he)}}console.log("Final polygons array:",Q),E(Q)}catch(Q){console.error("Error fetching polygon data:",Q)}}V()},[e.division,e.range,e.beat]),n?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Vo,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),a.jsx("p",{children:"Loading dashboard data..."})]})}):w?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Bo,{className:"h-8 w-8 text-red-500 mx-auto mb-4"}),a.jsxs("p",{className:"text-red-500",children:["Error: ",w]}),a.jsx(Ae,{onClick:I,className:"mt-4",children:"Try Again"})]})}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Eravat Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Real-time monitoring and analysis of elephant activities"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(Di,{value:e.timeRange,onValueChange:V=>T("timeRange",V),children:[a.jsx(ri,{className:"w-[180px] bg-white border-gray-200 shadow-sm hover:border-blue-500 transition-colors",children:a.jsx(Li,{placeholder:"Select time range"})}),a.jsxs(ii,{children:[a.jsx(Lt,{value:"24h",children:"Last 24 Hours"}),a.jsx(Lt,{value:"7d",children:"Last 7 Days"}),a.jsx(Lt,{value:"30d",children:"Last 30 Days"}),a.jsx(Lt,{value:"90d",children:"Last 90 Days"})]})]}),a.jsxs(Ae,{onClick:I,className:"bg-gradient-to-r from-blue-600 to-green-600 text-white hover:from-blue-700 hover:to-green-700 shadow-sm",children:[a.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),a.jsxs(Ze,{className:"border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[a.jsx(ht,{className:"bg-gradient-to-r from-blue-50 to-green-50 border-b border-gray-200",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx(mt,{className:"text-xl font-semibold text-gray-900",children:"Activity Map"}),a.jsx(vm,{children:"Geographic distribution of elephant activities"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(kt,{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(So,{className:"w-4 h-4 text-blue-600"}),"Division"]}),a.jsxs(Di,{value:e.division||"",onValueChange:V=>{t(Q=>({...Q,division:V,range:void 0,beat:void 0}))},children:[a.jsx(ri,{className:"w-full bg-white border-gray-200 shadow-sm hover:border-blue-500 transition-colors",children:a.jsx(Li,{placeholder:"Select Division"})}),a.jsx(ii,{children:l.map(V=>a.jsx(Lt,{value:V.id,children:V.name},V.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(kt,{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(So,{className:"w-4 h-4 text-blue-600"}),"Range"]}),a.jsxs(Di,{value:e.range||"",onValueChange:V=>{t(Q=>({...Q,range:V,beat:void 0}))},disabled:!e.division,children:[a.jsx(ri,{className:"w-full bg-white border-gray-200 shadow-sm hover:border-blue-500 transition-colors disabled:opacity-50",children:a.jsx(Li,{placeholder:"Select Range"})}),a.jsx(ii,{children:d.map(V=>a.jsx(Lt,{value:V.id,children:V.name},V.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(kt,{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(So,{className:"w-4 h-4 text-blue-600"}),"Beat"]}),a.jsxs(Di,{value:e.beat||"",onValueChange:V=>{t(Q=>({...Q,beat:V}))},disabled:!e.range,children:[a.jsx(ri,{className:"w-full bg-white border-gray-200 shadow-sm hover:border-blue-500 transition-colors disabled:opacity-50",children:a.jsx(Li,{placeholder:"Select Beat"})}),a.jsx(ii,{children:m.map(V=>a.jsx(Lt,{value:V.id,children:V.name},V.id))})]})]})]})]})}),a.jsxs(Ke,{className:"p-6",children:[a.jsx("div",{className:"h-[500px] rounded-lg overflow-hidden border border-gray-200",children:a.jsxs(UV,{center:[10.8505,76.2711],zoom:8,style:{width:"100%",height:"100%"},children:[a.jsx(GV,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),a.jsx(YV,{polygons:P}),P.map(V=>(console.log("Rendering polygon:",V),a.jsx(ZV,{positions:V.coordinates,pathOptions:{color:V.type==="division"?"#2563eb":V.type==="range"?"#f97316":"#6b7280",fillColor:V.type==="division"?"#3b82f6":V.type==="range"?"#fb923c":"#9ca3af",fillOpacity:.2,weight:2},children:a.jsx(fx,{children:a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:V.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[V.type.charAt(0).toUpperCase()+V.type.slice(1)," Boundary"]})]})})},V.id))),b.heatmap.map((V,Q)=>a.jsx(HV,{position:[V.lat,V.lng],icon:M1.divIcon({className:"custom-marker",html:'<div class="w-4 h-4 rounded-full bg-blue-500 border-2 border-white shadow-lg"></div>',iconSize:[16,16]}),children:a.jsx(fx,{children:a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:V.division_name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[V.observation_count," observations",V.total_elephants_seen>0&&`  ${V.total_elephants_seen} elephants seen`]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last observation: ",new Date(V.last_observation_date).toLocaleDateString()]})]})})},Q))]})}),a.jsx("div",{className:"mt-4 flex items-center justify-center gap-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Activity Points"})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(Ze,{className:"bg-gradient-to-br from-blue-100 to-blue-50 shadow-lg rounded-2xl hover:scale-105 hover:shadow-xl transition-all duration-300 border-0",children:[a.jsxs(ht,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(mt,{className:"text-base font-semibold text-blue-700",children:"Total Activities"}),a.jsx("div",{className:"bg-blue-200 p-2 rounded-full",children:a.jsx(Gh,{className:"h-5 w-5 text-blue-600"})})]}),a.jsxs(Ke,{children:[a.jsx("div",{className:"text-3xl font-extrabold text-blue-900",children:((R=b.kpiSummary)==null?void 0:R.total_activities)||0}),a.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Across all divisions"})]})]}),a.jsxs(Ze,{className:"bg-gradient-to-br from-green-100 to-green-50 shadow-lg rounded-2xl hover:scale-105 hover:shadow-xl transition-all duration-300 border-0",children:[a.jsxs(ht,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(mt,{className:"text-base font-semibold text-green-700",children:"Active Users"}),a.jsx("div",{className:"bg-green-200 p-2 rounded-full",children:a.jsx(Tb,{className:"h-5 w-5 text-green-600"})})]}),a.jsxs(Ke,{children:[a.jsx("div",{className:"text-3xl font-extrabold text-green-900",children:((k=b.kpiSummary)==null?void 0:k.total_users)||0}),a.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Total registered users"})]})]}),a.jsxs(Ze,{className:"bg-gradient-to-br from-red-100 to-red-50 shadow-lg rounded-2xl hover:scale-105 hover:shadow-xl transition-transform",children:[a.jsxs(ht,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(mt,{className:"text-base font-semibold text-red-700",children:"Total Loss"}),a.jsx("div",{className:"bg-red-200 p-2 rounded-full",children:a.jsx(Bo,{className:"h-5 w-5 text-red-600"})})]}),a.jsxs(Ke,{children:[a.jsx("div",{className:"text-3xl font-extrabold text-red-900",children:((U=b.kpiSummary)==null?void 0:U.total_loss_reports)||0}),a.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Total loss reports"})]})]}),a.jsxs(Ze,{className:"bg-gradient-to-br from-purple-100 to-purple-50 shadow-lg rounded-2xl hover:scale-105 hover:shadow-xl transition-transform",children:[a.jsxs(ht,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(mt,{className:"text-base font-semibold text-purple-700",children:"Today's Activities"}),a.jsx("div",{className:"bg-purple-200 p-2 rounded-full",children:a.jsx(Yh,{className:"h-5 w-5 text-purple-600"})})]}),a.jsxs(Ke,{children:[a.jsx("div",{className:"text-3xl font-extrabold text-purple-900",children:((X=b.kpiSummary)==null?void 0:X.today_activities)||0}),a.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Activities in last 24 hours"})]})]})]}),a.jsxs(up,{defaultValue:"overview",className:"space-y-8",children:[a.jsxs(qu,{className:"bg-white p-2 rounded-xl shadow-md flex gap-4",children:[a.jsx(ai,{value:"overview",className:"data-[state=active]:bg-blue-100 data-[state=active]:text-blue-800 font-semibold px-6 py-2 rounded-lg transition-all duration-300",children:"Overview"}),a.jsx(ai,{value:"activity",className:"data-[state=active]:bg-blue-100 data-[state=active]:text-blue-800 font-semibold px-6 py-2 rounded-lg transition-all duration-300",children:"Activity"})]}),a.jsxs(To,{value:"overview",className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(Ze,{className:"bg-white shadow-lg rounded-2xl border-0",children:[a.jsx(ht,{children:a.jsx(mt,{className:"text-lg font-bold text-gray-900",children:"Observations by Type"})}),a.jsx(Ke,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(ms,{width:"100%",height:"100%",children:a.jsxs(lo,{data:b.observationTypes,barCategoryGap:24,children:[a.jsx(co,{strokeDasharray:"3 3",className:"stroke-gray-200"}),a.jsx(uo,{dataKey:"observation_type",className:"text-sm"}),a.jsx(fo,{className:"text-sm"}),a.jsx(ho,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),a.jsx(xa,{}),a.jsx(ps,{dataKey:"count",fill:"#4f46e5",radius:[8,8,0,0],isAnimationActive:!0})]})})})})]}),a.jsxs(Ze,{className:"bg-white shadow-md rounded-2xl",children:[a.jsx(ht,{children:a.jsx(mt,{className:"text-lg font-bold text-blue-900",children:"Most Active Areas"})}),a.jsx(Ke,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Most Active Division"}),a.jsx("p",{className:"text-2xl font-extrabold text-blue-900 mt-1",children:(($=(re=b.divisionStats)==null?void 0:re[0])==null?void 0:$.division_name)||"N/A"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-blue-700",children:"Observations"}),a.jsx("p",{className:"text-2xl font-extrabold text-blue-900 mt-1",children:((J=(ne=b.divisionStats)==null?void 0:ne[0])==null?void 0:J.total_observations)||0})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Most Active Range"}),a.jsx("p",{className:"text-2xl font-extrabold text-blue-900 mt-1",children:((K=(H=b.rangeStats)==null?void 0:H[0])==null?void 0:K.range_name)||"N/A"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-blue-700",children:"Observations"}),a.jsx("p",{className:"text-2xl font-extrabold text-blue-900 mt-1",children:((O=(Y=b.rangeStats)==null?void 0:Y[0])==null?void 0:O.total_observations)||0})]})]})]})})]})]}),a.jsxs(Ze,{className:"bg-white shadow-md rounded-2xl",children:[a.jsx(ht,{children:a.jsx(mt,{className:"text-lg font-bold text-red-700",children:"Loss Reports Summary"})}),a.jsx(Ke,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(ms,{width:"100%",height:"100%",children:a.jsxs(lo,{data:b.divisionStats,barCategoryGap:24,children:[a.jsx(co,{strokeDasharray:"3 3",className:"stroke-gray-200"}),a.jsx(uo,{dataKey:"division_name",className:"text-sm"}),a.jsx(fo,{className:"text-sm"}),a.jsx(ho,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),a.jsx(xa,{}),a.jsx(ps,{dataKey:"loss_reports",fill:"#ef4444",radius:[8,8,0,0],isAnimationActive:!0})]})})})})]})]}),a.jsxs(To,{value:"activity",className:"space-y-8",children:[a.jsxs(Ze,{className:"bg-white shadow-md rounded-2xl",children:[a.jsx(ht,{children:a.jsx(mt,{className:"text-lg font-bold text-blue-900",children:"Activity by Division"})}),a.jsx(Ke,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(ms,{width:"100%",height:"100%",children:a.jsxs(lo,{data:b.divisionStats,barCategoryGap:24,children:[a.jsx(co,{strokeDasharray:"3 3",className:"stroke-gray-200"}),a.jsx(uo,{dataKey:"division_name",className:"text-sm"}),a.jsx(fo,{className:"text-sm"}),a.jsx(ho,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),a.jsx(xa,{}),a.jsx(ps,{dataKey:"total_observations",fill:"#4f46e5",radius:[8,8,0,0],isAnimationActive:!0})]})})})})]}),a.jsxs(Ze,{className:"bg-white shadow-md rounded-2xl",children:[a.jsx(ht,{children:a.jsx(mt,{className:"text-lg font-bold text-blue-900",children:"Activity by Range"})}),a.jsx(Ke,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(ms,{width:"100%",height:"100%",children:a.jsxs(lo,{data:b.rangeStats,barCategoryGap:24,children:[a.jsx(co,{strokeDasharray:"3 3",className:"stroke-gray-200"}),a.jsx(uo,{dataKey:"range_name",className:"text-sm"}),a.jsx(fo,{className:"text-sm"}),a.jsx(ho,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),a.jsx(xa,{}),a.jsx(ps,{dataKey:"total_observations",fill:"#4f46e5",radius:[8,8,0,0],isAnimationActive:!0})]})})})})]}),a.jsxs(Ze,{className:"bg-white shadow-md rounded-2xl",children:[a.jsx(ht,{children:a.jsx(mt,{className:"text-lg font-bold text-red-700",children:"Loss Reports by Type"})}),a.jsx(Ke,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(ms,{width:"100%",height:"100%",children:a.jsxs(lo,{data:((W=b.kpiSummary)==null?void 0:W.loss_types)||[],barCategoryGap:24,children:[a.jsx(co,{strokeDasharray:"3 3",className:"stroke-gray-200"}),a.jsx(uo,{dataKey:"type",className:"text-sm"}),a.jsx(fo,{className:"text-sm"}),a.jsx(ho,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),a.jsx(xa,{}),a.jsx(ps,{dataKey:"count",fill:"#ef4444",radius:[8,8,0,0],isAnimationActive:!0})]})})})})]})]})]})]})};function qV(){return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 flex flex-col",children:[a.jsx(pn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-r from-blue-600 to-green-600 text-white shadow-lg",children:a.jsx("div",{className:"container mx-auto px-6 py-4",children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-full blur-lg"}),a.jsx(Nu,{className:"w-8 h-8 text-white relative z-10"})]}),a.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Eravat Dashboard"})]})})})}),a.jsx(pn.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},className:"container mx-auto px-6 py-4",children:a.jsx(KV,{})}),a.jsx(pn.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"bg-gradient-to-r from-blue-600 to-green-600 text-white mt-8 py-6",children:a.jsx("div",{className:"container mx-auto px-6 text-center",children:a.jsxs("p",{className:"text-sm font-medium",children:[" ",new Date().getFullYear()," Eravat - Advanced Elephant Monitoring & Conservation Platform"]})})})]})}const XV=[{title:"User Management",description:"Add, edit, or remove users. Assign roles and manage permissions.",icon:a.jsx(Tb,{className:"h-6 w-6"}),onClick:e=>e("/admin/users"),color:"from-blue-600 to-green-600",iconBg:"bg-blue-100",iconColor:"text-blue-600"},{title:"Observation & Report Management",description:"View, edit, or delete observations and reports submitted by users.",icon:a.jsx(Cb,{className:"h-6 w-6"}),onClick:e=>e("/admin/observations"),color:"from-blue-600 to-green-600",iconBg:"bg-blue-100",iconColor:"text-blue-600"},{title:"System Log",description:"View activity, error, system, and login logs.",icon:a.jsx(Hc,{className:"h-6 w-6"}),onClick:e=>e("/admin/logs"),color:"from-blue-600 to-green-600",iconBg:"bg-blue-100",iconColor:"text-blue-600"},{title:"System Settings",description:"Configure system settings, notifications, and maintenance.",icon:a.jsx(Pb,{className:"h-6 w-6"}),onClick:e=>e("/admin/settings"),color:"from-blue-600 to-green-600",iconBg:"bg-blue-100",iconColor:"text-blue-600"},{title:"Activity Dashboard",description:"View detailed statistics and activity reports.",icon:a.jsx(Gh,{className:"h-6 w-6"}),onClick:e=>e("/admin/statistics"),color:"from-blue-600 to-green-600",iconBg:"bg-blue-100",iconColor:"text-blue-600"},{title:"Alerts & Notifications",description:"Manage system alerts and notification settings.",icon:a.jsx(Bo,{className:"h-6 w-6"}),onClick:e=>e("/admin/notifications"),color:"from-blue-600 to-green-600",iconBg:"bg-blue-100",iconColor:"text-blue-600"}];function JV(){const e=tr();return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 py-12",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-extrabold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent tracking-tight mb-3",children:"Admin Panel"}),a.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Manage your application's core functions and monitor system performance"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:XV.map(t=>a.jsxs(Ze,{className:"group cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-xl border-blue-100",onClick:()=>t.onClick(e),children:[a.jsx(ht,{className:"pb-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`${t.iconBg} p-3 rounded-xl`,children:a.jsx("div",{className:t.iconColor,children:t.icon})}),a.jsx(mt,{className:"text-xl font-semibold text-gray-900",children:t.title})]})}),a.jsxs(Ke,{children:[a.jsx("p",{className:"text-gray-600",children:t.description}),a.jsx("div",{className:`mt-4 h-1 w-full bg-gradient-to-r ${t.color} rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300`})]})]},t.title))})]})})}const Gt="https://pauafmgoewfdhwnsexzy.supabase.co".trim(),Dt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBhdWFmbWdvZXdmZGh3bnNleHp5Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0NjY4MDAxOCwiZXhwIjoyMDYyMjU2MDE4fQ.AmhwlpdZxs__o8VPv4N2Zf-3zb8JgiDqyJfNnEHQX1k".trim();console.log("=== Supabase Admin Configuration Debug ===");console.log("URL:",{value:Gt,length:Gt==null?void 0:Gt.length,type:typeof Gt,firstChar:Gt==null?void 0:Gt[0],lastChar:Gt==null?void 0:Gt[Gt.length-1]});console.log("Service Role Key:",{exists:!!Dt,length:Dt==null?void 0:Dt.length,type:typeof Dt,parts:Dt==null?void 0:Dt.split(".").length,firstChar:Dt==null?void 0:Dt[0],lastChar:Dt==null?void 0:Dt[Dt.length-1]});if(!Gt||typeof Gt!="string")throw console.error("Invalid VITE_SUPABASE_URL:",{value:Gt,type:typeof Gt}),new Error(`Invalid VITE_SUPABASE_URL: ${Gt}`);if(!Dt||typeof Dt!="string")throw console.error("Invalid VITE_SUPABASE_SERVICE_ROLE_KEY:",{keyPresent:!!Dt,type:typeof Dt}),new Error("VITE_SUPABASE_SERVICE_ROLE_KEY is missing or invalid");const Rh=Dt.split(".");if(Rh.length!==3)throw console.error("Invalid JWT format for service role key:",{parts:Rh.length,expectedParts:3}),new Error("Service role key must be a valid JWT token");try{const t=Rh[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(window.atob(t).split("").map(i=>"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)).join("")),r=JSON.parse(n);if(r.role!=="service_role")throw new Error(`Invalid role in service key: ${r.role}`);console.log("Service key JWT payload validated:",{role:r.role,exp:new Date(r.exp*1e3).toISOString(),ref:r.ref})}catch(e){throw console.error("Failed to validate service key JWT:",e),e}Su(Gt,Dt,{auth:{autoRefreshToken:!1,persistSession:!1,detectSessionInUrl:!1}});var ad="Checkbox",[QV,WU]=Vt(ad),[e$,mp]=QV(ad);function t$(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:o,form:l,name:u,onCheckedChange:d,required:f,value:m="on",internal_do_not_use_render:g}=e,[b,x]=er({prop:n,defaultProp:i??!1,onChange:d,caller:ad}),[w,v]=p.useState(null),[_,C]=p.useState(null),P=p.useRef(!1),E=w?!!l||!!w.closest("form"):!0,M={checked:b,disabled:o,setChecked:x,control:w,setControl:v,name:u,form:l,value:m,hasConsumerStoppedPropagationRef:P,required:f,defaultChecked:Fi(i)?!1:i,isFormControl:E,bubbleInput:_,setBubbleInput:C};return a.jsx(e$,{scope:t,...M,children:n$(g)?g(M):r})}var k1="CheckboxTrigger",A1=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:o,value:l,disabled:u,checked:d,required:f,setControl:m,setChecked:g,hasConsumerStoppedPropagationRef:b,isFormControl:x,bubbleInput:w}=mp(k1,e),v=Me(i,m),_=p.useRef(d);return p.useEffect(()=>{const C=o==null?void 0:o.form;if(C){const P=()=>g(_.current);return C.addEventListener("reset",P),()=>C.removeEventListener("reset",P)}},[o,g]),a.jsx(Le.button,{type:"button",role:"checkbox","aria-checked":Fi(d)?"mixed":d,"aria-required":f,"data-state":B1(d),"data-disabled":u?"":void 0,disabled:u,value:l,...r,ref:v,onKeyDown:fe(t,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:fe(n,C=>{g(P=>Fi(P)?!0:!P),w&&x&&(b.current=C.isPropagationStopped(),b.current||C.stopPropagation())})})});A1.displayName=k1;var pp=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:l,disabled:u,value:d,onCheckedChange:f,form:m,...g}=e;return a.jsx(t$,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:u,required:l,onCheckedChange:f,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:b})=>a.jsxs(a.Fragment,{children:[a.jsx(A1,{...g,ref:t,__scopeCheckbox:n}),b&&a.jsx(F1,{__scopeCheckbox:n})]})})});pp.displayName=ad;var I1="CheckboxIndicator",D1=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,o=mp(I1,n);return a.jsx(yn,{present:r||Fi(o.checked)||o.checked===!0,children:a.jsx(Le.span,{"data-state":B1(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});D1.displayName=I1;var L1="CheckboxBubbleInput",F1=p.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:l,required:u,disabled:d,name:f,value:m,form:g,bubbleInput:b,setBubbleInput:x}=mp(L1,e),w=Me(n,x),v=Wu(o),_=Qo(r);p.useEffect(()=>{const P=b;if(!P)return;const E=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(E,"checked").set,I=!i.current;if(v!==o&&T){const R=new Event("click",{bubbles:I});P.indeterminate=Fi(o),T.call(P,Fi(o)?!1:o),P.dispatchEvent(R)}},[b,v,o,i]);const C=p.useRef(Fi(o)?!1:o);return a.jsx(Le.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??C.current,required:u,disabled:d,name:f,value:m,form:g,...t,tabIndex:-1,ref:w,style:{...t.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});F1.displayName=L1;function n$(e){return typeof e=="function"}function Fi(e){return e==="indeterminate"}function B1(e){return Fi(e)?"indeterminate":e?"checked":"unchecked"}const gu=p.forwardRef(({className:e,...t},n)=>a.jsx(pp,{ref:n,className:Pe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(D1,{className:Pe("flex items-center justify-center text-current"),children:a.jsx(Kh,{className:"h-4 w-4"})})}));gu.displayName=pp.displayName;function r$(){const[e,t]=p.useState(""),[n,r]=p.useState(""),[i,o]=p.useState(!1),[l,u]=p.useState(!1),[d,f]=p.useState(null),m=tr(),g=Vh(),{signIn:b}=mi();p.useEffect(()=>{(async()=>{await v0()||ye.error("Failed to connect to Supabase. Please check your configuration.")})()},[]);const x=v=>{const _=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,C=/^\d{10}$/;return _.test(v)||C.test(v)},w=async v=>{var _;v.preventDefault(),o(!0),f(null);try{if(!x(e)){f("Please enter a valid email or phone number"),o(!1);return}console.log("Starting login process for:",e);const C=await b(e,n,l);if(console.log("Sign in completed:",C),!C)throw new Error("No user data received after login");const P=((_=g.state)==null?void 0:_.from)||"/";console.log("Redirecting to:",P),setTimeout(()=>{o(!1),m(P)},500)}catch(C){console.error("Login error:",C),f(C instanceof Error?C.message:"An error occurred during login"),ye.error(C instanceof Error?C.message:"Login failed. Please try again."),o(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50",children:a.jsxs("div",{className:"container mx-auto py-12 px-4",children:[a.jsxs(pn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-16",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsxs(pn.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.5,delay:.2},className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-green-500 rounded-full blur-xl opacity-20 animate-pulse"}),a.jsx(Nu,{className:"w-24 h-24 text-blue-600 relative z-10"})]})}),a.jsx(pn.h1,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"text-6xl font-bold mb-6 bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Eravat"}),a.jsx(pn.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Wild Elephant Monitoring System"}),a.jsx(pn.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.5},className:"text-lg text-gray-500 mt-2",children:"    (2025)"})]}),a.jsx(pn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"max-w-md mx-auto",children:a.jsxs(Ze,{className:"bg-white shadow-lg border-0 rounded-2xl overflow-hidden",children:[a.jsxs(ht,{className:"space-y-1",children:[a.jsx(mt,{className:"text-2xl font-bold text-gray-900",children:"Welcome back"}),a.jsx(vm,{className:"text-gray-600",children:"Enter your email or phone number to access the system"})]}),a.jsx(Ke,{children:a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(kt,{htmlFor:"identifier",className:"text-gray-700",children:"Email or Phone Number"}),a.jsx(dt,{id:"identifier",type:"text",placeholder:"Enter email or 10-digit phone number",value:e,onChange:v=>t(v.target.value),required:!0,className:"focus:ring-blue-600 border-gray-200",disabled:i})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(kt,{htmlFor:"password",className:"text-gray-700",children:"Password"}),a.jsx(dt,{id:"password",type:"password",value:n,onChange:v=>r(v.target.value),required:!0,className:"focus:ring-blue-600 border-gray-200",disabled:i})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(gu,{id:"remember",checked:l,onCheckedChange:v=>u(v),disabled:i,className:"border-gray-200"}),a.jsx(kt,{htmlFor:"remember",className:"text-sm font-normal text-gray-600",children:"Remember me"})]}),a.jsx(Ae,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700 text-white rounded-xl py-6 text-lg font-semibold transition-all duration-300",disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(wo,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):"Login"})]})})]})})]})})}var i$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xn=i$.reduce((e,t)=>{const n=Fo(`Primitive.${t}`),r=p.forwardRef((i,o)=>{const{asChild:l,...u}=i,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function V1(e,t){e&&hi.flushSync(()=>e.dispatchEvent(t))}function $1(e){const t=e+"CollectionProvider",[n,r]=Vt(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=v=>{const{scope:_,children:C}=v,P=me.useRef(null),E=me.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:E,collectionRef:P,children:C})};l.displayName=t;const u=e+"CollectionSlot",d=Fo(u),f=me.forwardRef((v,_)=>{const{scope:C,children:P}=v,E=o(u,C),M=Me(_,E.collectionRef);return a.jsx(d,{ref:M,children:P})});f.displayName=u;const m=e+"CollectionItemSlot",g="data-radix-collection-item",b=Fo(m),x=me.forwardRef((v,_)=>{const{scope:C,children:P,...E}=v,M=me.useRef(null),T=Me(_,M),I=o(m,C);return me.useEffect(()=>(I.itemMap.set(M,{ref:M,...E}),()=>void I.itemMap.delete(M))),a.jsx(b,{[g]:"",ref:T,children:P})});x.displayName=m;function w(v){const _=o(e+"CollectionConsumer",v);return me.useCallback(()=>{const P=_.collectionRef.current;if(!P)return[];const E=Array.from(P.querySelectorAll(`[${g}]`));return Array.from(_.itemMap.values()).sort((I,R)=>E.indexOf(I.ref.current)-E.indexOf(R.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:l,Slot:f,ItemSlot:x},w,r]}var s$="DismissableLayer",Oh="dismissableLayer.update",o$="dismissableLayer.pointerDownOutside",a$="dismissableLayer.focusOutside",hx,z1=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),W1=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...d}=e,f=p.useContext(z1),[m,g]=p.useState(null),b=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=p.useState({}),w=Me(t,R=>g(R)),v=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),C=v.indexOf(_),P=m?v.indexOf(m):-1,E=f.layersWithOutsidePointerEventsDisabled.size>0,M=P>=C,T=u$(R=>{const k=R.target,U=[...f.branches].some(X=>X.contains(k));!M||U||(i==null||i(R),l==null||l(R),R.defaultPrevented||u==null||u())},b),I=d$(R=>{const k=R.target;[...f.branches].some(X=>X.contains(k))||(o==null||o(R),l==null||l(R),R.defaultPrevented||u==null||u())},b);return Wh(R=>{P===f.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},b),p.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(hx=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),mx(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=hx)}},[m,b,n,f]),p.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),mx())},[m,f]),p.useEffect(()=>{const R=()=>x({});return document.addEventListener(Oh,R),()=>document.removeEventListener(Oh,R)},[]),a.jsx(xn.div,{...d,ref:w,style:{pointerEvents:E?M?"auto":"none":void 0,...e.style},onFocusCapture:fe(e.onFocusCapture,I.onFocusCapture),onBlurCapture:fe(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:fe(e.onPointerDownCapture,T.onPointerDownCapture)})});W1.displayName=s$;var l$="DismissableLayerBranch",c$=p.forwardRef((e,t)=>{const n=p.useContext(z1),r=p.useRef(null),i=Me(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(xn.div,{...e,ref:i})});c$.displayName=l$;function u$(e,t=globalThis==null?void 0:globalThis.document){const n=Pt(e),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let d=function(){U1(o$,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function d$(e,t=globalThis==null?void 0:globalThis.document){const n=Pt(e),r=p.useRef(!1);return p.useEffect(()=>{const i=o=>{o.target&&!r.current&&U1(a$,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function mx(){const e=new CustomEvent(Oh);document.dispatchEvent(e)}function U1(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?V1(i,o):i.dispatchEvent(o)}var Sf="focusScope.autoFocusOnMount",Cf="focusScope.autoFocusOnUnmount",px={bubbles:!1,cancelable:!0},f$="FocusScope",H1=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=e,[u,d]=p.useState(null),f=Pt(i),m=Pt(o),g=p.useRef(null),b=Me(t,v=>d(v)),x=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(E){if(x.paused||!u)return;const M=E.target;u.contains(M)?g.current=M:Ni(g.current,{select:!0})},_=function(E){if(x.paused||!u)return;const M=E.relatedTarget;M!==null&&(u.contains(M)||Ni(g.current,{select:!0}))},C=function(E){if(document.activeElement===document.body)for(const T of E)T.removedNodes.length>0&&Ni(u)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const P=new MutationObserver(C);return u&&P.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),P.disconnect()}}},[r,u,x.paused]),p.useEffect(()=>{if(u){vx.add(x);const v=document.activeElement;if(!u.contains(v)){const C=new CustomEvent(Sf,px);u.addEventListener(Sf,f),u.dispatchEvent(C),C.defaultPrevented||(h$(y$(Z1(u)),{select:!0}),document.activeElement===v&&Ni(u))}return()=>{u.removeEventListener(Sf,f),setTimeout(()=>{const C=new CustomEvent(Cf,px);u.addEventListener(Cf,m),u.dispatchEvent(C),C.defaultPrevented||Ni(v??document.body,{select:!0}),u.removeEventListener(Cf,m),vx.remove(x)},0)}}},[u,f,m,x]);const w=p.useCallback(v=>{if(!n&&!r||x.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,C=document.activeElement;if(_&&C){const P=v.currentTarget,[E,M]=m$(P);E&&M?!v.shiftKey&&C===M?(v.preventDefault(),n&&Ni(E,{select:!0})):v.shiftKey&&C===E&&(v.preventDefault(),n&&Ni(M,{select:!0})):C===P&&v.preventDefault()}},[n,r,x.paused]);return a.jsx(xn.div,{tabIndex:-1,...l,ref:b,onKeyDown:w})});H1.displayName=f$;function h$(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ni(r,{select:t}),document.activeElement!==n)return}function m$(e){const t=Z1(e),n=gx(t,e),r=gx(t.reverse(),e);return[n,r]}function Z1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function gx(e,t){for(const n of e)if(!p$(n,{upTo:t}))return n}function p$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function g$(e){return e instanceof HTMLInputElement&&"select"in e}function Ni(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&g$(e)&&t&&e.select()}}var vx=v$();function v$(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=yx(e,t),e.unshift(t)},remove(t){var n;e=yx(e,t),(n=e[0])==null||n.resume()}}}function yx(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function y$(e){return e.filter(t=>t.tagName!=="A")}var x$="Arrow",G1=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return a.jsx(xn.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});G1.displayName=x$;var b$=G1,gp="Popper",[Y1,K1]=Vt(gp),[_$,q1]=Y1(gp),X1=e=>{const{__scopePopper:t,children:n}=e,[r,i]=p.useState(null);return a.jsx(_$,{scope:t,anchor:r,onAnchorChange:i,children:n})};X1.displayName=gp;var J1="PopperAnchor",Q1=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=q1(J1,n),l=p.useRef(null),u=Me(t,l);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:a.jsx(xn.div,{...i,ref:u})});Q1.displayName=J1;var vp="PopperContent",[w$,S$]=Y1(vp),eC=p.forwardRef((e,t)=>{var oe,be,Ne,Ee,Re,Oe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:x="optimized",onPlaced:w,...v}=e,_=q1(vp,n),[C,P]=p.useState(null),E=Me(t,Qe=>P(Qe)),[M,T]=p.useState(null),I=Qo(M),R=(I==null?void 0:I.width)??0,k=(I==null?void 0:I.height)??0,U=r+(o!=="center"?"-"+o:""),X=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},re=Array.isArray(f)?f:[f],$=re.length>0,ne={padding:X,boundary:re.filter(P$),altBoundary:$},{refs:J,floatingStyles:H,placement:K,isPositioned:Y,middlewareData:O}=im({strategy:"fixed",placement:U,whileElementsMounted:(...Qe)=>Ou(...Qe,{animationFrame:x==="always"}),elements:{reference:_.anchor},middleware:[sm({mainAxis:i+k,alignmentAxis:l}),d&&om({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?am():void 0,...ne}),d&&lm({...ne}),cm({...ne,apply:({elements:Qe,rects:xt,availableWidth:bt,availableHeight:$t})=>{const{width:Ht,height:zt}=xt.reference,Mt=Qe.floating.style;Mt.setProperty("--radix-popper-available-width",`${bt}px`),Mt.setProperty("--radix-popper-available-height",`${$t}px`),Mt.setProperty("--radix-popper-anchor-width",`${Ht}px`),Mt.setProperty("--radix-popper-anchor-height",`${zt}px`)}}),M&&dm({element:M,padding:u}),E$({arrowWidth:R,arrowHeight:k}),b&&um({strategy:"referenceHidden",...ne})]}),[W,V]=rC(K),Q=Pt(w);jt(()=>{Y&&(Q==null||Q())},[Y,Q]);const G=(oe=O.arrow)==null?void 0:oe.x,ie=(be=O.arrow)==null?void 0:be.y,se=((Ne=O.arrow)==null?void 0:Ne.centerOffset)!==0,[le,he]=p.useState();return jt(()=>{C&&he(window.getComputedStyle(C).zIndex)},[C]),a.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:Y?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(Ee=O.transformOrigin)==null?void 0:Ee.x,(Re=O.transformOrigin)==null?void 0:Re.y].join(" "),...((Oe=O.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(w$,{scope:n,placedSide:W,onArrowChange:T,arrowX:G,arrowY:ie,shouldHideArrow:se,children:a.jsx(xn.div,{"data-side":W,"data-align":V,...v,ref:E,style:{...v.style,animation:Y?void 0:"none"}})})})});eC.displayName=vp;var tC="PopperArrow",C$={top:"bottom",right:"left",bottom:"top",left:"right"},nC=p.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=S$(tC,r),l=C$[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(b$,{...i,ref:n,style:{...i.style,display:"block"}})})});nC.displayName=tC;function P$(e){return e!==null}var E$=e=>({name:"transformOrigin",options:e,fn(t){var _,C,P;const{placement:n,rects:r,middlewareData:i}=t,l=((_=i.arrow)==null?void 0:_.centerOffset)!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,m]=rC(n),g={start:"0%",center:"50%",end:"100%"}[m],b=(((C=i.arrow)==null?void 0:C.x)??0)+u/2,x=(((P=i.arrow)==null?void 0:P.y)??0)+d/2;let w="",v="";return f==="bottom"?(w=l?g:`${b}px`,v=`${-d}px`):f==="top"?(w=l?g:`${b}px`,v=`${r.floating.height+d}px`):f==="right"?(w=`${-d}px`,v=l?g:`${x}px`):f==="left"&&(w=`${r.floating.width+d}px`,v=l?g:`${x}px`),{data:{x:w,y:v}}}});function rC(e){const[t,n="center"]=e.split("-");return[t,n]}var T$=X1,N$=Q1,j$=eC,M$=nC,R$="Portal",iC=p.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[i,o]=p.useState(!1);jt(()=>o(!0),[]);const l=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?wu.createPortal(a.jsx(xn.div,{...r,ref:t}),l):null});iC.displayName=R$;var Pf="rovingFocusGroup.onEntryFocus",O$={bubbles:!1,cancelable:!0},Nl="RovingFocusGroup",[kh,sC,k$]=$1(Nl),[A$,oC]=Vt(Nl,[k$]),[I$,D$]=A$(Nl),aC=p.forwardRef((e,t)=>a.jsx(kh.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(kh.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(L$,{...e,ref:t})})}));aC.displayName=Nl;var L$=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...g}=e,b=p.useRef(null),x=Me(t,b),w=ra(o),[v,_]=er({prop:l,defaultProp:u??null,onChange:d,caller:Nl}),[C,P]=p.useState(!1),E=Pt(f),M=sC(n),T=p.useRef(!1),[I,R]=p.useState(0);return p.useEffect(()=>{const k=b.current;if(k)return k.addEventListener(Pf,E),()=>k.removeEventListener(Pf,E)},[E]),a.jsx(I$,{scope:n,orientation:r,dir:w,loop:i,currentTabStopId:v,onItemFocus:p.useCallback(k=>_(k),[_]),onItemShiftTab:p.useCallback(()=>P(!0),[]),onFocusableItemAdd:p.useCallback(()=>R(k=>k+1),[]),onFocusableItemRemove:p.useCallback(()=>R(k=>k-1),[]),children:a.jsx(xn.div,{tabIndex:C||I===0?-1:0,"data-orientation":r,...g,ref:x,style:{outline:"none",...e.style},onMouseDown:fe(e.onMouseDown,()=>{T.current=!0}),onFocus:fe(e.onFocus,k=>{const U=!T.current;if(k.target===k.currentTarget&&U&&!C){const X=new CustomEvent(Pf,O$);if(k.currentTarget.dispatchEvent(X),!X.defaultPrevented){const re=M().filter(K=>K.focusable),$=re.find(K=>K.active),ne=re.find(K=>K.id===v),H=[$,ne,...re].filter(Boolean).map(K=>K.ref.current);uC(H,m)}}T.current=!1}),onBlur:fe(e.onBlur,()=>P(!1))})})}),lC="RovingFocusGroupItem",cC=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:l,...u}=e,d=Xn(),f=o||d,m=D$(lC,n),g=m.currentTabStopId===f,b=sC(n),{onFocusableItemAdd:x,onFocusableItemRemove:w,currentTabStopId:v}=m;return p.useEffect(()=>{if(r)return x(),()=>w()},[r,x,w]),a.jsx(kh.ItemSlot,{scope:n,id:f,focusable:r,active:i,children:a.jsx(xn.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:fe(e.onMouseDown,_=>{r?m.onItemFocus(f):_.preventDefault()}),onFocus:fe(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:fe(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){m.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const C=V$(_,m.orientation,m.dir);if(C!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let E=b().filter(M=>M.focusable).map(M=>M.ref.current);if(C==="last")E.reverse();else if(C==="prev"||C==="next"){C==="prev"&&E.reverse();const M=E.indexOf(_.currentTarget);E=m.loop?$$(E,M+1):E.slice(M+1)}setTimeout(()=>uC(E))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:v!=null}):l})})});cC.displayName=lC;var F$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function B$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function V$(e,t,n){const r=B$(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return F$[r]}function uC(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function $$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var z$=aC,W$=cC,Ah=["Enter"," "],U$=["ArrowDown","PageUp","Home"],dC=["ArrowUp","PageDown","End"],H$=[...U$,...dC],Z$={ltr:[...Ah,"ArrowRight"],rtl:[...Ah,"ArrowLeft"]},G$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},jl="Menu",[dl,Y$,K$]=$1(jl),[Bs,fC]=Vt(jl,[K$,K1,oC]),ld=K1(),hC=oC(),[q$,Vs]=Bs(jl),[X$,Ml]=Bs(jl),mC=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:o,modal:l=!0}=e,u=ld(t),[d,f]=p.useState(null),m=p.useRef(!1),g=Pt(o),b=ra(i);return p.useEffect(()=>{const x=()=>{m.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>m.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),a.jsx(T$,{...u,children:a.jsx(q$,{scope:t,open:n,onOpenChange:g,content:d,onContentChange:f,children:a.jsx(X$,{scope:t,onClose:p.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:m,dir:b,modal:l,children:r})})})};mC.displayName=jl;var J$="MenuAnchor",yp=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=ld(n);return a.jsx(N$,{...i,...r,ref:t})});yp.displayName=J$;var xp="MenuPortal",[Q$,pC]=Bs(xp,{forceMount:void 0}),gC=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,o=Vs(xp,t);return a.jsx(Q$,{scope:t,forceMount:n,children:a.jsx(yn,{present:n||o.open,children:a.jsx(iC,{asChild:!0,container:i,children:r})})})};gC.displayName=xp;var Qn="MenuContent",[e3,bp]=Bs(Qn),vC=p.forwardRef((e,t)=>{const n=pC(Qn,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=Vs(Qn,e.__scopeMenu),l=Ml(Qn,e.__scopeMenu);return a.jsx(dl.Provider,{scope:e.__scopeMenu,children:a.jsx(yn,{present:r||o.open,children:a.jsx(dl.Slot,{scope:e.__scopeMenu,children:l.modal?a.jsx(t3,{...i,ref:t}):a.jsx(n3,{...i,ref:t})})})})}),t3=p.forwardRef((e,t)=>{const n=Vs(Qn,e.__scopeMenu),r=p.useRef(null),i=Me(t,r);return p.useEffect(()=>{const o=r.current;if(o)return Ju(o)},[]),a.jsx(_p,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:fe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),n3=p.forwardRef((e,t)=>{const n=Vs(Qn,e.__scopeMenu);return a.jsx(_p,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),r3=Fo("MenuContent.ScrollLock"),_p=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:b,onDismiss:x,disableOutsideScroll:w,...v}=e,_=Vs(Qn,n),C=Ml(Qn,n),P=ld(n),E=hC(n),M=Y$(n),[T,I]=p.useState(null),R=p.useRef(null),k=Me(t,R,_.onContentChange),U=p.useRef(0),X=p.useRef(""),re=p.useRef(0),$=p.useRef(null),ne=p.useRef("right"),J=p.useRef(0),H=w?Tl:p.Fragment,K=w?{as:r3,allowPinchZoom:!0}:void 0,Y=W=>{var oe,be;const V=X.current+W,Q=M().filter(Ne=>!Ne.disabled),G=document.activeElement,ie=(oe=Q.find(Ne=>Ne.ref.current===G))==null?void 0:oe.textValue,se=Q.map(Ne=>Ne.textValue),le=p3(se,V,ie),he=(be=Q.find(Ne=>Ne.textValue===le))==null?void 0:be.ref.current;(function Ne(Ee){X.current=Ee,window.clearTimeout(U.current),Ee!==""&&(U.current=window.setTimeout(()=>Ne(""),1e3))})(V),he&&setTimeout(()=>he.focus())};p.useEffect(()=>()=>window.clearTimeout(U.current),[]),Xu();const O=p.useCallback(W=>{var Q,G;return ne.current===((Q=$.current)==null?void 0:Q.side)&&v3(W,(G=$.current)==null?void 0:G.area)},[]);return a.jsx(e3,{scope:n,searchRef:X,onItemEnter:p.useCallback(W=>{O(W)&&W.preventDefault()},[O]),onItemLeave:p.useCallback(W=>{var V;O(W)||((V=R.current)==null||V.focus(),I(null))},[O]),onTriggerLeave:p.useCallback(W=>{O(W)&&W.preventDefault()},[O]),pointerGraceTimerRef:re,onPointerGraceIntentChange:p.useCallback(W=>{$.current=W},[]),children:a.jsx(H,{...K,children:a.jsx(H1,{asChild:!0,trapped:i,onMountAutoFocus:fe(o,W=>{var V;W.preventDefault(),(V=R.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:a.jsx(W1,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:b,onDismiss:x,children:a.jsx(z$,{asChild:!0,...E,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:T,onCurrentTabStopIdChange:I,onEntryFocus:fe(d,W=>{C.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(j$,{role:"menu","aria-orientation":"vertical","data-state":kC(_.open),"data-radix-menu-content":"",dir:C.dir,...P,...v,ref:k,style:{outline:"none",...v.style},onKeyDown:fe(v.onKeyDown,W=>{const Q=W.target.closest("[data-radix-menu-content]")===W.currentTarget,G=W.ctrlKey||W.altKey||W.metaKey,ie=W.key.length===1;Q&&(W.key==="Tab"&&W.preventDefault(),!G&&ie&&Y(W.key));const se=R.current;if(W.target!==se||!H$.includes(W.key))return;W.preventDefault();const he=M().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);dC.includes(W.key)&&he.reverse(),h3(he)}),onBlur:fe(e.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(U.current),X.current="")}),onPointerMove:fe(e.onPointerMove,fl(W=>{const V=W.target,Q=J.current!==W.clientX;if(W.currentTarget.contains(V)&&Q){const G=W.clientX>J.current?"right":"left";ne.current=G,J.current=W.clientX}}))})})})})})})});vC.displayName=Qn;var i3="MenuGroup",wp=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(xn.div,{role:"group",...r,ref:t})});wp.displayName=i3;var s3="MenuLabel",yC=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(xn.div,{...r,ref:t})});yC.displayName=s3;var vu="MenuItem",xx="menu.itemSelect",cd=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,o=p.useRef(null),l=Ml(vu,e.__scopeMenu),u=bp(vu,e.__scopeMenu),d=Me(t,o),f=p.useRef(!1),m=()=>{const g=o.current;if(!n&&g){const b=new CustomEvent(xx,{bubbles:!0,cancelable:!0});g.addEventListener(xx,x=>r==null?void 0:r(x),{once:!0}),V1(g,b),b.defaultPrevented?f.current=!1:l.onClose()}};return a.jsx(xC,{...i,ref:d,disabled:n,onClick:fe(e.onClick,m),onPointerDown:g=>{var b;(b=e.onPointerDown)==null||b.call(e,g),f.current=!0},onPointerUp:fe(e.onPointerUp,g=>{var b;f.current||(b=g.currentTarget)==null||b.click()}),onKeyDown:fe(e.onKeyDown,g=>{const b=u.searchRef.current!=="";n||b&&g.key===" "||Ah.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});cd.displayName=vu;var xC=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=e,l=bp(vu,n),u=hC(n),d=p.useRef(null),f=Me(t,d),[m,g]=p.useState(!1),[b,x]=p.useState("");return p.useEffect(()=>{const w=d.current;w&&x((w.textContent??"").trim())},[o.children]),a.jsx(dl.ItemSlot,{scope:n,disabled:r,textValue:i??b,children:a.jsx(W$,{asChild:!0,...u,focusable:!r,children:a.jsx(xn.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:f,onPointerMove:fe(e.onPointerMove,fl(w=>{r?l.onItemLeave(w):(l.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fe(e.onPointerLeave,fl(w=>l.onItemLeave(w))),onFocus:fe(e.onFocus,()=>g(!0)),onBlur:fe(e.onBlur,()=>g(!1))})})})}),o3="MenuCheckboxItem",bC=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return a.jsx(PC,{scope:e.__scopeMenu,checked:n,children:a.jsx(cd,{role:"menuitemcheckbox","aria-checked":yu(n)?"mixed":n,...i,ref:t,"data-state":Cp(n),onSelect:fe(i.onSelect,()=>r==null?void 0:r(yu(n)?!0:!n),{checkForDefaultPrevented:!1})})})});bC.displayName=o3;var _C="MenuRadioGroup",[a3,l3]=Bs(_C,{value:void 0,onValueChange:()=>{}}),wC=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,o=Pt(r);return a.jsx(a3,{scope:e.__scopeMenu,value:n,onValueChange:o,children:a.jsx(wp,{...i,ref:t})})});wC.displayName=_C;var SC="MenuRadioItem",CC=p.forwardRef((e,t)=>{const{value:n,...r}=e,i=l3(SC,e.__scopeMenu),o=n===i.value;return a.jsx(PC,{scope:e.__scopeMenu,checked:o,children:a.jsx(cd,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Cp(o),onSelect:fe(r.onSelect,()=>{var l;return(l=i.onValueChange)==null?void 0:l.call(i,n)},{checkForDefaultPrevented:!1})})})});CC.displayName=SC;var Sp="MenuItemIndicator",[PC,c3]=Bs(Sp,{checked:!1}),EC=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,o=c3(Sp,n);return a.jsx(yn,{present:r||yu(o.checked)||o.checked===!0,children:a.jsx(xn.span,{...i,ref:t,"data-state":Cp(o.checked)})})});EC.displayName=Sp;var u3="MenuSeparator",TC=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(xn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});TC.displayName=u3;var d3="MenuArrow",NC=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=ld(n);return a.jsx(M$,{...i,...r,ref:t})});NC.displayName=d3;var f3="MenuSub",[UU,jC]=Bs(f3),Ra="MenuSubTrigger",MC=p.forwardRef((e,t)=>{const n=Vs(Ra,e.__scopeMenu),r=Ml(Ra,e.__scopeMenu),i=jC(Ra,e.__scopeMenu),o=bp(Ra,e.__scopeMenu),l=p.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=o,f={__scopeMenu:e.__scopeMenu},m=p.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return p.useEffect(()=>m,[m]),p.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),d(null)}},[u,d]),a.jsx(yp,{asChild:!0,...f,children:a.jsx(xC,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":kC(n.open),...e,ref:Kx(t,i.onTriggerChange),onClick:g=>{var b;(b=e.onClick)==null||b.call(e,g),!(e.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:fe(e.onPointerMove,fl(g=>{o.onItemEnter(g),!g.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:fe(e.onPointerLeave,fl(g=>{var x,w;m();const b=(x=n.content)==null?void 0:x.getBoundingClientRect();if(b){const v=(w=n.content)==null?void 0:w.dataset.side,_=v==="right",C=_?-5:5,P=b[_?"left":"right"],E=b[_?"right":"left"];o.onPointerGraceIntentChange({area:[{x:g.clientX+C,y:g.clientY},{x:P,y:b.top},{x:E,y:b.top},{x:E,y:b.bottom},{x:P,y:b.bottom}],side:v}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(g),g.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:fe(e.onKeyDown,g=>{var x;const b=o.searchRef.current!=="";e.disabled||b&&g.key===" "||Z$[r.dir].includes(g.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),g.preventDefault())})})})});MC.displayName=Ra;var RC="MenuSubContent",OC=p.forwardRef((e,t)=>{const n=pC(Qn,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=Vs(Qn,e.__scopeMenu),l=Ml(Qn,e.__scopeMenu),u=jC(RC,e.__scopeMenu),d=p.useRef(null),f=Me(t,d);return a.jsx(dl.Provider,{scope:e.__scopeMenu,children:a.jsx(yn,{present:r||o.open,children:a.jsx(dl.Slot,{scope:e.__scopeMenu,children:a.jsx(_p,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:f,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var g;l.isUsingKeyboardRef.current&&((g=d.current)==null||g.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:fe(e.onFocusOutside,m=>{m.target!==u.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:fe(e.onEscapeKeyDown,m=>{l.onClose(),m.preventDefault()}),onKeyDown:fe(e.onKeyDown,m=>{var x;const g=m.currentTarget.contains(m.target),b=G$[l.dir].includes(m.key);g&&b&&(o.onOpenChange(!1),(x=u.trigger)==null||x.focus(),m.preventDefault())})})})})})});OC.displayName=RC;function kC(e){return e?"open":"closed"}function yu(e){return e==="indeterminate"}function Cp(e){return yu(e)?"indeterminate":e?"checked":"unchecked"}function h3(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function m3(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function p3(e,t,n){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=m3(e,Math.max(o,0));i.length===1&&(l=l.filter(f=>f!==n));const d=l.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function g3(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const u=t[o],d=t[l],f=u.x,m=u.y,g=d.x,b=d.y;m>r!=b>r&&n<(g-f)*(r-m)/(b-m)+f&&(i=!i)}return i}function v3(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return g3(n,t)}function fl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var y3=mC,x3=yp,b3=gC,_3=vC,w3=wp,S3=yC,C3=cd,P3=bC,E3=wC,T3=CC,N3=EC,j3=TC,M3=NC,R3=MC,O3=OC,ud="DropdownMenu",[k3,HU]=Vt(ud,[fC]),bn=fC(),[A3,AC]=k3(ud),IC=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:l,modal:u=!0}=e,d=bn(t),f=p.useRef(null),[m,g]=er({prop:i,defaultProp:o??!1,onChange:l,caller:ud});return a.jsx(A3,{scope:t,triggerId:Xn(),triggerRef:f,contentId:Xn(),open:m,onOpenChange:g,onOpenToggle:p.useCallback(()=>g(b=>!b),[g]),modal:u,children:a.jsx(y3,{...d,open:m,onOpenChange:g,dir:r,modal:u,children:n})})};IC.displayName=ud;var DC="DropdownMenuTrigger",LC=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,o=AC(DC,n),l=bn(n);return a.jsx(x3,{asChild:!0,...l,children:a.jsx(xn.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Kx(t,o.triggerRef),onPointerDown:fe(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(o.onOpenToggle(),o.open||u.preventDefault())}),onKeyDown:fe(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&o.onOpenToggle(),u.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});LC.displayName=DC;var I3="DropdownMenuPortal",FC=e=>{const{__scopeDropdownMenu:t,...n}=e,r=bn(t);return a.jsx(b3,{...r,...n})};FC.displayName=I3;var BC="DropdownMenuContent",VC=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=AC(BC,n),o=bn(n),l=p.useRef(!1);return a.jsx(_3,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:t,onCloseAutoFocus:fe(e.onCloseAutoFocus,u=>{var d;l.current||(d=i.triggerRef.current)==null||d.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:fe(e.onInteractOutside,u=>{const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,m=d.button===2||f;(!i.modal||m)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});VC.displayName=BC;var D3="DropdownMenuGroup",L3=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=bn(n);return a.jsx(w3,{...i,...r,ref:t})});L3.displayName=D3;var F3="DropdownMenuLabel",$C=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=bn(n);return a.jsx(S3,{...i,...r,ref:t})});$C.displayName=F3;var B3="DropdownMenuItem",zC=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=bn(n);return a.jsx(C3,{...i,...r,ref:t})});zC.displayName=B3;var V3="DropdownMenuCheckboxItem",WC=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=bn(n);return a.jsx(P3,{...i,...r,ref:t})});WC.displayName=V3;var $3="DropdownMenuRadioGroup",z3=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=bn(n);return a.jsx(E3,{...i,...r,ref:t})});z3.displayName=$3;var W3="DropdownMenuRadioItem",UC=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=bn(n);return a.jsx(T3,{...i,...r,ref:t})});UC.displayName=W3;var U3="DropdownMenuItemIndicator",HC=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=bn(n);return a.jsx(N3,{...i,...r,ref:t})});HC.displayName=U3;var H3="DropdownMenuSeparator",ZC=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=bn(n);return a.jsx(j3,{...i,...r,ref:t})});ZC.displayName=H3;var Z3="DropdownMenuArrow",G3=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=bn(n);return a.jsx(M3,{...i,...r,ref:t})});G3.displayName=Z3;var Y3="DropdownMenuSubTrigger",GC=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=bn(n);return a.jsx(R3,{...i,...r,ref:t})});GC.displayName=Y3;var K3="DropdownMenuSubContent",YC=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=bn(n);return a.jsx(O3,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});YC.displayName=K3;var q3=IC,X3=LC,J3=FC,KC=VC,qC=$C,XC=zC,JC=WC,QC=UC,eP=HC,tP=ZC,nP=GC,rP=YC;const iP=q3,sP=X3,Q3=p.forwardRef(({className:e,inset:t,children:n,...r},i)=>a.jsxs(nP,{ref:i,className:Pe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,a.jsx(Tu,{className:"ml-auto h-4 w-4"})]}));Q3.displayName=nP.displayName;const e6=p.forwardRef(({className:e,...t},n)=>a.jsx(rP,{ref:n,className:Pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));e6.displayName=rP.displayName;const Pp=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(J3,{children:a.jsx(KC,{ref:r,sideOffset:t,className:Pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Pp.displayName=KC.displayName;const Mi=p.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(XC,{ref:r,className:Pe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Mi.displayName=XC.displayName;const t6=p.forwardRef(({className:e,children:t,checked:n,...r},i)=>a.jsxs(JC,{ref:i,className:Pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(eP,{children:a.jsx(Kh,{className:"h-4 w-4"})})}),t]}));t6.displayName=JC.displayName;const n6=p.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(QC,{ref:r,className:Pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(eP,{children:a.jsx(Sb,{className:"h-2 w-2 fill-current"})})}),t]}));n6.displayName=QC.displayName;const oP=p.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(qC,{ref:r,className:Pe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));oP.displayName=qC.displayName;const Ih=p.forwardRef(({className:e,...t},n)=>a.jsx(tP,{ref:n,className:Pe("-mx-1 my-1 h-px bg-muted",e),...t}));Ih.displayName=tP.displayName;function r6(e){const t=i6(e),n=p.forwardRef((r,i)=>{const{children:o,...l}=r,u=p.Children.toArray(o),d=u.find(o6);if(d){const f=d.props.children,m=u.map(g=>g===d?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return a.jsx(t,{...l,ref:i,children:p.isValidElement(f)?p.cloneElement(f,void 0,m):null})}return a.jsx(t,{...l,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function i6(e){const t=p.forwardRef((n,r)=>{const{children:i,...o}=n,l=p.isValidElement(i)?l6(i):void 0,u=Me(l,r);if(p.isValidElement(i)){const d=a6(o,i.props);return i.type!==p.Fragment&&(d.ref=u),p.cloneElement(i,d)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var s6=Symbol("radix.slottable");function o6(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===s6}function a6(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function l6(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var dd="Dialog",[aP,ZU]=Vt(dd),[c6,br]=aP(dd),lP=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,u=p.useRef(null),d=p.useRef(null),[f,m]=er({prop:r,defaultProp:i??!1,onChange:o,caller:dd});return a.jsx(c6,{scope:t,triggerRef:u,contentRef:d,contentId:Xn(),titleId:Xn(),descriptionId:Xn(),open:f,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(g=>!g),[m]),modal:l,children:n})};lP.displayName=dd;var cP="DialogTrigger",u6=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=br(cP,n),o=Me(t,i.triggerRef);return a.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Np(i.open),...r,ref:o,onClick:fe(e.onClick,i.onOpenToggle)})});u6.displayName=cP;var Ep="DialogPortal",[d6,uP]=aP(Ep,{forceMount:void 0}),dP=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=br(Ep,t);return a.jsx(d6,{scope:t,forceMount:n,children:p.Children.map(r,l=>a.jsx(yn,{present:n||o.open,children:a.jsx(Cu,{asChild:!0,container:i,children:l})}))})};dP.displayName=Ep;var xu="DialogOverlay",fP=p.forwardRef((e,t)=>{const n=uP(xu,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=br(xu,e.__scopeDialog);return o.modal?a.jsx(yn,{present:r||o.open,children:a.jsx(h6,{...i,ref:t})}):null});fP.displayName=xu;var f6=r6("DialogOverlay.RemoveScroll"),h6=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=br(xu,n);return a.jsx(Tl,{as:f6,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Le.div,{"data-state":Np(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ls="DialogContent",hP=p.forwardRef((e,t)=>{const n=uP(Ls,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=br(Ls,e.__scopeDialog);return a.jsx(yn,{present:r||o.open,children:o.modal?a.jsx(m6,{...i,ref:t}):a.jsx(p6,{...i,ref:t})})});hP.displayName=Ls;var m6=p.forwardRef((e,t)=>{const n=br(Ls,e.__scopeDialog),r=p.useRef(null),i=Me(t,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return Ju(o)},[]),a.jsx(mP,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:fe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:fe(e.onFocusOutside,o=>o.preventDefault())})}),p6=p.forwardRef((e,t)=>{const n=br(Ls,e.__scopeDialog),r=p.useRef(!1),i=p.useRef(!1);return a.jsx(mP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((f=n.triggerRef.current)==null?void 0:f.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),mP=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=e,u=br(Ls,n),d=p.useRef(null),f=Me(t,d);return Xu(),a.jsxs(a.Fragment,{children:[a.jsx(dp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:a.jsx(gl,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Np(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(g6,{titleId:u.titleId}),a.jsx(y6,{contentRef:d,descriptionId:u.descriptionId})]})]})}),Tp="DialogTitle",pP=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=br(Tp,n);return a.jsx(Le.h2,{id:i.titleId,...r,ref:t})});pP.displayName=Tp;var gP="DialogDescription",vP=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=br(gP,n);return a.jsx(Le.p,{id:i.descriptionId,...r,ref:t})});vP.displayName=gP;var yP="DialogClose",xP=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=br(yP,n);return a.jsx(Le.button,{type:"button",...r,ref:t,onClick:fe(e.onClick,()=>i.onOpenChange(!1))})});xP.displayName=yP;function Np(e){return e?"open":"closed"}var bP="DialogTitleWarning",[GU,_P]=YT(bP,{contentName:Ls,titleName:Tp,docsSlug:"dialog"}),g6=({titleId:e})=>{const t=_P(bP),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},v6="DialogDescriptionWarning",y6=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_P(v6).contentName}}.`;return p.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},x6=lP,b6=dP,wP=fP,SP=hP,CP=pP,PP=vP,_6=xP;const w6=x6,S6=b6,EP=p.forwardRef(({className:e,...t},n)=>a.jsx(wP,{ref:n,className:Pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));EP.displayName=wP.displayName;const TP=p.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(S6,{children:[a.jsx(EP,{}),a.jsxs(SP,{ref:r,className:Pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(_6,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(qh,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));TP.displayName=SP.displayName;const NP=({className:e,...t})=>a.jsx("div",{className:Pe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});NP.displayName="DialogHeader";const jP=p.forwardRef(({className:e,...t},n)=>a.jsx(CP,{ref:n,className:Pe("text-lg font-semibold leading-none tracking-tight",e),...t}));jP.displayName=CP.displayName;const C6=p.forwardRef(({className:e,...t},n)=>a.jsx(PP,{ref:n,className:Pe("text-sm text-muted-foreground",e),...t}));C6.displayName=PP.displayName;const P6="https://pauafmgoewfdhwnsexzy.supabase.co",E6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBhdWFmbWdvZXdmZGh3bnNleHp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY2ODAwMTgsImV4cCI6MjA2MjI1NjAxOH0.iSTx9Upe8wekbKvk5ZiUMeWGi-WB67gqdZG8Bf-DO-0",oo=Su(P6,E6);class _o{constructor(){this.table="activity_reports"}static getInstance(){return _o.instance||(_o.instance=new _o),_o.instance}async create(t){const{data:n,error:r}=await oo.from(this.table).insert(t).select().single();if(r)throw new Error(`Error creating activity report: ${r.message}`);return n}async getById(t){const{data:n,error:r}=await oo.from(this.table).select().eq("id",t).maybeSingle();if(r)throw new Error(`Error fetching activity report: ${r.message}`);return n||null}async update(t,n){const{data:r,error:i}=await oo.from(this.table).update(n).eq("id",t).select().single();if(i)throw new Error(`Error updating activity report: ${i.message}`);return r}async delete(t){const{error:n}=await oo.from(this.table).delete().eq("id",t);if(n)throw new Error(`Error deleting activity report: ${n.message}`)}async list(t){let n=oo.from(this.table).select();t!=null&&t.startDate&&(n=n.gte("activity_date",t.startDate.toISOString())),t!=null&&t.endDate&&(n=n.lte("activity_date",t.endDate.toISOString())),t!=null&&t.division&&(n=n.eq("associated_division",t.division)),t!=null&&t.range&&(n=n.eq("associated_range",t.range)),t!=null&&t.beat&&(n=n.eq("associated_beat",t.beat));const{data:r,error:i}=await n;if(i)throw new Error(`Error listing activity reports: ${i.message}`);return r}async getReportsByLocation(t,n,r){const{data:i,error:o}=await oo.rpc("get_reports_within_radius",{p_latitude:t,p_longitude:n,p_radius_km:r});if(o)throw new Error(`Error fetching reports by location: ${o.message}`);return i}}function T6(){const{user:e}=mi(),[t,n]=p.useState([]),[r,i]=p.useState(0),[o,l]=p.useState(!0),[u,d]=p.useState(null),[f,m]=p.useState(null),[g,b]=p.useState(!1),[x,w]=p.useState(!1),[v,_]=p.useState([]),[C,P]=p.useState([]),[E,M]=p.useState([]);p.useEffect(()=>{async function $(){const[ne,J,H]=await Promise.all([Ce.from("divisions").select("id, name"),Ce.from("ranges").select("new_id, name"),Ce.from("beats").select("new_id, name")]);ne.error||_(ne.data||[]),J.error||P((J.data||[]).map(K=>({id:K.new_id,name:K.name}))),H.error||M((H.data||[]).map(K=>({id:K.new_id,name:K.name})))}$()},[]);const T=$=>{var ne;return((ne=v.find(J=>J.id===$))==null?void 0:ne.name)||$||""},I=$=>{const ne=C.find(J=>J.id===$||J.new_id===$);return(ne==null?void 0:ne.name)||$||""},R=$=>{var ne;return((ne=E.find(J=>J.id===$))==null?void 0:ne.name)||$||""},k=async()=>{if(e!=null&&e.id)try{l(!0);const{data:$,error:ne}=await Ce.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);if(ne)throw ne;n($||[]),i(($==null?void 0:$.filter(J=>!J.is_read).length)||0)}catch($){console.error("Error fetching notifications:",$),ye.error("Failed to load notifications")}finally{l(!1)}},U=async $=>{if(e!=null&&e.id)try{const{error:ne}=await Ce.from("notifications").update({is_read:!0}).eq("id",$).eq("user_id",e.id);if(ne)throw ne;n(J=>J.map(H=>H.id===$?{...H,is_read:!0}:H)),i(J=>Math.max(0,J-1))}catch(ne){console.error("Error marking notification as read:",ne),ye.error("Failed to mark notification as read")}},X=async()=>{if(e!=null&&e.id)try{const{error:$}=await Ce.from("notifications").update({is_read:!0}).eq("user_id",e.id).eq("is_read",!1);if($)throw $;n(ne=>ne.map(J=>({...J,is_read:!0}))),i(0)}catch($){console.error("Error marking all notifications as read:",$),ye.error("Failed to mark all notifications as read")}},re=async $=>{if(d($),m(null),b(!0),$.activity_id){w(!0);try{const ne=await _o.getInstance().getById($.activity_id);m(ne)}catch{ye.error("Failed to load activity details")}finally{w(!1)}}$.is_read||U($.id)};return p.useEffect(()=>{if(e!=null&&e.id){k();const $=Ce.channel(`notifications-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},()=>{k()}).subscribe();return()=>{Ce.removeChannel($)}}},[e==null?void 0:e.id]),e?a.jsxs(a.Fragment,{children:[a.jsxs(iP,{children:[a.jsx(sP,{asChild:!0,children:a.jsxs(Ae,{variant:"ghost",size:"icon",className:"relative h-12 w-12","aria-label":"View notifications",children:[a.jsx(_b,{className:"h-7 w-7"}),r>0&&a.jsx("span",{className:"absolute -right-1 -top-1 flex h-6 w-6 items-center justify-center rounded-full bg-red-500 text-[12px] font-medium text-white",children:r})]})}),a.jsxs(Pp,{align:"end",className:"w-80",children:[a.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[a.jsx("h3",{className:"font-semibold",children:"Notifications"}),r>0&&a.jsx(Ae,{variant:"ghost",size:"sm",onClick:X,className:"text-sm text-blue-600 hover:text-blue-700",children:"Mark all as read"})]}),a.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:o?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading notifications..."}):t.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications yet"}):t.map($=>a.jsx(Mi,{className:`p-4 hover:bg-gray-50 ${$.is_read?"":"bg-blue-50"}`,onClick:()=>re($),children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("p",{className:"text-sm font-medium",children:$.message}),a.jsxs("div",{className:"text-xs text-gray-600 flex flex-wrap gap-2",children:[$.division_id&&a.jsxs("span",{children:["Division: ",T($.division_id)]}),$.range_id&&a.jsxs("span",{children:["Range: ",I($.range_id)]}),$.activity_id&&a.jsxs("span",{children:["Activity: ",$.activity_id]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date($.created_at).toLocaleString()})]})},$.id))})]})]}),a.jsx(w6,{open:g,onOpenChange:b,children:a.jsxs(TP,{children:[a.jsx(NP,{children:a.jsx(jP,{children:"Activity Details"})}),x?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading details..."}):f?a.jsx("div",{className:"space-y-2",children:Object.entries(f).map(([$,ne])=>{if(ne==null||ne==="")return null;let J=ne;return($==="associated_division"||$==="associated_division_id")&&(J=T(ne)),($==="associated_range"||$==="associated_range_id")&&(J=I(ne)),($==="associated_beat"||$==="associated_beat_id")&&(J=R(ne)),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium capitalize",children:[$.replace(/_/g," "),":"]}),a.jsx("span",{children:typeof J=="object"&&J instanceof Date?J.toLocaleString():J.toString()})]},$)})}):a.jsx("div",{className:"p-4 text-center text-gray-500",children:"No activity details found for this notification."})]})})]}):null}function Cn(){const{user:e,signOut:t,canManageUsers:n,canViewReports:r,canEditReports:i}=mi(),o=tr(),l=async()=>{await t(),o("/login")};return e?a.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:a.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 flex items-center gap-2",children:a.jsxs(Tc,{to:"/",className:"flex items-center gap-2",children:[a.jsxs("span",{className:"relative flex items-center justify-center w-8 h-8",children:[a.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-green-500 rounded-full blur-md opacity-30 animate-pulse"}),a.jsx(Nu,{className:"w-7 h-7 text-blue-600 relative z-10"})]}),a.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Eravat"})]})}),a.jsxs("nav",{className:"ml-6 flex space-x-8",children:[(e==null?void 0:e.role)!=="data_collector"&&a.jsx(Tc,{to:"/dashboard",className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-900",children:"Dashboard"}),a.jsx(Tc,{to:"/report",className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-900",children:"Report Activity"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(T6,{}),a.jsxs(iP,{children:[a.jsx(sP,{asChild:!0,children:a.jsx(Ae,{variant:"ghost",className:"relative h-12 px-4 rounded-full",children:a.jsx("span",{className:"text-sm font-medium",children:e==null?void 0:e.email})})}),a.jsxs(Pp,{className:"w-56",align:"end",forceMount:!0,children:[a.jsx(oP,{className:"font-normal",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm font-medium leading-none",children:(e==null?void 0:e.email)||(e==null?void 0:e.phone)}),a.jsx("p",{className:"text-xs leading-none text-muted-foreground capitalize",children:e==null?void 0:e.role.replace("_"," ")})]})}),a.jsx(Ih,{}),(e==null?void 0:e.role)==="admin"&&a.jsxs(a.Fragment,{children:[a.jsx(Mi,{onClick:()=>o("/admin"),children:"Admin Dashboard"}),a.jsx(Mi,{onClick:()=>o("/admin/users"),children:"User Management"}),a.jsx(Mi,{onClick:()=>o("/admin/observations"),children:"Observations"}),a.jsx(Mi,{onClick:()=>o("/admin/settings"),children:"Settings"}),a.jsx(Mi,{onClick:()=>o("/admin/logs"),children:"System Logs"}),a.jsx(Ih,{})]}),a.jsxs(Mi,{onClick:l,children:[a.jsx(JN,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Log out"})]})]})]})]})]})}):null}const N6="sb-pauafmgoewfdhwnexzy-auth-token",bx="cda0c1cd-c91a-41c5-9bb8-93a1df73df6d",j6="5d261670-4476-4892-b3a4-3009cf49413b";function M6(){try{const e=localStorage.getItem(N6);if(!e)return!1;const t=JSON.parse(e);if(!t.access_token)return!1;const n=Math.floor(Date.now()/1e3);return t.expires_at&&t.expires_at<n?(console.log("Local session exists but is expired"),!1):!0}catch(e){return console.error("Error checking localStorage session:",e),!1}}async function R6(){try{const{data:e}=await Ce.from("users").select("*").eq("id",bx).single();if(e)return console.log("Successfully loaded emergency user from database"),e}catch(e){console.error("Error fetching emergency user:",e)}return{id:bx,auth_id:j6,email:"yash.tagai@gmail.com",phone:"9713010045",role:"admin",first_name:"Yash",last_name:"Tagai",position:"DFO",status:"active",created_at:new Date().toISOString(),updated_at:null}}function Pn({children:e,requiredRole:t}){const{user:n,loading:r,initialized:i,canManageUsers:o,canViewReports:l,canEditReports:u}=mi(),d=Vh(),[f,m]=p.useState(null),[g,b]=p.useState(null),[x,w]=p.useState(!1);if(p.useEffect(()=>{const _=M6();m(_),_&&!n&&!r&&!g&&!x&&(w(!0),R6().then(C=>{b(C),w(!1)}).catch(C=>{console.error("Failed to load emergency user:",C),w(!1)}))},[n,r,g,x]),console.log("ProtectedRoute:",{pathname:d.pathname,user:(n==null?void 0:n.email)||(n==null?void 0:n.phone),userRole:n==null?void 0:n.role,emergencyUser:g==null?void 0:g.email,loading:r,loadingEmergencyUser:x,initialized:i,directLocalStorageCheck:f}),x)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx(wo,{className:"h-8 w-8 animate-spin text-green-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Restoring session..."})]})});if(g&&!n){if(console.log("Using emergency user:",g.email),t)switch(t){case"admin":if(g.role!=="admin")return a.jsx(Er,{to:"/",replace:!0});break;case"manager":if(!["admin","manager"].includes(g.role))return a.jsx(Er,{to:"/",replace:!0});break}return a.jsx(a.Fragment,{children:e})}if(!n&&f===!0&&!g)return console.log("Session found in localStorage but not in Auth context, showing loading state"),a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx(wo,{className:"h-8 w-8 animate-spin text-green-600"})});if(r&&!i)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx(wo,{className:"h-8 w-8 animate-spin text-green-600"})});if(!r&&!i&&f!==!0)return console.error("Auth context not initialized properly"),a.jsx(Er,{to:"/login",state:{from:d},replace:!0});if(!n&&f!==!0&&!g)return console.log("No user found, redirecting to login"),a.jsx(Er,{to:"/login",state:{from:d},replace:!0});const v=n||g;if(t&&v)switch(console.log("Checking role permissions:",{userRole:v.role,requiredRole:t}),t){case"admin":if(v.role!=="admin")return console.log("User is not admin, redirecting to home"),a.jsx(Er,{to:"/",replace:!0});break;case"manager":if(!["admin","manager"].includes(v.role))return console.log("User is not manager or admin, redirecting to home"),a.jsx(Er,{to:"/",replace:!0});break}return d.pathname.startsWith("/admin/users")&&(v==null?void 0:v.role)!=="admin"?(console.log("User cannot manage users, redirecting to home"),a.jsx(Er,{to:"/",replace:!0})):d.pathname.startsWith("/reports/edit")&&!["admin","manager"].includes(v==null?void 0:v.role)?(console.log("User cannot edit reports, redirecting to reports"),a.jsx(Er,{to:"/reports",replace:!0})):d.pathname.startsWith("/reports")&&(v==null?void 0:v.role)==="data_collector"?(console.log("User cannot view reports, redirecting to home"),a.jsx(Er,{to:"/",replace:!0})):d.pathname==="/dashboard"&&(v==null?void 0:v.role)==="data_collector"?(console.log("Data collector cannot access dashboard, redirecting to home"),a.jsx(Er,{to:"/",replace:!0})):a.jsx(a.Fragment,{children:e})}const Es=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:Pe("w-full caption-bottom text-sm",e),...t})}));Es.displayName="Table";const Ts=p.forwardRef(({className:e,...t},n)=>a.jsx("thead",{ref:n,className:Pe("[&_tr]:border-b",e),...t}));Ts.displayName="TableHeader";const Ns=p.forwardRef(({className:e,...t},n)=>a.jsx("tbody",{ref:n,className:Pe("[&_tr:last-child]:border-0",e),...t}));Ns.displayName="TableBody";const O6=p.forwardRef(({className:e,...t},n)=>a.jsx("tfoot",{ref:n,className:Pe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));O6.displayName="TableFooter";const Fn=p.forwardRef(({className:e,...t},n)=>a.jsx("tr",{ref:n,className:Pe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Fn.displayName="TableRow";const vt=p.forwardRef(({className:e,...t},n)=>a.jsx("th",{ref:n,className:Pe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));vt.displayName="TableHead";const yt=p.forwardRef(({className:e,...t},n)=>a.jsx("td",{ref:n,className:Pe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));yt.displayName="TableCell";const k6=p.forwardRef(({className:e,...t},n)=>a.jsx("caption",{ref:n,className:Pe("mt-4 text-sm text-muted-foreground",e),...t}));k6.displayName="TableCaption";function A6({items:e}){return a.jsx("nav",{className:"flex items-center space-x-1 text-sm text-gray-500 mb-6",children:e.map((t,n)=>a.jsxs(me.Fragment,{children:[n>0&&a.jsx(Tu,{className:"h-4 w-4"}),t.href?a.jsx(Tc,{to:t.href,className:"hover:text-gray-700 transition-colors",children:t.label}):a.jsx("span",{className:"text-gray-900 font-medium",children:t.label})]},t.label))})}const Xr=Su("https://pauafmgoewfdhwnsexzy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBhdWFmbWdvZXdmZGh3bnNleHp5Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0NjY4MDAxOCwiZXhwIjoyMDYyMjU2MDE4fQ.AmhwlpdZxs__o8VPv4N2Zf-3zb8JgiDqyJfNnEHQX1k",{auth:{autoRefreshToken:!1,persistSession:!1}});function _x(){const[e,t]=p.useState(""),[n,r]=p.useState([]),[i,o]=p.useState(!1),[l,u]=p.useState(null),[d,f]=p.useState([]),[m,g]=p.useState([]),[b,x]=p.useState(null),[w,v]=p.useState(null),[_,C]=p.useState({email:"",phone:"",password:"",first_name:"",last_name:"",role:"data_collector",position:"Ranger"});tr();const{user:P,canCreateUserWithRole:E}=mi();p.useEffect(()=>{k(),M()},[]);const M=async()=>{try{const{data:H,error:K}=await Ce.from("divisions").select("id, name").order("name");if(K)throw K;f(H||[])}catch(H){ye.error("Error fetching divisions: "+H.message)}},T=async H=>{try{console.log("Fetching ranges for division:",H);const{data:K,error:Y}=await Ce.from("ranges").select("new_id, name, new_division_id").eq("new_division_id",H).order("name");if(Y)throw console.error("Error fetching ranges:",Y),Y;console.log("Fetched ranges:",K),g(K||[])}catch(K){console.error("Error in fetchRanges:",K),ye.error("Error fetching ranges: "+K.message)}},I=async H=>{console.log("Division changed to:",H),x(H==="none"?null:H),v(null),H&&H!=="none"?await T(H):g([])},R=H=>{console.log("Range selected:",H);const K=H==="none"?null:H;console.log("Setting selectedRange to:",K),v(K)},k=async()=>{try{const{data:H,error:K}=await Ce.from("users").select("*").order("created_at",{ascending:!1});if(K)throw K;r(H)}catch(H){ye.error("Error fetching users: "+H.message)}},U=async H=>{var K;H.preventDefault();try{if(!E(_.role)){ye.error("You do not have permission to create users with this role");return}if(_.position==="Ranger"&&(!b||!w)){ye.error("Rangers must be assigned to both a division and a range");return}if(_.position==="DFO"&&!b){ye.error("DFOs must be assigned to a division");return}const{data:Y,error:O}=await Xr.auth.admin.createUser({email:_.email||void 0,phone:_.phone||void 0,password:_.password,email_confirm:!0});if(O)throw O;const{data:W,error:V}=await Xr.from("users").insert([{id:Y.user.id,auth_id:Y.user.id,first_name:_.first_name,last_name:_.last_name,email:_.email,phone:_.phone,role:_.role,position:_.position,status:"active",created_by:P==null?void 0:P.id}]).select().single();if(V)throw await Xr.auth.admin.deleteUser(Y.user.id),V;if(!W||!W.id)throw new Error("Failed to create user profile - no ID returned");if(b){console.log("Available ranges:",m),console.log("Selected range value:",w);const Q=m.find(G=>G.new_id===w);if(console.log("Found range object:",Q),_.position==="Ranger"&&!Q)throw new Error(`Invalid range ID: ${w}. Available ranges: ${m.map(G=>`${G.name} (${G.new_id})`).join(", ")}`);console.log("Creating region assignment with:",{user_id:W.id,division_id:b,range_id:_.position==="Ranger"?Q==null?void 0:Q.new_id:null,selectedRange:w,selectedRangeObj:Q});try{const{data:G,error:ie}=await Xr.from("user_region_assignments").insert({user_id:W.id,division_id:b,range_id:_.position==="Ranger"?Q==null?void 0:Q.new_id:null,start_date:new Date().toISOString()}).select().single();ie?(console.error("Error creating region assignment:",ie),(K=ie.message)!=null&&K.includes("must be assigned")?ye.error(`Region assignment failed: ${ie.message}`):ye.warning("User created but region assignment failed")):console.log("Region assignment created successfully:",G)}catch(G){console.error("Exception creating region assignment:",G),ye.warning("User created but region assignment failed")}}else console.log("No division selected, skipping region assignment");ye.success("User created successfully"),o(!1),C({email:"",phone:"",password:"",first_name:"",last_name:"",role:"data_collector",position:"Ranger"}),x(null),v(null),await k()}catch(Y){ye.error("Error creating user: "+Y.message)}},X=async H=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const{error:K}=await Xr.from("user_region_assignments").delete().eq("user_id",H.id);if(K){console.error("Error deleting region assignments:",K),ye.error("Error deleting region assignments: "+K.message);return}const{error:Y}=await Xr.from("users").delete().eq("id",H.id);if(Y){console.error("Error deleting user profile:",Y),ye.error("Error deleting user profile: "+Y.message);return}try{const{error:O}=await Xr.auth.admin.deleteUser(H.auth_id);O&&console.warn("Warning: Could not delete auth user:",O)}catch(O){console.warn("Warning: Exception deleting auth user:",O)}ye.success("User and associated data deleted successfully"),await k()}catch(K){console.error("Error in delete process:",K),ye.error("Error deleting user: "+K.message)}},re=async(H,K)=>{var Y,O,W,V;try{const{error:Q,data:G}=await Xr.from("users").update(K).eq("id",H).select().single();if(Q){console.error("DB update error:",Q),ye.error("Database error updating user: "+(Q.message||JSON.stringify(Q)));return}if(!G){ye.error("No user found to update.");return}const ie={};K.email&&K.email.trim()!==""&&(ie.email=K.email.trim()),K.phone&&K.phone.trim()!==""&&(ie.phone=K.phone.trim());let se=!1;if(Object.keys(ie).length>0&&(G!=null&&G.auth_id))try{const{error:le}=await Xr.auth.admin.updateUserById(G.auth_id,ie);if(le&&!((Y=le.message)!=null&&Y.includes("User not found"))&&!((O=le.message)!=null&&O.includes("500")))throw le;le&&((W=le.message)!=null&&W.includes("User not found")||(V=le.message)!=null&&V.includes("500"))&&(se=!0)}catch{se=!0}se?ye.warning("User updated in database, but not found or not updated in Auth."):ye.success("User updated successfully"),await k(),u(null),o(!1)}catch(Q){ye.error("Error updating user: "+(Q.message||JSON.stringify(Q))),console.error("Error updating user:",Q)}},$=H=>{u(H),o(!0)},ne=()=>{o(!1),u(null),C({email:"",phone:"",password:"",first_name:"",last_name:"",role:"data_collector",position:"Ranger"})},J=n.filter(H=>{var K,Y,O;return(((K=H.first_name)==null?void 0:K.toLowerCase())||"").includes(e.toLowerCase())||(((Y=H.last_name)==null?void 0:Y.toLowerCase())||"").includes(e.toLowerCase())||(((O=H.email)==null?void 0:O.toLowerCase())||"").includes(e.toLowerCase())||(H.phone||"").includes(e)});return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 py-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx(A6,{items:[{label:"Admin",href:"/admin"},{label:"User Management"}]}),a.jsxs(Ze,{className:"border-blue-100 shadow-lg",children:[a.jsxs(ht,{className:"flex flex-row items-center justify-between bg-gradient-to-r from-blue-50 to-blue-100",children:[a.jsx(mt,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"User Management"}),E("data_collector")&&a.jsx(Ae,{onClick:()=>o(!0),className:"bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700 text-white shadow-sm",children:"Add User"})]}),a.jsxs(Ke,{children:[a.jsx("div",{className:"mb-4",children:a.jsx(dt,{placeholder:"Search users...",value:e,onChange:H=>t(H.target.value),className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"})}),a.jsxs(Es,{children:[a.jsx(Ts,{children:a.jsxs(Fn,{className:"bg-blue-50",children:[a.jsx(vt,{className:"text-blue-900",children:"Name"}),a.jsx(vt,{className:"text-blue-900",children:"Email"}),a.jsx(vt,{className:"text-blue-900",children:"Phone"}),a.jsx(vt,{className:"text-blue-900",children:"Position"}),a.jsx(vt,{className:"text-blue-900",children:"Role"}),a.jsx(vt,{className:"text-blue-900",children:"Status"}),a.jsx(vt,{className:"text-blue-900",children:"Actions"})]})}),a.jsx(Ns,{children:J.map(H=>a.jsxs(Fn,{className:"hover:bg-blue-50/50 transition-colors",children:[a.jsxs(yt,{children:[H.first_name," ",H.last_name]}),a.jsx(yt,{children:H.email||"-"}),a.jsx(yt,{children:H.phone||"-"}),a.jsx(yt,{children:H.position}),a.jsx(yt,{children:H.role}),a.jsx(yt,{children:H.status}),a.jsx(yt,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>$(H),className:"border-blue-200 hover:bg-blue-50 hover:text-blue-600",children:"Edit"}),a.jsx(Ae,{variant:"destructive",size:"sm",onClick:()=>X(H),className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})})]},H.id))})]})]})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 w-full max-w-4xl border border-blue-100",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:l?"Edit User":"Add User"}),a.jsxs("form",{onSubmit:l?H=>{H.preventDefault(),re(l.id,{first_name:l.first_name,last_name:l.last_name,email:l.email,phone:l.phone,role:l.role,position:l.position})}:U,className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Personal Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(dt,{placeholder:"First Name",value:(l==null?void 0:l.first_name)||_.first_name,onChange:H=>l?u({...l,first_name:H.target.value}):C({..._,first_name:H.target.value}),className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(dt,{placeholder:"Last Name",value:(l==null?void 0:l.last_name)||_.last_name,onChange:H=>l?u({...l,last_name:H.target.value}):C({..._,last_name:H.target.value}),className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(dt,{type:"email",placeholder:"Email",value:(l==null?void 0:l.email)||_.email,onChange:H=>l?u({...l,email:H.target.value}):C({..._,email:H.target.value}),className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(dt,{placeholder:"Phone",value:(l==null?void 0:l.phone)||_.phone,onChange:H=>l?u({...l,phone:H.target.value}):C({..._,phone:H.target.value}),className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"}),!l&&a.jsx(dt,{type:"password",placeholder:"Password",value:_.password,onChange:H=>C({..._,password:H.target.value}),className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Role & Assignment"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-blue-900",children:"Position"}),a.jsxs("select",{className:"w-full p-2 border border-blue-100 rounded-md focus:border-blue-500 focus:ring-blue-500",value:(l==null?void 0:l.position)||_.position,onChange:H=>{const K=H.target.value;l?u({...l,position:K}):(C({..._,position:K}),x(null),v(null))},children:[a.jsx("option",{value:"Ranger",children:"Ranger"}),a.jsx("option",{value:"DFO",children:"DFO"}),a.jsx("option",{value:"Officer",children:"Officer"}),a.jsx("option",{value:"Guard",children:"Guard"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-blue-900",children:"Role"}),a.jsxs("select",{className:"w-full p-2 border border-blue-100 rounded-md focus:border-blue-500 focus:ring-blue-500",value:(l==null?void 0:l.role)||_.role,onChange:H=>{const K=H.target.value;l?u({...l,role:K}):C({..._,role:K})},children:[(P==null?void 0:P.role)==="admin"&&a.jsx("option",{value:"admin",children:"Admin"}),(P==null?void 0:P.role)==="admin"&&a.jsx("option",{value:"manager",children:"Manager"}),((P==null?void 0:P.role)==="admin"||(P==null?void 0:P.role)==="manager")&&a.jsx("option",{value:"data_collector",children:"Data Collector"})]})]}),(_.position==="Ranger"||_.position==="DFO")&&a.jsxs("div",{className:"space-y-4 pt-4 border-t border-blue-100",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Region Assignment"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-blue-900",children:"Division"}),a.jsx("div",{className:"relative",children:a.jsxs("select",{className:"w-full p-2 border border-blue-100 rounded-md focus:border-blue-500 focus:ring-blue-500",value:b||"none",onChange:H=>I(H.target.value),children:[a.jsx("option",{value:"none",children:"Select a division"}),d.map(H=>a.jsx("option",{value:H.id,children:H.name},H.id))]})})]}),_.position==="Ranger"&&b&&b!=="none"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-blue-900",children:"Range"}),a.jsx("div",{className:"relative",children:a.jsxs("select",{className:"w-full p-2 border border-blue-100 rounded-md focus:border-blue-500 focus:ring-blue-500",value:w||"none",onChange:H=>R(H.target.value),children:[a.jsx("option",{value:"none",children:"Select a range"}),m.map(H=>a.jsx("option",{value:H.new_id,children:H.name},H.new_id))]})})]})]})]})]}),a.jsxs("div",{className:"col-span-2 flex justify-end gap-2 mt-6 pt-6 border-t border-blue-100",children:[a.jsx(Ae,{type:"button",variant:"outline",onClick:ne,className:"border-blue-200 hover:bg-blue-50 hover:text-blue-600",children:"Cancel"}),a.jsx(Ae,{type:"submit",className:"bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700 text-white shadow-sm",children:l?"Update":"Create"})]})]})]})})]})})}function st(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function zn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function hn(e,t){const n=st(e);return isNaN(t)?zn(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function yr(e,t){const n=st(e);if(isNaN(t))return zn(e,NaN);if(!t)return n;const r=n.getDate(),i=zn(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const jp=6048e5,I6=864e5;let D6={};function Rl(){return D6}function Wr(e,t){var u,d,f,m;const n=Rl(),r=(t==null?void 0:t.weekStartsOn)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,i=st(e),o=i.getDay(),l=(o<r?7:0)+o-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Fs(e){return Wr(e,{weekStartsOn:1})}function MP(e){const t=st(e),n=t.getFullYear(),r=zn(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Fs(r),o=zn(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Fs(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function Ko(e){const t=st(e);return t.setHours(0,0,0,0),t}function bu(e){const t=st(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function kr(e,t){const n=Ko(e),r=Ko(t),i=+n-bu(n),o=+r-bu(r);return Math.round((i-o)/I6)}function L6(e){const t=MP(e),n=zn(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Fs(n)}function Dh(e,t){const n=t*7;return hn(e,n)}function F6(e,t){return yr(e,t*12)}function B6(e){let t;return e.forEach(function(n){const r=st(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function V6(e){let t;return e.forEach(n=>{const r=st(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function jn(e,t){const n=Ko(e),r=Ko(t);return+n==+r}function Mp(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $6(e){if(!Mp(e)&&typeof e!="number")return!1;const t=st(e);return!isNaN(Number(t))}function hl(e,t){const n=st(e),r=st(t),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function z6(e,t,n){const r=Wr(e,n),i=Wr(t,n),o=+r-bu(r),l=+i-bu(i);return Math.round((o-l)/jp)}function Rp(e){const t=st(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Mn(e){const t=st(e);return t.setDate(1),t.setHours(0,0,0,0),t}function RP(e){const t=st(e),n=zn(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Op(e,t){var u,d,f,m;const n=Rl(),r=(t==null?void 0:t.weekStartsOn)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,i=st(e),o=i.getDay(),l=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}function OP(e){return Op(e,{weekStartsOn:1})}const W6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},U6=(e,t,n)=>{let r;const i=W6[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ef(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const H6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Z6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},G6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Y6={date:Ef({formats:H6,defaultWidth:"full"}),time:Ef({formats:Z6,defaultWidth:"full"}),dateTime:Ef({formats:G6,defaultWidth:"full"})},K6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},q6=(e,t,n,r)=>K6[e];function Sa(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):l;i=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[u]||e.values[l]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const X6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},J6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Q6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ez={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rz=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},iz={ordinalNumber:rz,era:Sa({values:X6,defaultWidth:"wide"}),quarter:Sa({values:J6,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Sa({values:Q6,defaultWidth:"wide"}),day:Sa({values:ez,defaultWidth:"wide"}),dayPeriod:Sa({values:tz,defaultWidth:"wide",formattingValues:nz,defaultFormattingWidth:"wide"})};function Ca(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const l=o[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?oz(u,g=>g.test(l)):sz(u,g=>g.test(l));let f;f=e.valueCallback?e.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const m=t.slice(l.length);return{value:f,rest:m}}}function sz(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function oz(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function az(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let l=e.valueCallback?e.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const u=t.slice(i.length);return{value:l,rest:u}}}const lz=/^(\d+)(th|st|nd|rd)?/i,cz=/\d+/i,uz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dz={any:[/^b/i,/^(a|c)/i]},fz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hz={any:[/1/i,/2/i,/3/i,/4/i]},mz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bz={ordinalNumber:az({matchPattern:lz,parsePattern:cz,valueCallback:e=>parseInt(e,10)}),era:Ca({matchPatterns:uz,defaultMatchWidth:"wide",parsePatterns:dz,defaultParseWidth:"any"}),quarter:Ca({matchPatterns:fz,defaultMatchWidth:"wide",parsePatterns:hz,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ca({matchPatterns:mz,defaultMatchWidth:"wide",parsePatterns:pz,defaultParseWidth:"any"}),day:Ca({matchPatterns:gz,defaultMatchWidth:"wide",parsePatterns:vz,defaultParseWidth:"any"}),dayPeriod:Ca({matchPatterns:yz,defaultMatchWidth:"any",parsePatterns:xz,defaultParseWidth:"any"})},kP={code:"en-US",formatDistance:U6,formatLong:Y6,formatRelative:q6,localize:iz,match:bz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _z(e){const t=st(e);return kr(t,RP(t))+1}function AP(e){const t=st(e),n=+Fs(t)-+L6(t);return Math.round(n/jp)+1}function IP(e,t){var m,g,b,x;const n=st(e),r=n.getFullYear(),i=Rl(),o=(t==null?void 0:t.firstWeekContainsDate)??((g=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(b=i.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)??1,l=zn(e,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const u=Wr(l,t),d=zn(e,0);d.setFullYear(r,0,o),d.setHours(0,0,0,0);const f=Wr(d,t);return n.getTime()>=u.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function wz(e,t){var u,d,f,m;const n=Rl(),r=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,i=IP(e,t),o=zn(e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Wr(o,t)}function DP(e,t){const n=st(e),r=+Wr(n,t)-+wz(n,t);return Math.round(r/jp)+1}function pt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ci={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return pt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):pt(n+1,2)},d(e,t){return pt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return pt(e.getHours()%12||12,t.length)},H(e,t){return pt(e.getHours(),t.length)},m(e,t){return pt(e.getMinutes(),t.length)},s(e,t){return pt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return pt(i,t.length)}},ao={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wx={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ci.y(e,t)},Y:function(e,t,n,r){const i=IP(e,r),o=i>0?i:1-i;if(t==="YY"){const l=o%100;return pt(l,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):pt(o,t.length)},R:function(e,t){const n=MP(e);return pt(n,t.length)},u:function(e,t){const n=e.getFullYear();return pt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return pt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return pt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ci.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return pt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=DP(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):pt(i,t.length)},I:function(e,t,n){const r=AP(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):pt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ci.d(e,t)},D:function(e,t,n){const r=_z(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):pt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return pt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return pt(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return pt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=ao.noon:r===0?i=ao.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=ao.evening:r>=12?i=ao.afternoon:r>=4?i=ao.morning:i=ao.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ci.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ci.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):pt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):pt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ci.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ci.s(e,t)},S:function(e,t){return Ci.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Cx(r);case"XXXX":case"XX":return hs(r);case"XXXXX":case"XXX":default:return hs(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Cx(r);case"xxxx":case"xx":return hs(r);case"xxxxx":case"xxx":default:return hs(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Sx(r,":");case"OOOO":default:return"GMT"+hs(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Sx(r,":");case"zzzz":default:return"GMT"+hs(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return pt(r,t.length)},T:function(e,t,n){const r=e.getTime();return pt(r,t.length)}};function Sx(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+pt(o,2)}function Cx(e,t){return e%60===0?(e>0?"-":"+")+pt(Math.abs(e)/60,2):hs(e,t)}function hs(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=pt(Math.trunc(r/60),2),o=pt(r%60,2);return n+i+t+o}const Px=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},LP=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Sz=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Px(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Px(r,t)).replace("{{time}}",LP(i,t))},Cz={p:LP,P:Sz},Pz=/^D+$/,Ez=/^Y+$/,Tz=["D","DD","YY","YYYY"];function Nz(e){return Pz.test(e)}function jz(e){return Ez.test(e)}function Mz(e,t,n){const r=Rz(e,t,n);if(console.warn(r),Tz.includes(e))throw new RangeError(r)}function Rz(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Oz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Az=/^'([^]*?)'?$/,Iz=/''/g,Dz=/[a-zA-Z]/;function qi(e,t,n){var m,g,b,x,w,v,_,C;const r=Rl(),i=(n==null?void 0:n.locale)??r.locale??kP,o=(n==null?void 0:n.firstWeekContainsDate)??((g=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((x=(b=r.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((v=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((C=(_=r.locale)==null?void 0:_.options)==null?void 0:C.weekStartsOn)??0,u=st(e);if(!$6(u))throw new RangeError("Invalid time value");let d=t.match(kz).map(P=>{const E=P[0];if(E==="p"||E==="P"){const M=Cz[E];return M(P,i.formatLong)}return P}).join("").match(Oz).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const E=P[0];if(E==="'")return{isToken:!1,value:Lz(P)};if(wx[E])return{isToken:!0,value:P};if(E.match(Dz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:P}});i.localize.preprocessor&&(d=i.localize.preprocessor(u,d));const f={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return d.map(P=>{if(!P.isToken)return P.value;const E=P.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&jz(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Nz(E))&&Mz(E,t,String(e));const M=wx[E[0]];return M(u,E,i.localize,f)}).join("")}function Lz(e){const t=e.match(Az);return t?t[1].replace(Iz,"'"):e}function Fz(e){const t=st(e),n=t.getFullYear(),r=t.getMonth(),i=zn(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Bz(e){return Math.trunc(+st(e)/1e3)}function Vz(e){const t=st(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function $z(e,t){return z6(Vz(e),Mn(e),t)+1}function Lh(e,t){const n=st(e),r=st(t);return n.getTime()>r.getTime()}function FP(e,t){const n=st(e),r=st(t);return+n<+r}function kp(e,t){const n=st(e),r=st(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function zz(e,t){const n=st(e),r=st(t);return n.getFullYear()===r.getFullYear()}function Tf(e,t){return hn(e,-t)}function Nf(e,t){const n=st(e),r=n.getFullYear(),i=n.getDate(),o=zn(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const l=Fz(o);return n.setMonth(t,Math.min(i,l)),n}function Ex(e,t){const n=st(e);return isNaN(+n)?zn(e,NaN):(n.setFullYear(t),n)}var ze=function(){return ze=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ze.apply(this,arguments)};function Wz(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function BP(e,t,n){for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Ol(e){return e.mode==="multiple"}function kl(e){return e.mode==="range"}function fd(e){return e.mode==="single"}var Uz={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Hz(e,t){return qi(e,"LLLL y",t)}function Zz(e,t){return qi(e,"d",t)}function Gz(e,t){return qi(e,"LLLL",t)}function Yz(e){return"".concat(e)}function Kz(e,t){return qi(e,"cccccc",t)}function qz(e,t){return qi(e,"yyyy",t)}var Xz=Object.freeze({__proto__:null,formatCaption:Hz,formatDay:Zz,formatMonthCaption:Gz,formatWeekNumber:Yz,formatWeekdayName:Kz,formatYearCaption:qz}),Jz=function(e,t,n){return qi(e,"do MMMM (EEEE)",n)},Qz=function(){return"Month: "},e9=function(){return"Go to next month"},t9=function(){return"Go to previous month"},n9=function(e,t){return qi(e,"cccc",t)},r9=function(e){return"Week n. ".concat(e)},i9=function(){return"Year: "},s9=Object.freeze({__proto__:null,labelDay:Jz,labelMonthDropdown:Qz,labelNext:e9,labelPrevious:t9,labelWeekNumber:r9,labelWeekday:n9,labelYearDropdown:i9});function o9(){var e="buttons",t=Uz,n=kP,r={},i={},o=1,l={},u=new Date;return{captionLayout:e,classNames:t,formatters:Xz,labels:s9,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:o,styles:l,today:u,mode:"default"}}function a9(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,o=e.fromDate,l=e.toDate;return r?o=Mn(r):t&&(o=new Date(t,0,1)),i?l=Rp(i):n&&(l=new Date(n,11,31)),{fromDate:o?Ko(o):void 0,toDate:l?Ko(l):void 0}}var VP=p.createContext(void 0);function l9(e){var t,n=e.initialProps,r=o9(),i=a9(n),o=i.fromDate,l=i.toDate,u=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;u!=="buttons"&&(!o||!l)&&(u="buttons");var d;(fd(n)||Ol(n)||kl(n))&&(d=n.onSelect);var f=ze(ze(ze({},r),n),{captionLayout:u,classNames:ze(ze({},r.classNames),n.classNames),components:ze({},n.components),formatters:ze(ze({},r.formatters),n.formatters),fromDate:o,labels:ze(ze({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:ze(ze({},r.modifiers),n.modifiers),modifiersClassNames:ze(ze({},r.modifiersClassNames),n.modifiersClassNames),onSelect:d,styles:ze(ze({},r.styles),n.styles),toDate:l});return a.jsx(VP.Provider,{value:f,children:e.children})}function Ct(){var e=p.useContext(VP);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function $P(e){var t=Ct(),n=t.locale,r=t.classNames,i=t.styles,o=t.formatters.formatCaption;return a.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function c9(e){return a.jsx("svg",ze({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function zP(e){var t,n,r=e.onChange,i=e.value,o=e.children,l=e.caption,u=e.className,d=e.style,f=Ct(),m=(n=(t=f.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:c9;return a.jsxs("div",{className:u,style:d,children:[a.jsx("span",{className:f.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:i,onChange:r,children:o}),a.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[l,a.jsx(m,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function u9(e){var t,n=Ct(),r=n.fromDate,i=n.toDate,o=n.styles,l=n.locale,u=n.formatters.formatMonthCaption,d=n.classNames,f=n.components,m=n.labels.labelMonthDropdown;if(!r)return a.jsx(a.Fragment,{});if(!i)return a.jsx(a.Fragment,{});var g=[];if(zz(r,i))for(var b=Mn(r),x=r.getMonth();x<=i.getMonth();x++)g.push(Nf(b,x));else for(var b=Mn(new Date),x=0;x<=11;x++)g.push(Nf(b,x));var w=function(_){var C=Number(_.target.value),P=Nf(Mn(e.displayMonth),C);e.onChange(P)},v=(t=f==null?void 0:f.Dropdown)!==null&&t!==void 0?t:zP;return a.jsx(v,{name:"months","aria-label":m(),className:d.dropdown_month,style:o.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:u(e.displayMonth,{locale:l}),children:g.map(function(_){return a.jsx("option",{value:_.getMonth(),children:u(_,{locale:l})},_.getMonth())})})}function d9(e){var t,n=e.displayMonth,r=Ct(),i=r.fromDate,o=r.toDate,l=r.locale,u=r.styles,d=r.classNames,f=r.components,m=r.formatters.formatYearCaption,g=r.labels.labelYearDropdown,b=[];if(!i)return a.jsx(a.Fragment,{});if(!o)return a.jsx(a.Fragment,{});for(var x=i.getFullYear(),w=o.getFullYear(),v=x;v<=w;v++)b.push(Ex(RP(new Date),v));var _=function(P){var E=Ex(Mn(n),Number(P.target.value));e.onChange(E)},C=(t=f==null?void 0:f.Dropdown)!==null&&t!==void 0?t:zP;return a.jsx(C,{name:"years","aria-label":g(),className:d.dropdown_year,style:u.dropdown_year,onChange:_,value:n.getFullYear(),caption:m(n,{locale:l}),children:b.map(function(P){return a.jsx("option",{value:P.getFullYear(),children:m(P,{locale:l})},P.getFullYear())})})}function f9(e,t){var n=p.useState(e),r=n[0],i=n[1],o=t===void 0?r:t;return[o,i]}function h9(e){var t=e.month,n=e.defaultMonth,r=e.today,i=t||n||r||new Date,o=e.toDate,l=e.fromDate,u=e.numberOfMonths,d=u===void 0?1:u;if(o&&hl(o,i)<0){var f=-1*(d-1);i=yr(o,f)}return l&&hl(i,l)<0&&(i=l),Mn(i)}function m9(){var e=Ct(),t=h9(e),n=f9(t,e.month),r=n[0],i=n[1],o=function(l){var u;if(!e.disableNavigation){var d=Mn(l);i(d),(u=e.onMonthChange)===null||u===void 0||u.call(e,d)}};return[r,o]}function p9(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=Mn(e),o=Mn(yr(i,r)),l=hl(o,i),u=[],d=0;d<l;d++){var f=yr(i,d);u.push(f)}return n&&(u=u.reverse()),u}function g9(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,o=i===void 0?1:i,l=r?o:1,u=Mn(e);if(!n)return yr(u,l);var d=hl(n,e);if(!(d<o))return yr(u,l)}}function v9(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,o=i===void 0?1:i,l=r?o:1,u=Mn(e);if(!n)return yr(u,-l);var d=hl(u,n);if(!(d<=0))return yr(u,-l)}}var WP=p.createContext(void 0);function y9(e){var t=Ct(),n=m9(),r=n[0],i=n[1],o=p9(r,t),l=g9(r,t),u=v9(r,t),d=function(g){return o.some(function(b){return kp(g,b)})},f=function(g,b){d(g)||(b&&FP(g,b)?i(yr(g,1+t.numberOfMonths*-1)):i(g))},m={currentMonth:r,displayMonths:o,goToMonth:i,goToDate:f,previousMonth:u,nextMonth:l,isDateDisplayed:d};return a.jsx(WP.Provider,{value:m,children:e.children})}function Al(){var e=p.useContext(WP);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Tx(e){var t,n=Ct(),r=n.classNames,i=n.styles,o=n.components,l=Al().goToMonth,u=function(m){l(yr(m,e.displayIndex?-e.displayIndex:0))},d=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:$P,f=a.jsx(d,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[a.jsx("div",{className:r.vhidden,children:f}),a.jsx(u9,{onChange:u,displayMonth:e.displayMonth}),a.jsx(d9,{onChange:u,displayMonth:e.displayMonth})]})}function x9(e){return a.jsx("svg",ze({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function b9(e){return a.jsx("svg",ze({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var _u=p.forwardRef(function(e,t){var n=Ct(),r=n.classNames,i=n.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var l=o.join(" "),u=ze(ze({},i.button_reset),i.button);return e.style&&Object.assign(u,e.style),a.jsx("button",ze({},e,{ref:t,type:"button",className:l,style:u}))});function _9(e){var t,n,r=Ct(),i=r.dir,o=r.locale,l=r.classNames,u=r.styles,d=r.labels,f=d.labelPrevious,m=d.labelNext,g=r.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var b=f(e.previousMonth,{locale:o}),x=[l.nav_button,l.nav_button_previous].join(" "),w=m(e.nextMonth,{locale:o}),v=[l.nav_button,l.nav_button_next].join(" "),_=(t=g==null?void 0:g.IconRight)!==null&&t!==void 0?t:b9,C=(n=g==null?void 0:g.IconLeft)!==null&&n!==void 0?n:x9;return a.jsxs("div",{className:l.nav,style:u.nav,children:[!e.hidePrevious&&a.jsx(_u,{name:"previous-month","aria-label":b,className:x,style:u.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?a.jsx(_,{className:l.nav_icon,style:u.nav_icon}):a.jsx(C,{className:l.nav_icon,style:u.nav_icon})}),!e.hideNext&&a.jsx(_u,{name:"next-month","aria-label":w,className:v,style:u.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?a.jsx(C,{className:l.nav_icon,style:u.nav_icon}):a.jsx(_,{className:l.nav_icon,style:u.nav_icon})})]})}function Nx(e){var t=Ct().numberOfMonths,n=Al(),r=n.previousMonth,i=n.nextMonth,o=n.goToMonth,l=n.displayMonths,u=l.findIndex(function(w){return kp(e.displayMonth,w)}),d=u===0,f=u===l.length-1,m=t>1&&(d||!f),g=t>1&&(f||!d),b=function(){r&&o(r)},x=function(){i&&o(i)};return a.jsx(_9,{displayMonth:e.displayMonth,hideNext:m,hidePrevious:g,nextMonth:i,previousMonth:r,onPreviousClick:b,onNextClick:x})}function w9(e){var t,n=Ct(),r=n.classNames,i=n.disableNavigation,o=n.styles,l=n.captionLayout,u=n.components,d=(t=u==null?void 0:u.CaptionLabel)!==null&&t!==void 0?t:$P,f;return i?f=a.jsx(d,{id:e.id,displayMonth:e.displayMonth}):l==="dropdown"?f=a.jsx(Tx,{displayMonth:e.displayMonth,id:e.id}):l==="dropdown-buttons"?f=a.jsxs(a.Fragment,{children:[a.jsx(Tx,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx(Nx,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):f=a.jsxs(a.Fragment,{children:[a.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(Nx,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:r.caption,style:o.caption,children:f})}function S9(e){var t=Ct(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?a.jsx("tfoot",{className:i,style:r.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:n})})}):a.jsx(a.Fragment,{})}function C9(e,t,n){for(var r=n?Fs(new Date):Wr(new Date,{locale:e,weekStartsOn:t}),i=[],o=0;o<7;o++){var l=hn(r,o);i.push(l)}return i}function P9(){var e=Ct(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,o=e.weekStartsOn,l=e.ISOWeek,u=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,f=C9(i,o,l);return a.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&a.jsx("td",{style:n.head_cell,className:t.head_cell}),f.map(function(m,g){return a.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":d(m,{locale:i}),children:u(m,{locale:i})},g)})]})}function E9(){var e,t=Ct(),n=t.classNames,r=t.styles,i=t.components,o=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:P9;return a.jsx("thead",{style:r.head,className:n.head,children:a.jsx(o,{})})}function T9(e){var t=Ct(),n=t.locale,r=t.formatters.formatDay;return a.jsx(a.Fragment,{children:r(e.date,{locale:n})})}var Ap=p.createContext(void 0);function N9(e){if(!Ol(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return a.jsx(Ap.Provider,{value:t,children:e.children})}return a.jsx(j9,{initialProps:e.initialProps,children:e.children})}function j9(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,o=t.max,l=function(f,m,g){var b,x;(b=t.onDayClick)===null||b===void 0||b.call(t,f,m,g);var w=!!(m.selected&&i&&(r==null?void 0:r.length)===i);if(!w){var v=!!(!m.selected&&o&&(r==null?void 0:r.length)===o);if(!v){var _=r?BP([],r):[];if(m.selected){var C=_.findIndex(function(P){return jn(f,P)});_.splice(C,1)}else _.push(f);(x=t.onSelect)===null||x===void 0||x.call(t,_,f,m,g)}}},u={disabled:[]};r&&u.disabled.push(function(f){var m=o&&r.length>o-1,g=r.some(function(b){return jn(b,f)});return!!(m&&!g)});var d={selected:r,onDayClick:l,modifiers:u};return a.jsx(Ap.Provider,{value:d,children:n})}function Ip(){var e=p.useContext(Ap);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function M9(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?jn(i,e)&&jn(r,e)?void 0:jn(i,e)?{from:i,to:void 0}:jn(r,e)?void 0:Lh(r,e)?{from:e,to:i}:{from:r,to:e}:i?Lh(e,i)?{from:i,to:e}:{from:e,to:i}:r?FP(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var Dp=p.createContext(void 0);function R9(e){if(!kl(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(Dp.Provider,{value:t,children:e.children})}return a.jsx(O9,{initialProps:e.initialProps,children:e.children})}function O9(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},o=i.from,l=i.to,u=t.min,d=t.max,f=function(x,w,v){var _,C;(_=t.onDayClick)===null||_===void 0||_.call(t,x,w,v);var P=M9(x,r);(C=t.onSelect)===null||C===void 0||C.call(t,P,x,w,v)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(m.range_start=[o],l?(m.range_end=[l],jn(o,l)||(m.range_middle=[{after:o,before:l}])):m.range_end=[o]):l&&(m.range_start=[l],m.range_end=[l]),u&&(o&&!l&&m.disabled.push({after:Tf(o,u-1),before:hn(o,u-1)}),o&&l&&m.disabled.push({after:o,before:hn(o,u-1)}),!o&&l&&m.disabled.push({after:Tf(l,u-1),before:hn(l,u-1)})),d){if(o&&!l&&(m.disabled.push({before:hn(o,-d+1)}),m.disabled.push({after:hn(o,d-1)})),o&&l){var g=kr(l,o)+1,b=d-g;m.disabled.push({before:Tf(o,b)}),m.disabled.push({after:hn(l,b)})}!o&&l&&(m.disabled.push({before:hn(l,-d+1)}),m.disabled.push({after:hn(l,d-1)}))}return a.jsx(Dp.Provider,{value:{selected:r,onDayClick:f,modifiers:m},children:n})}function Lp(){var e=p.useContext(Dp);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function zc(e){return Array.isArray(e)?BP([],e):e!==void 0?[e]:[]}function k9(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];t[r]=zc(i)}),t}var xr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(xr||(xr={}));var A9=xr.Selected,Jr=xr.Disabled,I9=xr.Hidden,D9=xr.Today,jf=xr.RangeEnd,Mf=xr.RangeMiddle,Rf=xr.RangeStart,L9=xr.Outside;function F9(e,t,n){var r,i=(r={},r[A9]=zc(e.selected),r[Jr]=zc(e.disabled),r[I9]=zc(e.hidden),r[D9]=[e.today],r[jf]=[],r[Mf]=[],r[Rf]=[],r[L9]=[],r);return e.fromDate&&i[Jr].push({before:e.fromDate}),e.toDate&&i[Jr].push({after:e.toDate}),Ol(e)?i[Jr]=i[Jr].concat(t.modifiers[Jr]):kl(e)&&(i[Jr]=i[Jr].concat(n.modifiers[Jr]),i[Rf]=n.modifiers[Rf],i[Mf]=n.modifiers[Mf],i[jf]=n.modifiers[jf]),i}var UP=p.createContext(void 0);function B9(e){var t=Ct(),n=Ip(),r=Lp(),i=F9(t,n,r),o=k9(t.modifiers),l=ze(ze({},i),o);return a.jsx(UP.Provider,{value:l,children:e.children})}function HP(){var e=p.useContext(UP);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function V9(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function $9(e){return!!(e&&typeof e=="object"&&"from"in e)}function z9(e){return!!(e&&typeof e=="object"&&"after"in e)}function W9(e){return!!(e&&typeof e=="object"&&"before"in e)}function U9(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function H9(e,t){var n,r=t.from,i=t.to;if(r&&i){var o=kr(i,r)<0;o&&(n=[i,r],r=n[0],i=n[1]);var l=kr(e,r)>=0&&kr(i,e)>=0;return l}return i?jn(i,e):r?jn(r,e):!1}function Z9(e){return Mp(e)}function G9(e){return Array.isArray(e)&&e.every(Mp)}function Y9(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(Z9(n))return jn(e,n);if(G9(n))return n.includes(e);if($9(n))return H9(e,n);if(U9(n))return n.dayOfWeek.includes(e.getDay());if(V9(n)){var r=kr(n.before,e),i=kr(n.after,e),o=r>0,l=i<0,u=Lh(n.before,n.after);return u?l&&o:o||l}return z9(n)?kr(e,n.after)>0:W9(n)?kr(n.before,e)>0:typeof n=="function"?n(e):!1})}function Fp(e,t,n){var r=Object.keys(t).reduce(function(o,l){var u=t[l];return Y9(e,u)&&o.push(l),o},[]),i={};return r.forEach(function(o){return i[o]=!0}),n&&!kp(e,n)&&(i.outside=!0),i}function K9(e,t){for(var n=Mn(e[0]),r=Rp(e[e.length-1]),i,o,l=n;l<=r;){var u=Fp(l,t),d=!u.disabled&&!u.hidden;if(!d){l=hn(l,1);continue}if(u.selected)return l;u.today&&!o&&(o=l),i||(i=l),l=hn(l,1)}return o||i}var q9=365;function ZP(e,t){var n=t.moveBy,r=t.direction,i=t.context,o=t.modifiers,l=t.retry,u=l===void 0?{count:0,lastFocused:e}:l,d=i.weekStartsOn,f=i.fromDate,m=i.toDate,g=i.locale,b={day:hn,week:Dh,month:yr,year:F6,startOfWeek:function(_){return i.ISOWeek?Fs(_):Wr(_,{locale:g,weekStartsOn:d})},endOfWeek:function(_){return i.ISOWeek?OP(_):Op(_,{locale:g,weekStartsOn:d})}},x=b[n](e,r==="after"?1:-1);r==="before"&&f?x=B6([f,x]):r==="after"&&m&&(x=V6([m,x]));var w=!0;if(o){var v=Fp(x,o);w=!v.disabled&&!v.hidden}return w?x:u.count>q9?u.lastFocused:ZP(x,{moveBy:n,direction:r,context:i,modifiers:o,retry:ze(ze({},u),{count:u.count+1})})}var GP=p.createContext(void 0);function X9(e){var t=Al(),n=HP(),r=p.useState(),i=r[0],o=r[1],l=p.useState(),u=l[0],d=l[1],f=K9(t.displayMonths,n),m=i??(u&&t.isDateDisplayed(u))?u:f,g=function(){d(i),o(void 0)},b=function(_){o(_)},x=Ct(),w=function(_,C){if(i){var P=ZP(i,{moveBy:_,direction:C,context:x,modifiers:n});jn(i,P)||(t.goToDate(P,i),b(P))}},v={focusedDay:i,focusTarget:m,blur:g,focus:b,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return a.jsx(GP.Provider,{value:v,children:e.children})}function Bp(){var e=p.useContext(GP);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function J9(e,t){var n=HP(),r=Fp(e,n,t);return r}var Vp=p.createContext(void 0);function Q9(e){if(!fd(e.initialProps)){var t={selected:void 0};return a.jsx(Vp.Provider,{value:t,children:e.children})}return a.jsx(eW,{initialProps:e.initialProps,children:e.children})}function eW(e){var t=e.initialProps,n=e.children,r=function(o,l,u){var d,f,m;if((d=t.onDayClick)===null||d===void 0||d.call(t,o,l,u),l.selected&&!t.required){(f=t.onSelect)===null||f===void 0||f.call(t,void 0,o,l,u);return}(m=t.onSelect)===null||m===void 0||m.call(t,o,o,l,u)},i={selected:t.selected,onDayClick:r};return a.jsx(Vp.Provider,{value:i,children:n})}function YP(){var e=p.useContext(Vp);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function tW(e,t){var n=Ct(),r=YP(),i=Ip(),o=Lp(),l=Bp(),u=l.focusDayAfter,d=l.focusDayBefore,f=l.focusWeekAfter,m=l.focusWeekBefore,g=l.blur,b=l.focus,x=l.focusMonthBefore,w=l.focusMonthAfter,v=l.focusYearBefore,_=l.focusYearAfter,C=l.focusStartOfWeek,P=l.focusEndOfWeek,E=function(Y){var O,W,V,Q;fd(n)?(O=r.onDayClick)===null||O===void 0||O.call(r,e,t,Y):Ol(n)?(W=i.onDayClick)===null||W===void 0||W.call(i,e,t,Y):kl(n)?(V=o.onDayClick)===null||V===void 0||V.call(o,e,t,Y):(Q=n.onDayClick)===null||Q===void 0||Q.call(n,e,t,Y)},M=function(Y){var O;b(e),(O=n.onDayFocus)===null||O===void 0||O.call(n,e,t,Y)},T=function(Y){var O;g(),(O=n.onDayBlur)===null||O===void 0||O.call(n,e,t,Y)},I=function(Y){var O;(O=n.onDayMouseEnter)===null||O===void 0||O.call(n,e,t,Y)},R=function(Y){var O;(O=n.onDayMouseLeave)===null||O===void 0||O.call(n,e,t,Y)},k=function(Y){var O;(O=n.onDayPointerEnter)===null||O===void 0||O.call(n,e,t,Y)},U=function(Y){var O;(O=n.onDayPointerLeave)===null||O===void 0||O.call(n,e,t,Y)},X=function(Y){var O;(O=n.onDayTouchCancel)===null||O===void 0||O.call(n,e,t,Y)},re=function(Y){var O;(O=n.onDayTouchEnd)===null||O===void 0||O.call(n,e,t,Y)},$=function(Y){var O;(O=n.onDayTouchMove)===null||O===void 0||O.call(n,e,t,Y)},ne=function(Y){var O;(O=n.onDayTouchStart)===null||O===void 0||O.call(n,e,t,Y)},J=function(Y){var O;(O=n.onDayKeyUp)===null||O===void 0||O.call(n,e,t,Y)},H=function(Y){var O;switch(Y.key){case"ArrowLeft":Y.preventDefault(),Y.stopPropagation(),n.dir==="rtl"?u():d();break;case"ArrowRight":Y.preventDefault(),Y.stopPropagation(),n.dir==="rtl"?d():u();break;case"ArrowDown":Y.preventDefault(),Y.stopPropagation(),f();break;case"ArrowUp":Y.preventDefault(),Y.stopPropagation(),m();break;case"PageUp":Y.preventDefault(),Y.stopPropagation(),Y.shiftKey?v():x();break;case"PageDown":Y.preventDefault(),Y.stopPropagation(),Y.shiftKey?_():w();break;case"Home":Y.preventDefault(),Y.stopPropagation(),C();break;case"End":Y.preventDefault(),Y.stopPropagation(),P();break}(O=n.onDayKeyDown)===null||O===void 0||O.call(n,e,t,Y)},K={onClick:E,onFocus:M,onBlur:T,onKeyDown:H,onKeyUp:J,onMouseEnter:I,onMouseLeave:R,onPointerEnter:k,onPointerLeave:U,onTouchCancel:X,onTouchEnd:re,onTouchMove:$,onTouchStart:ne};return K}function nW(){var e=Ct(),t=YP(),n=Ip(),r=Lp(),i=fd(e)?t.selected:Ol(e)?n.selected:kl(e)?r.selected:void 0;return i}function rW(e){return Object.values(xr).includes(e)}function iW(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var i=e.modifiersClassNames[r];if(i)n.push(i);else if(rW(r)){var o=e.classNames["day_".concat(r)];o&&n.push(o)}}),n}function sW(e,t){var n=ze({},e.styles.day);return Object.keys(t).forEach(function(r){var i;n=ze(ze({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function oW(e,t,n){var r,i,o,l=Ct(),u=Bp(),d=J9(e,t),f=tW(e,d),m=nW(),g=!!(l.onDayClick||l.mode!=="default");p.useEffect(function(){var I;d.outside||u.focusedDay&&g&&jn(u.focusedDay,e)&&((I=n.current)===null||I===void 0||I.focus())},[u.focusedDay,e,n,g,d.outside]);var b=iW(l,d).join(" "),x=sW(l,d),w=!!(d.outside&&!l.showOutsideDays||d.hidden),v=(o=(i=l.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:T9,_=a.jsx(v,{date:e,displayMonth:t,activeModifiers:d}),C={style:x,className:b,children:_,role:"gridcell"},P=u.focusTarget&&jn(u.focusTarget,e)&&!d.outside,E=u.focusedDay&&jn(u.focusedDay,e),M=ze(ze(ze({},C),(r={disabled:d.disabled,role:"gridcell"},r["aria-selected"]=d.selected,r.tabIndex=E||P?0:-1,r)),f),T={isButton:g,isHidden:w,activeModifiers:d,selectedDays:m,buttonProps:M,divProps:C};return T}function aW(e){var t=p.useRef(null),n=oW(e.date,e.displayMonth,t);return n.isHidden?a.jsx("div",{role:"gridcell"}):n.isButton?a.jsx(_u,ze({name:"day",ref:t},n.buttonProps)):a.jsx("div",ze({},n.divProps))}function lW(e){var t=e.number,n=e.dates,r=Ct(),i=r.onWeekNumberClick,o=r.styles,l=r.classNames,u=r.locale,d=r.labels.labelWeekNumber,f=r.formatters.formatWeekNumber,m=f(Number(t),{locale:u});if(!i)return a.jsx("span",{className:l.weeknumber,style:o.weeknumber,children:m});var g=d(Number(t),{locale:u}),b=function(x){i(t,n,x)};return a.jsx(_u,{name:"week-number","aria-label":g,className:l.weeknumber,style:o.weeknumber,onClick:b,children:m})}function cW(e){var t,n,r=Ct(),i=r.styles,o=r.classNames,l=r.showWeekNumber,u=r.components,d=(t=u==null?void 0:u.Day)!==null&&t!==void 0?t:aW,f=(n=u==null?void 0:u.WeekNumber)!==null&&n!==void 0?n:lW,m;return l&&(m=a.jsx("td",{className:o.cell,style:i.cell,children:a.jsx(f,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:o.row,style:i.row,children:[m,e.dates.map(function(g){return a.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:a.jsx(d,{displayMonth:e.displayMonth,date:g})},Bz(g))})]})}function jx(e,t,n){for(var r=n!=null&&n.ISOWeek?OP(t):Op(t,n),i=n!=null&&n.ISOWeek?Fs(e):Wr(e,n),o=kr(r,i),l=[],u=0;u<=o;u++)l.push(hn(i,u));var d=l.reduce(function(f,m){var g=n!=null&&n.ISOWeek?AP(m):DP(m,n),b=f.find(function(x){return x.weekNumber===g});return b?(b.dates.push(m),f):(f.push({weekNumber:g,dates:[m]}),f)},[]);return d}function uW(e,t){var n=jx(Mn(e),Rp(e),t);if(t!=null&&t.useFixedWeeks){var r=$z(e,t);if(r<6){var i=n[n.length-1],o=i.dates[i.dates.length-1],l=Dh(o,6-r),u=jx(Dh(o,1),l,t);n.push.apply(n,u)}}return n}function dW(e){var t,n,r,i=Ct(),o=i.locale,l=i.classNames,u=i.styles,d=i.hideHead,f=i.fixedWeeks,m=i.components,g=i.weekStartsOn,b=i.firstWeekContainsDate,x=i.ISOWeek,w=uW(e.displayMonth,{useFixedWeeks:!!f,ISOWeek:x,locale:o,weekStartsOn:g,firstWeekContainsDate:b}),v=(t=m==null?void 0:m.Head)!==null&&t!==void 0?t:E9,_=(n=m==null?void 0:m.Row)!==null&&n!==void 0?n:cW,C=(r=m==null?void 0:m.Footer)!==null&&r!==void 0?r:S9;return a.jsxs("table",{id:e.id,className:l.table,style:u.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&a.jsx(v,{}),a.jsx("tbody",{className:l.tbody,style:u.tbody,children:w.map(function(P){return a.jsx(_,{displayMonth:e.displayMonth,dates:P.dates,weekNumber:P.weekNumber},P.weekNumber)})}),a.jsx(C,{displayMonth:e.displayMonth})]})}function fW(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var hW=fW()?p.useLayoutEffect:p.useEffect,Of=!1,mW=0;function Mx(){return"react-day-picker-".concat(++mW)}function pW(e){var t,n=e??(Of?Mx():null),r=p.useState(n),i=r[0],o=r[1];return hW(function(){i===null&&o(Mx())},[]),p.useEffect(function(){Of===!1&&(Of=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function gW(e){var t,n,r=Ct(),i=r.dir,o=r.classNames,l=r.styles,u=r.components,d=Al().displayMonths,f=pW(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),m=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,g=[o.month],b=l.month,x=e.displayIndex===0,w=e.displayIndex===d.length-1,v=!x&&!w;i==="rtl"&&(t=[x,w],w=t[0],x=t[1]),x&&(g.push(o.caption_start),b=ze(ze({},b),l.caption_start)),w&&(g.push(o.caption_end),b=ze(ze({},b),l.caption_end)),v&&(g.push(o.caption_between),b=ze(ze({},b),l.caption_between));var _=(n=u==null?void 0:u.Caption)!==null&&n!==void 0?n:w9;return a.jsxs("div",{className:g.join(" "),style:b,children:[a.jsx(_,{id:f,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(dW,{id:m,"aria-labelledby":f,displayMonth:e.displayMonth})]},e.displayIndex)}function vW(e){var t=Ct(),n=t.classNames,r=t.styles;return a.jsx("div",{className:n.months,style:r.months,children:e.children})}function yW(e){var t,n,r=e.initialProps,i=Ct(),o=Bp(),l=Al(),u=p.useState(!1),d=u[0],f=u[1];p.useEffect(function(){i.initialFocus&&o.focusTarget&&(d||(o.focus(o.focusTarget),f(!0)))},[i.initialFocus,d,o.focus,o.focusTarget,o]);var m=[i.classNames.root,i.className];i.numberOfMonths>1&&m.push(i.classNames.multiple_months),i.showWeekNumber&&m.push(i.classNames.with_weeknumber);var g=ze(ze({},i.styles.root),i.style),b=Object.keys(r).filter(function(w){return w.startsWith("data-")}).reduce(function(w,v){var _;return ze(ze({},w),(_={},_[v]=r[v],_))},{}),x=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:vW;return a.jsx("div",ze({className:m.join(" "),style:g,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},b,{children:a.jsx(x,{children:l.displayMonths.map(function(w,v){return a.jsx(gW,{displayIndex:v,displayMonth:w},v)})})}))}function xW(e){var t=e.children,n=Wz(e,["children"]);return a.jsx(l9,{initialProps:n,children:a.jsx(y9,{children:a.jsx(Q9,{initialProps:n,children:a.jsx(N9,{initialProps:n,children:a.jsx(R9,{initialProps:n,children:a.jsx(B9,{children:a.jsx(X9,{children:t})})})})})})})}function bW(e){return a.jsx(xW,ze({},e,{children:a.jsx(yW,{initialProps:e})}))}function KP({className:e,classNames:t,showOutsideDays:n=!0,...r}){return a.jsx(bW,{showOutsideDays:n,className:Pe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Pe(Zf({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Pe(Zf({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>a.jsx(wb,{className:"h-4 w-4"}),IconRight:({...i})=>a.jsx(Tu,{className:"h-4 w-4"})},...r})}KP.displayName="Calendar";var _W=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gi=_W.reduce((e,t)=>{const n=Fo(`Primitive.${t}`),r=p.forwardRef((i,o)=>{const{asChild:l,...u}=i,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function wW(e,t){e&&hi.flushSync(()=>e.dispatchEvent(t))}var SW="DismissableLayer",Fh="dismissableLayer.update",CW="dismissableLayer.pointerDownOutside",PW="dismissableLayer.focusOutside",Rx,qP=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),XP=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...d}=e,f=p.useContext(qP),[m,g]=p.useState(null),b=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=p.useState({}),w=Me(t,R=>g(R)),v=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),C=v.indexOf(_),P=m?v.indexOf(m):-1,E=f.layersWithOutsidePointerEventsDisabled.size>0,M=P>=C,T=NW(R=>{const k=R.target,U=[...f.branches].some(X=>X.contains(k));!M||U||(i==null||i(R),l==null||l(R),R.defaultPrevented||u==null||u())},b),I=jW(R=>{const k=R.target;[...f.branches].some(X=>X.contains(k))||(o==null||o(R),l==null||l(R),R.defaultPrevented||u==null||u())},b);return Wh(R=>{P===f.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},b),p.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Rx=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),Ox(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Rx)}},[m,b,n,f]),p.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),Ox())},[m,f]),p.useEffect(()=>{const R=()=>x({});return document.addEventListener(Fh,R),()=>document.removeEventListener(Fh,R)},[]),a.jsx(gi.div,{...d,ref:w,style:{pointerEvents:E?M?"auto":"none":void 0,...e.style},onFocusCapture:fe(e.onFocusCapture,I.onFocusCapture),onBlurCapture:fe(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:fe(e.onPointerDownCapture,T.onPointerDownCapture)})});XP.displayName=SW;var EW="DismissableLayerBranch",TW=p.forwardRef((e,t)=>{const n=p.useContext(qP),r=p.useRef(null),i=Me(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(gi.div,{...e,ref:i})});TW.displayName=EW;function NW(e,t=globalThis==null?void 0:globalThis.document){const n=Pt(e),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let d=function(){JP(CW,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function jW(e,t=globalThis==null?void 0:globalThis.document){const n=Pt(e),r=p.useRef(!1);return p.useEffect(()=>{const i=o=>{o.target&&!r.current&&JP(PW,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ox(){const e=new CustomEvent(Fh);document.dispatchEvent(e)}function JP(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?wW(i,o):i.dispatchEvent(o)}var kf="focusScope.autoFocusOnMount",Af="focusScope.autoFocusOnUnmount",kx={bubbles:!1,cancelable:!0},MW="FocusScope",QP=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=e,[u,d]=p.useState(null),f=Pt(i),m=Pt(o),g=p.useRef(null),b=Me(t,v=>d(v)),x=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(E){if(x.paused||!u)return;const M=E.target;u.contains(M)?g.current=M:ji(g.current,{select:!0})},_=function(E){if(x.paused||!u)return;const M=E.relatedTarget;M!==null&&(u.contains(M)||ji(g.current,{select:!0}))},C=function(E){if(document.activeElement===document.body)for(const T of E)T.removedNodes.length>0&&ji(u)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const P=new MutationObserver(C);return u&&P.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),P.disconnect()}}},[r,u,x.paused]),p.useEffect(()=>{if(u){Ix.add(x);const v=document.activeElement;if(!u.contains(v)){const C=new CustomEvent(kf,kx);u.addEventListener(kf,f),u.dispatchEvent(C),C.defaultPrevented||(RW(DW(eE(u)),{select:!0}),document.activeElement===v&&ji(u))}return()=>{u.removeEventListener(kf,f),setTimeout(()=>{const C=new CustomEvent(Af,kx);u.addEventListener(Af,m),u.dispatchEvent(C),C.defaultPrevented||ji(v??document.body,{select:!0}),u.removeEventListener(Af,m),Ix.remove(x)},0)}}},[u,f,m,x]);const w=p.useCallback(v=>{if(!n&&!r||x.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,C=document.activeElement;if(_&&C){const P=v.currentTarget,[E,M]=OW(P);E&&M?!v.shiftKey&&C===M?(v.preventDefault(),n&&ji(E,{select:!0})):v.shiftKey&&C===E&&(v.preventDefault(),n&&ji(M,{select:!0})):C===P&&v.preventDefault()}},[n,r,x.paused]);return a.jsx(gi.div,{tabIndex:-1,...l,ref:b,onKeyDown:w})});QP.displayName=MW;function RW(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ji(r,{select:t}),document.activeElement!==n)return}function OW(e){const t=eE(e),n=Ax(t,e),r=Ax(t.reverse(),e);return[n,r]}function eE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ax(e,t){for(const n of e)if(!kW(n,{upTo:t}))return n}function kW(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function AW(e){return e instanceof HTMLInputElement&&"select"in e}function ji(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&AW(e)&&t&&e.select()}}var Ix=IW();function IW(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Dx(e,t),e.unshift(t)},remove(t){var n;e=Dx(e,t),(n=e[0])==null||n.resume()}}}function Dx(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function DW(e){return e.filter(t=>t.tagName!=="A")}var LW="Arrow",tE=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return a.jsx(gi.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});tE.displayName=LW;var FW=tE,$p="Popper",[nE,rE]=Vt($p),[BW,iE]=nE($p),sE=e=>{const{__scopePopper:t,children:n}=e,[r,i]=p.useState(null);return a.jsx(BW,{scope:t,anchor:r,onAnchorChange:i,children:n})};sE.displayName=$p;var oE="PopperAnchor",aE=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=iE(oE,n),l=p.useRef(null),u=Me(t,l);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:a.jsx(gi.div,{...i,ref:u})});aE.displayName=oE;var zp="PopperContent",[VW,$W]=nE(zp),lE=p.forwardRef((e,t)=>{var oe,be,Ne,Ee,Re,Oe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:x="optimized",onPlaced:w,...v}=e,_=iE(zp,n),[C,P]=p.useState(null),E=Me(t,Qe=>P(Qe)),[M,T]=p.useState(null),I=Qo(M),R=(I==null?void 0:I.width)??0,k=(I==null?void 0:I.height)??0,U=r+(o!=="center"?"-"+o:""),X=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},re=Array.isArray(f)?f:[f],$=re.length>0,ne={padding:X,boundary:re.filter(WW),altBoundary:$},{refs:J,floatingStyles:H,placement:K,isPositioned:Y,middlewareData:O}=im({strategy:"fixed",placement:U,whileElementsMounted:(...Qe)=>Ou(...Qe,{animationFrame:x==="always"}),elements:{reference:_.anchor},middleware:[sm({mainAxis:i+k,alignmentAxis:l}),d&&om({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?am():void 0,...ne}),d&&lm({...ne}),cm({...ne,apply:({elements:Qe,rects:xt,availableWidth:bt,availableHeight:$t})=>{const{width:Ht,height:zt}=xt.reference,Mt=Qe.floating.style;Mt.setProperty("--radix-popper-available-width",`${bt}px`),Mt.setProperty("--radix-popper-available-height",`${$t}px`),Mt.setProperty("--radix-popper-anchor-width",`${Ht}px`),Mt.setProperty("--radix-popper-anchor-height",`${zt}px`)}}),M&&dm({element:M,padding:u}),UW({arrowWidth:R,arrowHeight:k}),b&&um({strategy:"referenceHidden",...ne})]}),[W,V]=dE(K),Q=Pt(w);jt(()=>{Y&&(Q==null||Q())},[Y,Q]);const G=(oe=O.arrow)==null?void 0:oe.x,ie=(be=O.arrow)==null?void 0:be.y,se=((Ne=O.arrow)==null?void 0:Ne.centerOffset)!==0,[le,he]=p.useState();return jt(()=>{C&&he(window.getComputedStyle(C).zIndex)},[C]),a.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:Y?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(Ee=O.transformOrigin)==null?void 0:Ee.x,(Re=O.transformOrigin)==null?void 0:Re.y].join(" "),...((Oe=O.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(VW,{scope:n,placedSide:W,onArrowChange:T,arrowX:G,arrowY:ie,shouldHideArrow:se,children:a.jsx(gi.div,{"data-side":W,"data-align":V,...v,ref:E,style:{...v.style,animation:Y?void 0:"none"}})})})});lE.displayName=zp;var cE="PopperArrow",zW={top:"bottom",right:"left",bottom:"top",left:"right"},uE=p.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=$W(cE,r),l=zW[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(FW,{...i,ref:n,style:{...i.style,display:"block"}})})});uE.displayName=cE;function WW(e){return e!==null}var UW=e=>({name:"transformOrigin",options:e,fn(t){var _,C,P;const{placement:n,rects:r,middlewareData:i}=t,l=((_=i.arrow)==null?void 0:_.centerOffset)!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,m]=dE(n),g={start:"0%",center:"50%",end:"100%"}[m],b=(((C=i.arrow)==null?void 0:C.x)??0)+u/2,x=(((P=i.arrow)==null?void 0:P.y)??0)+d/2;let w="",v="";return f==="bottom"?(w=l?g:`${b}px`,v=`${-d}px`):f==="top"?(w=l?g:`${b}px`,v=`${r.floating.height+d}px`):f==="right"?(w=`${-d}px`,v=l?g:`${x}px`):f==="left"&&(w=`${r.floating.width+d}px`,v=l?g:`${x}px`),{data:{x:w,y:v}}}});function dE(e){const[t,n="center"]=e.split("-");return[t,n]}var HW=sE,fE=aE,ZW=lE,GW=uE,YW="Portal",hE=p.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[i,o]=p.useState(!1);jt(()=>o(!0),[]);const l=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?wu.createPortal(a.jsx(gi.div,{...r,ref:t}),l):null});hE.displayName=YW;var hd="Popover",[mE,YU]=Vt(hd,[rE]),Il=rE(),[KW,Xi]=mE(hd),pE=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:l=!1}=e,u=Il(t),d=p.useRef(null),[f,m]=p.useState(!1),[g,b]=er({prop:r,defaultProp:i??!1,onChange:o,caller:hd});return a.jsx(HW,{...u,children:a.jsx(KW,{scope:t,contentId:Xn(),triggerRef:d,open:g,onOpenChange:b,onOpenToggle:p.useCallback(()=>b(x=>!x),[b]),hasCustomAnchor:f,onCustomAnchorAdd:p.useCallback(()=>m(!0),[]),onCustomAnchorRemove:p.useCallback(()=>m(!1),[]),modal:l,children:n})})};pE.displayName=hd;var gE="PopoverAnchor",qW=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Xi(gE,n),o=Il(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:u}=i;return p.useEffect(()=>(l(),()=>u()),[l,u]),a.jsx(fE,{...o,...r,ref:t})});qW.displayName=gE;var vE="PopoverTrigger",yE=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Xi(vE,n),o=Il(n),l=Me(t,i.triggerRef),u=a.jsx(gi.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":SE(i.open),...r,ref:l,onClick:fe(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?u:a.jsx(fE,{asChild:!0,...o,children:u})});yE.displayName=vE;var Wp="PopoverPortal",[XW,JW]=mE(Wp,{forceMount:void 0}),xE=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=Xi(Wp,t);return a.jsx(XW,{scope:t,forceMount:n,children:a.jsx(yn,{present:n||o.open,children:a.jsx(hE,{asChild:!0,container:i,children:r})})})};xE.displayName=Wp;var qo="PopoverContent",bE=p.forwardRef((e,t)=>{const n=JW(qo,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=Xi(qo,e.__scopePopover);return a.jsx(yn,{present:r||o.open,children:o.modal?a.jsx(eU,{...i,ref:t}):a.jsx(tU,{...i,ref:t})})});bE.displayName=qo;var QW=Fo("PopoverContent.RemoveScroll"),eU=p.forwardRef((e,t)=>{const n=Xi(qo,e.__scopePopover),r=p.useRef(null),i=Me(t,r),o=p.useRef(!1);return p.useEffect(()=>{const l=r.current;if(l)return Ju(l)},[]),a.jsx(Tl,{as:QW,allowPinchZoom:!0,children:a.jsx(_E,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(e.onCloseAutoFocus,l=>{var u;l.preventDefault(),o.current||(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:fe(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,f=u.button===2||d;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:fe(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),tU=p.forwardRef((e,t)=>{const n=Xi(qo,e.__scopePopover),r=p.useRef(!1),i=p.useRef(!1);return a.jsx(_E,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((f=n.triggerRef.current)==null?void 0:f.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),_E=p.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,...g}=e,b=Xi(qo,n),x=Il(n);return Xu(),a.jsx(QP,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:a.jsx(XP,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>b.onOpenChange(!1),children:a.jsx(ZW,{"data-state":SE(b.open),role:"dialog",id:b.contentId,...x,...g,ref:t,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),wE="PopoverClose",nU=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Xi(wE,n);return a.jsx(gi.button,{type:"button",...r,ref:t,onClick:fe(e.onClick,()=>i.onOpenChange(!1))})});nU.displayName=wE;var rU="PopoverArrow",iU=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Il(n);return a.jsx(GW,{...i,...r,ref:t})});iU.displayName=rU;function SE(e){return e?"open":"closed"}var sU=pE,oU=yE,aU=xE,CE=bE;const lU=sU,cU=oU,PE=p.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>a.jsx(aU,{children:a.jsx(CE,{ref:i,align:t,sideOffset:n,className:Pe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));PE.displayName=CE.displayName;function uU({date:e,setDate:t,placeholder:n="Pick a date"}){return a.jsxs(lU,{children:[a.jsx(cU,{asChild:!0,children:a.jsxs(Ae,{variant:"outline",className:Pe("w-full justify-start text-left font-normal",!e&&"text-muted-foreground"),children:[a.jsx(Yh,{className:"mr-2 h-4 w-4"}),e?qi(e,"PPP"):a.jsx("span",{children:n})]})}),a.jsx(PE,{className:"w-auto p-0",align:"start",children:a.jsx(KP,{mode:"single",selected:e,onSelect:t,initialFocus:!0})})]})}const EE=p.forwardRef(({...e},t)=>a.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));EE.displayName="Breadcrumb";const dU=p.forwardRef(({className:e,...t},n)=>a.jsx("ol",{ref:n,className:Pe("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));dU.displayName="BreadcrumbList";const fU=p.forwardRef(({className:e,...t},n)=>a.jsx("li",{ref:n,className:Pe("inline-flex items-center gap-1.5",e),...t}));fU.displayName="BreadcrumbItem";const hU=p.forwardRef(({asChild:e,className:t,...n},r)=>{const i=e?Yx:"a";return a.jsx(i,{ref:r,className:Pe("transition-colors hover:text-foreground",t),...n})});hU.displayName="BreadcrumbLink";const mU=p.forwardRef(({className:e,...t},n)=>a.jsx("span",{ref:n,role:"link","aria-disabled":"true","aria-current":"page",className:Pe("font-normal text-foreground",e),...t}));mU.displayName="BreadcrumbPage";function Lx(){var H,K,Y;const[e,t]=p.useState([]),[n,r]=p.useState(null),[i,o]=p.useState(null),[l,u]=p.useState(new Set),[d,f]=p.useState({reporterName:"",dateRange:null,showUnsyncedOnly:!1}),[m,g]=p.useState(null),[b,x]=p.useState(!0),[w,v]=p.useState(1),[_,C]=p.useState(1),[P,E]=p.useState(0),[M,T]=p.useState(10),[I,R]=p.useState(null);tr(),p.useEffect(()=>{k()},[w,M,d,m]);const k=async()=>{try{x(!0);let O=Ce.from("activity_reports").select(`
          *,
          users (
            first_name,
            last_name
          ),
          activity_observation (
            id
          )
        `,{count:"exact"});d.reporterName&&(O=O.or(`users.first_name.ilike.%${d.reporterName}%,users.last_name.ilike.%${d.reporterName}%`)),d.dateRange&&(O=O.gte("created_at",d.dateRange.toISOString())),m?O=O.order(m.key,{ascending:m.direction==="asc"}):O=O.order("created_at",{ascending:!1}),O=O.range((w-1)*M,w*M-1);const{data:W,error:V,count:Q}=await O;if(V)throw console.error("Query error:",V),V;if(d.showUnsyncedOnly&&W){const{data:G}=await Ce.from("activity_observation").select("activity_report_id").in("activity_report_id",W.map(le=>le.id)),ie=new Set((G==null?void 0:G.map(le=>le.activity_report_id))||[]),se=W.filter(le=>!ie.has(le.id));t(se),E(se.length),C(Math.ceil(se.length/M))}else t(W||[]),E(Q||0),C(Math.ceil((Q||0)/M))}catch(O){console.error("Error fetching observations:",O),ye.error("Failed to fetch observations")}finally{x(!1)}},U=async()=>{try{const{data:O,error:W}=await Ce.from("activity_reports").select("*").order("created_at",{ascending:!1});if(W)throw W;const Q=[["Date/Time","Division","Range","Beat","Total Elephants","Damage Done","Reporter Name","Email","Contact"].join(","),...O.map(le=>{var he;return[new Date(le.created_at).toLocaleString(),le.division_name,le.range_name,le.beat_name,le.total_elephants,le.damage_done,(he=le.users)==null?void 0:he.full_name,le.email,le.reporter_mobile].join(",")})].join(`
`),G=new Blob([Q],{type:"text/csv;charset=utf-8;"}),ie=document.createElement("a"),se=URL.createObjectURL(G);ie.setAttribute("href",se),ie.setAttribute("download",`activity_reports_${new Date().toISOString()}.csv`),ie.style.visibility="hidden",document.body.appendChild(ie),ie.click(),document.body.removeChild(ie)}catch(O){console.error("Error exporting data:",O),ye.error("Failed to export data")}},X=async O=>{try{const{error:W}=await Ce.from("activity_reports").delete().eq("id",O);if(W)throw W;t(e.filter(V=>V.id!==O)),ye.success("Report deleted successfully")}catch(W){console.error("Error deleting report:",W),ye.error("Failed to delete report")}},re=async()=>{if(l.size===0){ye.warning("Please select reports to delete");return}try{const{error:O}=await Ce.from("activity_reports").delete().in("id",Array.from(l));if(O)throw O;t(e.filter(W=>!l.has(W.id))),u(new Set),ye.success("Selected reports deleted successfully")}catch(O){console.error("Error deleting reports:",O),ye.error("Failed to delete reports")}},$=O=>{g(W=>({key:O,direction:(W==null?void 0:W.key)===O&&W.direction==="asc"?"desc":"asc"}))},ne=async(O,W)=>{try{const{error:V}=await Ce.from("activity_reports").update(W).eq("id",O);if(V)throw V;t(e.map(Q=>Q.id===O?{...Q,...W}:Q)),o(null),ye.success("Report updated successfully")}catch(V){console.error("Error updating report:",V),ye.error("Failed to update report")}},J=async O=>{try{R(O);const{data:W,error:V}=await Ce.from("activity_observation").select("*").eq("activity_report_id",O);if(V)throw console.error("Error checking existing observation:",V),V;if(W&&W.length>0){ye.success("Report already synced"),await k();return}const{data:Q,error:G}=await Ce.rpc("process_new_activity_reports",{p_report_id:O});if(G)throw console.error("Error processing report:",G),G;if(!Q)throw new Error("No response from server");if(Q.status==="error")throw console.error("Processing error:",Q.error,Q.detail),new Error(Q.error||Q.message||"Failed to process report");if(Q.status!=="success")throw new Error(Q.message||"Unexpected response from server");const{data:ie,error:se}=await Ce.from("activity_observation").select("*").eq("activity_report_id",O);if(se)throw console.error("Error verifying observation:",se),se;if(!ie||ie.length===0)throw new Error("Failed to verify observation creation");ye.success(Q.message||"Report synced successfully"),await k()}catch(W){console.error("Error syncing report:",W),ye.error(W.message||"Failed to sync report")}finally{R(null)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 py-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx(EE,{items:[{label:"Admin",href:"/admin"},{label:"Observation & Report Management"}]}),a.jsx("h1",{className:"text-3xl font-bold mb-8 text-center bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Observation & Report Management"}),a.jsxs(Ze,{className:"border-blue-100 shadow-lg",children:[a.jsx(ht,{className:"bg-gradient-to-r from-blue-50 to-blue-100",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsx(mt,{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"User-Submitted Reports"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ae,{variant:"outline",onClick:()=>f(O=>({...O,showUnsyncedOnly:!O.showUnsyncedOnly})),className:`border-blue-200 hover:bg-blue-50 hover:text-blue-600 ${d.showUnsyncedOnly?"bg-red-100":""}`,children:d.showUnsyncedOnly?"Show All":"Show Unsynced Only"}),a.jsxs(Ae,{variant:"outline",onClick:U,className:"flex items-center gap-2 border-blue-200 hover:bg-blue-50 hover:text-blue-600",children:[a.jsx(YN,{className:"w-4 h-4"}),"Export CSV"]}),a.jsx(Ae,{variant:"destructive",onClick:re,disabled:l.size===0,className:"bg-red-500 hover:bg-red-600",children:"Delete Selected"})]})]})}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(dt,{placeholder:"Search by reporter name...",value:d.reporterName,onChange:O=>f(W=>({...W,reporterName:O.target.value})),className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(uU,{selected:d.dateRange,onChange:O=>f(W=>({...W,dateRange:O})),placeholderText:"Filter by date...",className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"}),a.jsxs(Di,{value:M.toString(),onValueChange:O=>T(Number(O)),children:[a.jsx(ri,{className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500",children:a.jsx(Li,{placeholder:"Rows per page"})}),a.jsxs(ii,{children:[a.jsx(Lt,{value:"10",children:"10 rows"}),a.jsx(Lt,{value:"25",children:"25 rows"}),a.jsx(Lt,{value:"50",children:"50 rows"}),a.jsx(Lt,{value:"100",children:"100 rows"})]})]})]}),a.jsxs("div",{className:"relative",children:[b&&a.jsx("div",{className:"absolute inset-0 bg-white/50 backdrop-blur-sm flex items-center justify-center z-10",children:a.jsx(wo,{className:"w-8 h-8 animate-spin text-blue-600"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Es,{children:[a.jsx(Ts,{children:a.jsxs(Fn,{className:"bg-blue-50",children:[a.jsx(vt,{className:"w-[50px]",children:a.jsx(gu,{checked:l.size===e.length,onCheckedChange:O=>{u(O?new Set(e.map(W=>W.id)):new Set)},className:"border-blue-200"})}),a.jsxs(vt,{className:"cursor-pointer text-blue-900",onClick:()=>$("created_at"),children:["Date/Time ",(m==null?void 0:m.key)==="created_at"&&(m.direction==="asc"?"":"")]}),a.jsx(vt,{className:"text-blue-900",children:"Reporter"}),a.jsx(vt,{className:"text-blue-900",children:"Details"}),a.jsx(vt,{className:"text-blue-900",children:"Actions"})]})}),a.jsx(Ns,{children:e.map(O=>{var V,Q;const W=O.activity_observation&&O.activity_observation.length>0;return a.jsxs(Fn,{className:"hover:bg-blue-50/50 transition-colors",children:[a.jsx(yt,{children:a.jsx(gu,{checked:l.has(O.id),onCheckedChange:G=>{const ie=new Set(l);G?ie.add(O.id):ie.delete(O.id),u(ie)},className:"border-blue-200"})}),a.jsx(yt,{children:new Date(O.created_at).toLocaleString()}),a.jsx(yt,{children:`${((V=O.users)==null?void 0:V.first_name)||""} ${((Q=O.users)==null?void 0:Q.last_name)||""}`.trim()||"Unknown"}),a.jsx(yt,{children:O.total_elephants>0?`${O.total_elephants} elephants`:O.damage_description||"No details"}),a.jsx(yt,{children:a.jsxs("div",{className:"flex gap-2",children:[W?a.jsxs(Ae,{size:"sm",variant:"default",className:"flex items-center gap-1 bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700 text-white",disabled:!0,children:[a.jsx(Dg,{className:"w-4 h-4"}),"Synced"]}):a.jsx(Ae,{size:"sm",variant:"destructive",onClick:()=>J(O.id),disabled:I===O.id,className:"flex items-center gap-1 bg-red-500 hover:bg-red-600",children:I===O.id?a.jsxs(a.Fragment,{children:[a.jsx(Dg,{className:"w-4 h-4"}),"Syncing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Vo,{className:"w-4 h-4"}),"Sync Now"]})}),a.jsx(Ae,{size:"sm",variant:"outline",onClick:()=>r(O),className:"border-blue-200 hover:bg-blue-50 hover:text-blue-600",children:"View"}),a.jsx(Ae,{size:"sm",variant:"outline",onClick:()=>o(O),className:"border-blue-200 hover:bg-blue-50 hover:text-blue-600",children:"Edit"}),a.jsx(Ae,{size:"sm",variant:"destructive",onClick:()=>X(O.id),className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})})]},O.id)})})]})}),a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-blue-900",children:["Showing ",(w-1)*M+1," to ",Math.min(w*M,P)," of ",P," records"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>v(O=>Math.max(O-1,1)),disabled:w===1,className:"border-blue-200 hover:bg-blue-50 hover:text-blue-600",children:a.jsx(wb,{className:"w-4 h-4"})}),a.jsxs("span",{className:"text-sm text-blue-900",children:["Page ",w," of ",_]}),a.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>v(O=>Math.min(O+1,_)),disabled:w===_,className:"border-blue-200 hover:bg-blue-50 hover:text-blue-600",children:a.jsx(Tu,{className:"w-4 h-4"})})]})]})]})]})]}),n&&a.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 w-full max-w-2xl border border-blue-100",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"View Report"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Date:"})," ",new Date(n.created_at).toLocaleDateString()]}),a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Time:"})," ",new Date(n.created_at).toLocaleTimeString()]}),a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Reporter:"})," ",`${((H=n.users)==null?void 0:H.first_name)||""} ${((K=n.users)==null?void 0:K.last_name)||""}`.trim()||"Unknown"]}),n.reporter_mobile&&a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Contact:"})," ",n.reporter_mobile]}),n.email&&a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Email:"})," ",n.email]}),n.associated_division&&a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Division:"})," ",n.associated_division]}),n.associated_range&&a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Range:"})," ",n.associated_range]}),n.associated_beat&&a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Beat:"})," ",n.associated_beat]})]}),a.jsxs("div",{children:[n.total_elephants>0&&a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Total Elephants:"})," ",n.total_elephants]}),n.damage_done&&a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Damage:"})," ",n.damage_done]}),n.damage_description&&a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Description:"})," ",n.damage_description]}),n.latitude&&a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Latitude:"})," ",n.latitude]}),n.longitude&&a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Longitude:"})," ",n.longitude]}),((Y=n.activity_observation)==null?void 0:Y[0])&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"mt-4 font-semibold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Observation Details:"}),n.activity_observation[0].total_elephants>0&&a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Observed Elephants:"})," ",n.activity_observation[0].total_elephants]}),n.activity_observation[0].adult_male_count>0&&a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Adult Males:"})," ",n.activity_observation[0].adult_male_count]}),n.activity_observation[0].adult_female_count>0&&a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Adult Females:"})," ",n.activity_observation[0].adult_female_count]}),n.activity_observation[0].sub_adult_male_count>0&&a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Sub-adult Males:"})," ",n.activity_observation[0].sub_adult_male_count]}),n.activity_observation[0].sub_adult_female_count>0&&a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Sub-adult Females:"})," ",n.activity_observation[0].sub_adult_female_count]}),n.activity_observation[0].calf_count>0&&a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Calves:"})," ",n.activity_observation[0].calf_count]}),n.activity_observation[0].damage_done&&a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Observed Damage:"})," ",n.activity_observation[0].damage_done]}),n.activity_observation[0].damage_description&&a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Damage Description:"})," ",n.activity_observation[0].damage_description]}),n.activity_observation[0].created_at&&a.jsxs("p",{className:"text-blue-900",children:[a.jsx("strong",{children:"Observation Date:"})," ",new Date(n.activity_observation[0].created_at).toLocaleString()]})]})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx(Ae,{variant:"outline",onClick:()=>r(null),className:"border-blue-200 hover:bg-blue-50 hover:text-blue-600",children:"Close"})})]})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 w-full max-w-2xl border border-blue-100",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Edit Report"}),a.jsxs("form",{className:"space-y-4",onSubmit:O=>{O.preventDefault();const W=new FormData(O.currentTarget);ne(i.id,{total_elephants:parseInt(W.get("total_elephants")),damage_done:W.get("damage_done"),damage_description:W.get("damage_description")})},children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-blue-900",children:"Total Elephants"}),a.jsx(dt,{name:"total_elephants",type:"number",defaultValue:i.total_elephants,className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-blue-900",children:"Damage Done"}),a.jsx(dt,{name:"damage_done",defaultValue:i.damage_done,className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium mb-1 text-blue-900",children:"Description"}),a.jsx(dt,{name:"damage_description",defaultValue:i.damage_description||"",className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx(Ae,{type:"button",variant:"outline",onClick:()=>o(null),className:"border-blue-200 hover:bg-blue-50 hover:text-blue-600",children:"Cancel"}),a.jsx(Ae,{type:"submit",className:"bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700 text-white shadow-sm",children:"Save Changes"})]})]})]})})]})})}var md="Switch",[pU,KU]=Vt(md),[gU,vU]=pU(md),TE=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:l,disabled:u,value:d="on",onCheckedChange:f,form:m,...g}=e,[b,x]=p.useState(null),w=Me(t,E=>x(E)),v=p.useRef(!1),_=b?m||!!b.closest("form"):!0,[C,P]=er({prop:i,defaultProp:o??!1,onChange:f,caller:md});return a.jsxs(gU,{scope:n,checked:C,disabled:u,children:[a.jsx(Le.button,{type:"button",role:"switch","aria-checked":C,"aria-required":l,"data-state":RE(C),"data-disabled":u?"":void 0,disabled:u,value:d,...g,ref:w,onClick:fe(e.onClick,E=>{P(M=>!M),_&&(v.current=E.isPropagationStopped(),v.current||E.stopPropagation())})}),_&&a.jsx(ME,{control:b,bubbles:!v.current,name:r,value:d,checked:C,required:l,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});TE.displayName=md;var NE="SwitchThumb",jE=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=vU(NE,n);return a.jsx(Le.span,{"data-state":RE(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});jE.displayName=NE;var yU="SwitchBubbleInput",ME=p.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},o)=>{const l=p.useRef(null),u=Me(l,o),d=Wu(n),f=Qo(t);return p.useEffect(()=>{const m=l.current;if(!m)return;const g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&x){const w=new Event("click",{bubbles:r});x.call(m,n),m.dispatchEvent(w)}},[d,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ME.displayName=yU;function RE(e){return e?"checked":"unchecked"}var OE=TE,xU=jE;const js=p.forwardRef(({className:e,...t},n)=>a.jsx(OE,{className:Pe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:a.jsx(xU,{className:Pe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));js.displayName=OE.displayName;async function bU(){try{const[{data:e},{data:t},{data:n},{data:r},{data:i},{data:o},{data:l}]=await Promise.all([Ce.from("v_admin_user_stats").select("*").single(),Ce.from("v_admin_activity_stats").select("*").single(),Ce.from("v_admin_system_health").select("*").single(),Ce.from("v_admin_user_activity_timeline").select("*"),Ce.from("v_admin_record_creation_timeline").select("*"),Ce.from("v_admin_resource_utilization").select("*"),Ce.from("v_admin_recent_activity").select("*")]);return{userStats:e||{total_users:0,active_users:0,daily_active_users:0,total_admins:0,total_moderators:0,total_regular_users:0,new_users_7d:0,new_users_30d:0},activityStats:t||{total_records:0,records_24h:0,records_7d:0,records_30d:0,active_users_24h:0,active_users_7d:0,active_users_30d:0},systemHealth:n||{errors_24h:0,errors_7d:0,failed_logins_24h:0,failed_logins_7d:0,system_failures_24h:0,system_failures_7d:0},userActivityTimeline:r||[],recordCreationTimeline:i||[],resourceUtilization:o||[],recentActivity:l||[]}}catch(e){throw console.error("Error fetching admin statistics:",e),e}}const Ec=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];function Fx(){const e=tr(),[t,n]=p.useState("7d"),[r,i]=p.useState(!1),[o,l]=p.useState(!0),[u,d]=p.useState(null),[f,m]=p.useState(!1),g=async()=>{try{m(!0);const v=await bU();d(v)}catch(v){console.error("Error fetching statistics:",v),ye.error("Failed to fetch statistics")}finally{l(!1),m(!1)}};if(p.useEffect(()=>{g()},[]),p.useEffect(()=>{let v;return r&&(v=setInterval(g,6e4)),()=>{v&&clearInterval(v)}},[r]),o)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx(wo,{className:"w-8 h-8 animate-spin text-green-800"})});if(!u)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to load statistics"}),a.jsx(Ae,{onClick:g,children:"Try Again"})]})});u.userActivityTimeline.map(v=>({time:new Date(v.hour).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),activity:v.activity_count,users:v.unique_users})).reverse();const b=u.recordCreationTimeline.map(v=>({date:new Date(v.day).toLocaleDateString(),records:v.record_count,users:v.unique_users}));u.resourceUtilization.map(v=>({time:new Date(v.hour).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),requests:v.request_count,errors:v.error_count})).reverse();const w=[{name:"Admins",value:u.userStats.total_admins},{name:"Moderators",value:u.userStats.total_moderators},{name:"Regular Users",value:u.userStats.total_regular_users}].filter(v=>v.value>0);return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 py-10",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("nav",{className:"mb-6","aria-label":"Breadcrumb",children:a.jsxs("ol",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[a.jsx("li",{children:a.jsx("button",{className:"hover:underline text-green-800 font-medium",onClick:()=>e("/admin"),children:"Admin Panel"})}),a.jsx("li",{children:a.jsx("span",{className:"mx-1",children:"/"})}),a.jsx("li",{className:"text-gray-600",children:"Admin Dashboard & Statistics"})]})}),a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard & Statistics"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("select",{className:"border rounded px-2 py-1",value:t,onChange:v=>n(v.target.value),children:[a.jsx("option",{value:"1d",children:"Last 24 hours"}),a.jsx("option",{value:"7d",children:"Last 7 days"}),a.jsx("option",{value:"30d",children:"Last 30 days"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Auto Refresh"}),a.jsx(js,{checked:r,onCheckedChange:i})]}),a.jsxs(Ae,{variant:"outline",size:"sm",onClick:g,disabled:f,children:[a.jsx(Vo,{className:`w-4 h-4 mr-2 ${f?"animate-spin":""}`}),"Refresh"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 mb-10",children:[a.jsx(Ze,{className:"bg-white shadow-sm hover:shadow-md transition",children:a.jsxs(Ke,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Total Users"}),a.jsx("div",{className:"text-2xl font-bold text-green-800",children:u.userStats.total_users}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["+",u.userStats.new_users_7d," this week"]})]})}),a.jsx(Ze,{className:"bg-white shadow-sm hover:shadow-md transition",children:a.jsxs(Ke,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Active Users"}),a.jsx("div",{className:"text-2xl font-bold text-blue-800",children:u.userStats.active_users}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[u.userStats.daily_active_users," today"]})]})}),a.jsx(Ze,{className:"bg-white shadow-sm hover:shadow-md transition",children:a.jsxs(Ke,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Total Records"}),a.jsx("div",{className:"text-2xl font-bold text-purple-800",children:u.activityStats.total_records}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["+",u.activityStats.records_24h," today"]})]})}),a.jsx(Ze,{className:"bg-white shadow-sm hover:shadow-md transition",children:a.jsxs(Ke,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Daily Active Users"}),a.jsx("div",{className:"text-2xl font-bold text-orange-800",children:u.userStats.daily_active_users}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[u.activityStats.active_users_24h," in last 24h"]})]})}),a.jsx(Ze,{className:"bg-white shadow-sm hover:shadow-md transition",children:a.jsxs(Ke,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"System Errors"}),a.jsx("div",{className:"text-2xl font-bold text-red-800",children:u.systemHealth.errors_24h}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[u.systemHealth.errors_7d," in last 7 days"]})]})}),a.jsx(Ze,{className:"bg-white shadow-sm hover:shadow-md transition",children:a.jsxs(Ke,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Failed Logins"}),a.jsx("div",{className:"text-2xl font-bold text-yellow-800",children:u.systemHealth.failed_logins_24h}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[u.systemHealth.failed_logins_7d," in last 7 days"]})]})}),a.jsx(Ze,{className:"bg-white shadow-sm hover:shadow-md transition",children:a.jsxs(Ke,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"System Uptime"}),a.jsx("div",{className:"text-2xl font-bold text-green-800",children:"99.98%"}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Last 30 days"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[a.jsxs(Ze,{className:"shadow-lg border-0 bg-white",children:[a.jsx(ht,{className:"pb-2",children:a.jsx(mt,{className:"text-lg font-semibold text-gray-900",children:"User Distribution"})}),a.jsx(Ke,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center h-80",children:[a.jsx(ms,{width:"100%",height:260,children:a.jsx(LT,{children:a.jsx(FT,{data:w,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:4,dataKey:"value",nameKey:"name",label:({name:v,percent:_})=>`${(_*100).toFixed(0)}%`,children:w.map((v,_)=>a.jsx(BT,{fill:Ec[_%Ec.length]},`cell-${_}`))})})}),a.jsx("div",{className:"flex gap-6 mt-6",children:w.map((v,_)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:Ec[_%Ec.length]}}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:v.name}),a.jsxs("span",{className:"text-xs text-gray-500",children:["(",v.value,")"]})]},v.name))})]})})]}),a.jsxs(Ze,{children:[a.jsx(ht,{children:a.jsx(mt,{children:"Record Creation Timeline"})}),a.jsx(Ke,{children:a.jsx("div",{className:"h-80",children:a.jsx(ms,{width:"100%",height:"100%",children:a.jsxs(lo,{data:b,children:[a.jsx(co,{strokeDasharray:"3 3"}),a.jsx(uo,{dataKey:"date"}),a.jsx(fo,{}),a.jsx(ho,{}),a.jsx(ps,{dataKey:"records",fill:"#8884d8"}),a.jsx(ps,{dataKey:"users",fill:"#82ca9d"})]})})})})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Ae,{variant:"outline",onClick:()=>{ye.info("Export functionality coming soon")},children:"Export Dashboard Data"})})]})})}function _U(){const[e,t]=p.useState(!1),[n,r]=p.useState(!0),[i,o]=p.useState("UTC"),[l,u]=p.useState("en"),[d,f]=p.useState(30),[m,g]=p.useState(""),b=tr(),x=[{id:1,user:"admin@example.com",action:"Updated settings",time:"2024-06-01 10:00",ip:"192.168.1.1"},{id:2,user:"user1@example.com",action:"Logged in",time:"2024-06-01 09:30",ip:"192.168.1.2"}];return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 py-10",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("nav",{className:"mb-6","aria-label":"Breadcrumb",children:a.jsxs("ol",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[a.jsx("li",{children:a.jsx("button",{className:"hover:underline text-green-800 font-medium",onClick:()=>b("/admin"),children:"Admin Panel"})}),a.jsx("li",{children:a.jsx("span",{className:"mx-1",children:"/"})}),a.jsx("li",{className:"text-gray-600",children:"System Settings"})]})}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight mb-3",children:"System Settings"}),a.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Configure system settings, notifications, and maintenance options"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-7xl mx-auto",children:[a.jsxs(Ze,{className:"bg-white shadow-lg",children:[a.jsxs(ht,{className:"flex flex-row items-center gap-4 pb-4",children:[a.jsx("div",{className:"bg-blue-100 p-3 rounded-xl",children:a.jsx(Pb,{className:"h-6 w-6 text-blue-600"})}),a.jsx(mt,{className:"text-xl font-semibold text-gray-900",children:"General Settings"})]}),a.jsxs(Ke,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Maintenance Mode"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Enable maintenance mode for system updates"})]}),a.jsx(js,{checked:e,onCheckedChange:t})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Email Notifications"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Send email notifications for important events"})]}),a.jsx(js,{checked:n,onCheckedChange:r})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Session Timeout (minutes)"}),a.jsx(dt,{type:"number",value:d,onChange:w=>f(Number(w.target.value)),className:"max-w-[200px]"})]})]})]}),a.jsxs(Ze,{className:"bg-white shadow-lg",children:[a.jsxs(ht,{className:"flex flex-row items-center gap-4 pb-4",children:[a.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:a.jsx(KN,{className:"h-6 w-6 text-green-600"})}),a.jsx(mt,{className:"text-xl font-semibold text-gray-900",children:"Regional Settings"})]}),a.jsxs(Ke,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Timezone"}),a.jsxs(Di,{value:i,onValueChange:o,children:[a.jsx(ri,{className:"max-w-[200px]",children:a.jsx(Li,{placeholder:"Select timezone"})}),a.jsxs(ii,{children:[a.jsx(Lt,{value:"UTC",children:"UTC"}),a.jsx(Lt,{value:"IST",children:"IST"}),a.jsx(Lt,{value:"EST",children:"EST"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Language"}),a.jsxs(Di,{value:l,onValueChange:u,children:[a.jsx(ri,{className:"max-w-[200px]",children:a.jsx(Li,{placeholder:"Select language"})}),a.jsxs(ii,{children:[a.jsx(Lt,{value:"en",children:"English"}),a.jsx(Lt,{value:"hi",children:"Hindi"}),a.jsx(Lt,{value:"mr",children:"Marathi"})]})]})]})]})]}),a.jsxs(Ze,{className:"bg-white shadow-lg",children:[a.jsxs(ht,{className:"flex flex-row items-center gap-4 pb-4",children:[a.jsx("div",{className:"bg-red-100 p-3 rounded-xl",children:a.jsx(Eb,{className:"h-6 w-6 text-red-600"})}),a.jsx(mt,{className:"text-xl font-semibold text-gray-900",children:"Security Settings"})]}),a.jsx(Ke,{className:"space-y-6",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Password Policy"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",className:"rounded border-gray-300",checked:!0,readOnly:!0}),a.jsx("span",{className:"text-sm text-gray-600",children:"Require strong passwords"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",className:"rounded border-gray-300",checked:!0,readOnly:!0}),a.jsx("span",{className:"text-sm text-gray-600",children:"Enable two-factor authentication"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",className:"rounded border-gray-300",checked:!0,readOnly:!0}),a.jsx("span",{className:"text-sm text-gray-600",children:"Regular password rotation"})]})]})]})})]}),a.jsxs(Ze,{className:"bg-white shadow-lg",children:[a.jsxs(ht,{className:"flex flex-row items-center gap-4 pb-4",children:[a.jsx("div",{className:"bg-purple-100 p-3 rounded-xl",children:a.jsx(Hc,{className:"h-6 w-6 text-purple-600"})}),a.jsx(mt,{className:"text-xl font-semibold text-gray-900",children:"System Logs"})]}),a.jsx(Ke,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(dt,{placeholder:"Search logs...",value:m,onChange:w=>g(w.target.value),className:"max-w-[300px]"}),a.jsx(Ae,{variant:"outline",children:"Filter"})]}),a.jsx("div",{className:"border rounded-lg",children:a.jsxs(Es,{children:[a.jsx(Ts,{children:a.jsxs(Fn,{children:[a.jsx(vt,{children:"Time"}),a.jsx(vt,{children:"Event"}),a.jsx(vt,{children:"User"}),a.jsx(vt,{children:"Status"})]})}),a.jsx(Ns,{children:x.map(w=>a.jsxs(Fn,{children:[a.jsx(yt,{className:"text-sm",children:w.time}),a.jsx(yt,{className:"text-sm",children:w.action}),a.jsx(yt,{className:"text-sm",children:w.user}),a.jsx(yt,{children:a.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:"Success"})})]},w.id))})]})})]})})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 mt-8 max-w-7xl mx-auto",children:[a.jsx(Ae,{variant:"outline",children:"Reset to Default"}),a.jsx(Ae,{children:"Save Changes"})]})]})})}async function wU(){try{const{data:e,error:t}=await Ce.from("error_logs").select("*").order("time",{ascending:!1});return t?(console.error("Error fetching error logs:",t),{data:[]}):{data:e}}catch(e){return console.error("Error fetching error logs:",e),{data:[]}}}async function SU(){try{const{data:e,error:t}=await Ce.from("login_logs").select("*").order("time",{ascending:!1});return t?(console.error("Error fetching login logs:",t),{data:[]}):{data:e}}catch(e){return console.error("Error fetching login logs:",e),{data:[]}}}async function CU(){try{const{data:e,error:t}=await Ce.from("system_logs").select("*").order("time",{ascending:!1});return t?(console.error("Error fetching system logs:",t),{data:[]}):{data:e}}catch(e){return console.error("Error fetching system logs:",e),{data:[]}}}function PU(){const[e,t]=p.useState([]),[n,r]=p.useState([]),[i,o]=p.useState([]),[l,u]=p.useState(""),[d,f]=p.useState("errors"),[m,g]=p.useState(!0),b=tr(),x=p.useCallback(async()=>{g(!0);const[w,v,_]=await Promise.all([wU(),SU(),CU()]);t(w.data||[]),o(v.data||[]),r(_.data||[]),g(!1)},[]);return p.useEffect(()=>{x()},[x]),console.log("loginLogs from Supabase:",i),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 py-10",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("nav",{className:"mb-6","aria-label":"Breadcrumb",children:a.jsxs("ol",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[a.jsx("li",{children:a.jsx("button",{className:"hover:underline text-green-800 font-medium",onClick:()=>b("/admin"),children:"Admin Panel"})}),a.jsx("li",{children:a.jsx("span",{className:"mx-1",children:"/"})}),a.jsx("li",{className:"text-gray-600",children:"System Logs"})]})}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight mb-3",children:"System Logs"}),a.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Monitor system activity, errors, and user actions"})]}),a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs(Ze,{className:"bg-white shadow-lg mb-8",children:[a.jsxs(ht,{className:"flex flex-row items-center justify-between pb-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-blue-100 p-3 rounded-xl",children:a.jsx(Hc,{className:"h-6 w-6 text-blue-600"})}),a.jsx(mt,{className:"text-xl font-semibold text-gray-900",children:"Log Management"})]}),a.jsxs(Ae,{onClick:x,variant:"outline",className:"flex items-center gap-2",children:[a.jsx(Vo,{className:"w-4 h-4"}),"Refresh Logs"]})]}),a.jsxs(Ke,{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(nj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx(dt,{placeholder:"Search logs...",value:l,onChange:w=>u(w.target.value),className:"pl-10"})]}),a.jsx(Ae,{variant:"outline",children:"Filter"}),a.jsx(Ae,{variant:"outline",children:"Export"})]}),a.jsxs(up,{defaultValue:"errors",className:"space-y-4",children:[a.jsxs(qu,{className:"bg-gray-100 p-1 rounded-lg",children:[a.jsxs(ai,{value:"errors",className:"data-[state=active]:bg-white data-[state=active]:text-red-600 data-[state=active]:shadow-sm",children:[a.jsx(Bo,{className:"w-4 h-4 mr-2"}),"Error Logs"]}),a.jsxs(ai,{value:"system",className:"data-[state=active]:bg-white data-[state=active]:text-green-600 data-[state=active]:shadow-sm",children:[a.jsx(Hc,{className:"w-4 h-4 mr-2"}),"System Logs"]}),a.jsxs(ai,{value:"login",className:"data-[state=active]:bg-white data-[state=active]:text-purple-600 data-[state=active]:shadow-sm",children:[a.jsx(Eb,{className:"w-4 h-4 mr-2"}),"Login Logs"]})]}),a.jsx(To,{value:"errors",className:"space-y-4",children:a.jsx("div",{className:"border rounded-lg",children:a.jsxs(Es,{children:[a.jsx(Ts,{children:a.jsxs(Fn,{children:[a.jsx(vt,{children:"Time"}),a.jsx(vt,{children:"Level"}),a.jsx(vt,{children:"Message"}),a.jsx(vt,{children:"Status"})]})}),a.jsx(Ns,{children:e.map(w=>a.jsxs(Fn,{children:[a.jsx(yt,{className:"text-sm",children:w.time}),a.jsx(yt,{className:"text-sm",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${w.level==="Error"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:w.level})}),a.jsx(yt,{className:"text-sm",children:w.message}),a.jsx(yt,{children:a.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-red-100 text-red-800",children:"Error"})})]},w.id))})]})})}),a.jsx(To,{value:"system",className:"space-y-4",children:a.jsx("div",{className:"border rounded-lg",children:a.jsxs(Es,{children:[a.jsx(Ts,{children:a.jsxs(Fn,{children:[a.jsx(vt,{children:"Time"}),a.jsx(vt,{children:"Job"}),a.jsx(vt,{children:"Status"}),a.jsx(vt,{children:"Details"})]})}),a.jsx(Ns,{children:n.map(w=>a.jsxs(Fn,{children:[a.jsx(yt,{className:"text-sm",children:w.time}),a.jsx(yt,{className:"text-sm",children:w.job}),a.jsx(yt,{children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${w.status==="Success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.status})}),a.jsx(yt,{className:"text-sm",children:"-"})]},w.id))})]})})}),a.jsx(To,{value:"login",className:"space-y-4",children:a.jsx("div",{className:"border rounded-lg",children:a.jsxs(Es,{children:[a.jsx(Ts,{children:a.jsxs(Fn,{children:[a.jsx(vt,{children:"Email ID"}),a.jsx(vt,{children:"Date"}),a.jsx(vt,{children:"Status"})]})}),a.jsx(Ns,{children:i.map(w=>a.jsxs(Fn,{children:[a.jsx(yt,{className:"text-sm font-medium",children:w.email||w.user}),a.jsx(yt,{className:"text-sm",children:w.time}),a.jsx(yt,{children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${w.status==="Success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.status==="Success"?"Successful":"Failed"})})]},w.id))})]})})})]})]})]})})]})})}function EU(){const[e,t]=p.useState(!0),[n,r]=p.useState(!1),[i,o]=p.useState(!0),[l,u]=p.useState("realtime"),d=tr();return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 py-10",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("nav",{className:"mb-6","aria-label":"Breadcrumb",children:a.jsxs("ol",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[a.jsx("li",{children:a.jsx("button",{className:"hover:underline text-green-800 font-medium",onClick:()=>d("/admin"),children:"Admin Panel"})}),a.jsx("li",{children:a.jsx("span",{className:"mx-1",children:"/"})}),a.jsx("li",{className:"text-gray-600",children:"Alerts & Notifications"})]})}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight mb-3",children:"Alerts & Notifications"}),a.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Configure notification preferences and alert settings"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-7xl mx-auto",children:[a.jsxs(Ze,{className:"bg-white shadow-lg",children:[a.jsxs(ht,{className:"flex flex-row items-center gap-4 pb-4",children:[a.jsx("div",{className:"bg-blue-100 p-3 rounded-xl",children:a.jsx(QN,{className:"h-6 w-6 text-blue-600"})}),a.jsx(mt,{className:"text-xl font-semibold text-gray-900",children:"Email Notifications"})]}),a.jsxs(Ke,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Enable Email Notifications"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Send notifications via email"})]}),a.jsx(js,{checked:e,onCheckedChange:t})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Notification Frequency"}),a.jsxs(Di,{value:l,onValueChange:u,children:[a.jsx(ri,{className:"max-w-[200px]",children:a.jsx(Li,{placeholder:"Select frequency"})}),a.jsxs(ii,{children:[a.jsx(Lt,{value:"realtime",children:"Real-time"}),a.jsx(Lt,{value:"daily",children:"Daily Digest"}),a.jsx(Lt,{value:"weekly",children:"Weekly Summary"})]})]})]})]})]}),a.jsxs(Ze,{className:"bg-white shadow-lg",children:[a.jsxs(ht,{className:"flex flex-row items-center gap-4 pb-4",children:[a.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:a.jsx(tj,{className:"h-6 w-6 text-green-600"})}),a.jsx(mt,{className:"text-xl font-semibold text-gray-900",children:"SMS Notifications"})]}),a.jsxs(Ke,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Enable SMS Notifications"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Send notifications via SMS"})]}),a.jsx(js,{checked:n,onCheckedChange:r})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-900",children:"SMS Gateway"}),a.jsx(dt,{placeholder:"Enter SMS gateway URL",className:"max-w-[300px]"})]})]})]}),a.jsxs(Ze,{className:"bg-white shadow-lg",children:[a.jsxs(ht,{className:"flex flex-row items-center gap-4 pb-4",children:[a.jsx("div",{className:"bg-purple-100 p-3 rounded-xl",children:a.jsx(_b,{className:"h-6 w-6 text-purple-600"})}),a.jsx(mt,{className:"text-xl font-semibold text-gray-900",children:"Push Notifications"})]}),a.jsxs(Ke,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Enable Push Notifications"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Send notifications to user devices"})]}),a.jsx(js,{checked:i,onCheckedChange:o})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Firebase Configuration"}),a.jsx(dt,{placeholder:"Enter Firebase config",className:"max-w-[300px]"})]})]})]}),a.jsxs(Ze,{className:"bg-white shadow-lg",children:[a.jsxs(ht,{className:"flex flex-row items-center gap-4 pb-4",children:[a.jsx("div",{className:"bg-orange-100 p-3 rounded-xl",children:a.jsx(ej,{className:"h-6 w-6 text-orange-600"})}),a.jsx(mt,{className:"text-xl font-semibold text-gray-900",children:"Notification Templates"})]}),a.jsx(Ke,{className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Welcome Email Template"}),a.jsx(dt,{placeholder:"Enter welcome email template",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Alert Template"}),a.jsx(dt,{placeholder:"Enter alert template",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Report Template"}),a.jsx(dt,{placeholder:"Enter report template",className:"mt-1"})]})]})})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 mt-8 max-w-7xl mx-auto",children:[a.jsx(Ae,{variant:"outline",children:"Reset to Default"}),a.jsx(Ae,{children:"Save Changes"})]})]})})}function En(){return a.jsx("footer",{className:"bg-gradient-to-r from-blue-600 to-green-600 text-white py-4 mt-8",children:a.jsx("div",{className:"container mx-auto px-4 text-center",children:a.jsxs("p",{className:"text-sm font-medium",children:[" ",new Date().getFullYear()," Eravat - Advanced Elephant Monitoring & Conservation Platform"]})})})}const TU=new NR,Bx=me.lazy(()=>OT(()=>import("./PwaReloader-CZaIwUZc.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),NU=()=>{const[e,t]=p.useState(!0),[n,r]=p.useState(null);return p.useEffect(()=>{console.log("App component mounted"),(async()=>{try{console.log("Checking Supabase connection...");const o=await v0();console.log("Supabase connection status:",o),o||(r("Database connection error. Please try again later."),ye.error("Database connection error. Please try again later."))}catch(o){console.error("Connection check failed:",o),r("Failed to connect to the database. Please try again later."),ye.error("Failed to connect to the database. Please try again later.")}finally{t(!1)}})()},[]),console.log("App component rendering..."),e?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading application..."})]})}):n?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-lg w-full",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Connection Error"}),a.jsx("p",{className:"text-gray-600 mb-4",children:n}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors",children:"Retry Connection"})]})}):a.jsx(RR,{children:a.jsx(MR,{client:TU,children:a.jsxs(iR,{children:[a.jsx(aj,{}),a.jsx(Bj,{}),Bx&&a.jsx(p.Suspense,{fallback:null,children:a.jsx(Bx,{})}),a.jsx(MT,{children:a.jsx(DR,{children:a.jsxs(RT,{children:[a.jsx(en,{path:"/login",element:a.jsx(r$,{})}),a.jsx(en,{path:"/",element:a.jsxs(Pn,{children:[a.jsx(Cn,{}),a.jsx(xD,{}),a.jsx(En,{})]})}),a.jsx(en,{path:"/dashboard",element:a.jsxs(Pn,{children:[a.jsx(Cn,{}),a.jsx(qV,{}),a.jsx(En,{})]})}),a.jsx(en,{path:"/report",element:a.jsxs(Pn,{children:[a.jsx(Cn,{}),a.jsx(Qy,{}),a.jsx(En,{})]})}),a.jsx(en,{path:"/admin",element:a.jsxs(Pn,{requiredRole:"admin",children:[a.jsx(Cn,{}),a.jsx(JV,{}),a.jsx(En,{})]})}),a.jsx(en,{path:"/admin/users",element:a.jsxs(Pn,{requiredRole:"admin",children:[a.jsx(Cn,{}),a.jsx(_x,{}),a.jsx(En,{})]})}),a.jsx(en,{path:"/admin/observations",element:a.jsxs(Pn,{requiredRole:"admin",children:[a.jsx(Cn,{}),a.jsx(Lx,{}),a.jsx(En,{})]})}),a.jsx(en,{path:"/admin/statistics",element:a.jsxs(Pn,{requiredRole:"admin",children:[a.jsx(Cn,{}),a.jsx(Fx,{}),a.jsx(En,{})]})}),a.jsx(en,{path:"/admin/settings",element:a.jsxs(Pn,{requiredRole:"admin",children:[a.jsx(Cn,{}),a.jsx(_U,{}),a.jsx(En,{})]})}),a.jsx(en,{path:"/admin/logs",element:a.jsxs(Pn,{requiredRole:"admin",children:[a.jsx(Cn,{}),a.jsx(PU,{}),a.jsx(En,{})]})}),a.jsx(en,{path:"/admin/notifications",element:a.jsxs(Pn,{requiredRole:"admin",children:[a.jsx(Cn,{}),a.jsx(EU,{}),a.jsx(En,{})]})}),a.jsx(en,{path:"/manager/users",element:a.jsxs(Pn,{requiredRole:"manager",children:[a.jsx(Cn,{}),a.jsx(_x,{}),a.jsx(En,{})]})}),a.jsx(en,{path:"/manager/observations",element:a.jsxs(Pn,{requiredRole:"manager",children:[a.jsx(Cn,{}),a.jsx(Lx,{}),a.jsx(En,{})]})}),a.jsx(en,{path:"/manager/statistics",element:a.jsxs(Pn,{requiredRole:"manager",children:[a.jsx(Cn,{}),a.jsx(Fx,{}),a.jsx(En,{})]})}),a.jsx(en,{path:"/collector/report",element:a.jsxs(Pn,{children:[a.jsx(Cn,{}),a.jsx(Qy,{}),a.jsx(En,{})]})}),a.jsx(en,{path:"*",element:a.jsx(bD,{})})]})})})]})})})};window.CESIUM_BASE_URL="/cesium";$T.createRoot(document.getElementById("root")).render(a.jsx(NU,{}));export{Ae as B,ye as u};
//# sourceMappingURL=index-BlQVvlJW.js.map
