const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./PwaReloader-D5b5DzuY.js","./ui-sj3lWrAK.js","./vendor-DcOxPdi0.js","./supabase-B5t26dTl.js","./charts-C-kNx5CF.js"])))=>i.map(i=>d[i]);
var jg=e=>{throw TypeError(e)};var Id=(e,t,n)=>t.has(e)||jg("Cannot "+n);var le=(e,t,n)=>(Id(e,t,"read from private field"),n?n.call(e):t.get(e)),at=(e,t,n)=>t.has(e)?jg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ye=(e,t,n,r)=>(Id(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Qt=(e,t,n)=>(Id(e,t,"access private method"),n);var tc=(e,t,n,r)=>({set _(i){Ye(e,t,i,n)},get _(){return le(e,t,r)}});import{j as l,u as Oe,t as PT,c as ET,a as Vh,S as TT,b as Ps,d as Yx}from"./ui-sj3lWrAK.js";import{d as NT,a as p,R as me,e as di,f as vu,h as Vc,u as yr,i as Bh,g as $h,c as nc,L as so,N as Pr,H as jT,j as MT,k as dn}from"./vendor-DcOxPdi0.js";import{c as yu,_ as RT}from"./supabase-B5t26dTl.js";import{r as OT,_ as kT,a as AT,b as IT,c as $e,R as fs,B as oo,C as ao,X as lo,Y as co,T as uo,L as ma,d as hs,P as DT,e as LT,f as FT}from"./charts-C-kNx5CF.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var rc={},Mg;function VT(){if(Mg)return rc;Mg=1;var e=NT();return rc.createRoot=e.createRoot,rc.hydrateRoot=e.hydrateRoot,rc}var BT=VT();const $T=1,zT=1e6;let Dd=0;function WT(){return Dd=(Dd+1)%Number.MAX_SAFE_INTEGER,Dd.toString()}const Ld=new Map,Rg=e=>{if(Ld.has(e))return;const t=setTimeout(()=>{Ld.delete(e),Ta({type:"REMOVE_TOAST",toastId:e})},zT);Ld.set(e,t)},UT=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,$T)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Rg(n):e.toasts.forEach(r=>{Rg(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Cc=[];let Pc={toasts:[]};function Ta(e){Pc=UT(Pc,e),Cc.forEach(t=>{t(Pc)})}function HT({...e}){const t=WT(),n=i=>Ta({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Ta({type:"DISMISS_TOAST",toastId:t});return Ta({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function ZT(){const[e,t]=p.useState(Pc);return p.useEffect(()=>(Cc.push(t),()=>{const n=Cc.indexOf(t);n>-1&&Cc.splice(n,1)}),[e]),{...e,toast:HT,dismiss:n=>Ta({type:"DISMISS_TOAST",toastId:n})}}function he(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function GT(e,t){const n=p.createContext(t),r=o=>{const{children:a,...u}=o,d=p.useMemo(()=>u,Object.values(u));return l.jsx(n.Provider,{value:d,children:a})};r.displayName=e+"Provider";function i(o){const a=p.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function Bt(e,t=[]){let n=[];function r(o,a){const u=p.createContext(a),d=n.length;n=[...n,a];const f=g=>{var C;const{scope:b,children:x,...w}=g,v=((C=b==null?void 0:b[e])==null?void 0:C[d])||u,_=p.useMemo(()=>w,Object.values(w));return l.jsx(v.Provider,{value:_,children:x})};f.displayName=o+"Provider";function m(g,b){var v;const x=((v=b==null?void 0:b[e])==null?void 0:v[d])||u,w=p.useContext(x);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[f,m]}const i=()=>{const o=n.map(a=>p.createContext(a));return function(u){const d=(u==null?void 0:u[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return i.scopeName=e,[r,YT(i,...t)]}function YT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((u,{useScope:d,scopeName:f})=>{const g=d(o)[`__scope${f}`];return{...u,...g}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Og(e){const t=KT(e),n=p.forwardRef((r,i)=>{const{children:o,...a}=r,u=p.Children.toArray(o),d=u.find(XT);if(d){const f=d.props.children,m=u.map(g=>g===d?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return l.jsx(t,{...a,ref:i,children:p.isValidElement(f)?p.cloneElement(f,void 0,m):null})}return l.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function KT(e){const t=p.forwardRef((n,r)=>{const{children:i,...o}=n,a=p.isValidElement(i)?QT(i):void 0,u=Oe(a,r);if(p.isValidElement(i)){const d=JT(o,i.props);return i.type!==p.Fragment&&(d.ref=u),p.cloneElement(i,d)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qT=Symbol("radix.slottable");function XT(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qT}function JT(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function QT(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function zh(e){const t=e+"CollectionProvider",[n,r]=Bt(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:_,children:C}=v,P=me.useRef(null),E=me.useRef(new Map).current;return l.jsx(i,{scope:_,itemMap:E,collectionRef:P,children:C})};a.displayName=t;const u=e+"CollectionSlot",d=Og(u),f=me.forwardRef((v,_)=>{const{scope:C,children:P}=v,E=o(u,C),M=Oe(_,E.collectionRef);return l.jsx(d,{ref:M,children:P})});f.displayName=u;const m=e+"CollectionItemSlot",g="data-radix-collection-item",b=Og(m),x=me.forwardRef((v,_)=>{const{scope:C,children:P,...E}=v,M=me.useRef(null),T=Oe(_,M),A=o(m,C);return me.useEffect(()=>(A.itemMap.set(M,{ref:M,...E}),()=>void A.itemMap.delete(M))),l.jsx(b,{[g]:"",ref:T,children:P})});x.displayName=m;function w(v){const _=o(e+"CollectionConsumer",v);return me.useCallback(()=>{const P=_.collectionRef.current;if(!P)return[];const E=Array.from(P.querySelectorAll(`[${g}]`));return Array.from(_.itemMap.values()).sort((A,R)=>E.indexOf(A.ref.current)-E.indexOf(R.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:a,Slot:f,ItemSlot:x},w,r]}function eN(e){const t=tN(e),n=p.forwardRef((r,i)=>{const{children:o,...a}=r,u=p.Children.toArray(o),d=u.find(rN);if(d){const f=d.props.children,m=u.map(g=>g===d?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return l.jsx(t,{...a,ref:i,children:p.isValidElement(f)?p.cloneElement(f,void 0,m):null})}return l.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function tN(e){const t=p.forwardRef((n,r)=>{const{children:i,...o}=n,a=p.isValidElement(i)?sN(i):void 0,u=Oe(a,r);if(p.isValidElement(i)){const d=iN(o,i.props);return i.type!==p.Fragment&&(d.ref=u),p.cloneElement(i,d)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nN=Symbol("radix.slottable");function rN(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nN}function iN(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function sN(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var oN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ve=oN.reduce((e,t)=>{const n=eN(`Primitive.${t}`),r=p.forwardRef((i,o)=>{const{asChild:a,...u}=i,d=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(d,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Kx(e,t){e&&di.flushSync(()=>e.dispatchEvent(t))}function St(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Wh(e,t=globalThis==null?void 0:globalThis.document){const n=St(e);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var aN="DismissableLayer",kf="dismissableLayer.update",lN="dismissableLayer.pointerDownOutside",cN="dismissableLayer.focusOutside",kg,qx=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hl=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:u,...d}=e,f=p.useContext(qx),[m,g]=p.useState(null),b=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=p.useState({}),w=Oe(t,R=>g(R)),v=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),C=v.indexOf(_),P=m?v.indexOf(m):-1,E=f.layersWithOutsidePointerEventsDisabled.size>0,M=P>=C,T=dN(R=>{const k=R.target,U=[...f.branches].some(X=>X.contains(k));!M||U||(i==null||i(R),a==null||a(R),R.defaultPrevented||u==null||u())},b),A=fN(R=>{const k=R.target;[...f.branches].some(X=>X.contains(k))||(o==null||o(R),a==null||a(R),R.defaultPrevented||u==null||u())},b);return Wh(R=>{P===f.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},b),p.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(kg=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),Ag(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=kg)}},[m,b,n,f]),p.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),Ag())},[m,f]),p.useEffect(()=>{const R=()=>x({});return document.addEventListener(kf,R),()=>document.removeEventListener(kf,R)},[]),l.jsx(Ve.div,{...d,ref:w,style:{pointerEvents:E?M?"auto":"none":void 0,...e.style},onFocusCapture:he(e.onFocusCapture,A.onFocusCapture),onBlurCapture:he(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:he(e.onPointerDownCapture,T.onPointerDownCapture)})});hl.displayName=aN;var uN="DismissableLayerBranch",Xx=p.forwardRef((e,t)=>{const n=p.useContext(qx),r=p.useRef(null),i=Oe(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(Ve.div,{...e,ref:i})});Xx.displayName=uN;function dN(e,t=globalThis==null?void 0:globalThis.document){const n=St(e),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let d=function(){Jx(lN,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function fN(e,t=globalThis==null?void 0:globalThis.document){const n=St(e),r=p.useRef(!1);return p.useEffect(()=>{const i=o=>{o.target&&!r.current&&Jx(cN,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ag(){const e=new CustomEvent(kf);document.dispatchEvent(e)}function Jx(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Kx(i,o):i.dispatchEvent(o)}var hN=hl,mN=Xx,Tt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},pN="Portal",xu=p.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[i,o]=p.useState(!1);Tt(()=>o(!0),[]);const a=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return a?vu.createPortal(l.jsx(Ve.div,{...r,ref:t}),a):null});xu.displayName=pN;function gN(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var vn=e=>{const{present:t,children:n}=e,r=vN(t),i=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=Oe(r.ref,yN(i));return typeof n=="function"||r.isPresent?p.cloneElement(i,{ref:o}):null};vn.displayName="Presence";function vN(e){const[t,n]=p.useState(),r=p.useRef(null),i=p.useRef(e),o=p.useRef("none"),a=e?"mounted":"unmounted",[u,d]=gN(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const f=ic(r.current);o.current=u==="mounted"?f:"none"},[u]),Tt(()=>{const f=r.current,m=i.current;if(m!==e){const b=o.current,x=ic(f);e?d("MOUNT"):x==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(m&&b!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),Tt(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,g=x=>{const v=ic(r.current).includes(x.animationName);if(x.target===t&&v&&(d("ANIMATION_END"),!i.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},b=x=>{x.target===t&&(o.current=ic(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:p.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function ic(e){return(e==null?void 0:e.animationName)||"none"}function yN(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var xN=Vc[" useInsertionEffect ".trim().toString()]||Tt;function Qn({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,o,a]=bN({defaultProp:t,onChange:n}),u=e!==void 0,d=u?e:i;{const m=p.useRef(e!==void 0);p.useEffect(()=>{const g=m.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,r])}const f=p.useCallback(m=>{var g;if(u){const b=_N(m)?m(e):m;b!==e&&((g=a.current)==null||g.call(a,b))}else o(m)},[u,e,o,a]);return[d,f]}function bN({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),i=p.useRef(n),o=p.useRef(t);return xN(()=>{o.current=t},[t]),p.useEffect(()=>{var a;i.current!==n&&((a=o.current)==null||a.call(o,n),i.current=n)},[n,i]),[n,r,o]}function _N(e){return typeof e=="function"}var Qx=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wN="VisuallyHidden",bu=p.forwardRef((e,t)=>l.jsx(Ve.span,{...e,ref:t,style:{...Qx,...e.style}}));bu.displayName=wN;var SN=bu,Uh="ToastProvider",[Hh,CN,PN]=zh("Toast"),[eb,TU]=Bt("Toast",[PN]),[EN,_u]=eb(Uh),tb=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:a}=e,[u,d]=p.useState(null),[f,m]=p.useState(0),g=p.useRef(!1),b=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Uh}\`. Expected non-empty \`string\`.`),l.jsx(Hh.Provider,{scope:t,children:l.jsx(EN,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:f,viewport:u,onViewportChange:d,onToastAdd:p.useCallback(()=>m(x=>x+1),[]),onToastRemove:p.useCallback(()=>m(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:b,children:a})})};tb.displayName=Uh;var nb="ToastViewport",TN=["F8"],Af="toast.viewportPause",If="toast.viewportResume",rb=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=TN,label:i="Notifications ({hotkey})",...o}=e,a=_u(nb,n),u=CN(n),d=p.useRef(null),f=p.useRef(null),m=p.useRef(null),g=p.useRef(null),b=Oe(t,g,a.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=a.toastCount>0;p.useEffect(()=>{const _=C=>{var E;r.length!==0&&r.every(M=>C[M]||C.code===M)&&((E=g.current)==null||E.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),p.useEffect(()=>{const _=d.current,C=g.current;if(w&&_&&C){const P=()=>{if(!a.isClosePausedRef.current){const A=new CustomEvent(Af);C.dispatchEvent(A),a.isClosePausedRef.current=!0}},E=()=>{if(a.isClosePausedRef.current){const A=new CustomEvent(If);C.dispatchEvent(A),a.isClosePausedRef.current=!1}},M=A=>{!_.contains(A.relatedTarget)&&E()},T=()=>{_.contains(document.activeElement)||E()};return _.addEventListener("focusin",P),_.addEventListener("focusout",M),_.addEventListener("pointermove",P),_.addEventListener("pointerleave",T),window.addEventListener("blur",P),window.addEventListener("focus",E),()=>{_.removeEventListener("focusin",P),_.removeEventListener("focusout",M),_.removeEventListener("pointermove",P),_.removeEventListener("pointerleave",T),window.removeEventListener("blur",P),window.removeEventListener("focus",E)}}},[w,a.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:_})=>{const P=u().map(E=>{const M=E.ref.current,T=[M,...BN(M)];return _==="forwards"?T:T.reverse()});return(_==="forwards"?P.reverse():P).flat()},[u]);return p.useEffect(()=>{const _=g.current;if(_){const C=P=>{var T,A,R;const E=P.altKey||P.ctrlKey||P.metaKey;if(P.key==="Tab"&&!E){const k=document.activeElement,U=P.shiftKey;if(P.target===_&&U){(T=f.current)==null||T.focus();return}const z=v({tabbingDirection:U?"backwards":"forwards"}),ne=z.findIndex(J=>J===k);Fd(z.slice(ne+1))?P.preventDefault():U?(A=f.current)==null||A.focus():(R=m.current)==null||R.focus()}};return _.addEventListener("keydown",C),()=>_.removeEventListener("keydown",C)}},[u,v]),l.jsxs(mN,{ref:d,role:"region","aria-label":i.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&l.jsx(Df,{ref:f,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"forwards"});Fd(_)}}),l.jsx(Hh.Slot,{scope:n,children:l.jsx(Ve.ol,{tabIndex:-1,...o,ref:b})}),w&&l.jsx(Df,{ref:m,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"backwards"});Fd(_)}})]})});rb.displayName=nb;var ib="ToastFocusProxy",Df=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,o=_u(ib,n);return l.jsx(bu,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:a=>{var f;const u=a.relatedTarget;!((f=o.viewport)!=null&&f.contains(u))&&r()}})});Df.displayName=ib;var ml="Toast",NN="toast.swipeStart",jN="toast.swipeMove",MN="toast.swipeCancel",RN="toast.swipeEnd",sb=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...a}=e,[u,d]=Qn({prop:r,defaultProp:i??!0,onChange:o,caller:ml});return l.jsx(vn,{present:n||u,children:l.jsx(AN,{open:u,...a,ref:t,onClose:()=>d(!1),onPause:St(e.onPause),onResume:St(e.onResume),onSwipeStart:he(e.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(e.onSwipeMove,f=>{const{x:m,y:g}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:he(e.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(e.onSwipeEnd,f=>{const{x:m,y:g}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),d(!1)})})})});sb.displayName=ml;var[ON,kN]=eb(ml,{onClose(){}}),AN=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:a,onEscapeKeyDown:u,onPause:d,onResume:f,onSwipeStart:m,onSwipeMove:g,onSwipeCancel:b,onSwipeEnd:x,...w}=e,v=_u(ml,n),[_,C]=p.useState(null),P=Oe(t,J=>C(J)),E=p.useRef(null),M=p.useRef(null),T=i||v.duration,A=p.useRef(0),R=p.useRef(T),k=p.useRef(0),{onToastAdd:U,onToastRemove:X}=v,re=St(()=>{var H;(_==null?void 0:_.contains(document.activeElement))&&((H=v.viewport)==null||H.focus()),a()}),z=p.useCallback(J=>{!J||J===1/0||(window.clearTimeout(k.current),A.current=new Date().getTime(),k.current=window.setTimeout(re,J))},[re]);p.useEffect(()=>{const J=v.viewport;if(J){const H=()=>{z(R.current),f==null||f()},K=()=>{const G=new Date().getTime()-A.current;R.current=R.current-G,window.clearTimeout(k.current),d==null||d()};return J.addEventListener(Af,K),J.addEventListener(If,H),()=>{J.removeEventListener(Af,K),J.removeEventListener(If,H)}}},[v.viewport,T,d,f,z]),p.useEffect(()=>{o&&!v.isClosePausedRef.current&&z(T)},[o,T,v.isClosePausedRef,z]),p.useEffect(()=>(U(),()=>X()),[U,X]);const ne=p.useMemo(()=>_?fb(_):null,[_]);return v.viewport?l.jsxs(l.Fragment,{children:[ne&&l.jsx(IN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:ne}),l.jsx(ON,{scope:n,onClose:re,children:di.createPortal(l.jsx(Hh.ItemSlot,{scope:n,children:l.jsx(hN,{asChild:!0,onEscapeKeyDown:he(u,()=>{v.isFocusedToastEscapeKeyDownRef.current||re(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:P,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:he(e.onKeyDown,J=>{J.key==="Escape"&&(u==null||u(J.nativeEvent),J.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,re()))}),onPointerDown:he(e.onPointerDown,J=>{J.button===0&&(E.current={x:J.clientX,y:J.clientY})}),onPointerMove:he(e.onPointerMove,J=>{if(!E.current)return;const H=J.clientX-E.current.x,K=J.clientY-E.current.y,G=!!M.current,$=["left","right"].includes(v.swipeDirection),V=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Y=$?V(0,H):0,se=$?0:V(0,K),I=J.pointerType==="touch"?10:2,Q={x:Y,y:se},ie={originalEvent:J,delta:Q};G?(M.current=Q,sc(jN,g,ie,{discrete:!1})):Ig(Q,v.swipeDirection,I)?(M.current=Q,sc(NN,m,ie,{discrete:!1}),J.target.setPointerCapture(J.pointerId)):(Math.abs(H)>I||Math.abs(K)>I)&&(E.current=null)}),onPointerUp:he(e.onPointerUp,J=>{const H=M.current,K=J.target;if(K.hasPointerCapture(J.pointerId)&&K.releasePointerCapture(J.pointerId),M.current=null,E.current=null,H){const G=J.currentTarget,$={originalEvent:J,delta:H};Ig(H,v.swipeDirection,v.swipeThreshold)?sc(RN,x,$,{discrete:!0}):sc(MN,b,$,{discrete:!0}),G.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),IN=e=>{const{__scopeToast:t,children:n,...r}=e,i=_u(ml,t),[o,a]=p.useState(!1),[u,d]=p.useState(!1);return FN(()=>a(!0)),p.useEffect(()=>{const f=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(f)},[]),u?null:l.jsx(xu,{asChild:!0,children:l.jsx(bu,{...r,children:o&&l.jsxs(l.Fragment,{children:[i.label," ",n]})})})},DN="ToastTitle",ob=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(Ve.div,{...r,ref:t})});ob.displayName=DN;var LN="ToastDescription",ab=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(Ve.div,{...r,ref:t})});ab.displayName=LN;var lb="ToastAction",cb=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(db,{altText:n,asChild:!0,children:l.jsx(Zh,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${lb}\`. Expected non-empty \`string\`.`),null)});cb.displayName=lb;var ub="ToastClose",Zh=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=kN(ub,n);return l.jsx(db,{asChild:!0,children:l.jsx(Ve.button,{type:"button",...r,ref:t,onClick:he(e.onClick,i.onClose)})})});Zh.displayName=ub;var db=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return l.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function fb(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),VN(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...fb(r))}}),t}function sc(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Kx(i,o):i.dispatchEvent(o)}var Ig=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return t==="left"||t==="right"?o&&r>n:!o&&i>n};function FN(e=()=>{}){const t=St(e);Tt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function VN(e){return e.nodeType===e.ELEMENT_NODE}function BN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Fd(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var $N=tb,hb=rb,mb=sb,pb=ob,gb=ab,vb=cb,yb=Zh;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xb=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...u},d)=>p.createElement("svg",{ref:d,...WN,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:xb("lucide",i),...u},[...a.map(([f,m])=>p.createElement(f,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(e,t)=>{const n=p.forwardRef(({className:r,...i},o)=>p.createElement(UN,{ref:o,iconNode:t,className:xb(`lucide-${zN(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=st("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=st("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=st("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=st("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=st("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=st("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=st("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=st("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=st("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=st("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=st("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=st("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=st("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=st("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=st("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=st("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=st("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=st("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=st("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=st("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=st("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=st("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=st("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=st("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=st("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=st("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=st("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=st("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=st("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=st("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=st("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=st("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=st("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Me(...e){return PT(ET(e))}const ij=$N,Eb=p.forwardRef(({className:e,...t},n)=>l.jsx(hb,{ref:n,className:Me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Eb.displayName=hb.displayName;const sj=Vh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Tb=p.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(mb,{ref:r,className:Me(sj({variant:t}),e),...n}));Tb.displayName=mb.displayName;const oj=p.forwardRef(({className:e,...t},n)=>l.jsx(vb,{ref:n,className:Me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));oj.displayName=vb.displayName;const Nb=p.forwardRef(({className:e,...t},n)=>l.jsx(yb,{ref:n,className:Me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(qh,{className:"h-4 w-4"})}));Nb.displayName=yb.displayName;const jb=p.forwardRef(({className:e,...t},n)=>l.jsx(pb,{ref:n,className:Me("text-sm font-semibold",e),...t}));jb.displayName=pb.displayName;const Mb=p.forwardRef(({className:e,...t},n)=>l.jsx(gb,{ref:n,className:Me("text-sm opacity-90",e),...t}));Mb.displayName=gb.displayName;function aj(){const{toasts:e}=ZT();return l.jsxs(ij,{children:[e.map(function({id:t,title:n,description:r,action:i,...o}){return l.jsxs(Tb,{...o,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(jb,{children:n}),r&&l.jsx(Mb,{children:r})]}),i,l.jsx(Nb,{})]},t)}),l.jsx(Eb,{})]})}var Fg=["light","dark"],lj="(prefers-color-scheme: dark)",cj=p.createContext(void 0),uj={setTheme:e=>{},themes:[]},dj=()=>{var e;return(e=p.useContext(cj))!=null?e:uj};p.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:o,value:a,attrs:u,nonce:d})=>{let f=o==="system",m=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${u.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,g=i?Fg.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",b=(w,v=!1,_=!0)=>{let C=a?a[w]:w,P=v?w+"|| ''":`'${C}'`,E="";return i&&_&&!v&&Fg.includes(w)&&(E+=`d.style.colorScheme = '${w}';`),n==="class"?v||C?E+=`c.add(${P})`:E+="null":C&&(E+=`d[s](n,${P})`),E},x=e?`!function(){${m}${b(e)}}()`:r?`!function(){try{${m}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${f})){var t='${lj}',m=window.matchMedia(t);if(m.media!==t||m.matches){${b("dark")}}else{${b("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${b(a?"x[e]":"e",!0)}}${f?"":"else{"+b(o,!1,!1)+"}"}${g}}catch(e){}}()`:`!function(){try{${m}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${b(a?"x[e]":"e",!0)}}else{${b(o,!1,!1)};}${g}}catch(t){}}();`;return p.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:x}})});var fj=e=>{switch(e){case"success":return pj;case"info":return vj;case"warning":return gj;case"error":return yj;default:return null}},hj=Array(12).fill(0),mj=({visible:e,className:t})=>me.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},me.createElement("div",{className:"sonner-spinner"},hj.map((n,r)=>me.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),pj=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gj=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),vj=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),yj=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xj=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},me.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),me.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),bj=()=>{let[e,t]=me.useState(document.hidden);return me.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Ff=1,_j=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ff++,o=this.toasts.find(u=>u.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...e,id:i,title:n}),{...u,...e,id:i,dismissible:a,title:n}):u):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0,o,a=r.then(async d=>{if(o=["resolve",d],me.isValidElement(d))i=!1,this.create({id:n,type:"default",message:d});else if(Sj(d)&&!d.ok){i=!1;let f=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,m=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:n,type:"error",message:f,description:m})}else if(t.success!==void 0){i=!1;let f=typeof t.success=="function"?await t.success(d):t.success,m=typeof t.description=="function"?await t.description(d):t.description;this.create({id:n,type:"success",message:f,description:m})}}).catch(async d=>{if(o=["reject",d],t.error!==void 0){i=!1;let f=typeof t.error=="function"?await t.error(d):t.error,m=typeof t.description=="function"?await t.description(d):t.description;this.create({id:n,type:"error",message:f,description:m})}}).finally(()=>{var d;i&&(this.dismiss(n),n=void 0),(d=t.finally)==null||d.call(t)}),u=()=>new Promise((d,f)=>a.then(()=>o[0]==="reject"?f(o[1]):d(o[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Ff++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Sn=new _j,wj=(e,t)=>{let n=(t==null?void 0:t.id)||Ff++;return Sn.addToast({title:e,...t,id:n}),n},Sj=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Cj=wj,Pj=()=>Sn.toasts,Ej=()=>Sn.getActiveToasts(),ye=Object.assign(Cj,{success:Sn.success,info:Sn.info,warning:Sn.warning,error:Sn.error,custom:Sn.custom,message:Sn.message,promise:Sn.promise,dismiss:Sn.dismiss,loading:Sn.loading},{getHistory:Pj,getToasts:Ej});function Tj(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Tj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function oc(e){return e.label!==void 0}var Nj=3,jj="32px",Mj="16px",Vg=4e3,Rj=356,Oj=14,kj=20,Aj=200;function sr(...e){return e.filter(Boolean).join(" ")}function Ij(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var Dj=e=>{var t,n,r,i,o,a,u,d,f,m,g;let{invert:b,toast:x,unstyled:w,interacting:v,setHeights:_,visibleToasts:C,heights:P,index:E,toasts:M,expanded:T,removeToast:A,defaultRichColors:R,closeButton:k,style:U,cancelButtonStyle:X,actionButtonStyle:re,className:z="",descriptionClassName:ne="",duration:J,position:H,gap:K,loadingIcon:G,expandByDefault:$,classNames:V,icons:Y,closeButtonAriaLabel:se="Close toast",pauseWhenPageIsHidden:I}=e,[Q,ie]=me.useState(null),[ce,ae]=me.useState(null),[oe,xe]=me.useState(!1),[Ee,Re]=me.useState(!1),[Te,Ce]=me.useState(!1),[Ze,lt]=me.useState(!1),[xt,$t]=me.useState(!1),[Lt,kt]=me.useState(0),[Nt,Ur]=me.useState(0),jn=me.useRef(x.duration||J||Vg),pi=me.useRef(null),Mn=me.useRef(null),Fs=E===0,Vs=E+1<=C,zt=x.type,zn=x.dismissible!==!1,qi=x.className||"",Bs=x.descriptionClassName||"",br=me.useMemo(()=>P.findIndex(Ue=>Ue.toastId===x.id)||0,[P,x.id]),Xi=me.useMemo(()=>{var Ue;return(Ue=x.closeButton)!=null?Ue:k},[x.closeButton,k]),Ji=me.useMemo(()=>x.duration||J||Vg,[x.duration,J]),Hr=me.useRef(0),bn=me.useRef(0),Qi=me.useRef(0),_r=me.useRef(null),[er,$s]=H.split("-"),zs=me.useMemo(()=>P.reduce((Ue,ot,vt)=>vt>=br?Ue:Ue+ot.height,0),[P,br]),_n=bj(),Ws=x.invert||b,gi=zt==="loading";bn.current=me.useMemo(()=>br*K+zs,[br,zs]),me.useEffect(()=>{jn.current=Ji},[Ji]),me.useEffect(()=>{xe(!0)},[]),me.useEffect(()=>{let Ue=Mn.current;if(Ue){let ot=Ue.getBoundingClientRect().height;return Ur(ot),_(vt=>[{toastId:x.id,height:ot,position:x.position},...vt]),()=>_(vt=>vt.filter(ln=>ln.toastId!==x.id))}},[_,x.id]),me.useLayoutEffect(()=>{if(!oe)return;let Ue=Mn.current,ot=Ue.style.height;Ue.style.height="auto";let vt=Ue.getBoundingClientRect().height;Ue.style.height=ot,Ur(vt),_(ln=>ln.find(Zt=>Zt.toastId===x.id)?ln.map(Zt=>Zt.toastId===x.id?{...Zt,height:vt}:Zt):[{toastId:x.id,height:vt,position:x.position},...ln])},[oe,x.title,x.description,_,x.id]);let Rn=me.useCallback(()=>{Re(!0),kt(bn.current),_(Ue=>Ue.filter(ot=>ot.toastId!==x.id)),setTimeout(()=>{A(x)},Aj)},[x,A,_,bn]);me.useEffect(()=>{if(x.promise&&zt==="loading"||x.duration===1/0||x.type==="loading")return;let Ue;return T||v||I&&_n?(()=>{if(Qi.current<Hr.current){let ot=new Date().getTime()-Hr.current;jn.current=jn.current-ot}Qi.current=new Date().getTime()})():jn.current!==1/0&&(Hr.current=new Date().getTime(),Ue=setTimeout(()=>{var ot;(ot=x.onAutoClose)==null||ot.call(x,x),Rn()},jn.current)),()=>clearTimeout(Ue)},[T,v,x,zt,I,_n,Rn]),me.useEffect(()=>{x.delete&&Rn()},[Rn,x.delete]);function na(){var Ue,ot,vt;return Y!=null&&Y.loading?me.createElement("div",{className:sr(V==null?void 0:V.loader,(Ue=x==null?void 0:x.classNames)==null?void 0:Ue.loader,"sonner-loader"),"data-visible":zt==="loading"},Y.loading):G?me.createElement("div",{className:sr(V==null?void 0:V.loader,(ot=x==null?void 0:x.classNames)==null?void 0:ot.loader,"sonner-loader"),"data-visible":zt==="loading"},G):me.createElement(mj,{className:sr(V==null?void 0:V.loader,(vt=x==null?void 0:x.classNames)==null?void 0:vt.loader),visible:zt==="loading"})}return me.createElement("li",{tabIndex:0,ref:Mn,className:sr(z,qi,V==null?void 0:V.toast,(t=x==null?void 0:x.classNames)==null?void 0:t.toast,V==null?void 0:V.default,V==null?void 0:V[zt],(n=x==null?void 0:x.classNames)==null?void 0:n[zt]),"data-sonner-toast":"","data-rich-colors":(r=x.richColors)!=null?r:R,"data-styled":!(x.jsx||x.unstyled||w),"data-mounted":oe,"data-promise":!!x.promise,"data-swiped":xt,"data-removed":Ee,"data-visible":Vs,"data-y-position":er,"data-x-position":$s,"data-index":E,"data-front":Fs,"data-swiping":Te,"data-dismissible":zn,"data-type":zt,"data-invert":Ws,"data-swipe-out":Ze,"data-swipe-direction":ce,"data-expanded":!!(T||$&&oe),style:{"--index":E,"--toasts-before":E,"--z-index":M.length-E,"--offset":`${Ee?Lt:bn.current}px`,"--initial-height":$?"auto":`${Nt}px`,...U,...x.style},onDragEnd:()=>{Ce(!1),ie(null),_r.current=null},onPointerDown:Ue=>{gi||!zn||(pi.current=new Date,kt(bn.current),Ue.target.setPointerCapture(Ue.pointerId),Ue.target.tagName!=="BUTTON"&&(Ce(!0),_r.current={x:Ue.clientX,y:Ue.clientY}))},onPointerUp:()=>{var Ue,ot,vt,ln;if(Ze||!zn)return;_r.current=null;let Zt=Number(((Ue=Mn.current)==null?void 0:Ue.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Wn=Number(((ot=Mn.current)==null?void 0:ot.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),tr=new Date().getTime()-((vt=pi.current)==null?void 0:vt.getTime()),cn=Q==="x"?Zt:Wn,Un=Math.abs(cn)/tr;if(Math.abs(cn)>=kj||Un>.11){kt(bn.current),(ln=x.onDismiss)==null||ln.call(x,x),ae(Q==="x"?Zt>0?"right":"left":Wn>0?"down":"up"),Rn(),lt(!0),$t(!1);return}Ce(!1),ie(null)},onPointerMove:Ue=>{var ot,vt,ln,Zt;if(!_r.current||!zn||((ot=window.getSelection())==null?void 0:ot.toString().length)>0)return;let Wn=Ue.clientY-_r.current.y,tr=Ue.clientX-_r.current.x,cn=(vt=e.swipeDirections)!=null?vt:Ij(H);!Q&&(Math.abs(tr)>1||Math.abs(Wn)>1)&&ie(Math.abs(tr)>Math.abs(Wn)?"x":"y");let Un={x:0,y:0};Q==="y"?(cn.includes("top")||cn.includes("bottom"))&&(cn.includes("top")&&Wn<0||cn.includes("bottom")&&Wn>0)&&(Un.y=Wn):Q==="x"&&(cn.includes("left")||cn.includes("right"))&&(cn.includes("left")&&tr<0||cn.includes("right")&&tr>0)&&(Un.x=tr),(Math.abs(Un.x)>0||Math.abs(Un.y)>0)&&$t(!0),(ln=Mn.current)==null||ln.style.setProperty("--swipe-amount-x",`${Un.x}px`),(Zt=Mn.current)==null||Zt.style.setProperty("--swipe-amount-y",`${Un.y}px`)}},Xi&&!x.jsx?me.createElement("button",{"aria-label":se,"data-disabled":gi,"data-close-button":!0,onClick:gi||!zn?()=>{}:()=>{var Ue;Rn(),(Ue=x.onDismiss)==null||Ue.call(x,x)},className:sr(V==null?void 0:V.closeButton,(i=x==null?void 0:x.classNames)==null?void 0:i.closeButton)},(o=Y==null?void 0:Y.close)!=null?o:xj):null,x.jsx||p.isValidElement(x.title)?x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title:me.createElement(me.Fragment,null,zt||x.icon||x.promise?me.createElement("div",{"data-icon":"",className:sr(V==null?void 0:V.icon,(a=x==null?void 0:x.classNames)==null?void 0:a.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||na():null,x.type!=="loading"?x.icon||(Y==null?void 0:Y[zt])||fj(zt):null):null,me.createElement("div",{"data-content":"",className:sr(V==null?void 0:V.content,(u=x==null?void 0:x.classNames)==null?void 0:u.content)},me.createElement("div",{"data-title":"",className:sr(V==null?void 0:V.title,(d=x==null?void 0:x.classNames)==null?void 0:d.title)},typeof x.title=="function"?x.title():x.title),x.description?me.createElement("div",{"data-description":"",className:sr(ne,Bs,V==null?void 0:V.description,(f=x==null?void 0:x.classNames)==null?void 0:f.description)},typeof x.description=="function"?x.description():x.description):null),p.isValidElement(x.cancel)?x.cancel:x.cancel&&oc(x.cancel)?me.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||X,onClick:Ue=>{var ot,vt;oc(x.cancel)&&zn&&((vt=(ot=x.cancel).onClick)==null||vt.call(ot,Ue),Rn())},className:sr(V==null?void 0:V.cancelButton,(m=x==null?void 0:x.classNames)==null?void 0:m.cancelButton)},x.cancel.label):null,p.isValidElement(x.action)?x.action:x.action&&oc(x.action)?me.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||re,onClick:Ue=>{var ot,vt;oc(x.action)&&((vt=(ot=x.action).onClick)==null||vt.call(ot,Ue),!Ue.defaultPrevented&&Rn())},className:sr(V==null?void 0:V.actionButton,(g=x==null?void 0:x.classNames)==null?void 0:g.actionButton)},x.action.label):null))};function Bg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Lj(e,t){let n={};return[e,t].forEach((r,i)=>{let o=i===1,a=o?"--mobile-offset":"--offset",u=o?Mj:jj;function d(f){["top","right","bottom","left"].forEach(m=>{n[`${a}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${a}-${f}`]=u:n[`${a}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):d(u)}),n}var Fj=p.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:a,className:u,offset:d,mobileOffset:f,theme:m="light",richColors:g,duration:b,style:x,visibleToasts:w=Nj,toastOptions:v,dir:_=Bg(),gap:C=Oj,loadingIcon:P,icons:E,containerAriaLabel:M="Notifications",pauseWhenPageIsHidden:T}=e,[A,R]=me.useState([]),k=me.useMemo(()=>Array.from(new Set([r].concat(A.filter(I=>I.position).map(I=>I.position)))),[A,r]),[U,X]=me.useState([]),[re,z]=me.useState(!1),[ne,J]=me.useState(!1),[H,K]=me.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=me.useRef(null),$=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=me.useRef(null),Y=me.useRef(!1),se=me.useCallback(I=>{R(Q=>{var ie;return(ie=Q.find(ce=>ce.id===I.id))!=null&&ie.delete||Sn.dismiss(I.id),Q.filter(({id:ce})=>ce!==I.id)})},[]);return me.useEffect(()=>Sn.subscribe(I=>{if(I.dismiss){R(Q=>Q.map(ie=>ie.id===I.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{vu.flushSync(()=>{R(Q=>{let ie=Q.findIndex(ce=>ce.id===I.id);return ie!==-1?[...Q.slice(0,ie),{...Q[ie],...I},...Q.slice(ie+1)]:[I,...Q]})})})}),[]),me.useEffect(()=>{if(m!=="system"){K(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;let I=window.matchMedia("(prefers-color-scheme: dark)");try{I.addEventListener("change",({matches:Q})=>{K(Q?"dark":"light")})}catch{I.addListener(({matches:ie})=>{try{K(ie?"dark":"light")}catch(ce){console.error(ce)}})}},[m]),me.useEffect(()=>{A.length<=1&&z(!1)},[A]),me.useEffect(()=>{let I=Q=>{var ie,ce;i.every(ae=>Q[ae]||Q.code===ae)&&(z(!0),(ie=G.current)==null||ie.focus()),Q.code==="Escape"&&(document.activeElement===G.current||(ce=G.current)!=null&&ce.contains(document.activeElement))&&z(!1)};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[i]),me.useEffect(()=>{if(G.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,Y.current=!1)}},[G.current]),me.createElement("section",{ref:t,"aria-label":`${M} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((I,Q)=>{var ie;let[ce,ae]=I.split("-");return A.length?me.createElement("ol",{key:I,dir:_==="auto"?Bg():_,tabIndex:-1,ref:G,className:u,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":ce,"data-lifted":re&&A.length>1&&!o,"data-x-position":ae,style:{"--front-toast-height":`${((ie=U[0])==null?void 0:ie.height)||0}px`,"--width":`${Rj}px`,"--gap":`${C}px`,...x,...Lj(d,f)},onBlur:oe=>{Y.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(Y.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,V.current=oe.relatedTarget)},onMouseEnter:()=>z(!0),onMouseMove:()=>z(!0),onMouseLeave:()=>{ne||z(!1)},onDragEnd:()=>z(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},A.filter(oe=>!oe.position&&Q===0||oe.position===I).map((oe,xe)=>{var Ee,Re;return me.createElement(Dj,{key:oe.id,icons:E,index:xe,toast:oe,defaultRichColors:g,duration:(Ee=v==null?void 0:v.duration)!=null?Ee:b,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:w,closeButton:(Re=v==null?void 0:v.closeButton)!=null?Re:a,interacting:ne,position:I,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:se,toasts:A.filter(Te=>Te.position==oe.position),heights:U.filter(Te=>Te.position==oe.position),setHeights:X,expandByDefault:o,gap:C,loadingIcon:P,expanded:re,pauseWhenPageIsHidden:T,swipeDirections:e.swipeDirections})})):null}))});const Vj=({...e})=>{const{theme:t="system"}=dj();return l.jsx(Fj,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Bj=Vc[" useId ".trim().toString()]||(()=>{}),$j=0;function qn(e){const[t,n]=p.useState(Bj());return Tt(()=>{n(r=>r??String($j++))},[e]),t?`radix-${t}`:""}const zj=["top","right","bottom","left"],Li=Math.min,Ln=Math.max,$c=Math.round,ac=Math.floor,kr=e=>({x:e,y:e}),Wj={left:"right",right:"left",bottom:"top",top:"bottom"},Uj={start:"end",end:"start"};function Vf(e,t,n){return Ln(e,Li(t,n))}function oi(e,t){return typeof e=="function"?e(t):e}function ai(e){return e.split("-")[0]}function Zo(e){return e.split("-")[1]}function Xh(e){return e==="x"?"y":"x"}function Jh(e){return e==="y"?"height":"width"}function ii(e){return["top","bottom"].includes(ai(e))?"y":"x"}function Qh(e){return Xh(ii(e))}function Hj(e,t,n){n===void 0&&(n=!1);const r=Zo(e),i=Qh(e),o=Jh(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=zc(a)),[a,zc(a)]}function Zj(e){const t=zc(e);return[Bf(e),t,Bf(t)]}function Bf(e){return e.replace(/start|end/g,t=>Uj[t])}function Gj(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:a;default:return[]}}function Yj(e,t,n,r){const i=Zo(e);let o=Gj(ai(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(Bf)))),o}function zc(e){return e.replace(/left|right|bottom|top/g,t=>Wj[t])}function Kj(e){return{top:0,right:0,bottom:0,left:0,...e}}function Rb(e){return typeof e!="number"?Kj(e):{top:e,right:e,bottom:e,left:e}}function Wc(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function $g(e,t,n){let{reference:r,floating:i}=e;const o=ii(t),a=Qh(t),u=Jh(a),d=ai(t),f=o==="y",m=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,b=r[u]/2-i[u]/2;let x;switch(d){case"top":x={x:m,y:r.y-i.height};break;case"bottom":x={x:m,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:g};break;case"left":x={x:r.x-i.width,y:g};break;default:x={x:r.x,y:r.y}}switch(Zo(t)){case"start":x[a]-=b*(n&&f?-1:1);break;case"end":x[a]+=b*(n&&f?-1:1);break}return x}const qj=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,u=o.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(t));let f=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:m,y:g}=$g(f,r,d),b=r,x={},w=0;for(let v=0;v<u.length;v++){const{name:_,fn:C}=u[v],{x:P,y:E,data:M,reset:T}=await C({x:m,y:g,initialPlacement:r,placement:b,strategy:i,middlewareData:x,rects:f,platform:a,elements:{reference:e,floating:t}});m=P??m,g=E??g,x={...x,[_]:{...x[_],...M}},T&&w<=50&&(w++,typeof T=="object"&&(T.placement&&(b=T.placement),T.rects&&(f=T.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:m,y:g}=$g(f,b,d)),v=-1)}return{x:m,y:g,placement:b,strategy:i,middlewareData:x}};async function Ia(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:b=!1,padding:x=0}=oi(t,e),w=Rb(x),_=u[b?g==="floating"?"reference":"floating":g],C=Wc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:m,strategy:d})),P=g==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),M=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},T=Wc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:P,offsetParent:E,strategy:d}):P);return{top:(C.top-T.top+w.top)/M.y,bottom:(T.bottom-C.bottom+w.bottom)/M.y,left:(C.left-T.left+w.left)/M.x,right:(T.right-C.right+w.right)/M.x}}const Xj=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:u,middlewareData:d}=t,{element:f,padding:m=0}=oi(e,t)||{};if(f==null)return{};const g=Rb(m),b={x:n,y:r},x=Qh(i),w=Jh(x),v=await a.getDimensions(f),_=x==="y",C=_?"top":"left",P=_?"bottom":"right",E=_?"clientHeight":"clientWidth",M=o.reference[w]+o.reference[x]-b[x]-o.floating[w],T=b[x]-o.reference[x],A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f));let R=A?A[E]:0;(!R||!await(a.isElement==null?void 0:a.isElement(A)))&&(R=u.floating[E]||o.floating[w]);const k=M/2-T/2,U=R/2-v[w]/2-1,X=Li(g[C],U),re=Li(g[P],U),z=X,ne=R-v[w]-re,J=R/2-v[w]/2+k,H=Vf(z,J,ne),K=!d.arrow&&Zo(i)!=null&&J!==H&&o.reference[w]/2-(J<z?X:re)-v[w]/2<0,G=K?J<z?J-z:J-ne:0;return{[x]:b[x]+G,data:{[x]:H,centerOffset:J-H-G,...K&&{alignmentOffset:G}},reset:K}}}),Jj=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,..._}=oi(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const C=ai(i),P=ii(u),E=ai(u)===u,M=await(d.isRTL==null?void 0:d.isRTL(f.floating)),T=b||(E||!v?[zc(u)]:Zj(u)),A=w!=="none";!b&&A&&T.push(...Yj(u,v,w,M));const R=[u,...T],k=await Ia(t,_),U=[];let X=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&U.push(k[C]),g){const H=Hj(i,a,M);U.push(k[H[0]],k[H[1]])}if(X=[...X,{placement:i,overflows:U}],!U.every(H=>H<=0)){var re,z;const H=(((re=o.flip)==null?void 0:re.index)||0)+1,K=R[H];if(K){var ne;const $=g==="alignment"?P!==ii(K):!1,V=((ne=X[0])==null?void 0:ne.overflows[0])>0;if(!$||V)return{data:{index:H,overflows:X},reset:{placement:K}}}let G=(z=X.filter($=>$.overflows[0]<=0).sort(($,V)=>$.overflows[1]-V.overflows[1])[0])==null?void 0:z.placement;if(!G)switch(x){case"bestFit":{var J;const $=(J=X.filter(V=>{if(A){const Y=ii(V.placement);return Y===P||Y==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(Y=>Y>0).reduce((Y,se)=>Y+se,0)]).sort((V,Y)=>V[1]-Y[1])[0])==null?void 0:J[0];$&&(G=$);break}case"initialPlacement":G=u;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function zg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Wg(e){return zj.some(t=>e[t]>=0)}const Qj=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=oi(e,t);switch(r){case"referenceHidden":{const o=await Ia(t,{...i,elementContext:"reference"}),a=zg(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Wg(a)}}}case"escaped":{const o=await Ia(t,{...i,altBoundary:!0}),a=zg(o,n.floating);return{data:{escapedOffsets:a,escaped:Wg(a)}}}default:return{}}}}};async function eM(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=ai(n),u=Zo(n),d=ii(n)==="y",f=["left","top"].includes(a)?-1:1,m=o&&d?-1:1,g=oi(t,e);let{mainAxis:b,crossAxis:x,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof w=="number"&&(x=u==="end"?w*-1:w),d?{x:x*m,y:b*f}:{x:b*f,y:x*m}}const tM=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:u}=t,d=await eM(t,e);return a===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:a}}}}},nM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:u={fn:_=>{let{x:C,y:P}=_;return{x:C,y:P}}},...d}=oi(e,t),f={x:n,y:r},m=await Ia(t,d),g=ii(ai(i)),b=Xh(g);let x=f[b],w=f[g];if(o){const _=b==="y"?"top":"left",C=b==="y"?"bottom":"right",P=x+m[_],E=x-m[C];x=Vf(P,x,E)}if(a){const _=g==="y"?"top":"left",C=g==="y"?"bottom":"right",P=w+m[_],E=w-m[C];w=Vf(P,w,E)}const v=u.fn({...t,[b]:x,[g]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[b]:o,[g]:a}}}}}},rM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=oi(e,t),m={x:n,y:r},g=ii(i),b=Xh(g);let x=m[b],w=m[g];const v=oi(u,t),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const E=b==="y"?"height":"width",M=o.reference[b]-o.floating[E]+_.mainAxis,T=o.reference[b]+o.reference[E]-_.mainAxis;x<M?x=M:x>T&&(x=T)}if(f){var C,P;const E=b==="y"?"width":"height",M=["top","left"].includes(ai(i)),T=o.reference[g]-o.floating[E]+(M&&((C=a.offset)==null?void 0:C[g])||0)+(M?0:_.crossAxis),A=o.reference[g]+o.reference[E]+(M?0:((P=a.offset)==null?void 0:P[g])||0)-(M?_.crossAxis:0);w<T?w=T:w>A&&(w=A)}return{[b]:x,[g]:w}}}},iM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:a,elements:u}=t,{apply:d=()=>{},...f}=oi(e,t),m=await Ia(t,f),g=ai(i),b=Zo(i),x=ii(i)==="y",{width:w,height:v}=o.floating;let _,C;g==="top"||g==="bottom"?(_=g,C=b===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(C=g,_=b==="end"?"top":"bottom");const P=v-m.top-m.bottom,E=w-m.left-m.right,M=Li(v-m[_],P),T=Li(w-m[C],E),A=!t.middlewareData.shift;let R=M,k=T;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=E),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(R=P),A&&!b){const X=Ln(m.left,0),re=Ln(m.right,0),z=Ln(m.top,0),ne=Ln(m.bottom,0);x?k=w-2*(X!==0||re!==0?X+re:Ln(m.left,m.right)):R=v-2*(z!==0||ne!==0?z+ne:Ln(m.top,m.bottom))}await d({...t,availableWidth:k,availableHeight:R});const U=await a.getDimensions(u.floating);return w!==U.width||v!==U.height?{reset:{rects:!0}}:{}}}};function Cu(){return typeof window<"u"}function Go(e){return Ob(e)?(e.nodeName||"").toLowerCase():"#document"}function Fn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Wr(e){var t;return(t=(Ob(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ob(e){return Cu()?e instanceof Node||e instanceof Fn(e).Node:!1}function hr(e){return Cu()?e instanceof Element||e instanceof Fn(e).Element:!1}function Vr(e){return Cu()?e instanceof HTMLElement||e instanceof Fn(e).HTMLElement:!1}function Ug(e){return!Cu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fn(e).ShadowRoot}function pl(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=mr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function sM(e){return["table","td","th"].includes(Go(e))}function Pu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function em(e){const t=tm(),n=hr(e)?mr(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function oM(e){let t=Fi(e);for(;Vr(t)&&!Do(t);){if(em(t))return t;if(Pu(t))return null;t=Fi(t)}return null}function tm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Do(e){return["html","body","#document"].includes(Go(e))}function mr(e){return Fn(e).getComputedStyle(e)}function Eu(e){return hr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fi(e){if(Go(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ug(e)&&e.host||Wr(e);return Ug(t)?t.host:t}function kb(e){const t=Fi(e);return Do(t)?e.ownerDocument?e.ownerDocument.body:e.body:Vr(t)&&pl(t)?t:kb(t)}function Da(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=kb(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=Fn(i);if(o){const u=$f(a);return t.concat(a,a.visualViewport||[],pl(i)?i:[],u&&n?Da(u):[])}return t.concat(i,Da(i,[],n))}function $f(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ab(e){const t=mr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Vr(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,u=$c(n)!==o||$c(r)!==a;return u&&(n=o,r=a),{width:n,height:r,$:u}}function nm(e){return hr(e)?e:e.contextElement}function wo(e){const t=nm(e);if(!Vr(t))return kr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=Ab(t);let a=(o?$c(n.width):n.width)/r,u=(o?$c(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const aM=kr(0);function Ib(e){const t=Fn(e);return!tm()||!t.visualViewport?aM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lM(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Fn(e)?!1:t}function Es(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=nm(e);let a=kr(1);t&&(r?hr(r)&&(a=wo(r)):a=wo(e));const u=lM(o,n,r)?Ib(o):kr(0);let d=(i.left+u.x)/a.x,f=(i.top+u.y)/a.y,m=i.width/a.x,g=i.height/a.y;if(o){const b=Fn(o),x=r&&hr(r)?Fn(r):r;let w=b,v=$f(w);for(;v&&r&&x!==w;){const _=wo(v),C=v.getBoundingClientRect(),P=mr(v),E=C.left+(v.clientLeft+parseFloat(P.paddingLeft))*_.x,M=C.top+(v.clientTop+parseFloat(P.paddingTop))*_.y;d*=_.x,f*=_.y,m*=_.x,g*=_.y,d+=E,f+=M,w=Fn(v),v=$f(w)}}return Wc({width:m,height:g,x:d,y:f})}function rm(e,t){const n=Eu(e).scrollLeft;return t?t.left+n:Es(Wr(e)).left+n}function Db(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:rm(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function cM(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",a=Wr(r),u=t?Pu(t.floating):!1;if(r===a||u&&o)return n;let d={scrollLeft:0,scrollTop:0},f=kr(1);const m=kr(0),g=Vr(r);if((g||!g&&!o)&&((Go(r)!=="body"||pl(a))&&(d=Eu(r)),Vr(r))){const x=Es(r);f=wo(r),m.x=x.x+r.clientLeft,m.y=x.y+r.clientTop}const b=a&&!g&&!o?Db(a,d,!0):kr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+m.x+b.x,y:n.y*f.y-d.scrollTop*f.y+m.y+b.y}}function uM(e){return Array.from(e.getClientRects())}function dM(e){const t=Wr(e),n=Eu(e),r=e.ownerDocument.body,i=Ln(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Ln(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+rm(e);const u=-n.scrollTop;return mr(r).direction==="rtl"&&(a+=Ln(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:u}}function fM(e,t){const n=Fn(e),r=Wr(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,u=0,d=0;if(i){o=i.width,a=i.height;const f=tm();(!f||f&&t==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:o,height:a,x:u,y:d}}function hM(e,t){const n=Es(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Vr(e)?wo(e):kr(1),a=e.clientWidth*o.x,u=e.clientHeight*o.y,d=i*o.x,f=r*o.y;return{width:a,height:u,x:d,y:f}}function Hg(e,t,n){let r;if(t==="viewport")r=fM(e,n);else if(t==="document")r=dM(Wr(e));else if(hr(t))r=hM(t,n);else{const i=Ib(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Wc(r)}function Lb(e,t){const n=Fi(e);return n===t||!hr(n)||Do(n)?!1:mr(n).position==="fixed"||Lb(n,t)}function mM(e,t){const n=t.get(e);if(n)return n;let r=Da(e,[],!1).filter(u=>hr(u)&&Go(u)!=="body"),i=null;const o=mr(e).position==="fixed";let a=o?Fi(e):e;for(;hr(a)&&!Do(a);){const u=mr(a),d=em(a);!d&&u.position==="fixed"&&(i=null),(o?!d&&!i:!d&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||pl(a)&&!d&&Lb(e,a))?r=r.filter(m=>m!==a):i=u,a=Fi(a)}return t.set(e,r),r}function pM(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?Pu(t)?[]:mM(t,this._c):[].concat(n),r],u=a[0],d=a.reduce((f,m)=>{const g=Hg(t,m,i);return f.top=Ln(g.top,f.top),f.right=Li(g.right,f.right),f.bottom=Li(g.bottom,f.bottom),f.left=Ln(g.left,f.left),f},Hg(t,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function gM(e){const{width:t,height:n}=Ab(e);return{width:t,height:n}}function vM(e,t,n){const r=Vr(t),i=Wr(t),o=n==="fixed",a=Es(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const d=kr(0);function f(){d.x=rm(i)}if(r||!r&&!o)if((Go(t)!=="body"||pl(i))&&(u=Eu(t)),r){const x=Es(t,!0,o,t);d.x=x.x+t.clientLeft,d.y=x.y+t.clientTop}else i&&f();o&&!r&&i&&f();const m=i&&!r&&!o?Db(i,u):kr(0),g=a.left+u.scrollLeft-d.x-m.x,b=a.top+u.scrollTop-d.y-m.y;return{x:g,y:b,width:a.width,height:a.height}}function Vd(e){return mr(e).position==="static"}function Zg(e,t){if(!Vr(e)||mr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Wr(e)===n&&(n=n.ownerDocument.body),n}function Fb(e,t){const n=Fn(e);if(Pu(e))return n;if(!Vr(e)){let i=Fi(e);for(;i&&!Do(i);){if(hr(i)&&!Vd(i))return i;i=Fi(i)}return n}let r=Zg(e,t);for(;r&&sM(r)&&Vd(r);)r=Zg(r,t);return r&&Do(r)&&Vd(r)&&!em(r)?n:r||oM(e)||n}const yM=async function(e){const t=this.getOffsetParent||Fb,n=this.getDimensions,r=await n(e.floating);return{reference:vM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xM(e){return mr(e).direction==="rtl"}const bM={convertOffsetParentRelativeRectToViewportRelativeRect:cM,getDocumentElement:Wr,getClippingRect:pM,getOffsetParent:Fb,getElementRects:yM,getClientRects:uM,getDimensions:gM,getScale:wo,isElement:hr,isRTL:xM};function Vb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function _M(e,t){let n=null,r;const i=Wr(e);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function a(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const f=e.getBoundingClientRect(),{left:m,top:g,width:b,height:x}=f;if(u||t(),!b||!x)return;const w=ac(g),v=ac(i.clientWidth-(m+b)),_=ac(i.clientHeight-(g+x)),C=ac(m),E={rootMargin:-w+"px "+-v+"px "+-_+"px "+-C+"px",threshold:Ln(0,Li(1,d))||1};let M=!0;function T(A){const R=A[0].intersectionRatio;if(R!==d){if(!M)return a();R?a(!1,R):r=setTimeout(()=>{a(!1,1e-7)},1e3)}R===1&&!Vb(f,e.getBoundingClientRect())&&a(),M=!1}try{n=new IntersectionObserver(T,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,E)}n.observe(e)}return a(!0),o}function Tu(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=nm(e),m=i||o?[...f?Da(f):[],...Da(t)]:[];m.forEach(C=>{i&&C.addEventListener("scroll",n,{passive:!0}),o&&C.addEventListener("resize",n)});const g=f&&u?_M(f,n):null;let b=-1,x=null;a&&(x=new ResizeObserver(C=>{let[P]=C;P&&P.target===f&&x&&(x.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var E;(E=x)==null||E.observe(t)})),n()}),f&&!d&&x.observe(f),x.observe(t));let w,v=d?Es(e):null;d&&_();function _(){const C=Es(e);v&&!Vb(v,C)&&n(),v=C,w=requestAnimationFrame(_)}return n(),()=>{var C;m.forEach(P=>{i&&P.removeEventListener("scroll",n),o&&P.removeEventListener("resize",n)}),g==null||g(),(C=x)==null||C.disconnect(),x=null,d&&cancelAnimationFrame(w)}}const wM=tM,SM=nM,CM=Jj,PM=iM,EM=Qj,Gg=Xj,TM=rM,NM=(e,t,n)=>{const r=new Map,i={platform:bM,...n},o={...i.platform,_c:r};return qj(e,t,{...i,platform:o})};var Ec=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Uc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Uc(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!Uc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Bb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Yg(e,t){const n=Bb(e);return Math.round(t*n)/n}function Bd(e){const t=p.useRef(e);return Ec(()=>{t.current=e}),t}function im(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[m,g]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,x]=p.useState(r);Uc(b,r)||x(r);const[w,v]=p.useState(null),[_,C]=p.useState(null),P=p.useCallback($=>{$!==A.current&&(A.current=$,v($))},[]),E=p.useCallback($=>{$!==R.current&&(R.current=$,C($))},[]),M=o||w,T=a||_,A=p.useRef(null),R=p.useRef(null),k=p.useRef(m),U=d!=null,X=Bd(d),re=Bd(i),z=Bd(f),ne=p.useCallback(()=>{if(!A.current||!R.current)return;const $={placement:t,strategy:n,middleware:b};re.current&&($.platform=re.current),NM(A.current,R.current,$).then(V=>{const Y={...V,isPositioned:z.current!==!1};J.current&&!Uc(k.current,Y)&&(k.current=Y,di.flushSync(()=>{g(Y)}))})},[b,t,n,re,z]);Ec(()=>{f===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,g($=>({...$,isPositioned:!1})))},[f]);const J=p.useRef(!1);Ec(()=>(J.current=!0,()=>{J.current=!1}),[]),Ec(()=>{if(M&&(A.current=M),T&&(R.current=T),M&&T){if(X.current)return X.current(M,T,ne);ne()}},[M,T,ne,X,U]);const H=p.useMemo(()=>({reference:A,floating:R,setReference:P,setFloating:E}),[P,E]),K=p.useMemo(()=>({reference:M,floating:T}),[M,T]),G=p.useMemo(()=>{const $={position:n,left:0,top:0};if(!K.floating)return $;const V=Yg(K.floating,m.x),Y=Yg(K.floating,m.y);return u?{...$,transform:"translate("+V+"px, "+Y+"px)",...Bb(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:Y}},[n,u,K.floating,m.x,m.y]);return p.useMemo(()=>({...m,update:ne,refs:H,elements:K,floatingStyles:G}),[m,ne,H,K,G])}const jM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Gg({element:r.current,padding:i}).fn(n):{}:r?Gg({element:r,padding:i}).fn(n):{}}}},sm=(e,t)=>({...wM(e),options:[e,t]}),om=(e,t)=>({...SM(e),options:[e,t]}),am=(e,t)=>({...TM(e),options:[e,t]}),lm=(e,t)=>({...CM(e),options:[e,t]}),cm=(e,t)=>({...PM(e),options:[e,t]}),um=(e,t)=>({...EM(e),options:[e,t]}),dm=(e,t)=>({...jM(e),options:[e,t]});var MM="Arrow",$b=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return l.jsx(Ve.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});$b.displayName=MM;var RM=$b;function Yo(e){const[t,n]=p.useState(void 0);return Tt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,u;if("borderBoxSize"in o){const d=o.borderBoxSize,f=Array.isArray(d)?d[0]:d;a=f.inlineSize,u=f.blockSize}else a=e.offsetWidth,u=e.offsetHeight;n({width:a,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var fm="Popper",[zb,Nu]=Bt(fm),[OM,Wb]=zb(fm),Ub=e=>{const{__scopePopper:t,children:n}=e,[r,i]=p.useState(null);return l.jsx(OM,{scope:t,anchor:r,onAnchorChange:i,children:n})};Ub.displayName=fm;var Hb="PopperAnchor",Zb=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=Wb(Hb,n),a=p.useRef(null),u=Oe(t,a);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:l.jsx(Ve.div,{...i,ref:u})});Zb.displayName=Hb;var hm="PopperContent",[kM,AM]=zb(hm),Gb=p.forwardRef((e,t)=>{var oe,xe,Ee,Re,Te,Ce;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:x="optimized",onPlaced:w,...v}=e,_=Wb(hm,n),[C,P]=p.useState(null),E=Oe(t,Ze=>P(Ze)),[M,T]=p.useState(null),A=Yo(M),R=(A==null?void 0:A.width)??0,k=(A==null?void 0:A.height)??0,U=r+(o!=="center"?"-"+o:""),X=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},re=Array.isArray(f)?f:[f],z=re.length>0,ne={padding:X,boundary:re.filter(DM),altBoundary:z},{refs:J,floatingStyles:H,placement:K,isPositioned:G,middlewareData:$}=im({strategy:"fixed",placement:U,whileElementsMounted:(...Ze)=>Tu(...Ze,{animationFrame:x==="always"}),elements:{reference:_.anchor},middleware:[sm({mainAxis:i+k,alignmentAxis:a}),d&&om({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?am():void 0,...ne}),d&&lm({...ne}),cm({...ne,apply:({elements:Ze,rects:lt,availableWidth:xt,availableHeight:$t})=>{const{width:Lt,height:kt}=lt.reference,Nt=Ze.floating.style;Nt.setProperty("--radix-popper-available-width",`${xt}px`),Nt.setProperty("--radix-popper-available-height",`${$t}px`),Nt.setProperty("--radix-popper-anchor-width",`${Lt}px`),Nt.setProperty("--radix-popper-anchor-height",`${kt}px`)}}),M&&dm({element:M,padding:u}),LM({arrowWidth:R,arrowHeight:k}),b&&um({strategy:"referenceHidden",...ne})]}),[V,Y]=qb(K),se=St(w);Tt(()=>{G&&(se==null||se())},[G,se]);const I=(oe=$.arrow)==null?void 0:oe.x,Q=(xe=$.arrow)==null?void 0:xe.y,ie=((Ee=$.arrow)==null?void 0:Ee.centerOffset)!==0,[ce,ae]=p.useState();return Tt(()=>{C&&ae(window.getComputedStyle(C).zIndex)},[C]),l.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:G?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(Re=$.transformOrigin)==null?void 0:Re.x,(Te=$.transformOrigin)==null?void 0:Te.y].join(" "),...((Ce=$.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(kM,{scope:n,placedSide:V,onArrowChange:T,arrowX:I,arrowY:Q,shouldHideArrow:ie,children:l.jsx(Ve.div,{"data-side":V,"data-align":Y,...v,ref:E,style:{...v.style,animation:G?void 0:"none"}})})})});Gb.displayName=hm;var Yb="PopperArrow",IM={top:"bottom",right:"left",bottom:"top",left:"right"},Kb=p.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=AM(Yb,r),a=IM[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(RM,{...i,ref:n,style:{...i.style,display:"block"}})})});Kb.displayName=Yb;function DM(e){return e!==null}var LM=e=>({name:"transformOrigin",options:e,fn(t){var _,C,P;const{placement:n,rects:r,middlewareData:i}=t,a=((_=i.arrow)==null?void 0:_.centerOffset)!==0,u=a?0:e.arrowWidth,d=a?0:e.arrowHeight,[f,m]=qb(n),g={start:"0%",center:"50%",end:"100%"}[m],b=(((C=i.arrow)==null?void 0:C.x)??0)+u/2,x=(((P=i.arrow)==null?void 0:P.y)??0)+d/2;let w="",v="";return f==="bottom"?(w=a?g:`${b}px`,v=`${-d}px`):f==="top"?(w=a?g:`${b}px`,v=`${r.floating.height+d}px`):f==="right"?(w=`${-d}px`,v=a?g:`${x}px`):f==="left"&&(w=`${r.floating.width+d}px`,v=a?g:`${x}px`),{data:{x:w,y:v}}}});function qb(e){const[t,n="center"]=e.split("-");return[t,n]}var FM=Ub,Xb=Zb,Jb=Gb,Qb=Kb,VM=Symbol("radix.slottable");function BM(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=VM,t}var[ju,NU]=Bt("Tooltip",[Nu]),mm=Nu(),e0="TooltipProvider",$M=700,Kg="tooltip.open",[zM,t0]=ju(e0),n0=e=>{const{__scopeTooltip:t,delayDuration:n=$M,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,a=p.useRef(!0),u=p.useRef(!1),d=p.useRef(0);return p.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),l.jsx(zM,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(d.current),a.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:p.useCallback(f=>{u.current=f},[]),disableHoverableContent:i,children:o})};n0.displayName=e0;var r0="Tooltip",[jU,Mu]=ju(r0),zf="TooltipTrigger",WM=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Mu(zf,n),o=t0(zf,n),a=mm(n),u=p.useRef(null),d=Oe(t,u,i.onTriggerChange),f=p.useRef(!1),m=p.useRef(!1),g=p.useCallback(()=>f.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),l.jsx(Xb,{asChild:!0,...a,children:l.jsx(Ve.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:d,onPointerMove:he(e.onPointerMove,b=>{b.pointerType!=="touch"&&!m.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),m.current=!0)}),onPointerLeave:he(e.onPointerLeave,()=>{i.onTriggerLeave(),m.current=!1}),onPointerDown:he(e.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:he(e.onFocus,()=>{f.current||i.onOpen()}),onBlur:he(e.onBlur,i.onClose),onClick:he(e.onClick,i.onClose)})})});WM.displayName=zf;var UM="TooltipPortal",[MU,HM]=ju(UM,{forceMount:void 0}),Lo="TooltipContent",i0=p.forwardRef((e,t)=>{const n=HM(Lo,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,a=Mu(Lo,e.__scopeTooltip);return l.jsx(vn,{present:r||a.open,children:a.disableHoverableContent?l.jsx(s0,{side:i,...o,ref:t}):l.jsx(ZM,{side:i,...o,ref:t})})}),ZM=p.forwardRef((e,t)=>{const n=Mu(Lo,e.__scopeTooltip),r=t0(Lo,e.__scopeTooltip),i=p.useRef(null),o=Oe(t,i),[a,u]=p.useState(null),{trigger:d,onClose:f}=n,m=i.current,{onPointerInTransitChange:g}=r,b=p.useCallback(()=>{u(null),g(!1)},[g]),x=p.useCallback((w,v)=>{const _=w.currentTarget,C={x:w.clientX,y:w.clientY},P=XM(C,_.getBoundingClientRect()),E=JM(C,P),M=QM(v.getBoundingClientRect()),T=tR([...E,...M]);u(T),g(!0)},[g]);return p.useEffect(()=>()=>b(),[b]),p.useEffect(()=>{if(d&&m){const w=_=>x(_,m),v=_=>x(_,d);return d.addEventListener("pointerleave",w),m.addEventListener("pointerleave",v),()=>{d.removeEventListener("pointerleave",w),m.removeEventListener("pointerleave",v)}}},[d,m,x,b]),p.useEffect(()=>{if(a){const w=v=>{const _=v.target,C={x:v.clientX,y:v.clientY},P=(d==null?void 0:d.contains(_))||(m==null?void 0:m.contains(_)),E=!eR(C,a);P?b():E&&(b(),f())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[d,m,a,f,b]),l.jsx(s0,{...e,ref:o})}),[GM,YM]=ju(r0,{isInside:!1}),KM=BM("TooltipContent"),s0=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...u}=e,d=Mu(Lo,n),f=mm(n),{onClose:m}=d;return p.useEffect(()=>(document.addEventListener(Kg,m),()=>document.removeEventListener(Kg,m)),[m]),p.useEffect(()=>{if(d.trigger){const g=b=>{const x=b.target;x!=null&&x.contains(d.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,m]),l.jsx(hl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:g=>g.preventDefault(),onDismiss:m,children:l.jsxs(Jb,{"data-state":d.stateAttribute,...f,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(KM,{children:r}),l.jsx(GM,{scope:n,isInside:!0,children:l.jsx(SN,{id:d.contentId,role:"tooltip",children:i||r})})]})})});i0.displayName=Lo;var o0="TooltipArrow",qM=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=mm(n);return YM(o0,n).isInside?null:l.jsx(Qb,{...i,...r,ref:t})});qM.displayName=o0;function XM(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function JM(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function QM(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function eR(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const u=t[o],d=t[a],f=u.x,m=u.y,g=d.x,b=d.y;m>r!=b>r&&n<(g-f)*(r-m)/(b-m)+f&&(i=!i)}return i}function tR(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),nR(t)}function nR(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var rR=n0,a0=i0;const iR=rR,sR=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(a0,{ref:r,sideOffset:t,className:Me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));sR.displayName=a0.displayName;var Ru=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ou=typeof window>"u"||"Deno"in globalThis;function lr(){}function oR(e,t){return typeof e=="function"?e(t):e}function aR(e){return typeof e=="number"&&e>=0&&e!==1/0}function lR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qg(e,t){return typeof e=="function"?e(t):e}function cR(e,t){return typeof e=="function"?e(t):e}function Xg(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:u}=e;if(a){if(r){if(t.queryHash!==pm(a,t.options))return!1}else if(!Fa(t.queryKey,a))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||i&&i!==t.state.fetchStatus||o&&!o(t))}function Jg(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(La(t.options.mutationKey)!==La(o))return!1}else if(!Fa(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function pm(e,t){return((t==null?void 0:t.queryKeyHashFn)||La)(e)}function La(e){return JSON.stringify(e,(t,n)=>Wf(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Fa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Fa(e[n],t[n])):!1}function l0(e,t){if(e===t)return e;const n=Qg(e)&&Qg(t);if(n||Wf(e)&&Wf(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),a=o.length,u=n?[]:{};let d=0;for(let f=0;f<a;f++){const m=n?f:o[f];(!n&&r.includes(m)||n)&&e[m]===void 0&&t[m]===void 0?(u[m]=void 0,d++):(u[m]=l0(e[m],t[m]),u[m]===e[m]&&e[m]!==void 0&&d++)}return i===a&&d===i?e:u}return t}function Qg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Wf(e){if(!ev(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ev(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ev(e){return Object.prototype.toString.call(e)==="[object Object]"}function uR(e){return new Promise(t=>{setTimeout(t,e)})}function dR(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?l0(e,t):t}function fR(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function hR(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var gm=Symbol();function c0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===gm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var gs,ji,To,Bx,mR=(Bx=class extends Ru{constructor(){super();at(this,gs);at(this,ji);at(this,To);Ye(this,To,t=>{if(!Ou&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){le(this,ji)||this.setEventListener(le(this,To))}onUnsubscribe(){var t;this.hasListeners()||((t=le(this,ji))==null||t.call(this),Ye(this,ji,void 0))}setEventListener(t){var n;Ye(this,To,t),(n=le(this,ji))==null||n.call(this),Ye(this,ji,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){le(this,gs)!==t&&(Ye(this,gs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof le(this,gs)=="boolean"?le(this,gs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},gs=new WeakMap,ji=new WeakMap,To=new WeakMap,Bx),u0=new mR,No,Mi,jo,$x,pR=($x=class extends Ru{constructor(){super();at(this,No,!0);at(this,Mi);at(this,jo);Ye(this,jo,t=>{if(!Ou&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){le(this,Mi)||this.setEventListener(le(this,jo))}onUnsubscribe(){var t;this.hasListeners()||((t=le(this,Mi))==null||t.call(this),Ye(this,Mi,void 0))}setEventListener(t){var n;Ye(this,jo,t),(n=le(this,Mi))==null||n.call(this),Ye(this,Mi,t(this.setOnline.bind(this)))}setOnline(t){le(this,No)!==t&&(Ye(this,No,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return le(this,No)}},No=new WeakMap,Mi=new WeakMap,jo=new WeakMap,$x),Hc=new pR;function gR(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function vR(e){return Math.min(1e3*2**e,3e4)}function d0(e){return(e??"online")==="online"?Hc.isOnline():!0}var f0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function $d(e){return e instanceof f0}function h0(e){let t=!1,n=0,r=!1,i;const o=gR(),a=v=>{var _;r||(b(new f0(v)),(_=e.abort)==null||_.call(e))},u=()=>{t=!0},d=()=>{t=!1},f=()=>u0.isFocused()&&(e.networkMode==="always"||Hc.isOnline())&&e.canRun(),m=()=>d0(e.networkMode)&&e.canRun(),g=v=>{var _;r||(r=!0,(_=e.onSuccess)==null||_.call(e,v),i==null||i(),o.resolve(v))},b=v=>{var _;r||(r=!0,(_=e.onError)==null||_.call(e,v),i==null||i(),o.reject(v))},x=()=>new Promise(v=>{var _;i=C=>{(r||f())&&v(C)},(_=e.onPause)==null||_.call(e)}).then(()=>{var v;i=void 0,r||(v=e.onContinue)==null||v.call(e)}),w=()=>{if(r)return;let v;const _=n===0?e.initialPromise:void 0;try{v=_??e.fn()}catch(C){v=Promise.reject(C)}Promise.resolve(v).then(g).catch(C=>{var A;if(r)return;const P=e.retry??(Ou?0:3),E=e.retryDelay??vR,M=typeof E=="function"?E(n,C):E,T=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,C);if(t||!T){b(C);return}n++,(A=e.onFail)==null||A.call(e,n,C),uR(M).then(()=>f()?void 0:x()).then(()=>{t?b(C):w()})})};return{promise:o,cancel:a,continue:()=>(i==null||i(),o),cancelRetry:u,continueRetry:d,canStart:m,start:()=>(m()?w():x().then(w),o)}}var yR=e=>setTimeout(e,0);function xR(){let e=[],t=0,n=u=>{u()},r=u=>{u()},i=yR;const o=u=>{t?e.push(u):i(()=>{n(u)})},a=()=>{const u=e;e=[],u.length&&i(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||a()}return d},batchCalls:u=>(...d)=>{o(()=>{u(...d)})},schedule:o,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var mn=xR(),vs,zx,m0=(zx=class{constructor(){at(this,vs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),aR(this.gcTime)&&Ye(this,vs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ou?1/0:5*60*1e3))}clearGcTimeout(){le(this,vs)&&(clearTimeout(le(this,vs)),Ye(this,vs,void 0))}},vs=new WeakMap,zx),Mo,Ro,Kn,ys,rn,dl,xs,cr,Jr,Wx,bR=(Wx=class extends m0{constructor(t){super();at(this,cr);at(this,Mo);at(this,Ro);at(this,Kn);at(this,ys);at(this,rn);at(this,dl);at(this,xs);Ye(this,xs,!1),Ye(this,dl,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ye(this,ys,t.client),Ye(this,Kn,le(this,ys).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ye(this,Mo,wR(this.options)),this.state=t.state??le(this,Mo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=le(this,rn))==null?void 0:t.promise}setOptions(t){this.options={...le(this,dl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&le(this,Kn).remove(this)}setData(t,n){const r=dR(this.state.data,t,this.options);return Qt(this,cr,Jr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Qt(this,cr,Jr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=le(this,rn))==null?void 0:r.promise;return(i=le(this,rn))==null||i.cancel(t),n?n.then(lr).catch(lr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(le(this,Mo))}isActive(){return this.observers.some(t=>cR(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!lR(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=le(this,rn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=le(this,rn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),le(this,Kn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(le(this,rn)&&(le(this,xs)?le(this,rn).cancel({revert:!0}):le(this,rn).cancelRetry()),this.scheduleGc()),le(this,Kn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qt(this,cr,Jr).call(this,{type:"invalidate"})}fetch(t,n){var d,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(le(this,rn))return le(this,rn).continueRetry(),le(this,rn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(b=>b.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(Ye(this,xs,!0),r.signal)})},o=()=>{const g=c0(this.options,n),b={client:le(this,ys),queryKey:this.queryKey,meta:this.meta};return i(b),Ye(this,xs,!1),this.options.persister?this.options.persister(g,b,this):g(b)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:le(this,ys),state:this.state,fetchFn:o};i(a),(d=this.options.behavior)==null||d.onFetch(a,this),Ye(this,Ro,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Qt(this,cr,Jr).call(this,{type:"fetch",meta:(m=a.fetchOptions)==null?void 0:m.meta});const u=g=>{var b,x,w,v;$d(g)&&g.silent||Qt(this,cr,Jr).call(this,{type:"error",error:g}),$d(g)||((x=(b=le(this,Kn).config).onError)==null||x.call(b,g,this),(v=(w=le(this,Kn).config).onSettled)==null||v.call(w,this.state.data,g,this)),this.scheduleGc()};return Ye(this,rn,h0({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:g=>{var b,x,w,v;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(_){u(_);return}(x=(b=le(this,Kn).config).onSuccess)==null||x.call(b,g,this),(v=(w=le(this,Kn).config).onSettled)==null||v.call(w,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,b)=>{Qt(this,cr,Jr).call(this,{type:"failed",failureCount:g,error:b})},onPause:()=>{Qt(this,cr,Jr).call(this,{type:"pause"})},onContinue:()=>{Qt(this,cr,Jr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),le(this,rn).start()}},Mo=new WeakMap,Ro=new WeakMap,Kn=new WeakMap,ys=new WeakMap,rn=new WeakMap,dl=new WeakMap,xs=new WeakMap,cr=new WeakSet,Jr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,..._R(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return $d(i)&&i.revert&&le(this,Ro)?{...le(this,Ro),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),mn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),le(this,Kn).notify({query:this,type:"updated",action:t})})},Wx);function _R(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:d0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function wR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Er,Ux,SR=(Ux=class extends Ru{constructor(t={}){super();at(this,Er);this.config=t,Ye(this,Er,new Map)}build(t,n,r){const i=n.queryKey,o=n.queryHash??pm(i,n);let a=this.get(o);return a||(a=new bR({client:t,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){le(this,Er).has(t.queryHash)||(le(this,Er).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=le(this,Er).get(t.queryHash);n&&(t.destroy(),n===t&&le(this,Er).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){mn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return le(this,Er).get(t)}getAll(){return[...le(this,Er).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Xg(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Xg(t,r)):n}notify(t){mn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){mn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){mn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Er=new WeakMap,Ux),Tr,fn,bs,Nr,Si,Hx,CR=(Hx=class extends m0{constructor(t){super();at(this,Nr);at(this,Tr);at(this,fn);at(this,bs);this.mutationId=t.mutationId,Ye(this,fn,t.mutationCache),Ye(this,Tr,[]),this.state=t.state||PR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){le(this,Tr).includes(t)||(le(this,Tr).push(t),this.clearGcTimeout(),le(this,fn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ye(this,Tr,le(this,Tr).filter(n=>n!==t)),this.scheduleGc(),le(this,fn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){le(this,Tr).length||(this.state.status==="pending"?this.scheduleGc():le(this,fn).remove(this))}continue(){var t;return((t=le(this,bs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,u,d,f,m,g,b,x,w,v,_,C,P,E,M,T,A,R,k;const n=()=>{Qt(this,Nr,Si).call(this,{type:"continue"})};Ye(this,bs,h0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(U,X)=>{Qt(this,Nr,Si).call(this,{type:"failed",failureCount:U,error:X})},onPause:()=>{Qt(this,Nr,Si).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>le(this,fn).canRun(this)}));const r=this.state.status==="pending",i=!le(this,bs).canStart();try{if(r)n();else{Qt(this,Nr,Si).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(o=le(this,fn).config).onMutate)==null?void 0:a.call(o,t,this));const X=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,t));X!==this.state.context&&Qt(this,Nr,Si).call(this,{type:"pending",context:X,variables:t,isPaused:i})}const U=await le(this,bs).start();return await((m=(f=le(this,fn).config).onSuccess)==null?void 0:m.call(f,U,t,this.state.context,this)),await((b=(g=this.options).onSuccess)==null?void 0:b.call(g,U,t,this.state.context)),await((w=(x=le(this,fn).config).onSettled)==null?void 0:w.call(x,U,null,this.state.variables,this.state.context,this)),await((_=(v=this.options).onSettled)==null?void 0:_.call(v,U,null,t,this.state.context)),Qt(this,Nr,Si).call(this,{type:"success",data:U}),U}catch(U){try{throw await((P=(C=le(this,fn).config).onError)==null?void 0:P.call(C,U,t,this.state.context,this)),await((M=(E=this.options).onError)==null?void 0:M.call(E,U,t,this.state.context)),await((A=(T=le(this,fn).config).onSettled)==null?void 0:A.call(T,void 0,U,this.state.variables,this.state.context,this)),await((k=(R=this.options).onSettled)==null?void 0:k.call(R,void 0,U,t,this.state.context)),U}finally{Qt(this,Nr,Si).call(this,{type:"error",error:U})}}finally{le(this,fn).runNext(this)}}},Tr=new WeakMap,fn=new WeakMap,bs=new WeakMap,Nr=new WeakSet,Si=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),mn.batch(()=>{le(this,Tr).forEach(r=>{r.onMutationUpdate(t)}),le(this,fn).notify({mutation:this,type:"updated",action:t})})},Hx);function PR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ti,ur,fl,Zx,ER=(Zx=class extends Ru{constructor(t={}){super();at(this,ti);at(this,ur);at(this,fl);this.config=t,Ye(this,ti,new Set),Ye(this,ur,new Map),Ye(this,fl,0)}build(t,n,r){const i=new CR({mutationCache:this,mutationId:++tc(this,fl)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){le(this,ti).add(t);const n=lc(t);if(typeof n=="string"){const r=le(this,ur).get(n);r?r.push(t):le(this,ur).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(le(this,ti).delete(t)){const n=lc(t);if(typeof n=="string"){const r=le(this,ur).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&le(this,ur).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=lc(t);if(typeof n=="string"){const r=le(this,ur).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=lc(t);if(typeof n=="string"){const i=(r=le(this,ur).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){mn.batch(()=>{le(this,ti).forEach(t=>{this.notify({type:"removed",mutation:t})}),le(this,ti).clear(),le(this,ur).clear()})}getAll(){return Array.from(le(this,ti))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Jg(n,r))}findAll(t={}){return this.getAll().filter(n=>Jg(t,n))}notify(t){mn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return mn.batch(()=>Promise.all(t.map(n=>n.continue().catch(lr))))}},ti=new WeakMap,ur=new WeakMap,fl=new WeakMap,Zx);function lc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function tv(e){return{onFetch:(t,n)=>{var m,g,b,x,w;const r=t.options,i=(b=(g=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:g.fetchMore)==null?void 0:b.direction,o=((x=t.state.data)==null?void 0:x.pages)||[],a=((w=t.state.data)==null?void 0:w.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const f=async()=>{let v=!1;const _=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},C=c0(t.options,t.fetchOptions),P=async(E,M,T)=>{if(v)return Promise.reject();if(M==null&&E.pages.length)return Promise.resolve(E);const A={client:t.client,queryKey:t.queryKey,pageParam:M,direction:T?"backward":"forward",meta:t.options.meta};_(A);const R=await C(A),{maxPages:k}=t.options,U=T?hR:fR;return{pages:U(E.pages,R,k),pageParams:U(E.pageParams,M,k)}};if(i&&o.length){const E=i==="backward",M=E?TR:nv,T={pages:o,pageParams:a},A=M(r,T);u=await P(T,A,E)}else{const E=e??o.length;do{const M=d===0?a[0]??r.initialPageParam:nv(r,u);if(d>0&&M==null)break;u=await P(u,M),d++}while(d<E)}return u};t.options.persister?t.fetchFn=()=>{var v,_;return(_=(v=t.options).persister)==null?void 0:_.call(v,f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=f}}}function nv(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function TR(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var jt,Ri,Oi,Oo,ko,ki,Ao,Io,Gx,NR=(Gx=class{constructor(e={}){at(this,jt);at(this,Ri);at(this,Oi);at(this,Oo);at(this,ko);at(this,ki);at(this,Ao);at(this,Io);Ye(this,jt,e.queryCache||new SR),Ye(this,Ri,e.mutationCache||new ER),Ye(this,Oi,e.defaultOptions||{}),Ye(this,Oo,new Map),Ye(this,ko,new Map),Ye(this,ki,0)}mount(){tc(this,ki)._++,le(this,ki)===1&&(Ye(this,Ao,u0.subscribe(async e=>{e&&(await this.resumePausedMutations(),le(this,jt).onFocus())})),Ye(this,Io,Hc.subscribe(async e=>{e&&(await this.resumePausedMutations(),le(this,jt).onOnline())})))}unmount(){var e,t;tc(this,ki)._--,le(this,ki)===0&&((e=le(this,Ao))==null||e.call(this),Ye(this,Ao,void 0),(t=le(this,Io))==null||t.call(this),Ye(this,Io,void 0))}isFetching(e){return le(this,jt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return le(this,Ri).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=le(this,jt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=le(this,jt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(qg(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return le(this,jt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=le(this,jt).get(r.queryHash),o=i==null?void 0:i.state.data,a=oR(t,o);if(a!==void 0)return le(this,jt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return mn.batch(()=>le(this,jt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=le(this,jt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=le(this,jt);mn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=le(this,jt);return mn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=mn.batch(()=>le(this,jt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(lr).catch(lr)}invalidateQueries(e,t={}){return mn.batch(()=>(le(this,jt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=mn.batch(()=>le(this,jt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(lr)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(lr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=le(this,jt).build(this,t);return n.isStaleByTime(qg(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(lr).catch(lr)}fetchInfiniteQuery(e){return e.behavior=tv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(lr).catch(lr)}ensureInfiniteQueryData(e){return e.behavior=tv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Hc.isOnline()?le(this,Ri).resumePausedMutations():Promise.resolve()}getQueryCache(){return le(this,jt)}getMutationCache(){return le(this,Ri)}getDefaultOptions(){return le(this,Oi)}setDefaultOptions(e){Ye(this,Oi,e)}setQueryDefaults(e,t){le(this,Oo).set(La(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...le(this,Oo).values()],n={};return t.forEach(r=>{Fa(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){le(this,ko).set(La(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...le(this,ko).values()],n={};return t.forEach(r=>{Fa(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...le(this,Oi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=pm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===gm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...le(this,Oi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){le(this,jt).clear(),le(this,Ri).clear()}},jt=new WeakMap,Ri=new WeakMap,Oi=new WeakMap,Oo=new WeakMap,ko=new WeakMap,ki=new WeakMap,Ao=new WeakMap,Io=new WeakMap,Gx),jR=p.createContext(void 0),MR=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(jR.Provider,{value:e,children:t}));class RR extends me.Component{constructor(t){super(t),this.handleReload=()=>{localStorage.clear(),sessionStorage.clear(),window.location.reload()},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("React Error:",t,n),this.setState({error:t,errorInfo:n})}render(){var t;return this.state.hasError?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-lg w-full",children:[l.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),l.jsx("p",{className:"text-gray-600 mb-4",children:((t=this.state.error)==null?void 0:t.message)||"An unexpected error occurred"}),this.state.errorInfo&&l.jsx("pre",{className:"bg-gray-100 p-4 rounded text-sm overflow-auto mb-4",children:this.state.errorInfo.componentStack}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:this.handleReset,className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 transition-colors",children:"Try Again"}),l.jsx("button",{onClick:this.handleReload,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors",children:"Reload Page"})]})]})}):this.props.children}}const Uf=Vh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Le=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const a=r?TT:"button";return l.jsx(a,{className:Me(Uf({variant:t,size:n,className:e})),ref:o,...i})});Le.displayName="Button";const Ke=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Me("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ke.displayName="Card";const pt=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Me("flex flex-col space-y-1.5 p-6",e),...t}));pt.displayName="CardHeader";const gt=p.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:Me("text-2xl font-semibold leading-none tracking-tight",e),...t}));gt.displayName="CardTitle";const vm=p.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:Me("text-sm text-muted-foreground",e),...t}));vm.displayName="CardDescription";const Xe=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Me("p-6 pt-0",e),...t}));Xe.displayName="CardContent";const OR=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Me("flex items-center p-6 pt-0",e),...t}));OR.displayName="CardFooter";const tn="https://pauafmgoewfdhwnsexzy.supabase.co".trim(),nn="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBhdWFmbWdvZXdmZGh3bnNleHp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY2ODAwMTgsImV4cCI6MjA2MjI1NjAxOH0.iSTx9Upe8wekbKvk5ZiUMeWGi-WB67gqdZG8Bf-DO-0".trim(),Dn="sb-pauafmgoewfdhwnexzy-auth-token";console.log("=== Supabase Client Configuration Debug ===");console.log("VITE_SUPABASE_URL:",tn?"Present":"Missing",{length:tn==null?void 0:tn.length,hasPrefixHttps:tn==null?void 0:tn.startsWith("https://"),containsSpaces:tn==null?void 0:tn.includes(" "),containsNewlines:tn==null?void 0:tn.includes(`
`)});console.log("VITE_SUPABASE_ANON_KEY:",nn?"Present":"Missing",{length:nn==null?void 0:nn.length,startsWithEyJ:nn==null?void 0:nn.startsWith("eyJ"),containsSpaces:nn==null?void 0:nn.includes(" "),containsNewlines:nn==null?void 0:nn.includes(`
`)});if(!tn||!tn.startsWith("https://"))throw new Error("Invalid VITE_SUPABASE_URL format");if(!nn||!nn.startsWith("eyJ"))throw new Error("Invalid VITE_SUPABASE_ANON_KEY format");function kR(){const e=localStorage.getItem(Dn);if(e)try{const t=JSON.parse(e);if(!t||!t.access_token){console.warn("Invalid session format in localStorage, removing"),localStorage.removeItem(Dn);return}const n=Math.floor(Date.now()/1e3);t.expires_at&&t.expires_at<n&&console.warn("Expired session found in localStorage, but keeping for potential refresh"),window.addEventListener("beforeunload",()=>{const i=localStorage.getItem(Dn);i&&sessionStorage.setItem("temp_"+Dn,i)});const r=sessionStorage.getItem("temp_"+Dn);r&&(localStorage.setItem(Dn,r),sessionStorage.removeItem("temp_"+Dn))}catch(t){console.error("Error applying session persistence fix:",t)}}kR();const rv=localStorage.getItem(Dn);if(rv)try{const e=JSON.parse(rv)}catch(e){console.error("Error parsing existing session:",e)}else console.log("No existing session found in localStorage");const AR={getItem:e=>{try{console.log(`Getting item from storage: ${e}`);const t=localStorage.getItem(e);if(!t)return console.log(`No item found in storage for key: ${e}`),null;try{const n=JSON.parse(t);return console.log("Retrieved session from storage:",{hasAccessToken:!!n.access_token,expiresAt:n.expires_at?new Date(n.expires_at*1e3).toLocaleString():"unknown",hasRefreshToken:!!n.refresh_token}),t}catch(n){return console.error("Error parsing session from storage:",n),t}}catch(t){return console.error("Error accessing localStorage:",t),null}},setItem:(e,t)=>{try{console.log(`Setting item in storage: ${e}`);try{const n=JSON.parse(t);console.log("Storing session in storage:",{hasAccessToken:!!n.access_token,expiresAt:n.expires_at?new Date(n.expires_at*1e3).toLocaleString():"unknown",hasRefreshToken:!!n.refresh_token})}catch(n){console.error("Error parsing session for logging:",n)}localStorage.setItem(e,t);try{sessionStorage.setItem("backup_"+e,t)}catch{}}catch(n){console.error("Error setting item in storage:",n)}},removeItem:e=>{try{console.log(`Removing item from storage: ${e}`),localStorage.removeItem(e);try{sessionStorage.removeItem("backup_"+e),sessionStorage.removeItem("temp_"+e)}catch{}}catch(t){console.error("Error removing item from storage:",t)}}},Pe=yu(tn,nn,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:Dn,storage:AR,flowType:"pkce"}});Pe.auth.getSession().then(({data:{session:e},error:t})=>{if(e){if(localStorage.setItem(Dn,JSON.stringify(e)),e.expires_at){const n=e.expires_at*1e3,r=Date.now(),i=n-r;if(i>0){const o=Math.min(i-3e5,i/2);o>0&&setTimeout(()=>{Pe.auth.refreshSession().then(({data:a,error:u})=>{a.session&&localStorage.setItem(Dn,JSON.stringify(a.session))})},o)}}}else{console.log("No active session found");const n=localStorage.getItem(Dn);if(n)try{const r=JSON.parse(n);r&&r.access_token&&console.log("Found session in localStorage but not in Supabase, attempting to restore")}catch(r){console.error("Error parsing stored session during fallback check:",r)}}});Pe.auth.onAuthStateChange((e,t)=>{var n;console.log("Auth state changed:",e,t?{userId:(n=t.user)==null?void 0:n.id,expiresAt:t.expires_at?new Date(t.expires_at*1e3).toLocaleString():"unknown"}:"No session"),t&&setTimeout(()=>{localStorage.getItem(Dn)?console.log("Session correctly stored in localStorage"):console.error("Session not found in localStorage after auth state change!")},100)});const p0=async()=>{try{const{data:e,error:t}=await Pe.from("users").select("count").limit(1).single();return t?(console.error("Supabase connection error:",t),!1):!0}catch(e){return console.error("Supabase connection error:",e),!1}},Wt="sb-pauafmgoewfdhwnexzy-auth-token";function IR(){const[e,t]=p.useState(null);return p.useEffect(()=>{(()=>{var i;try{const o=localStorage.getItem(Wt);if(o){const a=JSON.parse(o);if(a&&a.access_token)return console.log("Direct localStorage session found:",{userId:(i=a.user)==null?void 0:i.id,expiresAt:a.expires_at?new Date(a.expires_at*1e3).toLocaleString():"unknown"}),t(a),a}return null}catch(o){return console.error("Error reading session from localStorage:",o),null}})();const r=i=>{if(i.key===Wt)if(i.newValue)try{const o=JSON.parse(i.newValue);t(o)}catch(o){console.error("Error parsing session from storage event:",o)}else t(null)};return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}},[]),e}const g0=p.createContext(void 0);function DR({children:e}){const t=IR(),[n,r]=p.useState({user:null,session:null,loading:!0,error:null,initialized:!1});p.useEffect(()=>{var v,_;t&&!n.session&&n.initialized&&(console.log("Using localStorage session as fallback:",{userId:(v=t.user)==null?void 0:v.id,expiresAt:t.expires_at?new Date(t.expires_at*1e3).toLocaleString():"unknown"}),r(C=>({...C,session:t,loading:!0})),(_=t.user)!=null&&_.id&&o(t.user.id).then(C=>{r(C?P=>({...P,user:C,loading:!1}):P=>({...P,loading:!1}))}))},[t,n.session,n.initialized]);const i=async()=>{try{console.log("Manually refreshing session...");const{data:{session:v},error:_}=await Pe.auth.refreshSession();if(_)throw _;return v?(console.log("Session refreshed successfully, new expiry:",new Date(v.expires_at*1e3).toLocaleString()),localStorage.setItem(Wt,JSON.stringify(v)),v):null}catch(v){return console.error("Error refreshing session:",v),null}},o=async(v,_=0)=>{try{let{data:C,error:P}=await Pe.from("users").select("*").eq("auth_id",v).single();return P||!C?null:C}catch(C){return console.error("Error fetching user profile:",C),null}},a=async()=>{var v;try{const _=n.session||t;if(!((v=_==null?void 0:_.user)!=null&&v.id)){r(P=>({...P,loading:!1,initialized:!0}));return}const C=await o(_.user.id);r(C?P=>({...P,user:C,session:_,loading:!1,error:null,initialized:!0}):P=>({...P,loading:!1,error:"Failed to fetch user profile",initialized:!0}))}catch(_){r(C=>({...C,loading:!1,error:_.message,initialized:!0}))}},u=me.useRef(!1);p.useEffect(()=>{let v=!0,_,C;const P=()=>{var k;try{const U=localStorage.getItem(Wt);if(U)try{const X=JSON.parse(U);console.log("Session persistence check - Session found in localStorage:",{hasAccessToken:!!X.access_token,expiresAt:X.expires_at?new Date(X.expires_at*1e3).toLocaleString():"unknown",userId:(k=X.user)==null?void 0:k.id})}catch(X){console.error("Error parsing stored session:",X)}else console.warn("No session found in localStorage during persistence check")}catch(U){console.error("Error checking session persistence:",U)}},E=async k=>{var U;v&&(k?(console.log(`Processing session for user ID: ${(U=k.user)==null?void 0:U.id}`),localStorage.setItem(Wt,JSON.stringify(k)),r(X=>({...X,session:k,loading:!0,initialized:!0})),C=setTimeout(async()=>{var X;if(v)try{const re=(X=k.user)==null?void 0:X.id;if(re){const z=await o(re);v&&z?r(ne=>({...ne,user:z,loading:!1,error:null})):v&&r(ne=>({...ne,loading:!1,error:"Failed to fetch user profile"}))}else v&&r(z=>({...z,loading:!1,error:"No user ID in session"}))}catch(re){v&&(console.error("Error fetching profile:",re),r(z=>({...z,loading:!1,error:re.message})))}},1e3)):(console.log("No active session to process"),v&&r(X=>({...X,session:null,user:null,loading:!1,initialized:!0}))))},M=async()=>{var k;if(u.current){console.log("Already handling initialization, skipping");return}u.current=!0;try{console.log("Starting enhanced initializeAuth..."),P();const U=localStorage.getItem(Wt);if(U)try{const z=JSON.parse(U);console.log("Found valid session in localStorage, using it directly"),await E(z);return}catch(z){console.error("Error parsing stored session, falling back to Supabase:",z)}const{data:{session:X},error:re}=await Pe.auth.getSession();if(re){console.error("Error getting initial session:",re),v&&r(z=>({...z,loading:!1,error:re.message,initialized:!0}));return}if(X){console.log("Got session from Supabase, user ID:",(k=X.user)==null?void 0:k.id),localStorage.setItem(Wt,JSON.stringify(X));const z=X.expires_at,ne=Math.floor(Date.now()/1e3);if(z&&z<ne){console.log("Session expired, attempting to refresh...");const J=await i();J?await E(J):v&&r(H=>({...H,loading:!1,initialized:!0}))}else console.log("Session valid, expires at:",z?new Date(z*1e3).toLocaleString():"unknown"),await E(X)}else console.log("No active session found during initialization"),v&&r(z=>({...z,loading:!1,initialized:!0}))}catch(U){console.error("Error in initializeAuth:",U),v&&r(X=>({...X,loading:!1,error:U.message,initialized:!0}))}finally{u.current=!1}},{data:{subscription:T}}=Pe.auth.onAuthStateChange(async(k,U)=>{var X;if(console.log("Auth state changed:",k,(X=U==null?void 0:U.user)==null?void 0:X.id,"initialized:",n.initialized),k==="INITIAL_SESSION"){console.log("Processing INITIAL_SESSION event"),await M();return}k==="SIGNED_IN"||k==="TOKEN_REFRESHED"?v&&U&&(localStorage.setItem(Wt,JSON.stringify(U)),console.log("Session saved to localStorage after",k),await E(U)):k==="SIGNED_OUT"?v&&(localStorage.removeItem(Wt),console.log("Session removed from localStorage after SIGNED_OUT"),r({user:null,session:null,loading:!1,error:null,initialized:!0})):k==="USER_UPDATED"&&v&&U&&(localStorage.setItem(Wt,JSON.stringify(U)),console.log("Session saved to localStorage after USER_UPDATED"),await E(U))}),A=localStorage.getItem(Wt);if(A){console.log("Found session in localStorage on initial mount");try{const k=JSON.parse(A);k&&k.access_token&&E(k)}catch(k){console.error("Error parsing immediate session:",k)}}else M();const R=()=>{const k=n.session||t;if(k){const U=k.expires_at,X=Math.floor(Date.now()/1e3),re=U?U-X:0;if(re<=0){console.log("Session already expired, refreshing immediately"),i().then(ne=>{ne&&v&&(localStorage.setItem(Wt,JSON.stringify(ne)),r(J=>({...J,session:ne})),R())});return}const z=Math.max(0,(re-300)*1e3);console.log(`Setting up session refresh in ${Math.round(z/6e4)} minutes`),_=setTimeout(async()=>{const ne=await i();ne&&v&&(localStorage.setItem(Wt,JSON.stringify(ne)),r(J=>({...J,session:ne})),R())},z)}};return R(),()=>{v=!1,T.unsubscribe(),_&&clearTimeout(_),C&&clearTimeout(C)}},[]);const d=async(v,_,C=!1)=>{try{r(k=>({...k,loading:!0,error:null}));const P=v.includes("@");console.log("Attempting authentication with:",{type:P?"email":"phone",identifier:P?v:"******"});const E=P?{email:v,password:_}:{phone:v,password:_},{data:M,error:T}=await Pe.auth.signInWithPassword({...E,options:{persistSession:!0}});if(T)throw console.error("Authentication error:",T),T;if(!M.user||!M.session)throw console.error("No user data received"),new Error("No user data received after authentication");localStorage.setItem(Wt,JSON.stringify(M.session)),console.log("Session saved to localStorage after authentication"),console.log("Auth user details:",{id:M.user.id,email:M.user.email,phone:M.user.phone});const A=localStorage.getItem(Wt);if(!A)console.error("Failed to save session to localStorage after authentication!");else try{const k=JSON.parse(A);console.log("Verified session in localStorage:",{hasAccessToken:!!k.access_token,expiresAt:k.expires_at?new Date(k.expires_at*1e3).toLocaleString():"unknown"})}catch(k){console.error("Error parsing stored session after save:",k)}console.log("Authentication successful, fetching user profile...");const R=await o(M.user.id);if(!R){console.log("Failed to find user profile, creating minimal user profile from auth data");const k={id:M.user.id,auth_id:M.user.id,email:M.user.email,phone:M.user.phone,role:"admin",first_name:v.split("@")[0]||"User",last_name:"Account",position:"Officer",status:"active",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return console.log("Created minimal user:",k),r(U=>({...U,user:k,session:M.session,loading:!1,error:null,initialized:!0})),k}return console.log("User profile fetched successfully:",R),r(k=>({...k,user:R,session:M.session,loading:!1,error:null,initialized:!0})),R}catch(P){throw console.error("Login error:",P),r(E=>({...E,loading:!1,error:P instanceof Error?P.message:"An error occurred during login"})),P}},f=async()=>{try{r(C=>({...C,loading:!0,error:null})),localStorage.removeItem(Wt),console.log("Session explicitly removed from localStorage before signOut");const{error:v}=await Pe.auth.signOut();if(v)throw v;localStorage.getItem(Wt)&&(console.warn("Session still exists in localStorage after signOut, forcibly removing..."),localStorage.removeItem(Wt)),r({user:null,session:null,loading:!1,error:null,initialized:!0}),console.log("Sign-out completed successfully")}catch(v){throw console.error("Sign-out error:",v),localStorage.removeItem(Wt),r(_=>({..._,loading:!1,error:v.message})),v}},m=v=>{if(!n.user)return!1;switch(n.user.role){case"admin":return!0;case"manager":return v==="data_collector";default:return!1}},g=()=>n.user?["admin","manager"].includes(n.user.role):!1,b=()=>!!n.user,x=()=>n.user?["admin","manager"].includes(n.user.role):!1,w=v=>{if(!n.user)return!1;switch(v){case"create_user":return g();case"edit_reports":return x();case"view_reports":return b();default:return!1}};return l.jsx(g0.Provider,{value:{...n,signIn:d,signOut:f,refreshUser:a,canCreateUserWithRole:m,canManageUsers:g,canViewReports:b,canEditReports:x,hasPermission:w},children:e})}function fi(){const e=p.useContext(g0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const v0=p.createContext({});function LR(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const ym=typeof window<"u",FR=ym?p.useLayoutEffect:p.useEffect,xm=p.createContext(null);function bm(e,t){e.indexOf(t)===-1&&e.push(t)}function _m(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const li=(e,t,n)=>n>t?t:n<e?e:n;let wm=()=>{};const ci={},y0=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function x0(e){return typeof e=="object"&&e!==null}const b0=e=>/^0[^.\s]+$/u.test(e);function Sm(e){let t;return()=>(t===void 0&&(t=e()),t)}const Xn=e=>e,VR=(e,t)=>n=>t(e(n)),gl=(...e)=>e.reduce(VR),Va=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Cm{constructor(){this.subscriptions=[]}add(t){return bm(this.subscriptions,t),()=>_m(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ar=e=>e*1e3,Ir=e=>e/1e3;function _0(e,t){return t?e*(1e3/t):0}const w0=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,BR=1e-7,$R=12;function zR(e,t,n,r,i){let o,a,u=0;do a=t+(n-t)/2,o=w0(a,r,i)-e,o>0?n=a:t=a;while(Math.abs(o)>BR&&++u<$R);return a}function vl(e,t,n,r){if(e===t&&n===r)return Xn;const i=o=>zR(o,0,1,e,n);return o=>o===0||o===1?o:w0(i(o),t,r)}const S0=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,C0=e=>t=>1-e(1-t),P0=vl(.33,1.53,.69,.99),Pm=C0(P0),E0=S0(Pm),T0=e=>(e*=2)<1?.5*Pm(e):.5*(2-Math.pow(2,-10*(e-1))),Em=e=>1-Math.sin(Math.acos(e)),N0=C0(Em),j0=S0(Em),WR=vl(.42,0,1,1),UR=vl(0,0,.58,1),M0=vl(.42,0,.58,1),HR=e=>Array.isArray(e)&&typeof e[0]!="number",R0=e=>Array.isArray(e)&&typeof e[0]=="number",ZR={linear:Xn,easeIn:WR,easeInOut:M0,easeOut:UR,circIn:Em,circInOut:j0,circOut:N0,backIn:Pm,backInOut:E0,backOut:P0,anticipate:T0},GR=e=>typeof e=="string",iv=e=>{if(R0(e)){wm(e.length===4);const[t,n,r,i]=e;return vl(t,n,r,i)}else if(GR(e))return ZR[e];return e},cc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],sv={value:null};function YR(e,t){let n=new Set,r=new Set,i=!1,o=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},d=0;function f(g){a.has(g)&&(m.schedule(g),e()),d++,g(u)}const m={schedule:(g,b=!1,x=!1)=>{const v=x&&i?n:r;return b&&a.add(g),v.has(g)||v.add(g),g},cancel:g=>{r.delete(g),a.delete(g)},process:g=>{if(u=g,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(f),t&&sv.value&&sv.value.frameloop[t].push(d),d=0,n.clear(),i=!1,o&&(o=!1,m.process(g))}};return m}const KR=40;function O0(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=cc.reduce((E,M)=>(E[M]=YR(o,t?M:void 0),E),{}),{setup:u,read:d,resolveKeyframes:f,preUpdate:m,update:g,preRender:b,render:x,postRender:w}=a,v=()=>{const E=ci.useManualTiming?i.timestamp:performance.now();n=!1,ci.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,KR),1)),i.timestamp=E,i.isProcessing=!0,u.process(i),d.process(i),f.process(i),m.process(i),g.process(i),b.process(i),x.process(i),w.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(v))},_=()=>{n=!0,r=!0,i.isProcessing||e(v)};return{schedule:cc.reduce((E,M)=>{const T=a[M];return E[M]=(A,R=!1,k=!1)=>(n||_(),T.schedule(A,R,k)),E},{}),cancel:E=>{for(let M=0;M<cc.length;M++)a[cc[M]].cancel(E)},state:i,steps:a}}const{schedule:Et,cancel:Vi,state:Yt,steps:zd}=O0(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xn,!0);let Tc;function qR(){Tc=void 0}const Pn={now:()=>(Tc===void 0&&Pn.set(Yt.isProcessing||ci.useManualTiming?Yt.timestamp:performance.now()),Tc),set:e=>{Tc=e,queueMicrotask(qR)}},k0=e=>t=>typeof t=="string"&&t.startsWith(e),Tm=k0("--"),XR=k0("var(--"),Nm=e=>XR(e)?JR.test(e.split("/*")[0].trim()):!1,JR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ko={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ba={...Ko,transform:e=>li(0,1,e)},uc={...Ko,default:1},Na=e=>Math.round(e*1e5)/1e5,jm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function QR(e){return e==null}const eO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mm=(e,t)=>n=>!!(typeof n=="string"&&eO.test(n)&&n.startsWith(e)||t&&!QR(n)&&Object.prototype.hasOwnProperty.call(n,t)),A0=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,o,a,u]=r.match(jm);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},tO=e=>li(0,255,e),Wd={...Ko,transform:e=>Math.round(tO(e))},ms={test:Mm("rgb","red"),parse:A0("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Wd.transform(e)+", "+Wd.transform(t)+", "+Wd.transform(n)+", "+Na(Ba.transform(r))+")"};function nO(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Hf={test:Mm("#"),parse:nO,transform:ms.transform},yl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ci=yl("deg"),Dr=yl("%"),Be=yl("px"),rO=yl("vh"),iO=yl("vw"),ov={...Dr,parse:e=>Dr.parse(e)/100,transform:e=>Dr.transform(e*100)},ho={test:Mm("hsl","hue"),parse:A0("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Dr.transform(Na(t))+", "+Dr.transform(Na(n))+", "+Na(Ba.transform(r))+")"},sn={test:e=>ms.test(e)||Hf.test(e)||ho.test(e),parse:e=>ms.test(e)?ms.parse(e):ho.test(e)?ho.parse(e):Hf.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ms.transform(e):ho.transform(e)},sO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oO(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(jm))==null?void 0:t.length)||0)+(((n=e.match(sO))==null?void 0:n.length)||0)>0}const I0="number",D0="color",aO="var",lO="var(",av="${}",cO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $a(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const u=t.replace(cO,d=>(sn.test(d)?(r.color.push(o),i.push(D0),n.push(sn.parse(d))):d.startsWith(lO)?(r.var.push(o),i.push(aO),n.push(d)):(r.number.push(o),i.push(I0),n.push(parseFloat(d))),++o,av)).split(av);return{values:n,split:u,indexes:r,types:i}}function L0(e){return $a(e).values}function F0(e){const{split:t,types:n}=$a(e),r=t.length;return i=>{let o="";for(let a=0;a<r;a++)if(o+=t[a],i[a]!==void 0){const u=n[a];u===I0?o+=Na(i[a]):u===D0?o+=sn.transform(i[a]):o+=i[a]}return o}}const uO=e=>typeof e=="number"?0:e;function dO(e){const t=L0(e);return F0(e)(t.map(uO))}const Bi={test:oO,parse:L0,createTransformer:F0,getAnimatableNone:dO};function Ud(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fO({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,a=0;if(!t)i=o=a=n;else{const u=n<.5?n*(1+t):n+t-n*t,d=2*n-u;i=Ud(d,u,e+1/3),o=Ud(d,u,e),a=Ud(d,u,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function Zc(e,t){return n=>n>0?t:e}const Pt=(e,t,n)=>e+(t-e)*n,Hd=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},hO=[Hf,ms,ho],mO=e=>hO.find(t=>t.test(e));function lv(e){const t=mO(e);if(!t)return!1;let n=t.parse(e);return t===ho&&(n=fO(n)),n}const cv=(e,t)=>{const n=lv(e),r=lv(t);if(!n||!r)return Zc(e,t);const i={...n};return o=>(i.red=Hd(n.red,r.red,o),i.green=Hd(n.green,r.green,o),i.blue=Hd(n.blue,r.blue,o),i.alpha=Pt(n.alpha,r.alpha,o),ms.transform(i))},Zf=new Set(["none","hidden"]);function pO(e,t){return Zf.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function gO(e,t){return n=>Pt(e,t,n)}function Rm(e){return typeof e=="number"?gO:typeof e=="string"?Nm(e)?Zc:sn.test(e)?cv:xO:Array.isArray(e)?V0:typeof e=="object"?sn.test(e)?cv:vO:Zc}function V0(e,t){const n=[...e],r=n.length,i=e.map((o,a)=>Rm(o)(o,t[a]));return o=>{for(let a=0;a<r;a++)n[a]=i[a](o);return n}}function vO(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Rm(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function yO(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][r[o]],u=e.values[a]??0;n[i]=u,r[o]++}return n}const xO=(e,t)=>{const n=Bi.createTransformer(t),r=$a(e),i=$a(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Zf.has(e)&&!i.values.length||Zf.has(t)&&!r.values.length?pO(e,t):gl(V0(yO(r,i),i.values),n):Zc(e,t)};function B0(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Pt(e,t,n):Rm(e)(e,t)}const bO=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Et.update(t,n),stop:()=>Vi(t),now:()=>Yt.isProcessing?Yt.timestamp:Pn.now()}},$0=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=e(o/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Gc=2e4;function Om(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Gc;)t+=n,r=e.next(t);return t>=Gc?1/0:t}function _O(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(Om(r),Gc);return{type:"keyframes",ease:o=>r.next(i*o).value/t,duration:Ir(i)}}const wO=5;function z0(e,t,n){const r=Math.max(t-wO,0);return _0(n-e(r),t-r)}const Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},uv=.001;function SO({duration:e=Mt.duration,bounce:t=Mt.bounce,velocity:n=Mt.velocity,mass:r=Mt.mass}){let i,o,a=1-t;a=li(Mt.minDamping,Mt.maxDamping,a),e=li(Mt.minDuration,Mt.maxDuration,Ir(e)),a<1?(i=f=>{const m=f*a,g=m*e,b=m-n,x=Gf(f,a),w=Math.exp(-g);return uv-b/x*w},o=f=>{const g=f*a*e,b=g*n+n,x=Math.pow(a,2)*Math.pow(f,2)*e,w=Math.exp(-g),v=Gf(Math.pow(f,2),a);return(-i(f)+uv>0?-1:1)*((b-x)*w)/v}):(i=f=>{const m=Math.exp(-f*e),g=(f-n)*e+1;return-.001+m*g},o=f=>{const m=Math.exp(-f*e),g=(n-f)*(e*e);return m*g});const u=5/e,d=PO(i,o,u);if(e=Ar(e),isNaN(d))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:e};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:e}}}const CO=12;function PO(e,t,n){let r=n;for(let i=1;i<CO;i++)r=r-e(r)/t(r);return r}function Gf(e,t){return e*Math.sqrt(1-t*t)}const EO=["duration","bounce"],TO=["stiffness","damping","mass"];function dv(e,t){return t.some(n=>e[n]!==void 0)}function NO(e){let t={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...e};if(!dv(e,TO)&&dv(e,EO))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*li(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Mt.mass,stiffness:i,damping:o}}else{const n=SO(e);t={...t,...n,mass:Mt.mass},t.isResolvedFromDuration=!0}return t}function Yc(e=Mt.visualDuration,t=Mt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:f,mass:m,duration:g,velocity:b,isResolvedFromDuration:x}=NO({...n,velocity:-Ir(n.velocity||0)}),w=b||0,v=f/(2*Math.sqrt(d*m)),_=a-o,C=Ir(Math.sqrt(d/m)),P=Math.abs(_)<5;r||(r=P?Mt.restSpeed.granular:Mt.restSpeed.default),i||(i=P?Mt.restDelta.granular:Mt.restDelta.default);let E;if(v<1){const T=Gf(C,v);E=A=>{const R=Math.exp(-v*C*A);return a-R*((w+v*C*_)/T*Math.sin(T*A)+_*Math.cos(T*A))}}else if(v===1)E=T=>a-Math.exp(-C*T)*(_+(w+C*_)*T);else{const T=C*Math.sqrt(v*v-1);E=A=>{const R=Math.exp(-v*C*A),k=Math.min(T*A,300);return a-R*((w+v*C*_)*Math.sinh(k)+T*_*Math.cosh(k))/T}}const M={calculatedDuration:x&&g||null,next:T=>{const A=E(T);if(x)u.done=T>=g;else{let R=T===0?w:0;v<1&&(R=T===0?Ar(w):z0(E,T,A));const k=Math.abs(R)<=r,U=Math.abs(a-A)<=i;u.done=k&&U}return u.value=u.done?a:A,u},toString:()=>{const T=Math.min(Om(M),Gc),A=$0(R=>M.next(T*R).value,T,30);return T+"ms "+A},toTransition:()=>{}};return M}Yc.applyToOptions=e=>{const t=_O(e,100,Yc);return e.ease=t.ease,e.duration=Ar(t.duration),e.type="keyframes",e};function Yf({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:u,max:d,restDelta:f=.5,restSpeed:m}){const g=e[0],b={done:!1,value:g},x=k=>u!==void 0&&k<u||d!==void 0&&k>d,w=k=>u===void 0?d:d===void 0||Math.abs(u-k)<Math.abs(d-k)?u:d;let v=n*t;const _=g+v,C=a===void 0?_:a(_);C!==_&&(v=C-g);const P=k=>-v*Math.exp(-k/r),E=k=>C+P(k),M=k=>{const U=P(k),X=E(k);b.done=Math.abs(U)<=f,b.value=b.done?C:X};let T,A;const R=k=>{x(b.value)&&(T=k,A=Yc({keyframes:[b.value,w(b.value)],velocity:z0(E,k,b.value),damping:i,stiffness:o,restDelta:f,restSpeed:m}))};return R(0),{calculatedDuration:null,next:k=>{let U=!1;return!A&&T===void 0&&(U=!0,M(k),R(k)),T!==void 0&&k>=T?A.next(k-T):(!U&&M(k),b)}}}function jO(e,t,n){const r=[],i=n||ci.mix||B0,o=e.length-1;for(let a=0;a<o;a++){let u=i(e[a],e[a+1]);if(t){const d=Array.isArray(t)?t[a]||Xn:t;u=gl(d,u)}r.push(u)}return r}function MO(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(wm(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=jO(t,r,i),d=u.length,f=m=>{if(a&&m<e[0])return t[0];let g=0;if(d>1)for(;g<e.length-2&&!(m<e[g+1]);g++);const b=Va(e[g],e[g+1],m);return u[g](b)};return n?m=>f(li(e[0],e[o-1],m)):f}function RO(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Va(0,t,r);e.push(Pt(n,1,i))}}function OO(e){const t=[0];return RO(t,e.length-1),t}function kO(e,t){return e.map(n=>n*t)}function AO(e,t){return e.map(()=>t||M0).splice(0,e.length-1)}function ja({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=HR(r)?r.map(iv):iv(r),o={done:!1,value:t[0]},a=kO(n&&n.length===t.length?n:OO(t),e),u=MO(a,t,{ease:Array.isArray(i)?i:AO(t,i)});return{calculatedDuration:e,next:d=>(o.value=u(d),o.done=d>=e,o)}}const IO=e=>e!==null;function km(e,{repeat:t,repeatType:n="loop"},r,i=1){const o=e.filter(IO),u=i<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const DO={decay:Yf,inertia:Yf,tween:ja,keyframes:ja,spring:Yc};function W0(e){typeof e.type=="string"&&(e.type=DO[e.type])}class Am{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const LO=e=>e/100;class Im extends Am{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Pn.now()&&this.tick(Pn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;W0(t);const{type:n=ja,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=t;let{keyframes:u}=t;const d=n||ja;d!==ja&&typeof u[0]!="number"&&(this.mixKeyframes=gl(LO,B0(u[0],u[1])),u=[0,100]);const f=d({...t,keyframes:u});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...u].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=Om(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:m,repeat:g,repeatType:b,repeatDelay:x,type:w,onUpdate:v,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const C=this.currentTime-f*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,M=r;if(g){const k=Math.min(this.currentTime,i)/u;let U=Math.floor(k),X=k%1;!X&&k>=1&&(X=1),X===1&&U--,U=Math.min(U,g+1),!!(U%2)&&(b==="reverse"?(X=1-X,x&&(X-=x/u)):b==="mirror"&&(M=a)),E=li(0,1,X)*u}const T=P?{done:!1,value:m[0]}:M.next(E);o&&(T.value=o(T.value));let{done:A}=T;!P&&d!==null&&(A=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return R&&w!==Yf&&(T.value=km(m,this.options,_,this.speed)),v&&v(T.value),R&&this.finish(),T}then(t,n){return this.finished.then(t,n)}get duration(){return Ir(this.calculatedDuration)}get time(){return Ir(this.currentTime)}set time(t){var n;t=Ar(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Pn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ir(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:t=bO,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(o=(i=this.options).onPlay)==null||o.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function FO(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ps=e=>e*180/Math.PI,Kf=e=>{const t=ps(Math.atan2(e[1],e[0]));return qf(t)},VO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Kf,rotateZ:Kf,skewX:e=>ps(Math.atan(e[1])),skewY:e=>ps(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},qf=e=>(e=e%360,e<0&&(e+=360),e),fv=Kf,hv=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),mv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),BO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hv,scaleY:mv,scale:e=>(hv(e)+mv(e))/2,rotateX:e=>qf(ps(Math.atan2(e[6],e[5]))),rotateY:e=>qf(ps(Math.atan2(-e[2],e[0]))),rotateZ:fv,rotate:fv,skewX:e=>ps(Math.atan(e[4])),skewY:e=>ps(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Xf(e){return e.includes("scale")?1:0}function Jf(e,t){if(!e||e==="none")return Xf(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=BO,i=n;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=VO,i=u}if(!i)return Xf(t);const o=r[t],a=i[1].split(",").map(zO);return typeof o=="function"?o(a):a[o]}const $O=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Jf(n,t)};function zO(e){return parseFloat(e.trim())}const qo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xo=new Set(qo),pv=e=>e===Ko||e===Be,WO=new Set(["x","y","z"]),UO=qo.filter(e=>!WO.has(e));function HO(e){const t=[];return UO.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const _s={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Jf(t,"x"),y:(e,{transform:t})=>Jf(t,"y")};_s.translateX=_s.x;_s.translateY=_s.y;const ws=new Set;let Qf=!1,eh=!1,th=!1;function U0(){if(eh){const e=Array.from(ws).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=HO(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,a])=>{var u;(u=r.getValue(o))==null||u.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}eh=!1,Qf=!1,ws.forEach(e=>e.complete(th)),ws.clear()}function H0(){ws.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(eh=!0)})}function ZO(){th=!0,H0(),U0(),th=!1}class Dm{constructor(t,n,r,i,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(ws.add(this),Qf||(Qf=!0,Et.read(H0),Et.resolveKeyframes(U0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const o=i==null?void 0:i.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const u=r.readValue(n,a);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=a),i&&o===void 0&&i.set(t[0])}FO(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ws.delete(this)}cancel(){this.state==="scheduled"&&(ws.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const GO=e=>e.startsWith("--");function YO(e,t,n){GO(t)?e.style.setProperty(t,n):e.style[t]=n}const KO=Sm(()=>window.ScrollTimeline!==void 0),qO={};function XO(e,t){const n=Sm(e);return()=>qO[t]??n()}const Z0=XO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ba=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,gv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ba([0,.65,.55,1]),circOut:ba([.55,0,1,.45]),backIn:ba([.31,.01,.66,-.59]),backOut:ba([.33,1.53,.69,.99])};function G0(e,t){if(e)return typeof e=="function"?Z0()?$0(e,t):"ease-out":R0(e)?ba(e):Array.isArray(e)?e.map(n=>G0(n,t)||gv.easeOut):gv[e]}function JO(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:u="easeOut",times:d}={},f=void 0){const m={[t]:n};d&&(m.offset=d);const g=G0(u,i);Array.isArray(g)&&(m.easing=g);const b={delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return f&&(b.pseudoElement=f),e.animate(m,b)}function Y0(e){return typeof e=="function"&&"applyToOptions"in e}function QO({type:e,...t}){return Y0(e)&&Z0()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ek extends Am{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:u,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=t,wm(typeof t.type!="string");const f=QO(t);this.animation=JO(n,r,i,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=km(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):YO(n,r,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ir(Number(t))}get time(){return Ir(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ar(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&KO()?(this.animation.timeline=t,Xn):n(this)}}const K0={anticipate:T0,backInOut:E0,circInOut:j0};function tk(e){return e in K0}function nk(e){typeof e.ease=="string"&&tk(e.ease)&&(e.ease=K0[e.ease])}const vv=10;class rk extends ek{constructor(t){nk(t),W0(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const u=new Im({...a,autoplay:!1}),d=Ar(this.finishedTime??this.time);n.setWithVelocity(u.sample(d-vv).value,u.sample(d).value,vv),u.stop()}}const yv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Bi.test(e)||e==="0")&&!e.startsWith("url("));function ik(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function sk(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],a=yv(i,t),u=yv(o,t);return!a||!u?!1:ik(e)||(n==="spring"||Y0(n))&&r}function q0(e){return x0(e)&&"offsetHeight"in e}const ok=new Set(["opacity","clipPath","filter","transform"]),ak=Sm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lk(e){var f;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:o,type:a}=e;if(!q0((f=t==null?void 0:t.owner)==null?void 0:f.current))return!1;const{onUpdate:u,transformTemplate:d}=t.owner.getProps();return ak()&&n&&ok.has(n)&&(n!=="transform"||!d)&&!u&&!r&&i!=="mirror"&&o!==0&&a!=="inertia"}const ck=40;class uk extends Am{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",keyframes:u,name:d,motionValue:f,element:m,...g}){var w;super(),this.stop=()=>{var v,_;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=Pn.now();const b={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:a,name:d,motionValue:f,element:m,...g},x=(m==null?void 0:m.KeyframeResolver)||Dm;this.keyframeResolver=new x(u,(v,_,C)=>this.onKeyframesResolved(v,_,b,!C),d,f,m),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:o,type:a,velocity:u,delay:d,isHandoff:f,onUpdate:m}=r;this.resolvedAt=Pn.now(),sk(t,o,a,u)||((ci.instantAnimations||!d)&&(m==null||m(km(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const b={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>ck?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},x=!f&&lk(b)?new rk({...b,element:b.motionValue.owner.current}):new Im(b);x.finished.then(()=>this.notifyFinished()).catch(Xn),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),ZO()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const dk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fk(e){const t=dk.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function X0(e,t,n=1){const[r,i]=fk(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const a=o.trim();return y0(a)?parseFloat(a):a}return Nm(i)?X0(i,t,n+1):i}function Lm(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const J0=new Set(["width","height","top","left","right","bottom",...qo]),hk={test:e=>e==="auto",parse:e=>e},Q0=e=>t=>t.test(e),e_=[Ko,Be,Dr,Ci,iO,rO,hk],xv=e=>e_.find(Q0(e));function mk(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||b0(e):!0}const pk=new Set(["brightness","contrast","saturate","opacity"]);function gk(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(jm)||[];if(!r)return e;const i=n.replace(r,"");let o=pk.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const vk=/\b([a-z-]*)\(.*?\)/gu,nh={...Bi,getAnimatableNone:e=>{const t=e.match(vk);return t?t.map(gk).join(" "):e}},bv={...Ko,transform:Math.round},yk={rotate:Ci,rotateX:Ci,rotateY:Ci,rotateZ:Ci,scale:uc,scaleX:uc,scaleY:uc,scaleZ:uc,skew:Ci,skewX:Ci,skewY:Ci,distance:Be,translateX:Be,translateY:Be,translateZ:Be,x:Be,y:Be,z:Be,perspective:Be,transformPerspective:Be,opacity:Ba,originX:ov,originY:ov,originZ:Be},Fm={borderWidth:Be,borderTopWidth:Be,borderRightWidth:Be,borderBottomWidth:Be,borderLeftWidth:Be,borderRadius:Be,radius:Be,borderTopLeftRadius:Be,borderTopRightRadius:Be,borderBottomRightRadius:Be,borderBottomLeftRadius:Be,width:Be,maxWidth:Be,height:Be,maxHeight:Be,top:Be,right:Be,bottom:Be,left:Be,padding:Be,paddingTop:Be,paddingRight:Be,paddingBottom:Be,paddingLeft:Be,margin:Be,marginTop:Be,marginRight:Be,marginBottom:Be,marginLeft:Be,backgroundPositionX:Be,backgroundPositionY:Be,...yk,zIndex:bv,fillOpacity:Ba,strokeOpacity:Ba,numOctaves:bv},xk={...Fm,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:nh,WebkitFilter:nh},t_=e=>xk[e];function n_(e,t){let n=t_(e);return n!==nh&&(n=Bi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const bk=new Set(["auto","none","0"]);function _k(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!bk.has(o)&&$a(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=n_(n,i)}class wk extends Dm{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),Nm(f))){const m=X0(f,n.current);m!==void 0&&(t[d]=m),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!J0.has(r)||t.length!==2)return;const[i,o]=t,a=xv(i),u=xv(o);if(a!==u)if(pv(a)&&pv(u))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else _s[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||mk(t[i]))&&r.push(i);r.length&&_k(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_s[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var u;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=_s[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([d,f])=>{t.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function Sk(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const r_=(e,t)=>t&&typeof e=="number"?t.transform(e):e,_v=30,Ck=e=>!isNaN(parseFloat(e));class Pk{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var a,u;const o=Pn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();i&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Pn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Ck(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Cm);const r=this.events[t].add(n);return t==="change"?()=>{r(),Et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>_v)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_v);return _0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fo(e,t){return new Pk(e,t)}const{schedule:Vm}=O0(queueMicrotask,!1),or={x:!1,y:!1};function i_(){return or.x||or.y}function Ek(e){return e==="x"||e==="y"?or[e]?null:(or[e]=!0,()=>{or[e]=!1}):or.x||or.y?null:(or.x=or.y=!0,()=>{or.x=or.y=!1})}function s_(e,t){const n=Sk(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function wv(e){return!(e.pointerType==="touch"||i_())}function Tk(e,t,n={}){const[r,i,o]=s_(e,n),a=u=>{if(!wv(u))return;const{target:d}=u,f=t(d,u);if(typeof f!="function"||!d)return;const m=g=>{wv(g)&&(f(g),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,i)};return r.forEach(u=>{u.addEventListener("pointerenter",a,i)}),o}const o_=(e,t)=>t?e===t?!0:o_(e,t.parentElement):!1,Bm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Nk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function jk(e){return Nk.has(e.tagName)||e.tabIndex!==-1}const Nc=new WeakSet;function Sv(e){return t=>{t.key==="Enter"&&e(t)}}function Zd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Mk=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Sv(()=>{if(Nc.has(n))return;Zd(n,"down");const i=Sv(()=>{Zd(n,"up")}),o=()=>Zd(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Cv(e){return Bm(e)&&!i_()}function Rk(e,t,n={}){const[r,i,o]=s_(e,n),a=u=>{const d=u.currentTarget;if(!Cv(u))return;Nc.add(d);const f=t(d,u),m=(x,w)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),Nc.has(d)&&Nc.delete(d),Cv(x)&&typeof f=="function"&&f(x,{success:w})},g=x=>{m(x,d===window||d===document||n.useGlobalTarget||o_(d,x.target))},b=x=>{m(x,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",b,i)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",a,i),q0(u)&&(u.addEventListener("focus",f=>Mk(f,i)),!jk(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function a_(e){return x0(e)&&"ownerSVGElement"in e}function Ok(e){return a_(e)&&e.tagName==="svg"}const on=e=>!!(e&&e.getVelocity),kk=[...e_,sn,Bi],Ak=e=>kk.find(Q0(e)),l_=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Ik(e=!0){const t=p.useContext(xm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=p.useId();p.useEffect(()=>{if(e)return i(o)},[e]);const a=p.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,a]:[!0]}const c_=p.createContext({strict:!1}),Pv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vo={};for(const e in Pv)Vo[e]={isEnabled:t=>Pv[e].some(n=>!!t[n])};function Dk(e){for(const t in e)Vo[t]={...Vo[t],...e[t]}}const Lk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Lk.has(e)}let u_=e=>!Kc(e);function Fk(e){e&&(u_=t=>t.startsWith("on")?!Kc(t):e(t))}try{Fk(require("@emotion/is-prop-valid").default)}catch{}function Vk(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(u_(i)||n===!0&&Kc(i)||!t&&!Kc(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Bk(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const ku=p.createContext({});function Au(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function za(e){return typeof e=="string"||Array.isArray(e)}const $m=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zm=["initial",...$m];function Iu(e){return Au(e.animate)||zm.some(t=>za(e[t]))}function d_(e){return!!(Iu(e)||e.variants)}function $k(e,t){if(Iu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||za(n)?n:void 0,animate:za(r)?r:void 0}}return e.inherit!==!1?t:{}}function zk(e){const{initial:t,animate:n}=$k(e,p.useContext(ku));return p.useMemo(()=>({initial:t,animate:n}),[Ev(t),Ev(n)])}function Ev(e){return Array.isArray(e)?e.join(" "):e}const Wk=Symbol.for("motionComponentSymbol");function mo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Uk(e,t,n){return p.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):mo(n)&&(n.current=r))},[t])}const Wm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Hk="framerAppearId",f_="data-"+Wm(Hk),h_=p.createContext({});function Zk(e,t,n,r,i){var v,_;const{visualElement:o}=p.useContext(ku),a=p.useContext(c_),u=p.useContext(xm),d=p.useContext(l_).reducedMotion,f=p.useRef(null);r=r||a.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=f.current,g=p.useContext(h_);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&Gk(f.current,n,i,g);const b=p.useRef(!1);p.useInsertionEffect(()=>{m&&b.current&&m.update(n,u)});const x=n[f_],w=p.useRef(!!x&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,x))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,x)));return FR(()=>{m&&(b.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Vm.render(m.render),w.current&&m.animationState&&m.animationState.animateChanges())}),p.useEffect(()=>{m&&(!w.current&&m.animationState&&m.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,x)}),w.current=!1))}),m}function Gk(e,t,n,r){const{layoutId:i,layout:o,drag:a,dragConstraints:u,layoutScroll:d,layoutRoot:f,layoutCrossfade:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:m_(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||u&&mo(u),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:f})}function m_(e){if(e)return e.options.allowProjection!==!1?e.projection:m_(e.parent)}function Yk({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Dk(e);function o(u,d){let f;const m={...p.useContext(l_),...u,layoutId:Kk(u)},{isStatic:g}=m,b=zk(u),x=r(u,g);if(!g&&ym){qk();const w=Xk(m);f=w.MeasureLayout,b.visualElement=Zk(i,x,m,t,w.ProjectionNode)}return l.jsxs(ku.Provider,{value:b,children:[f&&b.visualElement?l.jsx(f,{visualElement:b.visualElement,...m}):null,n(i,u,Uk(x,b.visualElement,d),x,g,b.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const a=p.forwardRef(o);return a[Wk]=i,a}function Kk({layoutId:e}){const t=p.useContext(v0).id;return t&&e!==void 0?t+"-"+e:e}function qk(e,t){p.useContext(c_).strict}function Xk(e){const{drag:t,layout:n}=Vo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Wa={};function Jk(e){for(const t in e)Wa[t]=e[t],Tm(t)&&(Wa[t].isCSSVariable=!0)}function p_(e,{layout:t,layoutId:n}){return Xo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Wa[e]||e==="opacity")}const Qk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eA=qo.length;function tA(e,t,n){let r="",i=!0;for(let o=0;o<eA;o++){const a=qo[o],u=e[a];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(a.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const f=r_(u,Fm[a]);if(!d){i=!1;const m=Qk[a]||a;r+=`${m}(${f}) `}n&&(t[a]=f)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Um(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let a=!1,u=!1;for(const d in t){const f=t[d];if(Xo.has(d)){a=!0;continue}else if(Tm(d)){i[d]=f;continue}else{const m=r_(f,Fm[d]);d.startsWith("origin")?(u=!0,o[d]=m):r[d]=m}}if(t.transform||(a||n?r.transform=tA(t,e.transform,n):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:m=0}=o;r.transformOrigin=`${d} ${f} ${m}`}}const Hm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function g_(e,t,n){for(const r in t)!on(t[r])&&!p_(r,n)&&(e[r]=t[r])}function nA({transformTemplate:e},t){return p.useMemo(()=>{const n=Hm();return Um(n,t,e),Object.assign({},n.vars,n.style)},[t])}function rA(e,t){const n=e.style||{},r={};return g_(r,n,e),Object.assign(r,nA(e,t)),r}function iA(e,t){const n={},r=rA(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const sA={offset:"stroke-dashoffset",array:"stroke-dasharray"},oA={offset:"strokeDashoffset",array:"strokeDasharray"};function aA(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?sA:oA;e[o.offset]=Be.transform(-r);const a=Be.transform(t),u=Be.transform(n);e[o.array]=`${a} ${u}`}function v_(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:a=0,...u},d,f,m){if(Um(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:b}=e;g.transform&&(b.transform=g.transform,delete g.transform),(b.transform||g.transformOrigin)&&(b.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),b.transform&&(b.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),i!==void 0&&aA(g,i,o,a,!1)}const y_=()=>({...Hm(),attrs:{}}),x_=e=>typeof e=="string"&&e.toLowerCase()==="svg";function lA(e,t,n,r){const i=p.useMemo(()=>{const o=y_();return v_(o,t,x_(r),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};g_(o,e.style,e),i.style={...o,...i.style}}return i}const cA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zm(e){return typeof e!="string"||e.includes("-")?!1:!!(cA.indexOf(e)>-1||/[A-Z]/u.test(e))}function uA(e=!1){return(n,r,i,{latestValues:o},a)=>{const d=(Zm(n)?lA:iA)(r,o,a,n),f=Vk(r,typeof n=="string",e),m=n!==p.Fragment?{...f,...d,ref:i}:{},{children:g}=r,b=p.useMemo(()=>on(g)?g.get():g,[g]);return p.createElement(n,{...m,children:b})}}function Tv(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Gm(e,t,n,r){if(typeof t=="function"){const[i,o]=Tv(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=Tv(r);t=t(n!==void 0?n:e.custom,i,o)}return t}function jc(e){return on(e)?e.get():e}function dA({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:fA(n,r,i,e),renderState:t()}}const b_=e=>(t,n)=>{const r=p.useContext(ku),i=p.useContext(xm),o=()=>dA(e,t,r,i);return n?o():LR(o)};function fA(e,t,n,r){const i={},o=r(e,{});for(const b in o)i[b]=jc(o[b]);let{initial:a,animate:u}=e;const d=Iu(e),f=d_(e);t&&f&&!d&&e.inherit!==!1&&(a===void 0&&(a=t.initial),u===void 0&&(u=t.animate));let m=n?n.initial===!1:!1;m=m||a===!1;const g=m?u:a;if(g&&typeof g!="boolean"&&!Au(g)){const b=Array.isArray(g)?g:[g];for(let x=0;x<b.length;x++){const w=Gm(e,b[x]);if(w){const{transitionEnd:v,transition:_,...C}=w;for(const P in C){let E=C[P];if(Array.isArray(E)){const M=m?E.length-1:0;E=E[M]}E!==null&&(i[P]=E)}for(const P in v)i[P]=v[P]}}}return i}function Ym(e,t,n){var o;const{style:r}=e,i={};for(const a in r)(on(r[a])||t.style&&on(t.style[a])||p_(a,e)||((o=n==null?void 0:n.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(i[a]=r[a]);return i}const hA={useVisualState:b_({scrapeMotionValuesFromProps:Ym,createRenderState:Hm})};function __(e,t,n){const r=Ym(e,t,n);for(const i in e)if(on(e[i])||on(t[i])){const o=qo.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}const mA={useVisualState:b_({scrapeMotionValuesFromProps:__,createRenderState:y_})};function pA(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...Zm(r)?mA:hA,preloadedFeatures:e,useRender:uA(i),createVisualElement:t,Component:r};return Yk(a)}}function Ua(e,t,n){const r=e.getProps();return Gm(r,t,n!==void 0?n:r.custom,e)}const rh=e=>Array.isArray(e);function gA(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Fo(n))}function vA(e){return rh(e)?e[e.length-1]||0:e}function yA(e,t){const n=Ua(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const a in o){const u=vA(o[a]);gA(e,a,u)}}function xA(e){return!!(on(e)&&e.add)}function ih(e,t){const n=e.getValue("willChange");if(xA(n))return n.add(t);if(!n&&ci.WillChange){const r=new ci.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function w_(e){return e.props[f_]}const bA=e=>e!==null;function _A(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(bA),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[o]}const wA={type:"spring",stiffness:500,damping:25,restSpeed:10},SA=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),CA={type:"keyframes",duration:.8},PA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},EA=(e,{keyframes:t})=>t.length>2?CA:Xo.has(e)?e.startsWith("scale")?SA(t[1]):wA:PA;function TA({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:u,from:d,elapsed:f,...m}){return!!Object.keys(m).length}const Km=(e,t,n,r={},i,o)=>a=>{const u=Lm(r,e)||{},d=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Ar(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:b=>{t.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{a(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:o?void 0:i};TA(u)||Object.assign(m,EA(e,m)),m.duration&&(m.duration=Ar(m.duration)),m.repeatDelay&&(m.repeatDelay=Ar(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),(ci.instantAnimations||ci.skipAnimations)&&(g=!0,m.duration=0,m.delay=0),m.allowFlatten=!u.type&&!u.ease,g&&!o&&t.get()!==void 0){const b=_A(m.keyframes,u);if(b!==void 0){Et.update(()=>{m.onUpdate(b),m.onComplete()});return}}return u.isSync?new Im(m):new uk(m)};function NA({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function S_(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:a,...u}=t;r&&(o=r);const d=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const m in u){const g=e.getValue(m,e.latestValues[m]??null),b=u[m];if(b===void 0||f&&NA(f,m))continue;const x={delay:n,...Lm(o||{},m)},w=g.get();if(w!==void 0&&!g.isAnimating&&!Array.isArray(b)&&b===w&&!x.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const C=w_(e);if(C){const P=window.MotionHandoffAnimation(C,m,Et);P!==null&&(x.startTime=P,v=!0)}}ih(e,m),g.start(Km(m,g,b,e.shouldReduceMotion&&J0.has(m)?{type:!1}:x,e,v));const _=g.animation;_&&d.push(_)}return a&&Promise.all(d).then(()=>{Et.update(()=>{a&&yA(e,a)})}),d}function sh(e,t,n={}){var d;const r=Ua(e,t,n.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(S_(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:b}=i;return jA(e,t,m+f,g,b,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[f,m]=u==="beforeChildren"?[o,a]:[a,o];return f().then(()=>m())}else return Promise.all([o(),a(n.delay)])}function jA(e,t,n=0,r=0,i=1,o){const a=[],u=(e.variantChildren.size-1)*r,d=i===1?(f=0)=>f*r:(f=0)=>u-f*r;return Array.from(e.variantChildren).sort(MA).forEach((f,m)=>{f.notify("AnimationStart",t),a.push(sh(f,t,{...o,delay:n+d(m)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(a)}function MA(e,t){return e.sortNodePosition(t)}function RA(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>sh(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=sh(e,t,n);else{const i=typeof t=="function"?Ua(e,t,n.custom):t;r=Promise.all(S_(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function C_(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const OA=zm.length;function P_(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?P_(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<OA;n++){const r=zm[n],i=e.props[r];(za(i)||i===!1)&&(t[r]=i)}return t}const kA=[...$m].reverse(),AA=$m.length;function IA(e){return t=>Promise.all(t.map(({animation:n,options:r})=>RA(e,n,r)))}function DA(e){let t=IA(e),n=Nv(),r=!0;const i=d=>(f,m)=>{var b;const g=Ua(e,m,d==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(g){const{transition:x,transitionEnd:w,...v}=g;f={...f,...v,...w}}return f};function o(d){t=d(e)}function a(d){const{props:f}=e,m=P_(e.parent)||{},g=[],b=new Set;let x={},w=1/0;for(let _=0;_<AA;_++){const C=kA[_],P=n[C],E=f[C]!==void 0?f[C]:m[C],M=za(E),T=C===d?P.isActive:null;T===!1&&(w=_);let A=E===m[C]&&E!==f[C]&&M;if(A&&r&&e.manuallyAnimateOnMount&&(A=!1),P.protectedKeys={...x},!P.isActive&&T===null||!E&&!P.prevProp||Au(E)||typeof E=="boolean")continue;const R=LA(P.prevProp,E);let k=R||C===d&&P.isActive&&!A&&M||_>w&&M,U=!1;const X=Array.isArray(E)?E:[E];let re=X.reduce(i(C),{});T===!1&&(re={});const{prevResolvedValues:z={}}=P,ne={...z,...re},J=G=>{k=!0,b.has(G)&&(U=!0,b.delete(G)),P.needsAnimating[G]=!0;const $=e.getValue(G);$&&($.liveStyle=!1)};for(const G in ne){const $=re[G],V=z[G];if(x.hasOwnProperty(G))continue;let Y=!1;rh($)&&rh(V)?Y=!C_($,V):Y=$!==V,Y?$!=null?J(G):b.add(G):$!==void 0&&b.has(G)?J(G):P.protectedKeys[G]=!0}P.prevProp=E,P.prevResolvedValues=re,P.isActive&&(x={...x,...re}),r&&e.blockInitialAnimation&&(k=!1),k&&(!(A&&R)||U)&&g.push(...X.map(G=>({animation:G,options:{type:C}})))}if(b.size){const _={};if(typeof f.initial!="boolean"){const C=Ua(e,Array.isArray(f.initial)?f.initial[0]:f.initial);C&&C.transition&&(_.transition=C.transition)}b.forEach(C=>{const P=e.getBaseTarget(C),E=e.getValue(C);E&&(E.liveStyle=!0),_[C]=P??null}),g.push({animation:_})}let v=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(g):Promise.resolve()}function u(d,f){var g;if(n[d].isActive===f)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(b=>{var x;return(x=b.animationState)==null?void 0:x.setActive(d,f)}),n[d].isActive=f;const m=a(d);for(const b in n)n[b].protectedKeys={};return m}return{animateChanges:a,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Nv(),r=!0}}}function LA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!C_(t,e):!1}function cs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Nv(){return{animate:cs(!0),whileInView:cs(),whileHover:cs(),whileTap:cs(),whileDrag:cs(),whileFocus:cs(),exit:cs()}}class Hi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class FA extends Hi{constructor(t){super(t),t.animationState||(t.animationState=DA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Au(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let VA=0;class BA extends Hi{constructor(){super(...arguments),this.id=VA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const $A={animation:{Feature:FA},exit:{Feature:BA}};function Ha(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function xl(e){return{point:{x:e.pageX,y:e.pageY}}}const zA=e=>t=>Bm(t)&&e(t,xl(t));function Ma(e,t,n,r){return Ha(e,t,zA(n),r)}function E_({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function WA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function UA(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const T_=1e-4,HA=1-T_,ZA=1+T_,N_=.01,GA=0-N_,YA=0+N_;function pn(e){return e.max-e.min}function KA(e,t,n){return Math.abs(e-t)<=n}function jv(e,t,n,r=.5){e.origin=r,e.originPoint=Pt(t.min,t.max,e.origin),e.scale=pn(n)/pn(t),e.translate=Pt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=HA&&e.scale<=ZA||isNaN(e.scale))&&(e.scale=1),(e.translate>=GA&&e.translate<=YA||isNaN(e.translate))&&(e.translate=0)}function Ra(e,t,n,r){jv(e.x,t.x,n.x,r?r.originX:void 0),jv(e.y,t.y,n.y,r?r.originY:void 0)}function Mv(e,t,n){e.min=n.min+t.min,e.max=e.min+pn(t)}function qA(e,t,n){Mv(e.x,t.x,n.x),Mv(e.y,t.y,n.y)}function Rv(e,t,n){e.min=t.min-n.min,e.max=e.min+pn(t)}function Oa(e,t,n){Rv(e.x,t.x,n.x),Rv(e.y,t.y,n.y)}const Ov=()=>({translate:0,scale:1,origin:0,originPoint:0}),po=()=>({x:Ov(),y:Ov()}),kv=()=>({min:0,max:0}),At=()=>({x:kv(),y:kv()});function Yn(e){return[e("x"),e("y")]}function Gd(e){return e===void 0||e===1}function oh({scale:e,scaleX:t,scaleY:n}){return!Gd(e)||!Gd(t)||!Gd(n)}function us(e){return oh(e)||j_(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function j_(e){return Av(e.x)||Av(e.y)}function Av(e){return e&&e!=="0%"}function qc(e,t,n){const r=e-n,i=t*r;return n+i}function Iv(e,t,n,r,i){return i!==void 0&&(e=qc(e,i,r)),qc(e,n,r)+t}function ah(e,t=0,n=1,r,i){e.min=Iv(e.min,t,n,r,i),e.max=Iv(e.max,t,n,r,i)}function M_(e,{x:t,y:n}){ah(e.x,t.translate,t.scale,t.originPoint),ah(e.y,n.translate,n.scale,n.originPoint)}const Dv=.999999999999,Lv=1.0000000000001;function XA(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,a;for(let u=0;u<i;u++){o=n[u],a=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&vo(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,M_(e,a)),r&&us(o.latestValues)&&vo(e,o.latestValues))}t.x<Lv&&t.x>Dv&&(t.x=1),t.y<Lv&&t.y>Dv&&(t.y=1)}function go(e,t){e.min=e.min+t,e.max=e.max+t}function Fv(e,t,n,r,i=.5){const o=Pt(e.min,e.max,i);ah(e,t,n,o,r)}function vo(e,t){Fv(e.x,t.x,t.scaleX,t.scale,t.originX),Fv(e.y,t.y,t.scaleY,t.scale,t.originY)}function R_(e,t){return E_(UA(e.getBoundingClientRect(),t))}function JA(e,t,n){const r=R_(e,n),{scroll:i}=t;return i&&(go(r.x,i.offset.x),go(r.y,i.offset.y)),r}const O_=({current:e})=>e?e.ownerDocument.defaultView:null,Vv=(e,t)=>Math.abs(e-t);function QA(e,t){const n=Vv(e.x,t.x),r=Vv(e.y,t.y);return Math.sqrt(n**2+r**2)}class k_{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Kd(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,x=QA(g.offset,{x:0,y:0})>=3;if(!b&&!x)return;const{point:w}=g,{timestamp:v}=Yt;this.history.push({...w,timestamp:v});const{onStart:_,onMove:C}=this.handlers;b||(_&&_(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Yd(b,this.transformPagePoint),Et.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:x,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Kd(g.type==="pointercancel"?this.lastMoveEventInfo:Yd(b,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,_),w&&w(g,_)},!Bm(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=xl(t),u=Yd(a,this.transformPagePoint),{point:d}=u,{timestamp:f}=Yt;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=n;m&&m(t,Kd(u,this.history)),this.removeListeners=gl(Ma(this.contextWindow,"pointermove",this.handlePointerMove),Ma(this.contextWindow,"pointerup",this.handlePointerUp),Ma(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Vi(this.updatePoint)}}function Yd(e,t){return t?{point:t(e.point)}:e}function Bv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Kd({point:e},t){return{point:e,delta:Bv(e,A_(t)),offset:Bv(e,eI(t)),velocity:tI(t,.1)}}function eI(e){return e[0]}function A_(e){return e[e.length-1]}function tI(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=A_(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Ar(t)));)n--;if(!r)return{x:0,y:0};const o=Ir(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function nI(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Pt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Pt(n,e,r.max):Math.min(e,n)),e}function $v(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function rI(e,{top:t,left:n,bottom:r,right:i}){return{x:$v(e.x,n,i),y:$v(e.y,t,r)}}function zv(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function iI(e,t){return{x:zv(e.x,t.x),y:zv(e.y,t.y)}}function sI(e,t){let n=.5;const r=pn(e),i=pn(t);return i>r?n=Va(t.min,t.max-r,e.min):r>i&&(n=Va(e.min,e.max-i,t.min)),li(0,1,n)}function oI(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const lh=.35;function aI(e=lh){return e===!1?e=0:e===!0&&(e=lh),{x:Wv(e,"left","right"),y:Wv(e,"top","bottom")}}function Wv(e,t,n){return{min:Uv(e,t),max:Uv(e,n)}}function Uv(e,t){return typeof e=="number"?e:e[t]||0}const lI=new WeakMap;class cI{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=At(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xl(m).point)},o=(m,g)=>{const{drag:b,dragPropagation:x,onDragStart:w}=this.getProps();if(b&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ek(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yn(_=>{let C=this.getAxisMotionValue(_).get()||0;if(Dr.test(C)){const{projection:P}=this.visualElement;if(P&&P.layout){const E=P.layout.layoutBox[_];E&&(C=pn(E)*(parseFloat(C)/100))}}this.originPoint[_]=C}),w&&Et.postRender(()=>w(m,g)),ih(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(m,g)=>{const{dragPropagation:b,dragDirectionLock:x,onDirectionLock:w,onDrag:v}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:_}=g;if(x&&this.currentDirection===null){this.currentDirection=uI(_),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,_),this.updateAxis("y",g.point,_),this.visualElement.render(),v&&v(m,g)},u=(m,g)=>this.stop(m,g),d=()=>Yn(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new k_(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:O_(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Et.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!dc(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=nI(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;t&&mo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=rI(r.layoutBox,t):this.constraints=!1,this.elastic=aI(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Yn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=oI(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!mo(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=JA(r,i.root,this.visualElement.getTransformPagePoint());let a=iI(i.layout.layoutBox,o);if(n){const u=n(WA(a));this.hasMutatedConstraints=!!u,u&&(a=E_(u))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=Yn(m=>{if(!dc(m,n,this.currentDirection))return;let g=d&&d[m]||{};a&&(g={min:0,max:0});const b=i?200:1e6,x=i?40:1e7,w={type:"inertia",velocity:r?t[m]:0,bounceStiffness:b,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(m,w)});return Promise.all(f).then(u)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return ih(this.visualElement,t),r.start(Km(t,r,0,n,this.visualElement,!1))}stopAnimation(){Yn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Yn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Yn(n=>{const{drag:r}=this.getProps();if(!dc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:u}=i.layout.layoutBox[n];o.set(t[n]-Pt(a,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!mo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Yn(a=>{const u=this.getAxisMotionValue(a);if(u&&this.constraints!==!1){const d=u.get();i[a]=sI({min:d,max:d},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Yn(a=>{if(!dc(a,t,null))return;const u=this.getAxisMotionValue(a),{min:d,max:f}=this.constraints[a];u.set(Pt(d,f,i[a]))})}addListeners(){if(!this.visualElement.current)return;lI.set(this.visualElement,this);const t=this.visualElement.current,n=Ma(t,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();mo(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Et.read(r);const a=Ha(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Yn(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=d[m].translate,g.set(g.get()+d[m].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=lh,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:u}}}function dc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function uI(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class dI extends Hi{constructor(t){super(t),this.removeGroupControls=Xn,this.removeListeners=Xn,this.controls=new cI(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Hv=e=>(t,n)=>{e&&Et.postRender(()=>e(t,n))};class fI extends Hi{constructor(){super(...arguments),this.removePointerDownListener=Xn}onPointerDown(t){this.session=new k_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:O_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Hv(t),onStart:Hv(n),onMove:r,onEnd:(o,a)=>{delete this.session,i&&Et.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=Ma(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Mc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const pa={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Be.test(e))e=parseFloat(e);else return e;const n=Zv(e,t.target.x),r=Zv(e,t.target.y);return`${n}% ${r}%`}},hI={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Bi.parse(e);if(i.length>5)return r;const o=Bi.createTransformer(e),a=typeof i[0]!="number"?1:0,u=n.x.scale*t.x,d=n.y.scale*t.y;i[0+a]/=u,i[1+a]/=d;const f=Pt(u,d,.5);return typeof i[2+a]=="number"&&(i[2+a]/=f),typeof i[3+a]=="number"&&(i[3+a]/=f),o(i)}};class mI extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;Jk(pI),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Mc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:a}=r;return a&&(a.isPresent=o,i||t.layoutDependency!==n||n===void 0||t.isPresent!==o?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||Et.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Vm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function I_(e){const[t,n]=Ik(),r=p.useContext(v0);return l.jsx(mI,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(h_),isPresent:t,safeToRemove:n})}const pI={borderRadius:{...pa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pa,borderTopRightRadius:pa,borderBottomLeftRadius:pa,borderBottomRightRadius:pa,boxShadow:hI};function gI(e,t,n){const r=on(e)?e:Fo(e);return r.start(Km("",r,t,n)),r.animation}const vI=(e,t)=>e.depth-t.depth;class yI{constructor(){this.children=[],this.isDirty=!1}add(t){bm(this.children,t),this.isDirty=!0}remove(t){_m(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(vI),this.isDirty=!1,this.children.forEach(t)}}function xI(e,t){const n=Pn.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Vi(r),e(o-t))};return Et.setup(r,!0),()=>Vi(r)}const D_=["TopLeft","TopRight","BottomLeft","BottomRight"],bI=D_.length,Gv=e=>typeof e=="string"?parseFloat(e):e,Yv=e=>typeof e=="number"||Be.test(e);function _I(e,t,n,r,i,o){i?(e.opacity=Pt(0,n.opacity??1,wI(r)),e.opacityExit=Pt(t.opacity??1,0,SI(r))):o&&(e.opacity=Pt(t.opacity??1,n.opacity??1,r));for(let a=0;a<bI;a++){const u=`border${D_[a]}Radius`;let d=Kv(t,u),f=Kv(n,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||Yv(d)===Yv(f)?(e[u]=Math.max(Pt(Gv(d),Gv(f),r),0),(Dr.test(f)||Dr.test(d))&&(e[u]+="%")):e[u]=f}(t.rotate||n.rotate)&&(e.rotate=Pt(t.rotate||0,n.rotate||0,r))}function Kv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const wI=L_(0,.5,N0),SI=L_(.5,.95,Xn);function L_(e,t,n){return r=>r<e?0:r>t?1:n(Va(e,t,r))}function qv(e,t){e.min=t.min,e.max=t.max}function Gn(e,t){qv(e.x,t.x),qv(e.y,t.y)}function Xv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Jv(e,t,n,r,i){return e-=t,e=qc(e,1/n,r),i!==void 0&&(e=qc(e,1/i,r)),e}function CI(e,t=0,n=1,r=.5,i,o=e,a=e){if(Dr.test(t)&&(t=parseFloat(t),t=Pt(a.min,a.max,t/100)-a.min),typeof t!="number")return;let u=Pt(o.min,o.max,r);e===o&&(u-=t),e.min=Jv(e.min,t,n,u,i),e.max=Jv(e.max,t,n,u,i)}function Qv(e,t,[n,r,i],o,a){CI(e,t[n],t[r],t[i],t.scale,o,a)}const PI=["x","scaleX","originX"],EI=["y","scaleY","originY"];function ey(e,t,n,r){Qv(e.x,t,PI,n?n.x:void 0,r?r.x:void 0),Qv(e.y,t,EI,n?n.y:void 0,r?r.y:void 0)}function ty(e){return e.translate===0&&e.scale===1}function F_(e){return ty(e.x)&&ty(e.y)}function ny(e,t){return e.min===t.min&&e.max===t.max}function TI(e,t){return ny(e.x,t.x)&&ny(e.y,t.y)}function ry(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function V_(e,t){return ry(e.x,t.x)&&ry(e.y,t.y)}function iy(e){return pn(e.x)/pn(e.y)}function sy(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class NI{constructor(){this.members=[]}add(t){bm(this.members,t),t.scheduleRender()}remove(t){if(_m(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jI(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((i||o||a)&&(r=`translate3d(${i}px, ${o}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:g,rotateY:b,skewX:x,skewY:w}=n;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),b&&(r+=`rotateY(${b}deg) `),x&&(r+=`skewX(${x}deg) `),w&&(r+=`skewY(${w}deg) `)}const u=e.x.scale*t.x,d=e.y.scale*t.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}const qd=["","X","Y","Z"],MI={visibility:"hidden"},RI=1e3;let OI=0;function Xd(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function B_(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=w_(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Et,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&B_(r)}function $_({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},u=t==null?void 0:t()){this.id=OI++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(II),this.nodes.forEach(BI),this.nodes.forEach($I),this.nodes.forEach(DI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new yI)}addEventListener(a,u){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Cm),this.eventHandlers.get(a).add(u)}notifyListeners(a,...u){const d=this.eventHandlers.get(a);d&&d.notify(...u)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=a_(a)&&!Ok(a),this.instance=a;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),e){let m;const g=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=xI(g,250),Mc.hasAnimatedSinceResize&&(Mc.hasAnimatedSinceResize=!1,this.nodes.forEach(ay))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||ZI,{onLayoutAnimationStart:v,onLayoutAnimationComplete:_}=f.getProps(),C=!this.targetLayout||!V_(this.targetLayout,x),P=!g&&b;if(this.options.layoutRoot||this.resumeFrom||P||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...Lm(w,"layout"),onPlay:v,onComplete:_};(f.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(m,P)}else g||ay(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zI),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&B_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oy);return}this.isUpdating||this.nodes.forEach(FI),this.isUpdating=!1,this.nodes.forEach(VI),this.nodes.forEach(kI),this.nodes.forEach(AI),this.clearAllSnapshots();const u=Pn.now();Yt.delta=li(0,1e3/60,u-Yt.timestamp),Yt.timestamp=u,Yt.isProcessing=!0,zd.update.process(Yt),zd.preRender.process(Yt),zd.render.process(Yt),Yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(LI),this.sharedNodes.forEach(WI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=At(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(u=!1),u&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!F_(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;a&&this.instance&&(u||us(this.latestValues)||m)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return a&&(d=this.removeTransform(d)),GI(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:a}=this.options;if(!a)return At();const u=a.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(YI))){const{scroll:m}=this.root;m&&(go(u.x,m.offset.x),go(u.y,m.offset.y))}return u}removeElementScroll(a){var d;const u=At();if(Gn(u,a),(d=this.scroll)!=null&&d.wasRoot)return u;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:g,options:b}=m;m!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&Gn(u,a),go(u.x,g.offset.x),go(u.y,g.offset.y))}return u}applyTransform(a,u=!1){const d=At();Gn(d,a);for(let f=0;f<this.path.length;f++){const m=this.path[f];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&vo(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),us(m.latestValues)&&vo(d,m.latestValues)}return us(this.latestValues)&&vo(d,this.latestValues),d}removeTransform(a){const u=At();Gn(u,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!us(f.latestValues))continue;oh(f.latestValues)&&f.updateSnapshot();const m=At(),g=f.measurePageBox();Gn(m,g),ey(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return us(this.latestValues)&&ey(u,this.latestValues),u}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var b;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=Yt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),Oa(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=At(),this.targetWithTransforms=At()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),M_(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),Oa(this.relativeTargetOrigin,this.target,x.target),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||oh(this.parent.latestValues)||j_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Yt.timestamp&&(d=!1),d)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;Gn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;XA(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=At());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Xv(this.prevProjectionDelta.x,this.projectionDelta.x),Xv(this.prevProjectionDelta.y,this.projectionDelta.y)),Ra(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!sy(this.projectionDelta.x,this.prevProjectionDelta.x)||!sy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),a){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=po(),this.projectionDelta=po(),this.projectionDeltaWithTransform=po()}setAnimationOrigin(a,u=!1){const d=this.snapshot,f=d?d.latestValues:{},m={...this.latestValues},g=po();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=At(),x=d?d.source:void 0,w=this.layout?this.layout.source:void 0,v=x!==w,_=this.getStack(),C=!_||_.members.length<=1,P=!!(v&&!C&&this.options.crossfade===!0&&!this.path.some(HI));this.animationProgress=0;let E;this.mixTargetDelta=M=>{const T=M/1e3;ly(g.x,a.x,T),ly(g.y,a.y,T),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Oa(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),UI(this.relativeTarget,this.relativeTargetOrigin,b,T),E&&TI(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=At()),Gn(E,this.relativeTarget)),v&&(this.animationValues=m,_I(m,f,this.latestValues,T,P,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var u,d,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Vi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Et.update(()=>{Mc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fo(0)),this.currentAnimation=gI(this.motionValue,[0,1e3],{...a,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),a.onUpdate&&a.onUpdate(m)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(RI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:m}=a;if(!(!u||!d||!f)){if(this!==a&&this.layout&&f&&z_(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||At();const g=pn(this.layout.layoutBox.x);d.x.min=a.target.x.min,d.x.max=d.x.min+g;const b=pn(this.layout.layoutBox.y);d.y.min=a.target.y.min,d.y.max=d.y.min+b}Gn(u,d),vo(u,m),Ra(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(a,u){this.sharedNodes.has(a)||this.sharedNodes.set(a,new NI),this.sharedNodes.get(a).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var u;const{layoutId:a}=this.options;return a?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:a}=this.options;return a?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),a&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let u=!1;const{latestValues:d}=a;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const f={};d.z&&Xd("z",a,f,this.animationValues);for(let m=0;m<qd.length;m++)Xd(`rotate${qd[m]}`,a,f,this.animationValues),Xd(`skew${qd[m]}`,a,f,this.animationValues);a.render();for(const m in f)a.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return MI;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=jc(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=jc(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!us(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=jI(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:g,y:b}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,f.animationValues?u.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const x in Wa){if(m[x]===void 0)continue;const{correct:w,applyTo:v,isCSSVariable:_}=Wa[x],C=u.transform==="none"?m[x]:w(m[x],f);if(v){const P=v.length;for(let E=0;E<P;E++)u[v[E]]=C}else _?this.options.visualElement.renderState.vars[x]=C:u[x]=C}return this.options.layoutId&&(u.pointerEvents=f===this?jc(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var u;return(u=a.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(oy),this.root.sharedNodes.clear()}}}function kI(e){e.updateLayout()}function AI(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,a=t.source!==e.layout.source;o==="size"?Yn(g=>{const b=a?t.measuredBox[g]:t.layoutBox[g],x=pn(b);b.min=r[g].min,b.max=b.min+x}):z_(o,t.layoutBox,r)&&Yn(g=>{const b=a?t.measuredBox[g]:t.layoutBox[g],x=pn(r[g]);b.max=b.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+x)});const u=po();Ra(u,r,t.layoutBox);const d=po();a?Ra(d,e.applyTransform(i,!0),t.measuredBox):Ra(d,r,t.layoutBox);const f=!F_(u);let m=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:x}=g;if(b&&x){const w=At();Oa(w,t.layoutBox,b.layoutBox);const v=At();Oa(v,r,x.layoutBox),V_(w,v)||(m=!0),g.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=w,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:d,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function II(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function DI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function LI(e){e.clearSnapshot()}function oy(e){e.clearMeasurements()}function FI(e){e.isLayoutDirty=!1}function VI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ay(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function BI(e){e.resolveTargetDelta()}function $I(e){e.calcProjection()}function zI(e){e.resetSkewAndRotation()}function WI(e){e.removeLeadSnapshot()}function ly(e,t,n){e.translate=Pt(t.translate,0,n),e.scale=Pt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function cy(e,t,n,r){e.min=Pt(t.min,n.min,r),e.max=Pt(t.max,n.max,r)}function UI(e,t,n,r){cy(e.x,t.x,n.x,r),cy(e.y,t.y,n.y,r)}function HI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ZI={duration:.45,ease:[.4,0,.1,1]},uy=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),dy=uy("applewebkit/")&&!uy("chrome/")?Math.round:Xn;function fy(e){e.min=dy(e.min),e.max=dy(e.max)}function GI(e){fy(e.x),fy(e.y)}function z_(e,t,n){return e==="position"||e==="preserve-aspect"&&!KA(iy(t),iy(n),.2)}function YI(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const KI=$_({attachResizeListener:(e,t)=>Ha(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jd={current:void 0},W_=$_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Jd.current){const e=new KI({});e.mount(window),e.setOptions({layoutScroll:!0}),Jd.current=e}return Jd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),qI={pan:{Feature:fI},drag:{Feature:dI,ProjectionNode:W_,MeasureLayout:I_}};function hy(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Et.postRender(()=>o(t,xl(t)))}class XI extends Hi{mount(){const{current:t}=this.node;t&&(this.unmount=Tk(t,(n,r)=>(hy(this.node,r,"Start"),i=>hy(this.node,i,"End"))))}unmount(){}}class JI extends Hi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gl(Ha(this.node.current,"focus",()=>this.onFocus()),Ha(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function my(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Et.postRender(()=>o(t,xl(t)))}class QI extends Hi{mount(){const{current:t}=this.node;t&&(this.unmount=Rk(t,(n,r)=>(my(this.node,r,"Start"),(i,{success:o})=>my(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ch=new WeakMap,Qd=new WeakMap,eD=e=>{const t=ch.get(e.target);t&&t(e)},tD=e=>{e.forEach(eD)};function nD({root:e,...t}){const n=e||document;Qd.has(n)||Qd.set(n,{});const r=Qd.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(tD,{root:e,...t})),r[i]}function rD(e,t,n){const r=nD(t);return ch.set(e,n),r.observe(e),()=>{ch.delete(e),r.unobserve(e)}}const iD={some:0,all:1};class sD extends Hi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:iD[i]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),b=f?m:g;b&&b(d)};return rD(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(oD(t,n))&&this.startObserver()}unmount(){}}function oD({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const aD={inView:{Feature:sD},tap:{Feature:QI},focus:{Feature:JI},hover:{Feature:XI}},lD={layout:{ProjectionNode:W_,MeasureLayout:I_}},uh={current:null},U_={current:!1};function cD(){if(U_.current=!0,!!ym)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>uh.current=e.matches;e.addListener(t),t()}else uh.current=!1}const uD=new WeakMap;function dD(e,t,n){for(const r in t){const i=t[r],o=n[r];if(on(i))e.addValue(r,i);else if(on(o))e.addValue(r,Fo(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(r);e.addValue(r,Fo(a!==void 0?a:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const py=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fD{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Pn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Et.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=a;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Iu(n),this.isVariantNode=d_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in g){const x=g[b];d[b]!==void 0&&on(x)&&x.set(d[b],!1)}}mount(t){this.current=t,uD.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),U_.current||cD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vi(this.notifyUpdate),Vi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Xo.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&Et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Vo){const n=Vo[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):At()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<py.length;r++){const i=py[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,a=t[o];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=dD(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Fo(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(y0(r)||b0(r))?r=parseFloat(r):!Ak(r)&&Bi.test(n)&&(r=n_(t,n)),this.setBaseTarget(t,on(r)?r.get():r)),on(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Gm(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!on(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Cm),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class H_ extends fD{constructor(){super(...arguments),this.KeyframeResolver=wk}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;on(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Z_(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}function hD(e){return window.getComputedStyle(e)}class mD extends H_{constructor(){super(...arguments),this.type="html",this.renderInstance=Z_}readValueFromInstance(t,n){var r;if(Xo.has(n))return(r=this.projection)!=null&&r.isProjecting?Xf(n):$O(t,n);{const i=hD(t),o=(Tm(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return R_(t,n)}build(t,n,r){Um(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Ym(t,n,r)}}const G_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pD(e,t,n,r){Z_(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(G_.has(i)?i:Wm(i),t.attrs[i])}class gD extends H_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=At}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Xo.has(n)){const r=t_(n);return r&&r.default||0}return n=G_.has(n)?n:Wm(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return __(t,n,r)}build(t,n,r){v_(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){pD(t,n,r,i)}mount(t){this.isSVGTag=x_(t.tagName),super.mount(t)}}const vD=(e,t)=>Zm(e)?new gD(t):new mD(t,{allowProjection:e!==p.Fragment}),yD=pA({...$A,...aD,...qI,...lD},vD),Cn=Bk(yD);function xD(){const e=yr(),{user:t}=fi();return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50",children:l.jsxs("div",{className:"container mx-auto py-8 sm:py-12 px-2 sm:px-4",children:[l.jsxs(Cn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-10 sm:mb-16",children:[l.jsx("div",{className:"flex justify-center mb-4 sm:mb-6",children:l.jsxs(Cn.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.5,delay:.2},className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-green-500 rounded-full blur-xl opacity-20 animate-pulse"}),l.jsx(Su,{className:"w-16 h-16 sm:w-24 sm:h-24 text-blue-600 relative z-10"})]})}),l.jsx(Cn.h1,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"text-4xl sm:text-6xl font-bold mb-4 sm:mb-6 bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Eravat"}),l.jsx(Cn.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"text-base sm:text-xl text-gray-600 max-w-2xl mx-auto",children:"Advanced Elephant Monitoring & Conservation Platform"})]}),t&&t.role!=="data_collector"&&l.jsx(Cn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"mb-8 sm:mb-12 text-center",children:l.jsx(Le,{className:"bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700 text-white font-semibold py-2 sm:py-3 px-6 sm:px-8 rounded-xl text-base sm:text-lg shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>e("/admin"),children:"Access Admin Panel"})}),l.jsxs(Cn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"grid grid-cols-1 gap-6 sm:grid-cols-2 sm:gap-8 max-w-4xl mx-auto",children:[l.jsxs(Ke,{className:"hover:shadow-xl transition-all duration-300 bg-white border-0 rounded-2xl overflow-hidden group",children:[l.jsx(pt,{className:"bg-gradient-to-r from-blue-50 to-blue-100",children:l.jsxs(gt,{className:"text-blue-800 flex items-center gap-2 text-lg sm:text-xl",children:[l.jsx(Gh,{className:"w-5 h-5"}),"Dashboard"]})}),l.jsxs(Xe,{className:"p-4 sm:p-6",children:[l.jsx("p",{className:"text-gray-600 mb-4 sm:mb-6 text-sm sm:text-base",children:"View comprehensive statistics and recent observations in real-time"}),l.jsx(Le,{className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-xl py-4 sm:py-6 text-base sm:text-lg font-semibold transition-all duration-300 group-hover:scale-[1.02]",onClick:()=>e("/dashboard"),children:"Go to Dashboard"})]})]}),l.jsxs(Ke,{className:"hover:shadow-xl transition-all duration-300 bg-white border-0 rounded-2xl overflow-hidden group",children:[l.jsx(pt,{className:"bg-gradient-to-r from-green-50 to-green-100",children:l.jsxs(gt,{className:"text-green-800 flex items-center gap-2 text-lg sm:text-xl",children:[l.jsx(_o,{className:"w-5 h-5"}),"Report Activity"]})}),l.jsxs(Xe,{className:"p-4 sm:p-6",children:[l.jsx("p",{className:"text-gray-600 mb-4 sm:mb-6 text-sm sm:text-base",children:"Report new elephant sightings or activities in your area"}),l.jsx(Le,{className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-xl py-4 sm:py-6 text-base sm:text-lg font-semibold transition-all duration-300 group-hover:scale-[1.02]",onClick:()=>e("/report"),children:"Report Activity"})]})]})]})]})})}const bD=()=>{const e=Bh();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var _D=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Y_=_D.reduce((e,t)=>{const n=Ps(`Primitive.${t}`),r=p.forwardRef((i,o)=>{const{asChild:a,...u}=i,d=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(d,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),qm="Progress",Xm=100,[wD,OU]=Bt(qm),[SD,CD]=wD(qm),K_=p.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:o=PD,...a}=e;(i||i===0)&&!gy(i)&&console.error(ED(`${i}`,"Progress"));const u=gy(i)?i:Xm;r!==null&&!vy(r,u)&&console.error(TD(`${r}`,"Progress"));const d=vy(r,u)?r:null,f=Xc(d)?o(d,u):void 0;return l.jsx(SD,{scope:n,value:d,max:u,children:l.jsx(Y_.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":Xc(d)?d:void 0,"aria-valuetext":f,role:"progressbar","data-state":J_(d,u),"data-value":d??void 0,"data-max":u,...a,ref:t})})});K_.displayName=qm;var q_="ProgressIndicator",X_=p.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=CD(q_,n);return l.jsx(Y_.div,{"data-state":J_(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});X_.displayName=q_;function PD(e,t){return`${Math.round(e/t*100)}%`}function J_(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Xc(e){return typeof e=="number"}function gy(e){return Xc(e)&&!isNaN(e)&&e>0}function vy(e,t){return Xc(e)&&!isNaN(e)&&e<=t&&e>=0}function ED(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Xm}\`.`}function TD(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Xm} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Q_=K_,ND=X_;const Jm=p.forwardRef(({className:e,value:t,...n},r)=>l.jsx(Q_,{ref:r,className:Me("relative h-2 w-full overflow-hidden rounded-full bg-gray-200 dark:bg-gray-800",e),...n,children:l.jsx(ND,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Jm.displayName=Q_.displayName;var rt;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const o={};for(const a of i)o[a]=a;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),a={};for(const u of o)a[u]=i[u];return e.objectValues(a)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&o.push(a);return o},e.find=(i,o)=>{for(const a of i)if(o(a))return a},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(rt||(rt={}));var dh;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(dh||(dh={}));const we=rt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ei=e=>{switch(typeof e){case"undefined":return we.undefined;case"string":return we.string;case"number":return isNaN(e)?we.nan:we.number;case"boolean":return we.boolean;case"function":return we.function;case"bigint":return we.bigint;case"symbol":return we.symbol;case"object":return Array.isArray(e)?we.array:e===null?we.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?we.promise:typeof Map<"u"&&e instanceof Map?we.map:typeof Set<"u"&&e instanceof Set?we.set:typeof Date<"u"&&e instanceof Date?we.date:we.object;default:return we.unknown}},ge=rt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),jD=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Vn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const a of o.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let u=r,d=0;for(;d<a.path.length;){const f=a.path[d];d===a.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(n(a))):u[f]=u[f]||{_errors:[]},u=u[f],d++}}};return i(this),r}static assert(t){if(!(t instanceof Vn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,rt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Vn.create=e=>new Vn(e);const Bo=(e,t)=>{let n;switch(e.code){case ge.invalid_type:e.received===we.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ge.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,rt.jsonStringifyReplacer)}`;break;case ge.unrecognized_keys:n=`Unrecognized key(s) in object: ${rt.joinValues(e.keys,", ")}`;break;case ge.invalid_union:n="Invalid input";break;case ge.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${rt.joinValues(e.options)}`;break;case ge.invalid_enum_value:n=`Invalid enum value. Expected ${rt.joinValues(e.options)}, received '${e.received}'`;break;case ge.invalid_arguments:n="Invalid function arguments";break;case ge.invalid_return_type:n="Invalid function return type";break;case ge.invalid_date:n="Invalid date";break;case ge.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:rt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ge.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ge.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ge.custom:n="Invalid input";break;case ge.invalid_intersection_types:n="Intersection results could not be merged";break;case ge.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ge.not_finite:n="Number must be finite";break;default:n=t.defaultError,rt.assertNever(e)}return{message:n}};let ew=Bo;function MD(e){ew=e}function Jc(){return ew}const Qc=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],a={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let u="";const d=r.filter(f=>!!f).slice().reverse();for(const f of d)u=f(a,{data:t,defaultError:u}).message;return{...i,path:o,message:u}},RD=[];function be(e,t){const n=Jc(),r=Qc({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Bo?void 0:Bo].filter(i=>!!i)});e.common.issues.push(r)}class an{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return We;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const o=await i.key,a=await i.value;r.push({key:o,value:a})}return an.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:o,value:a}=i;if(o.status==="aborted"||a.status==="aborted")return We;o.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[o.value]=a.value)}return{status:t.value,value:r}}}const We=Object.freeze({status:"aborted"}),yo=e=>({status:"dirty",value:e}),gn=e=>({status:"valid",value:e}),fh=e=>e.status==="aborted",hh=e=>e.status==="dirty",Ts=e=>e.status==="valid",Za=e=>typeof Promise<"u"&&e instanceof Promise;function eu(e,t,n,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function tw(e,t,n,r,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Ne;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ne||(Ne={}));var _a,wa;class Br{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const yy=(e,t)=>{if(Ts(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Vn(e.common.issues);return this._error=n,this._error}}};function qe(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(a,u)=>{var d,f;const{message:m}=e;return a.code==="invalid_enum_value"?{message:m??u.defaultError}:typeof u.data>"u"?{message:(d=m??r)!==null&&d!==void 0?d:u.defaultError}:a.code!=="invalid_type"?{message:u.defaultError}:{message:(f=m??n)!==null&&f!==void 0?f:u.defaultError}},description:i}}class Je{get description(){return this._def.description}_getType(t){return ei(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ei(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new an,ctx:{common:t.parent.common,data:t.data,parsedType:ei(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Za(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ei(t)},o=this._parseSync({data:t,path:i.path,parent:i});return yy(i,o)}"~validate"(t){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ei(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:i});return Ts(o)?{value:o.value}:{issues:i.common.issues}}catch(o){!((r=(n=o==null?void 0:o.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(o=>Ts(o)?{value:o.value}:{issues:i.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ei(t)},i=this._parse({data:t,path:r.path,parent:r}),o=await(Za(i)?i:Promise.resolve(i));return yy(r,o)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const a=t(i),u=()=>o.addIssue({code:ge.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(d=>d?!0:(u(),!1)):a?!0:(u(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new pr({schema:this,typeName:Fe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Lr.create(this,this._def)}nullable(){return Ui.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fr.create(this)}promise(){return zo.create(this,this._def)}or(t){return qa.create([this,t],this._def)}and(t){return Xa.create(this,t,this._def)}transform(t){return new pr({...qe(this._def),schema:this,typeName:Fe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new nl({...qe(this._def),innerType:this,defaultValue:n,typeName:Fe.ZodDefault})}brand(){return new Qm({typeName:Fe.ZodBranded,type:this,...qe(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new rl({...qe(this._def),innerType:this,catchValue:n,typeName:Fe.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return bl.create(this,t)}readonly(){return il.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const OD=/^c[^\s-]{8,}$/i,kD=/^[0-9a-z]+$/,AD=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ID=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,DD=/^[a-z0-9_-]{21}$/i,LD=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,FD=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,VD=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,BD="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ef;const $D=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,WD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,UD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,HD=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ZD=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nw="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",GD=new RegExp(`^${nw}$`);function rw(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function YD(e){return new RegExp(`^${rw(e)}$`)}function iw(e){let t=`${nw}T${rw(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function KD(e,t){return!!((t==="v4"||!t)&&$D.test(e)||(t==="v6"||!t)&&WD.test(e))}function qD(e,t){if(!LD.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||t&&i.alg!==t)}catch{return!1}}function XD(e,t){return!!((t==="v4"||!t)&&zD.test(e)||(t==="v6"||!t)&&UD.test(e))}class dr extends Je{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==we.string){const o=this._getOrReturnCtx(t);return be(o,{code:ge.invalid_type,expected:we.string,received:o.parsedType}),We}const r=new an;let i;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),be(i,{code:ge.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),be(i,{code:ge.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const a=t.data.length>o.value,u=t.data.length<o.value;(a||u)&&(i=this._getOrReturnCtx(t,i),a?be(i,{code:ge.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&be(i,{code:ge.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")VD.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"email",code:ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")ef||(ef=new RegExp(BD,"u")),ef.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"emoji",code:ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")ID.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"uuid",code:ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")DD.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"nanoid",code:ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")OD.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"cuid",code:ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")kD.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"cuid2",code:ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")AD.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"ulid",code:ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),be(i,{validation:"url",code:ge.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"regex",code:ge.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),be(i,{code:ge.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),be(i,{code:ge.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),be(i,{code:ge.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?iw(o).test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{code:ge.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?GD.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{code:ge.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?YD(o).test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{code:ge.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?FD.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"duration",code:ge.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?KD(t.data,o.version)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"ip",code:ge.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?qD(t.data,o.alg)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"jwt",code:ge.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?XD(t.data,o.version)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"cidr",code:ge.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?HD.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"base64",code:ge.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?ZD.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"base64url",code:ge.invalid_string,message:o.message}),r.dirty()):rt.assertNever(o);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:ge.invalid_string,...Ne.errToObj(r)})}_addCheck(t){return new dr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ne.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ne.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ne.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ne.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ne.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ne.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ne.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ne.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ne.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ne.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ne.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ne.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ne.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...Ne.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ne.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ne.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Ne.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Ne.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Ne.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Ne.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Ne.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Ne.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Ne.errToObj(n)})}nonempty(t){return this.min(1,Ne.errToObj(t))}trim(){return new dr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new dr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new dr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}dr.create=e=>{var t;return new dr({checks:[],typeName:Fe.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...qe(e)})};function JD(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,o=parseInt(e.toFixed(i).replace(".","")),a=parseInt(t.toFixed(i).replace(".",""));return o%a/Math.pow(10,i)}class $i extends Je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==we.number){const o=this._getOrReturnCtx(t);return be(o,{code:ge.invalid_type,expected:we.number,received:o.parsedType}),We}let r;const i=new an;for(const o of this._def.checks)o.kind==="int"?rt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),be(r,{code:ge.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),be(r,{code:ge.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),be(r,{code:ge.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?JD(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),be(r,{code:ge.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),be(r,{code:ge.not_finite,message:o.message}),i.dirty()):rt.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Ne.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ne.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ne.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ne.toString(n))}setLimit(t,n,r,i){return new $i({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Ne.toString(i)}]})}_addCheck(t){return new $i({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ne.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ne.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ne.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Ne.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ne.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ne.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&rt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}$i.create=e=>new $i({checks:[],typeName:Fe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...qe(e)});class zi extends Je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==we.bigint)return this._getInvalidInput(t);let r;const i=new an;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),be(r,{code:ge.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),be(r,{code:ge.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),be(r,{code:ge.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):rt.assertNever(o);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return be(n,{code:ge.invalid_type,expected:we.bigint,received:n.parsedType}),We}gte(t,n){return this.setLimit("min",t,!0,Ne.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ne.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ne.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ne.toString(n))}setLimit(t,n,r,i){return new zi({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Ne.toString(i)}]})}_addCheck(t){return new zi({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ne.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ne.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}zi.create=e=>{var t;return new zi({checks:[],typeName:Fe.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...qe(e)})};class Ga extends Je{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==we.boolean){const r=this._getOrReturnCtx(t);return be(r,{code:ge.invalid_type,expected:we.boolean,received:r.parsedType}),We}return gn(t.data)}}Ga.create=e=>new Ga({typeName:Fe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...qe(e)});class Ns extends Je{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==we.date){const o=this._getOrReturnCtx(t);return be(o,{code:ge.invalid_type,expected:we.date,received:o.parsedType}),We}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return be(o,{code:ge.invalid_date}),We}const r=new an;let i;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),be(i,{code:ge.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),be(i,{code:ge.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):rt.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ns({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Ne.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Ne.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Ns.create=e=>new Ns({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Fe.ZodDate,...qe(e)});class tu extends Je{_parse(t){if(this._getType(t)!==we.symbol){const r=this._getOrReturnCtx(t);return be(r,{code:ge.invalid_type,expected:we.symbol,received:r.parsedType}),We}return gn(t.data)}}tu.create=e=>new tu({typeName:Fe.ZodSymbol,...qe(e)});class Ya extends Je{_parse(t){if(this._getType(t)!==we.undefined){const r=this._getOrReturnCtx(t);return be(r,{code:ge.invalid_type,expected:we.undefined,received:r.parsedType}),We}return gn(t.data)}}Ya.create=e=>new Ya({typeName:Fe.ZodUndefined,...qe(e)});class Ka extends Je{_parse(t){if(this._getType(t)!==we.null){const r=this._getOrReturnCtx(t);return be(r,{code:ge.invalid_type,expected:we.null,received:r.parsedType}),We}return gn(t.data)}}Ka.create=e=>new Ka({typeName:Fe.ZodNull,...qe(e)});class $o extends Je{constructor(){super(...arguments),this._any=!0}_parse(t){return gn(t.data)}}$o.create=e=>new $o({typeName:Fe.ZodAny,...qe(e)});class Ss extends Je{constructor(){super(...arguments),this._unknown=!0}_parse(t){return gn(t.data)}}Ss.create=e=>new Ss({typeName:Fe.ZodUnknown,...qe(e)});class ui extends Je{_parse(t){const n=this._getOrReturnCtx(t);return be(n,{code:ge.invalid_type,expected:we.never,received:n.parsedType}),We}}ui.create=e=>new ui({typeName:Fe.ZodNever,...qe(e)});class nu extends Je{_parse(t){if(this._getType(t)!==we.undefined){const r=this._getOrReturnCtx(t);return be(r,{code:ge.invalid_type,expected:we.void,received:r.parsedType}),We}return gn(t.data)}}nu.create=e=>new nu({typeName:Fe.ZodVoid,...qe(e)});class fr extends Je{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==we.array)return be(n,{code:ge.invalid_type,expected:we.array,received:n.parsedType}),We;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,u=n.data.length<i.exactLength.value;(a||u)&&(be(n,{code:a?ge.too_big:ge.too_small,minimum:u?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(be(n,{code:ge.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(be(n,{code:ge.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,u)=>i.type._parseAsync(new Br(n,a,n.path,u)))).then(a=>an.mergeArray(r,a));const o=[...n.data].map((a,u)=>i.type._parseSync(new Br(n,a,n.path,u)));return an.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new fr({...this._def,minLength:{value:t,message:Ne.toString(n)}})}max(t,n){return new fr({...this._def,maxLength:{value:t,message:Ne.toString(n)}})}length(t,n){return new fr({...this._def,exactLength:{value:t,message:Ne.toString(n)}})}nonempty(t){return this.min(1,t)}}fr.create=(e,t)=>new fr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Fe.ZodArray,...qe(t)});function fo(e){if(e instanceof Ct){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Lr.create(fo(r))}return new Ct({...e._def,shape:()=>t})}else return e instanceof fr?new fr({...e._def,type:fo(e.element)}):e instanceof Lr?Lr.create(fo(e.unwrap())):e instanceof Ui?Ui.create(fo(e.unwrap())):e instanceof $r?$r.create(e.items.map(t=>fo(t))):e}class Ct extends Je{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=rt.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==we.object){const f=this._getOrReturnCtx(t);return be(f,{code:ge.invalid_type,expected:we.object,received:f.parsedType}),We}const{status:r,ctx:i}=this._processInputParams(t),{shape:o,keys:a}=this._getCached(),u=[];if(!(this._def.catchall instanceof ui&&this._def.unknownKeys==="strip"))for(const f in i.data)a.includes(f)||u.push(f);const d=[];for(const f of a){const m=o[f],g=i.data[f];d.push({key:{status:"valid",value:f},value:m._parse(new Br(i,g,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof ui){const f=this._def.unknownKeys;if(f==="passthrough")for(const m of u)d.push({key:{status:"valid",value:m},value:{status:"valid",value:i.data[m]}});else if(f==="strict")u.length>0&&(be(i,{code:ge.unrecognized_keys,keys:u}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const m of u){const g=i.data[m];d.push({key:{status:"valid",value:m},value:f._parse(new Br(i,g,i.path,m)),alwaysSet:m in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const m of d){const g=await m.key,b=await m.value;f.push({key:g,value:b,alwaysSet:m.alwaysSet})}return f}).then(f=>an.mergeObjectSync(r,f)):an.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(t){return Ne.errToObj,new Ct({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,o,a,u;const d=(a=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(u=Ne.errToObj(t).message)!==null&&u!==void 0?u:d}:{message:d}}}:{}})}strip(){return new Ct({...this._def,unknownKeys:"strip"})}passthrough(){return new Ct({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ct({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ct({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Fe.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Ct({...this._def,catchall:t})}pick(t){const n={};return rt.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ct({...this._def,shape:()=>n})}omit(t){const n={};return rt.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Ct({...this._def,shape:()=>n})}deepPartial(){return fo(this)}partial(t){const n={};return rt.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new Ct({...this._def,shape:()=>n})}required(t){const n={};return rt.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Lr;)o=o._def.innerType;n[r]=o}}),new Ct({...this._def,shape:()=>n})}keyof(){return sw(rt.objectKeys(this.shape))}}Ct.create=(e,t)=>new Ct({shape:()=>e,unknownKeys:"strip",catchall:ui.create(),typeName:Fe.ZodObject,...qe(t)});Ct.strictCreate=(e,t)=>new Ct({shape:()=>e,unknownKeys:"strict",catchall:ui.create(),typeName:Fe.ZodObject,...qe(t)});Ct.lazycreate=(e,t)=>new Ct({shape:e,unknownKeys:"strip",catchall:ui.create(),typeName:Fe.ZodObject,...qe(t)});class qa extends Je{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const a=o.map(u=>new Vn(u.ctx.common.issues));return be(n,{code:ge.invalid_union,unionErrors:a}),We}if(n.common.async)return Promise.all(r.map(async o=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let o;const a=[];for(const d of r){const f={...n,common:{...n.common,issues:[]},parent:null},m=d._parseSync({data:n.data,path:n.path,parent:f});if(m.status==="valid")return m;m.status==="dirty"&&!o&&(o={result:m,ctx:f}),f.common.issues.length&&a.push(f.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const u=a.map(d=>new Vn(d));return be(n,{code:ge.invalid_union,unionErrors:u}),We}}get options(){return this._def.options}}qa.create=(e,t)=>new qa({options:e,typeName:Fe.ZodUnion,...qe(t)});const Qr=e=>e instanceof Qa?Qr(e.schema):e instanceof pr?Qr(e.innerType()):e instanceof el?[e.value]:e instanceof Wi?e.options:e instanceof tl?rt.objectValues(e.enum):e instanceof nl?Qr(e._def.innerType):e instanceof Ya?[void 0]:e instanceof Ka?[null]:e instanceof Lr?[void 0,...Qr(e.unwrap())]:e instanceof Ui?[null,...Qr(e.unwrap())]:e instanceof Qm||e instanceof il?Qr(e.unwrap()):e instanceof rl?Qr(e._def.innerType):[];class Du extends Je{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==we.object)return be(n,{code:ge.invalid_type,expected:we.object,received:n.parsedType}),We;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(be(n,{code:ge.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),We)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const o of n){const a=Qr(o.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const u of a){if(i.has(u))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(u)}`);i.set(u,o)}}return new Du({typeName:Fe.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...qe(r)})}}function mh(e,t){const n=ei(e),r=ei(t);if(e===t)return{valid:!0,data:e};if(n===we.object&&r===we.object){const i=rt.objectKeys(t),o=rt.objectKeys(e).filter(u=>i.indexOf(u)!==-1),a={...e,...t};for(const u of o){const d=mh(e[u],t[u]);if(!d.valid)return{valid:!1};a[u]=d.data}return{valid:!0,data:a}}else if(n===we.array&&r===we.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const a=e[o],u=t[o],d=mh(a,u);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return n===we.date&&r===we.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Xa extends Je{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(o,a)=>{if(fh(o)||fh(a))return We;const u=mh(o.value,a.value);return u.valid?((hh(o)||hh(a))&&n.dirty(),{status:n.value,value:u.data}):(be(r,{code:ge.invalid_intersection_types}),We)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,a])=>i(o,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Xa.create=(e,t,n)=>new Xa({left:e,right:t,typeName:Fe.ZodIntersection,...qe(n)});class $r extends Je{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.array)return be(r,{code:ge.invalid_type,expected:we.array,received:r.parsedType}),We;if(r.data.length<this._def.items.length)return be(r,{code:ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),We;!this._def.rest&&r.data.length>this._def.items.length&&(be(r,{code:ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((a,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new Br(r,a,r.path,u)):null}).filter(a=>!!a);return r.common.async?Promise.all(o).then(a=>an.mergeArray(n,a)):an.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new $r({...this._def,rest:t})}}$r.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $r({items:e,typeName:Fe.ZodTuple,rest:null,...qe(t)})};class Ja extends Je{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.object)return be(r,{code:ge.invalid_type,expected:we.object,received:r.parsedType}),We;const i=[],o=this._def.keyType,a=this._def.valueType;for(const u in r.data)i.push({key:o._parse(new Br(r,u,r.path,u)),value:a._parse(new Br(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?an.mergeObjectAsync(n,i):an.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Je?new Ja({keyType:t,valueType:n,typeName:Fe.ZodRecord,...qe(r)}):new Ja({keyType:dr.create(),valueType:t,typeName:Fe.ZodRecord,...qe(n)})}}class ru extends Je{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.map)return be(r,{code:ge.invalid_type,expected:we.map,received:r.parsedType}),We;const i=this._def.keyType,o=this._def.valueType,a=[...r.data.entries()].map(([u,d],f)=>({key:i._parse(new Br(r,u,r.path,[f,"key"])),value:o._parse(new Br(r,d,r.path,[f,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of a){const f=await d.key,m=await d.value;if(f.status==="aborted"||m.status==="aborted")return We;(f.status==="dirty"||m.status==="dirty")&&n.dirty(),u.set(f.value,m.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const d of a){const f=d.key,m=d.value;if(f.status==="aborted"||m.status==="aborted")return We;(f.status==="dirty"||m.status==="dirty")&&n.dirty(),u.set(f.value,m.value)}return{status:n.value,value:u}}}}ru.create=(e,t,n)=>new ru({valueType:t,keyType:e,typeName:Fe.ZodMap,...qe(n)});class js extends Je{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.set)return be(r,{code:ge.invalid_type,expected:we.set,received:r.parsedType}),We;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(be(r,{code:ge.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(be(r,{code:ge.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function a(d){const f=new Set;for(const m of d){if(m.status==="aborted")return We;m.status==="dirty"&&n.dirty(),f.add(m.value)}return{status:n.value,value:f}}const u=[...r.data.values()].map((d,f)=>o._parse(new Br(r,d,r.path,f)));return r.common.async?Promise.all(u).then(d=>a(d)):a(u)}min(t,n){return new js({...this._def,minSize:{value:t,message:Ne.toString(n)}})}max(t,n){return new js({...this._def,maxSize:{value:t,message:Ne.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}js.create=(e,t)=>new js({valueType:e,minSize:null,maxSize:null,typeName:Fe.ZodSet,...qe(t)});class So extends Je{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==we.function)return be(n,{code:ge.invalid_type,expected:we.function,received:n.parsedType}),We;function r(u,d){return Qc({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Jc(),Bo].filter(f=>!!f),issueData:{code:ge.invalid_arguments,argumentsError:d}})}function i(u,d){return Qc({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Jc(),Bo].filter(f=>!!f),issueData:{code:ge.invalid_return_type,returnTypeError:d}})}const o={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof zo){const u=this;return gn(async function(...d){const f=new Vn([]),m=await u._def.args.parseAsync(d,o).catch(x=>{throw f.addIssue(r(d,x)),f}),g=await Reflect.apply(a,this,m);return await u._def.returns._def.type.parseAsync(g,o).catch(x=>{throw f.addIssue(i(g,x)),f})})}else{const u=this;return gn(function(...d){const f=u._def.args.safeParse(d,o);if(!f.success)throw new Vn([r(d,f.error)]);const m=Reflect.apply(a,this,f.data),g=u._def.returns.safeParse(m,o);if(!g.success)throw new Vn([i(m,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new So({...this._def,args:$r.create(t).rest(Ss.create())})}returns(t){return new So({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new So({args:t||$r.create([]).rest(Ss.create()),returns:n||Ss.create(),typeName:Fe.ZodFunction,...qe(r)})}}class Qa extends Je{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Qa.create=(e,t)=>new Qa({getter:e,typeName:Fe.ZodLazy,...qe(t)});class el extends Je{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return be(n,{received:n.data,code:ge.invalid_literal,expected:this._def.value}),We}return{status:"valid",value:t.data}}get value(){return this._def.value}}el.create=(e,t)=>new el({value:e,typeName:Fe.ZodLiteral,...qe(t)});function sw(e,t){return new Wi({values:e,typeName:Fe.ZodEnum,...qe(t)})}class Wi extends Je{constructor(){super(...arguments),_a.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return be(n,{expected:rt.joinValues(r),received:n.parsedType,code:ge.invalid_type}),We}if(eu(this,_a)||tw(this,_a,new Set(this._def.values)),!eu(this,_a).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return be(n,{received:n.data,code:ge.invalid_enum_value,options:r}),We}return gn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Wi.create(t,{...this._def,...n})}exclude(t,n=this._def){return Wi.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}_a=new WeakMap;Wi.create=sw;class tl extends Je{constructor(){super(...arguments),wa.set(this,void 0)}_parse(t){const n=rt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==we.string&&r.parsedType!==we.number){const i=rt.objectValues(n);return be(r,{expected:rt.joinValues(i),received:r.parsedType,code:ge.invalid_type}),We}if(eu(this,wa)||tw(this,wa,new Set(rt.getValidEnumValues(this._def.values))),!eu(this,wa).has(t.data)){const i=rt.objectValues(n);return be(r,{received:r.data,code:ge.invalid_enum_value,options:i}),We}return gn(t.data)}get enum(){return this._def.values}}wa=new WeakMap;tl.create=(e,t)=>new tl({values:e,typeName:Fe.ZodNativeEnum,...qe(t)});class zo extends Je{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==we.promise&&n.common.async===!1)return be(n,{code:ge.invalid_type,expected:we.promise,received:n.parsedType}),We;const r=n.parsedType===we.promise?n.data:Promise.resolve(n.data);return gn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}zo.create=(e,t)=>new zo({type:e,typeName:Fe.ZodPromise,...qe(t)});class pr extends Je{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:a=>{be(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const a=i.transform(r.data,o);if(r.common.async)return Promise.resolve(a).then(async u=>{if(n.value==="aborted")return We;const d=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return d.status==="aborted"?We:d.status==="dirty"||n.value==="dirty"?yo(d.value):d});{if(n.value==="aborted")return We;const u=this._def.schema._parseSync({data:a,path:r.path,parent:r});return u.status==="aborted"?We:u.status==="dirty"||n.value==="dirty"?yo(u.value):u}}if(i.type==="refinement"){const a=u=>{const d=i.refinement(u,o);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?We:(u.status==="dirty"&&n.dirty(),a(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?We:(u.status==="dirty"&&n.dirty(),a(u.value).then(()=>({status:n.value,value:u.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ts(a))return a;const u=i.transform(a.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Ts(a)?Promise.resolve(i.transform(a.value,o)).then(u=>({status:n.value,value:u})):a);rt.assertNever(i)}}pr.create=(e,t,n)=>new pr({schema:e,typeName:Fe.ZodEffects,effect:t,...qe(n)});pr.createWithPreprocess=(e,t,n)=>new pr({schema:t,effect:{type:"preprocess",transform:e},typeName:Fe.ZodEffects,...qe(n)});class Lr extends Je{_parse(t){return this._getType(t)===we.undefined?gn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Lr.create=(e,t)=>new Lr({innerType:e,typeName:Fe.ZodOptional,...qe(t)});class Ui extends Je{_parse(t){return this._getType(t)===we.null?gn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ui.create=(e,t)=>new Ui({innerType:e,typeName:Fe.ZodNullable,...qe(t)});class nl extends Je{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===we.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}nl.create=(e,t)=>new nl({innerType:e,typeName:Fe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...qe(t)});class rl extends Je{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Za(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Vn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Vn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}rl.create=(e,t)=>new rl({innerType:e,typeName:Fe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...qe(t)});class iu extends Je{_parse(t){if(this._getType(t)!==we.nan){const r=this._getOrReturnCtx(t);return be(r,{code:ge.invalid_type,expected:we.nan,received:r.parsedType}),We}return{status:"valid",value:t.data}}}iu.create=e=>new iu({typeName:Fe.ZodNaN,...qe(e)});const QD=Symbol("zod_brand");class Qm extends Je{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class bl extends Je{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?We:o.status==="dirty"?(n.dirty(),yo(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?We:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new bl({in:t,out:n,typeName:Fe.ZodPipeline})}}class il extends Je{_parse(t){const n=this._def.innerType._parse(t),r=i=>(Ts(i)&&(i.value=Object.freeze(i.value)),i);return Za(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}il.create=(e,t)=>new il({innerType:e,typeName:Fe.ZodReadonly,...qe(t)});function xy(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function ow(e,t={},n){return e?$o.create().superRefine((r,i)=>{var o,a;const u=e(r);if(u instanceof Promise)return u.then(d=>{var f,m;if(!d){const g=xy(t,r),b=(m=(f=g.fatal)!==null&&f!==void 0?f:n)!==null&&m!==void 0?m:!0;i.addIssue({code:"custom",...g,fatal:b})}});if(!u){const d=xy(t,r),f=(a=(o=d.fatal)!==null&&o!==void 0?o:n)!==null&&a!==void 0?a:!0;i.addIssue({code:"custom",...d,fatal:f})}}):$o.create()}const e2={object:Ct.lazycreate};var Fe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Fe||(Fe={}));const t2=(e,t={message:`Input not instance of ${e.name}`})=>ow(n=>n instanceof e,t),aw=dr.create,lw=$i.create,n2=iu.create,r2=zi.create,cw=Ga.create,i2=Ns.create,s2=tu.create,o2=Ya.create,a2=Ka.create,l2=$o.create,c2=Ss.create,u2=ui.create,d2=nu.create,f2=fr.create,h2=Ct.create,m2=Ct.strictCreate,p2=qa.create,g2=Du.create,v2=Xa.create,y2=$r.create,x2=Ja.create,b2=ru.create,_2=js.create,w2=So.create,S2=Qa.create,C2=el.create,P2=Wi.create,E2=tl.create,T2=zo.create,by=pr.create,N2=Lr.create,j2=Ui.create,M2=pr.createWithPreprocess,R2=bl.create,O2=()=>aw().optional(),k2=()=>lw().optional(),A2=()=>cw().optional(),I2={string:e=>dr.create({...e,coerce:!0}),number:e=>$i.create({...e,coerce:!0}),boolean:e=>Ga.create({...e,coerce:!0}),bigint:e=>zi.create({...e,coerce:!0}),date:e=>Ns.create({...e,coerce:!0})},D2=We;var dt=Object.freeze({__proto__:null,defaultErrorMap:Bo,setErrorMap:MD,getErrorMap:Jc,makeIssue:Qc,EMPTY_PATH:RD,addIssueToContext:be,ParseStatus:an,INVALID:We,DIRTY:yo,OK:gn,isAborted:fh,isDirty:hh,isValid:Ts,isAsync:Za,get util(){return rt},get objectUtil(){return dh},ZodParsedType:we,getParsedType:ei,ZodType:Je,datetimeRegex:iw,ZodString:dr,ZodNumber:$i,ZodBigInt:zi,ZodBoolean:Ga,ZodDate:Ns,ZodSymbol:tu,ZodUndefined:Ya,ZodNull:Ka,ZodAny:$o,ZodUnknown:Ss,ZodNever:ui,ZodVoid:nu,ZodArray:fr,ZodObject:Ct,ZodUnion:qa,ZodDiscriminatedUnion:Du,ZodIntersection:Xa,ZodTuple:$r,ZodRecord:Ja,ZodMap:ru,ZodSet:js,ZodFunction:So,ZodLazy:Qa,ZodLiteral:el,ZodEnum:Wi,ZodNativeEnum:tl,ZodPromise:zo,ZodEffects:pr,ZodTransformer:pr,ZodOptional:Lr,ZodNullable:Ui,ZodDefault:nl,ZodCatch:rl,ZodNaN:iu,BRAND:QD,ZodBranded:Qm,ZodPipeline:bl,ZodReadonly:il,custom:ow,Schema:Je,ZodSchema:Je,late:e2,get ZodFirstPartyTypeKind(){return Fe},coerce:I2,any:l2,array:f2,bigint:r2,boolean:cw,date:i2,discriminatedUnion:g2,effect:by,enum:P2,function:w2,instanceof:t2,intersection:v2,lazy:S2,literal:C2,map:b2,nan:n2,nativeEnum:E2,never:u2,null:a2,nullable:j2,number:lw,object:h2,oboolean:A2,onumber:k2,optional:N2,ostring:O2,pipeline:R2,preprocess:M2,promise:T2,record:x2,set:_2,strictObject:m2,string:aw,symbol:s2,transformer:by,tuple:y2,undefined:o2,union:p2,unknown:c2,void:d2,NEVER:D2,ZodIssueCode:ge,quotelessJson:jD,ZodError:Vn});const uw=dt.object({activity_date:dt.union([dt.date(),dt.string()]).transform(e=>e instanceof Date?e:new Date(e)),activity_time:dt.string().regex(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/,"Invalid time format (HH:MM)"),latitude:dt.string().refine(e=>{const t=parseFloat(e);return!isNaN(t)&&t>=-90&&t<=90},"Invalid latitude (-90 to 90)"),longitude:dt.string().refine(e=>{const t=parseFloat(e);return!isNaN(t)&&t>=-180&&t<=180},"Invalid longitude (-180 to 180)")}),L2=dt.object({observation_type:dt.enum(["direct","indirect","loss"]).optional(),total_elephants:dt.number().int().min(0).optional(),male_elephants:dt.number().int().min(0).optional(),female_elephants:dt.number().int().min(0).optional(),unknown_elephants:dt.number().int().min(0).optional(),calves:dt.number().int().min(0).optional(),indirect_sighting_type:dt.enum(["Pugmark","Dung","Broken Branches","Sound","Eyewitness"]).optional(),loss_type:dt.enum(["No loss","crop","livestock","property","fencing","solar panels","FD establishment","Other"]).optional()}).superRefine((e,t)=>{if(e.observation_type&&e.observation_type==="direct"&&e.total_elephants!==void 0){const n=(e.male_elephants||0)+(e.female_elephants||0)+(e.unknown_elephants||0)+(e.calves||0);e.total_elephants!==n&&t.addIssue({code:dt.ZodIssueCode.custom,message:"Sum of elephants must equal total elephants",path:["total_elephants"]})}}),dw=dt.object({compass_bearing:dt.number().min(0).max(360)}),fw=dt.object({photo_url:dt.string().url().optional()});dt.object({...uw.shape,observation_type:dt.enum(["direct","indirect","loss"]),total_elephants:dt.number().int().min(0).optional(),male_elephants:dt.number().int().min(0).optional(),female_elephants:dt.number().int().min(0).optional(),unknown_elephants:dt.number().int().min(0).optional(),calves:dt.number().int().min(0).optional(),indirect_sighting_type:dt.enum(["Pugmark","Dung","Broken Branches","Sound","Eyewitness"]).optional(),loss_type:dt.enum(["No loss","crop","livestock","property","fencing","solar panels","FD establishment","Other"]).optional(),...dw.shape,...fw.shape,user_id:dt.string().uuid()}).refine(e=>{if(e.observation_type==="direct"){if(!e.total_elephants)return!1;const t=(e.male_elephants||0)+(e.female_elephants||0)+(e.unknown_elephants||0)+(e.calves||0);return e.total_elephants===t}return e.observation_type==="indirect"?!!e.indirect_sighting_type:e.observation_type==="loss"?!!e.loss_type:!1},{message:"Invalid data for the selected observation type"});const F2={dateTimeLocation:uw,observationType:L2,compassBearing:dw,photo:fw},fc=["dateTimeLocation","observationType","compassBearing","photo"],hw=p.createContext(void 0);function V2({children:e}){const[t,n]=p.useState(0),[r,i]=p.useState({}),x={currentStep:fc[t],formData:r,setFormData:w=>{i(v=>{const _={...v};return Object.entries(w).forEach(([C,P])=>{P===void 0?delete _[C]:_[C]=P}),_})},goToNextStep:()=>{t<fc.length-1&&n(t+1)},goToPreviousStep:()=>{t>0&&n(t-1)},goToStep:w=>{const v=fc.indexOf(w);v!==-1&&n(v)},isStepValid:w=>{try{console.log("Validating step:",w),console.log("Current form data:",r);const v=F2[w];if(!v)return console.error("No schema found for step:",w),!1;if(w==="dateTimeLocation"){if(!["activity_date","activity_time","latitude","longitude"].every(T=>{const A=r[T],R=A!==void 0&&A!==""&&A!==null;return console.log(`Field ${T}:`,A,"isValid:",R),R}))return console.log("Missing required fields"),!1;const E={...r,activity_date:r.activity_date instanceof Date?r.activity_date:new Date(r.activity_date)},M=v.safeParse(E);return console.log("Schema validation result:",M),M.success}if(w==="photo")return!0;const _=v.safeParse(r);return console.log("Schema validation result:",_),_.success}catch(v){return console.error("Validation error:",v),!1}},isLastStep:()=>t===fc.length-1,resetForm:()=>{n(0),i({})}};return l.jsx(hw.Provider,{value:x,children:e})}function _l(){const e=p.useContext(hw);if(e===void 0)throw new Error("useActivityForm must be used within an ActivityFormProvider");return e}const ht=p.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:Me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ht.displayName="Input";var B2="Label",mw=p.forwardRef((e,t)=>l.jsx(Ve.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));mw.displayName=B2;var pw=mw;const $2=Vh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Rt=p.forwardRef(({className:e,...t},n)=>l.jsx(pw,{ref:n,className:Me($2(),e),...t}));Rt.displayName=pw.displayName;function gw(){const{formData:e,setFormData:t}=_l(),n=async()=>{if(!navigator.geolocation){ye.error("Geolocation is not supported by your browser");return}try{const r=await new Promise((a,u)=>{navigator.geolocation.getCurrentPosition(a,u)}),i=new Date,o=i.toTimeString().split(" ")[0].substring(0,5);t({...e,activity_date:i,activity_time:o,latitude:r.coords.latitude.toFixed(6),longitude:r.coords.longitude.toFixed(6)}),ye.success("Location, date & time fetched successfully!")}catch(r){console.error("Error fetching location:",r),ye.error("Failed to fetch location. Please enter manually.")}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-end",children:l.jsxs(Le,{type:"button",onClick:n,className:"bg-green-600 hover:bg-green-700 text-white",children:[l.jsx(_o,{className:"w-4 h-4 mr-2"}),"Get Current Location & Time"]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"activity_date",children:"Date"}),l.jsxs("div",{className:"relative",children:[l.jsx(Yh,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),l.jsx(ht,{type:"date",id:"activity_date",value:e.activity_date?new Date(e.activity_date).toISOString().split("T")[0]:"",onChange:r=>{const i=r.target.value?new Date(r.target.value+"T00:00:00"):null;t({...e,activity_date:i})},className:"pl-8",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"activity_time",children:"Time"}),l.jsxs("div",{className:"relative",children:[l.jsx(ZN,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),l.jsx(ht,{type:"time",id:"activity_time",value:e.activity_time||"",onChange:r=>{const i=r.target.value;t({...e,activity_time:i})},className:"pl-8",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"latitude",children:"Latitude"}),l.jsx(ht,{type:"text",id:"latitude",placeholder:"e.g., 23.4536",value:e.latitude||"",onChange:r=>{const i=r.target.value.trim(),o=parseFloat(i);(i===""||!isNaN(o)&&o>=-90&&o<=90)&&t({...e,latitude:i})},required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"longitude",children:"Longitude"}),l.jsx(ht,{type:"text",id:"longitude",placeholder:"e.g., 81.4763",value:e.longitude||"",onChange:r=>{const i=r.target.value.trim(),o=parseFloat(i);(i===""||!isNaN(o)&&o>=-180&&o<=180)&&t({...e,longitude:i})},required:!0})]})]})]})}var z2=p.createContext(void 0);function Jo(e){const t=p.useContext(z2);return e||t||"ltr"}var tf="rovingFocusGroup.onEntryFocus",W2={bubbles:!1,cancelable:!0},wl="RovingFocusGroup",[ph,vw,U2]=zh(wl),[H2,Lu]=Bt(wl,[U2]),[Z2,G2]=H2(wl),yw=p.forwardRef((e,t)=>l.jsx(ph.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(ph.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Y2,{...e,ref:t})})}));yw.displayName=wl;var Y2=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...g}=e,b=p.useRef(null),x=Oe(t,b),w=Jo(o),[v,_]=Qn({prop:a,defaultProp:u??null,onChange:d,caller:wl}),[C,P]=p.useState(!1),E=St(f),M=vw(n),T=p.useRef(!1),[A,R]=p.useState(0);return p.useEffect(()=>{const k=b.current;if(k)return k.addEventListener(tf,E),()=>k.removeEventListener(tf,E)},[E]),l.jsx(Z2,{scope:n,orientation:r,dir:w,loop:i,currentTabStopId:v,onItemFocus:p.useCallback(k=>_(k),[_]),onItemShiftTab:p.useCallback(()=>P(!0),[]),onFocusableItemAdd:p.useCallback(()=>R(k=>k+1),[]),onFocusableItemRemove:p.useCallback(()=>R(k=>k-1),[]),children:l.jsx(Ve.div,{tabIndex:C||A===0?-1:0,"data-orientation":r,...g,ref:x,style:{outline:"none",...e.style},onMouseDown:he(e.onMouseDown,()=>{T.current=!0}),onFocus:he(e.onFocus,k=>{const U=!T.current;if(k.target===k.currentTarget&&U&&!C){const X=new CustomEvent(tf,W2);if(k.currentTarget.dispatchEvent(X),!X.defaultPrevented){const re=M().filter(K=>K.focusable),z=re.find(K=>K.active),ne=re.find(K=>K.id===v),H=[z,ne,...re].filter(Boolean).map(K=>K.ref.current);_w(H,m)}}T.current=!1}),onBlur:he(e.onBlur,()=>P(!1))})})}),xw="RovingFocusGroupItem",bw=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:a,...u}=e,d=qn(),f=o||d,m=G2(xw,n),g=m.currentTabStopId===f,b=vw(n),{onFocusableItemAdd:x,onFocusableItemRemove:w,currentTabStopId:v}=m;return p.useEffect(()=>{if(r)return x(),()=>w()},[r,x,w]),l.jsx(ph.ItemSlot,{scope:n,id:f,focusable:r,active:i,children:l.jsx(Ve.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:he(e.onMouseDown,_=>{r?m.onItemFocus(f):_.preventDefault()}),onFocus:he(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:he(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){m.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const C=X2(_,m.orientation,m.dir);if(C!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let E=b().filter(M=>M.focusable).map(M=>M.ref.current);if(C==="last")E.reverse();else if(C==="prev"||C==="next"){C==="prev"&&E.reverse();const M=E.indexOf(_.currentTarget);E=m.loop?J2(E,M+1):E.slice(M+1)}setTimeout(()=>_w(E))}}),children:typeof a=="function"?a({isCurrentTabStop:g,hasTabStop:v!=null}):a})})});bw.displayName=xw;var K2={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function q2(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function X2(e,t,n){const r=q2(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return K2[r]}function _w(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function J2(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var ww=yw,Sw=bw;function Fu(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ep="Radio",[Q2,Cw]=Bt(ep),[eL,tL]=Q2(ep),Pw=p.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:o,disabled:a,value:u="on",onCheck:d,form:f,...m}=e,[g,b]=p.useState(null),x=Oe(t,_=>b(_)),w=p.useRef(!1),v=g?f||!!g.closest("form"):!0;return l.jsxs(eL,{scope:n,checked:i,disabled:a,children:[l.jsx(Ve.button,{type:"button",role:"radio","aria-checked":i,"data-state":jw(i),"data-disabled":a?"":void 0,disabled:a,value:u,...m,ref:x,onClick:he(e.onClick,_=>{i||d==null||d(),v&&(w.current=_.isPropagationStopped(),w.current||_.stopPropagation())})}),v&&l.jsx(Nw,{control:g,bubbles:!w.current,name:r,value:u,checked:i,required:o,disabled:a,form:f,style:{transform:"translateX(-100%)"}})]})});Pw.displayName=ep;var Ew="RadioIndicator",Tw=p.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,o=tL(Ew,n);return l.jsx(vn,{present:r||o.checked,children:l.jsx(Ve.span,{"data-state":jw(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t})})});Tw.displayName=Ew;var nL="RadioBubbleInput",Nw=p.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...i},o)=>{const a=p.useRef(null),u=Oe(a,o),d=Fu(n),f=Yo(t);return p.useEffect(()=>{const m=a.current;if(!m)return;const g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&x){const w=new Event("click",{bubbles:r});x.call(m,n),m.dispatchEvent(w)}},[d,n,r]),l.jsx(Ve.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Nw.displayName=nL;function jw(e){return e?"checked":"unchecked"}var rL=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Vu="RadioGroup",[iL,kU]=Bt(Vu,[Lu,Cw]),Mw=Lu(),Rw=Cw(),[sL,oL]=iL(Vu),Ow=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:o,required:a=!1,disabled:u=!1,orientation:d,dir:f,loop:m=!0,onValueChange:g,...b}=e,x=Mw(n),w=Jo(f),[v,_]=Qn({prop:o,defaultProp:i??null,onChange:g,caller:Vu});return l.jsx(sL,{scope:n,name:r,required:a,disabled:u,value:v,onValueChange:_,children:l.jsx(ww,{asChild:!0,...x,orientation:d,dir:w,loop:m,children:l.jsx(Ve.div,{role:"radiogroup","aria-required":a,"aria-orientation":d,"data-disabled":u?"":void 0,dir:w,...b,ref:t})})})});Ow.displayName=Vu;var kw="RadioGroupItem",Aw=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,o=oL(kw,n),a=o.disabled||r,u=Mw(n),d=Rw(n),f=p.useRef(null),m=Oe(t,f),g=o.value===i.value,b=p.useRef(!1);return p.useEffect(()=>{const x=v=>{rL.includes(v.key)&&(b.current=!0)},w=()=>b.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",w)}},[]),l.jsx(Sw,{asChild:!0,...u,focusable:!a,active:g,children:l.jsx(Pw,{disabled:a,required:o.required,checked:g,...d,...i,name:o.name,ref:m,onCheck:()=>o.onValueChange(i.value),onKeyDown:he(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:he(i.onFocus,()=>{var x;b.current&&((x=f.current)==null||x.click())})})})});Aw.displayName=kw;var aL="RadioGroupIndicator",Iw=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=Rw(n);return l.jsx(Tw,{...i,...r,ref:t})});Iw.displayName=aL;var Dw=Ow,Lw=Aw,lL=Iw;const Fw=p.forwardRef(({className:e,...t},n)=>l.jsx(Dw,{className:Me("grid gap-2",e),...t,ref:n}));Fw.displayName=Dw.displayName;const Rc=p.forwardRef(({className:e,...t},n)=>l.jsx(Lw,{ref:n,className:Me("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(lL,{className:"flex items-center justify-center",children:l.jsx(wb,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Rc.displayName=Lw.displayName;var cL=OT();const uL=$h(cL);function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function dL(e,t){if(Ms(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vw(e){var t=dL(e,"string");return Ms(t)=="symbol"?t:t+""}function Sa(e,t,n){return(t=Vw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_y(Object(n),!0).forEach(function(r){Sa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_y(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fL(e){if(Array.isArray(e))return e}function hL(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,u=[],d=!0,f=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(m){f=!0,i=m}finally{try{if(!d&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function gh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Bw(e,t){if(e){if(typeof e=="string")return gh(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gh(e,t):void 0}}function mL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function si(e,t){return fL(e)||hL(e,t)||Bw(e,t)||mL()}function hi(e,t){if(e==null)return{};var n,r,i=kT(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var pL=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function gL(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,i=r===void 0?!1:r,o=e.defaultValue,a=o===void 0?null:o,u=e.inputValue,d=e.menuIsOpen,f=e.onChange,m=e.onInputChange,g=e.onMenuClose,b=e.onMenuOpen,x=e.value,w=hi(e,pL),v=p.useState(u!==void 0?u:n),_=si(v,2),C=_[0],P=_[1],E=p.useState(d!==void 0?d:i),M=si(E,2),T=M[0],A=M[1],R=p.useState(x!==void 0?x:a),k=si(R,2),U=k[0],X=k[1],re=p.useCallback(function($,V){typeof f=="function"&&f($,V),X($)},[f]),z=p.useCallback(function($,V){var Y;typeof m=="function"&&(Y=m($,V)),P(Y!==void 0?Y:$)},[m]),ne=p.useCallback(function(){typeof b=="function"&&b(),A(!0)},[b]),J=p.useCallback(function(){typeof g=="function"&&g(),A(!1)},[g]),H=u!==void 0?u:C,K=d!==void 0?d:T,G=x!==void 0?x:U;return Ae(Ae({},w),{},{inputValue:H,menuIsOpen:K,onChange:re,onInputChange:z,onMenuClose:J,onMenuOpen:ne,value:G})}function vL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vw(r.key),r)}}function yL(e,t,n){return t&&wy(e.prototype,t),n&&wy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AT(e,t)}function su(e){return su=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},su(e)}function $w(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($w=function(){return!!e})()}function bL(e,t){if(t&&(Ms(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IT(e)}function _L(e){var t=$w();return function(){var n,r=su(e);if(t){var i=su(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bL(this,n)}}function wL(e){if(Array.isArray(e))return gh(e)}function SL(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tp(e){return wL(e)||SL(e)||Bw(e)||CL()}function PL(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function EL(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var TL=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(EL(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=PL(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),en="-ms-",ou="-moz-",ct="-webkit-",zw="comm",np="rule",rp="decl",NL="@import",Ww="@keyframes",jL="@layer",ML=Math.abs,Bu=String.fromCharCode,RL=Object.assign;function OL(e,t){return Kt(e,0)^45?(((t<<2^Kt(e,0))<<2^Kt(e,1))<<2^Kt(e,2))<<2^Kt(e,3):0}function Uw(e){return e.trim()}function kL(e,t){return(e=t.exec(e))?e[0]:e}function ut(e,t,n){return e.replace(t,n)}function vh(e,t){return e.indexOf(t)}function Kt(e,t){return e.charCodeAt(t)|0}function sl(e,t,n){return e.slice(t,n)}function jr(e){return e.length}function ip(e){return e.length}function hc(e,t){return t.push(e),e}function AL(e,t){return e.map(t).join("")}var $u=1,Wo=1,Hw=0,Nn=0,Vt=0,Qo="";function zu(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:$u,column:Wo,length:a,return:""}}function ga(e,t){return RL(zu("",null,null,"",null,null,0),e,{length:-e.length},t)}function IL(){return Vt}function DL(){return Vt=Nn>0?Kt(Qo,--Nn):0,Wo--,Vt===10&&(Wo=1,$u--),Vt}function Bn(){return Vt=Nn<Hw?Kt(Qo,Nn++):0,Wo++,Vt===10&&(Wo=1,$u++),Vt}function Fr(){return Kt(Qo,Nn)}function Oc(){return Nn}function Sl(e,t){return sl(Qo,e,t)}function ol(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Zw(e){return $u=Wo=1,Hw=jr(Qo=e),Nn=0,[]}function Gw(e){return Qo="",e}function kc(e){return Uw(Sl(Nn-1,yh(e===91?e+2:e===40?e+1:e)))}function LL(e){for(;(Vt=Fr())&&Vt<33;)Bn();return ol(e)>2||ol(Vt)>3?"":" "}function FL(e,t){for(;--t&&Bn()&&!(Vt<48||Vt>102||Vt>57&&Vt<65||Vt>70&&Vt<97););return Sl(e,Oc()+(t<6&&Fr()==32&&Bn()==32))}function yh(e){for(;Bn();)switch(Vt){case e:return Nn;case 34:case 39:e!==34&&e!==39&&yh(Vt);break;case 40:e===41&&yh(e);break;case 92:Bn();break}return Nn}function VL(e,t){for(;Bn()&&e+Vt!==57;)if(e+Vt===84&&Fr()===47)break;return"/*"+Sl(t,Nn-1)+"*"+Bu(e===47?e:Bn())}function BL(e){for(;!ol(Fr());)Bn();return Sl(e,Nn)}function $L(e){return Gw(Ac("",null,null,null,[""],e=Zw(e),0,[0],e))}function Ac(e,t,n,r,i,o,a,u,d){for(var f=0,m=0,g=a,b=0,x=0,w=0,v=1,_=1,C=1,P=0,E="",M=i,T=o,A=r,R=E;_;)switch(w=P,P=Bn()){case 40:if(w!=108&&Kt(R,g-1)==58){vh(R+=ut(kc(P),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:R+=kc(P);break;case 9:case 10:case 13:case 32:R+=LL(w);break;case 92:R+=FL(Oc()-1,7);continue;case 47:switch(Fr()){case 42:case 47:hc(zL(VL(Bn(),Oc()),t,n),d);break;default:R+="/"}break;case 123*v:u[f++]=jr(R)*C;case 125*v:case 59:case 0:switch(P){case 0:case 125:_=0;case 59+m:C==-1&&(R=ut(R,/\f/g,"")),x>0&&jr(R)-g&&hc(x>32?Cy(R+";",r,n,g-1):Cy(ut(R," ","")+";",r,n,g-2),d);break;case 59:R+=";";default:if(hc(A=Sy(R,t,n,f,m,i,u,E,M=[],T=[],g),o),P===123)if(m===0)Ac(R,t,A,A,M,o,g,u,T);else switch(b===99&&Kt(R,3)===110?100:b){case 100:case 108:case 109:case 115:Ac(e,A,A,r&&hc(Sy(e,A,A,0,0,i,u,E,i,M=[],g),T),i,T,g,u,r?M:T);break;default:Ac(R,A,A,A,[""],T,0,u,T)}}f=m=x=0,v=C=1,E=R="",g=a;break;case 58:g=1+jr(R),x=w;default:if(v<1){if(P==123)--v;else if(P==125&&v++==0&&DL()==125)continue}switch(R+=Bu(P),P*v){case 38:C=m>0?1:(R+="\f",-1);break;case 44:u[f++]=(jr(R)-1)*C,C=1;break;case 64:Fr()===45&&(R+=kc(Bn())),b=Fr(),m=g=jr(E=R+=BL(Oc())),P++;break;case 45:w===45&&jr(R)==2&&(v=0)}}return o}function Sy(e,t,n,r,i,o,a,u,d,f,m){for(var g=i-1,b=i===0?o:[""],x=ip(b),w=0,v=0,_=0;w<r;++w)for(var C=0,P=sl(e,g+1,g=ML(v=a[w])),E=e;C<x;++C)(E=Uw(v>0?b[C]+" "+P:ut(P,/&\f/g,b[C])))&&(d[_++]=E);return zu(e,t,n,i===0?np:u,d,f,m)}function zL(e,t,n){return zu(e,t,n,zw,Bu(IL()),sl(e,2,-2),0)}function Cy(e,t,n,r){return zu(e,t,n,rp,sl(e,0,r),sl(e,r+1,-1),r)}function Co(e,t){for(var n="",r=ip(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function WL(e,t,n,r){switch(e.type){case jL:if(e.children.length)break;case NL:case rp:return e.return=e.return||e.value;case zw:return"";case Ww:return e.return=e.value+"{"+Co(e.children,r)+"}";case np:e.value=e.props.join(",")}return jr(n=Co(e.children,r))?e.return=e.value+"{"+n+"}":""}function UL(e){var t=ip(e);return function(n,r,i,o){for(var a="",u=0;u<t;u++)a+=e[u](n,r,i,o)||"";return a}}function HL(e){return function(t){t.root||(t=t.return)&&e(t)}}function ZL(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var GL=function(t,n,r){for(var i=0,o=0;i=o,o=Fr(),i===38&&o===12&&(n[r]=1),!ol(o);)Bn();return Sl(t,Nn)},YL=function(t,n){var r=-1,i=44;do switch(ol(i)){case 0:i===38&&Fr()===12&&(n[r]=1),t[r]+=GL(Nn-1,n,r);break;case 2:t[r]+=kc(i);break;case 4:if(i===44){t[++r]=Fr()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Bu(i)}while(i=Bn());return t},KL=function(t,n){return Gw(YL(Zw(t),n))},Py=new WeakMap,qL=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Py.get(r))&&!i){Py.set(t,!0);for(var o=[],a=KL(n,o),u=r.props,d=0,f=0;d<a.length;d++)for(var m=0;m<u.length;m++,f++)t.props[f]=o[d]?a[d].replace(/&\f/g,u[m]):u[m]+" "+a[d]}}},XL=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function Yw(e,t){switch(OL(e,t)){case 5103:return ct+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ct+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ct+e+ou+e+en+e+e;case 6828:case 4268:return ct+e+en+e+e;case 6165:return ct+e+en+"flex-"+e+e;case 5187:return ct+e+ut(e,/(\w+).+(:[^]+)/,ct+"box-$1$2"+en+"flex-$1$2")+e;case 5443:return ct+e+en+"flex-item-"+ut(e,/flex-|-self/,"")+e;case 4675:return ct+e+en+"flex-line-pack"+ut(e,/align-content|flex-|-self/,"")+e;case 5548:return ct+e+en+ut(e,"shrink","negative")+e;case 5292:return ct+e+en+ut(e,"basis","preferred-size")+e;case 6060:return ct+"box-"+ut(e,"-grow","")+ct+e+en+ut(e,"grow","positive")+e;case 4554:return ct+ut(e,/([^-])(transform)/g,"$1"+ct+"$2")+e;case 6187:return ut(ut(ut(e,/(zoom-|grab)/,ct+"$1"),/(image-set)/,ct+"$1"),e,"")+e;case 5495:case 3959:return ut(e,/(image-set\([^]*)/,ct+"$1$`$1");case 4968:return ut(ut(e,/(.+:)(flex-)?(.*)/,ct+"box-pack:$3"+en+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ct+e+e;case 4095:case 3583:case 4068:case 2532:return ut(e,/(.+)-inline(.+)/,ct+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(jr(e)-1-t>6)switch(Kt(e,t+1)){case 109:if(Kt(e,t+4)!==45)break;case 102:return ut(e,/(.+:)(.+)-([^]+)/,"$1"+ct+"$2-$3$1"+ou+(Kt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~vh(e,"stretch")?Yw(ut(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Kt(e,t+1)!==115)break;case 6444:switch(Kt(e,jr(e)-3-(~vh(e,"!important")&&10))){case 107:return ut(e,":",":"+ct)+e;case 101:return ut(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ct+(Kt(e,14)===45?"inline-":"")+"box$3$1"+ct+"$2$3$1"+en+"$2box$3")+e}break;case 5936:switch(Kt(e,t+11)){case 114:return ct+e+en+ut(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ct+e+en+ut(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ct+e+en+ut(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ct+e+en+e+e}return e}var JL=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case rp:t.return=Yw(t.value,t.length);break;case Ww:return Co([ga(t,{value:ut(t.value,"@","@"+ct)})],i);case np:if(t.length)return AL(t.props,function(o){switch(kL(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Co([ga(t,{props:[ut(o,/:(read-\w+)/,":"+ou+"$1")]})],i);case"::placeholder":return Co([ga(t,{props:[ut(o,/:(plac\w+)/,":"+ct+"input-$1")]}),ga(t,{props:[ut(o,/:(plac\w+)/,":"+ou+"$1")]}),ga(t,{props:[ut(o,/:(plac\w+)/,en+"input-$1")]})],i)}return""})}},QL=[JL],eF=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var _=v.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=t.stylisPlugins||QL,o={},a,u=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var _=v.getAttribute("data-emotion").split(" "),C=1;C<_.length;C++)o[_[C]]=!0;u.push(v)});var d,f=[qL,XL];{var m,g=[WL,HL(function(v){m.insert(v)})],b=UL(f.concat(i,g)),x=function(_){return Co($L(_),b)};d=function(_,C,P,E){m=P,x(_?_+"{"+C.styles+"}":C.styles),E&&(w.inserted[C.name]=!0)}}var w={key:n,sheet:new TL({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:d};return w.sheet.hydrate(u),w},nf={exports:{}},ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function tF(){if(Ey)return ft;Ey=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,m=e?Symbol.for("react.forward_ref"):60112,g=e?Symbol.for("react.suspense"):60113,b=e?Symbol.for("react.suspense_list"):60120,x=e?Symbol.for("react.memo"):60115,w=e?Symbol.for("react.lazy"):60116,v=e?Symbol.for("react.block"):60121,_=e?Symbol.for("react.fundamental"):60117,C=e?Symbol.for("react.responder"):60118,P=e?Symbol.for("react.scope"):60119;function E(T){if(typeof T=="object"&&T!==null){var A=T.$$typeof;switch(A){case t:switch(T=T.type,T){case d:case f:case r:case o:case i:case g:return T;default:switch(T=T&&T.$$typeof,T){case u:case m:case w:case x:case a:return T;default:return A}}case n:return A}}}function M(T){return E(T)===f}return ft.AsyncMode=d,ft.ConcurrentMode=f,ft.ContextConsumer=u,ft.ContextProvider=a,ft.Element=t,ft.ForwardRef=m,ft.Fragment=r,ft.Lazy=w,ft.Memo=x,ft.Portal=n,ft.Profiler=o,ft.StrictMode=i,ft.Suspense=g,ft.isAsyncMode=function(T){return M(T)||E(T)===d},ft.isConcurrentMode=M,ft.isContextConsumer=function(T){return E(T)===u},ft.isContextProvider=function(T){return E(T)===a},ft.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},ft.isForwardRef=function(T){return E(T)===m},ft.isFragment=function(T){return E(T)===r},ft.isLazy=function(T){return E(T)===w},ft.isMemo=function(T){return E(T)===x},ft.isPortal=function(T){return E(T)===n},ft.isProfiler=function(T){return E(T)===o},ft.isStrictMode=function(T){return E(T)===i},ft.isSuspense=function(T){return E(T)===g},ft.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===r||T===f||T===o||T===i||T===g||T===b||typeof T=="object"&&T!==null&&(T.$$typeof===w||T.$$typeof===x||T.$$typeof===a||T.$$typeof===u||T.$$typeof===m||T.$$typeof===_||T.$$typeof===C||T.$$typeof===P||T.$$typeof===v)},ft.typeOf=E,ft}var Ty;function nF(){return Ty||(Ty=1,nf.exports=tF()),nf.exports}var rf,Ny;function rF(){if(Ny)return rf;Ny=1;var e=nF(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=r,o[e.Memo]=i;function a(w){return e.isMemo(w)?i:o[w.$$typeof]||t}var u=Object.defineProperty,d=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,b=Object.prototype;function x(w,v,_){if(typeof v!="string"){if(b){var C=g(v);C&&C!==b&&x(w,C,_)}var P=d(v);f&&(P=P.concat(f(v)));for(var E=a(w),M=a(v),T=0;T<P.length;++T){var A=P[T];if(!n[A]&&!(_&&_[A])&&!(M&&M[A])&&!(E&&E[A])){var R=m(v,A);try{u(w,A,R)}catch{}}}}return w}return rf=x,rf}rF();var iF=!0;function sF(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var Kw=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||iF===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},oF=function(t,n,r){Kw(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function aF(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var lF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},cF=/[A-Z]|^ms/g,uF=/_EMO_([^_]+?)_([^]*?)_EMO_/g,qw=function(t){return t.charCodeAt(1)===45},jy=function(t){return t!=null&&typeof t!="boolean"},sf=ZL(function(e){return qw(e)?e:e.replace(cF,"-$&").toLowerCase()}),My=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(uF,function(r,i,o){return Mr={name:i,styles:o,next:Mr},i})}return lF[t]!==1&&!qw(t)&&typeof n=="number"&&n!==0?n+"px":n};function al(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Mr={name:i.name,styles:i.styles,next:Mr},i.name;var o=n;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)Mr={name:a.name,styles:a.styles,next:Mr},a=a.next;var u=o.styles+";";return u}return dF(e,t,n)}case"function":{if(e!==void 0){var d=Mr,f=n(e);return Mr=d,al(e,t,f)}break}}var m=n;return m}function dF(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=al(e,t,n[i])+";";else for(var o in n){var a=n[o];if(typeof a!="object"){var u=a;jy(u)&&(r+=sf(o)+":"+My(o,u)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&t==null)for(var d=0;d<a.length;d++)jy(a[d])&&(r+=sf(o)+":"+My(o,a[d])+";");else{var f=al(e,t,a);switch(o){case"animation":case"animationName":{r+=sf(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var Ry=/label:\s*([^\s;{]+)\s*(;|$)/g,Mr;function Xw(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Mr=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,i+=al(n,t,o);else{var a=o;i+=a[0]}for(var u=1;u<e.length;u++)if(i+=al(n,t,e[u]),r){var d=o;i+=d[u]}Ry.lastIndex=0;for(var f="",m;(m=Ry.exec(i))!==null;)f+="-"+m[1];var g=aF(i)+f;return{name:g,styles:i,next:Mr}}var fF=function(t){return t()},hF=Vc.useInsertionEffect?Vc.useInsertionEffect:!1,mF=hF||fF,Jw=p.createContext(typeof HTMLElement<"u"?eF({key:"css"}):null);Jw.Provider;var pF=function(t){return p.forwardRef(function(n,r){var i=p.useContext(Jw);return t(n,i,r)})},gF=p.createContext({}),sp={}.hasOwnProperty,xh="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",vF=function(t,n){var r={};for(var i in n)sp.call(n,i)&&(r[i]=n[i]);return r[xh]=t,r},yF=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return Kw(n,r,i),mF(function(){return oF(n,r,i)}),null},xF=pF(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[xh],o=[r],a="";typeof e.className=="string"?a=sF(t.registered,o,e.className):e.className!=null&&(a=e.className+" ");var u=Xw(o,void 0,p.useContext(gF));a+=t.key+"-"+u.name;var d={};for(var f in e)sp.call(e,f)&&f!=="css"&&f!==xh&&(d[f]=e[f]);return d.className=a,n&&(d.ref=n),p.createElement(p.Fragment,null,p.createElement(yF,{cache:t,serialized:u,isStringTag:typeof i=="string"}),p.createElement(i,d))}),bF=xF,ke=function(t,n){var r=arguments;if(n==null||!sp.call(n,"css"))return p.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=bF,o[1]=vF(t,n);for(var a=2;a<i;a++)o[a]=r[a];return p.createElement.apply(null,o)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(ke||(ke={}));function op(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Xw(t)}function _F(){var e=op.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function wF(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var bh=p.useLayoutEffect,SF=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],au=function(){};function CF(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function PF(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&o.push("".concat(CF(e,a)));return o.filter(function(u){return u}).map(function(u){return String(u).trim()}).join(" ")}var Oy=function(t){return AF(t)?t.filter(Boolean):Ms(t)==="object"&&t!==null?[t]:[]},Qw=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=hi(t,SF);return Ae({},n)},Ot=function(t,n,r){var i=t.cx,o=t.getStyles,a=t.getClassNames,u=t.className;return{css:o(n,t),className:i(r??{},a(n,t),u)}};function Wu(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function EF(e){return Wu(e)?window.innerHeight:e.clientHeight}function eS(e){return Wu(e)?window.pageYOffset:e.scrollTop}function lu(e,t){if(Wu(e)){window.scrollTo(0,t);return}e.scrollTop=t}function TF(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}function NF(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function mc(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:au,i=eS(e),o=t-i,a=10,u=0;function d(){u+=a;var f=NF(u,i,o,n);lu(e,f),u<n?window.requestAnimationFrame(d):r(e)}d()}function ky(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?lu(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&lu(e,Math.max(t.offsetTop-i,0))}function jF(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function Ay(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function MF(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var tS=!1,RF={get passive(){return tS=!0}},pc=typeof window<"u"?window:{};pc.addEventListener&&pc.removeEventListener&&(pc.addEventListener("p",au,RF),pc.removeEventListener("p",au,!1));var OF=tS;function kF(e){return e!=null}function AF(e){return Array.isArray(e)}function gc(e,t,n){return e?t:n}var IF=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=Object.entries(t).filter(function(a){var u=si(a,1),d=u[0];return!r.includes(d)});return o.reduce(function(a,u){var d=si(u,2),f=d[0],m=d[1];return a[f]=m,a},{})},DF=["children","innerProps"],LF=["children","innerProps"];function FF(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,a=e.isFixedPosition,u=e.controlHeight,d=TF(n),f={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return f;var m=d.getBoundingClientRect(),g=m.height,b=n.getBoundingClientRect(),x=b.bottom,w=b.height,v=b.top,_=n.offsetParent.getBoundingClientRect(),C=_.top,P=a?window.innerHeight:EF(d),E=eS(d),M=parseInt(getComputedStyle(n).marginBottom,10),T=parseInt(getComputedStyle(n).marginTop,10),A=C-T,R=P-v,k=A+E,U=g-E-v,X=x-P+E+M,re=E+v-T,z=160;switch(i){case"auto":case"bottom":if(R>=w)return{placement:"bottom",maxHeight:t};if(U>=w&&!a)return o&&mc(d,X,z),{placement:"bottom",maxHeight:t};if(!a&&U>=r||a&&R>=r){o&&mc(d,X,z);var ne=a?R-M:U-M;return{placement:"bottom",maxHeight:ne}}if(i==="auto"||a){var J=t,H=a?A:k;return H>=r&&(J=Math.min(H-M-u,t)),{placement:"top",maxHeight:J}}if(i==="bottom")return o&&lu(d,X),{placement:"bottom",maxHeight:t};break;case"top":if(A>=w)return{placement:"top",maxHeight:t};if(k>=w&&!a)return o&&mc(d,re,z),{placement:"top",maxHeight:t};if(!a&&k>=r||a&&A>=r){var K=t;return(!a&&k>=r||a&&A>=r)&&(K=a?A-T:k-T),o&&mc(d,re,z),{placement:"top",maxHeight:K}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return f}function VF(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var nS=function(t){return t==="auto"?"bottom":t},BF=function(t,n){var r,i=t.placement,o=t.theme,a=o.borderRadius,u=o.spacing,d=o.colors;return Ae((r={label:"menu"},Sa(r,VF(i),"100%"),Sa(r,"position","absolute"),Sa(r,"width","100%"),Sa(r,"zIndex",1),r),n?{}:{backgroundColor:d.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:u.menuGutter,marginTop:u.menuGutter})},rS=p.createContext(null),$F=function(t){var n=t.children,r=t.minMenuHeight,i=t.maxMenuHeight,o=t.menuPlacement,a=t.menuPosition,u=t.menuShouldScrollIntoView,d=t.theme,f=p.useContext(rS)||{},m=f.setPortalPlacement,g=p.useRef(null),b=p.useState(i),x=si(b,2),w=x[0],v=x[1],_=p.useState(null),C=si(_,2),P=C[0],E=C[1],M=d.spacing.controlHeight;return bh(function(){var T=g.current;if(T){var A=a==="fixed",R=u&&!A,k=FF({maxHeight:i,menuEl:T,minHeight:r,placement:o,shouldScroll:R,isFixedPosition:A,controlHeight:M});v(k.maxHeight),E(k.placement),m==null||m(k.placement)}},[i,o,a,u,r,m,M]),n({ref:g,placerProps:Ae(Ae({},t),{},{placement:P||nS(o),maxHeight:w})})},zF=function(t){var n=t.children,r=t.innerRef,i=t.innerProps;return ke("div",$e({},Ot(t,"menu",{menu:!0}),{ref:r},i),n)},WF=zF,UF=function(t,n){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return Ae({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},HF=function(t){var n=t.children,r=t.innerProps,i=t.innerRef,o=t.isMulti;return ke("div",$e({},Ot(t,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:i},r),n)},iS=function(t,n){var r=t.theme,i=r.spacing.baseUnit,o=r.colors;return Ae({textAlign:"center"},n?{}:{color:o.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},ZF=iS,GF=iS,YF=function(t){var n=t.children,r=n===void 0?"No options":n,i=t.innerProps,o=hi(t,DF);return ke("div",$e({},Ot(Ae(Ae({},o),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},KF=function(t){var n=t.children,r=n===void 0?"Loading...":n,i=t.innerProps,o=hi(t,LF);return ke("div",$e({},Ot(Ae(Ae({},o),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},qF=function(t){var n=t.rect,r=t.offset,i=t.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},XF=function(t){var n=t.appendTo,r=t.children,i=t.controlElement,o=t.innerProps,a=t.menuPlacement,u=t.menuPosition,d=p.useRef(null),f=p.useRef(null),m=p.useState(nS(a)),g=si(m,2),b=g[0],x=g[1],w=p.useMemo(function(){return{setPortalPlacement:x}},[]),v=p.useState(null),_=si(v,2),C=_[0],P=_[1],E=p.useCallback(function(){if(i){var R=jF(i),k=u==="fixed"?0:window.pageYOffset,U=R[b]+k;(U!==(C==null?void 0:C.offset)||R.left!==(C==null?void 0:C.rect.left)||R.width!==(C==null?void 0:C.rect.width))&&P({offset:U,rect:R})}},[i,u,b,C==null?void 0:C.offset,C==null?void 0:C.rect.left,C==null?void 0:C.rect.width]);bh(function(){E()},[E]);var M=p.useCallback(function(){typeof f.current=="function"&&(f.current(),f.current=null),i&&d.current&&(f.current=Tu(i,d.current,E,{elementResize:"ResizeObserver"in window}))},[i,E]);bh(function(){M()},[M]);var T=p.useCallback(function(R){d.current=R,M()},[M]);if(!n&&u!=="fixed"||!C)return null;var A=ke("div",$e({ref:T},Ot(Ae(Ae({},t),{},{offset:C.offset,position:u,rect:C.rect}),"menuPortal",{"menu-portal":!0}),o),r);return ke(rS.Provider,{value:w},n?di.createPortal(A,n):A)},JF=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},QF=function(t){var n=t.children,r=t.innerProps,i=t.isDisabled,o=t.isRtl;return ke("div",$e({},Ot(t,"container",{"--is-disabled":i,"--is-rtl":o}),r),n)},e4=function(t,n){var r=t.theme.spacing,i=t.isMulti,o=t.hasValue,a=t.selectProps.controlShouldRenderValue;return Ae({alignItems:"center",display:i&&o&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},t4=function(t){var n=t.children,r=t.innerProps,i=t.isMulti,o=t.hasValue;return ke("div",$e({},Ot(t,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":o}),r),n)},n4=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},r4=function(t){var n=t.children,r=t.innerProps;return ke("div",$e({},Ot(t,"indicatorsContainer",{indicators:!0}),r),n)},Iy,i4=["size"],s4=["innerProps","isRtl","size"],o4={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},sS=function(t){var n=t.size,r=hi(t,i4);return ke("svg",$e({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:o4},r))},ap=function(t){return ke(sS,$e({size:20},t),ke("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},oS=function(t){return ke(sS,$e({size:20},t),ke("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},aS=function(t,n){var r=t.isFocused,i=t.theme,o=i.spacing.baseUnit,a=i.colors;return Ae({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?a.neutral60:a.neutral20,padding:o*2,":hover":{color:r?a.neutral80:a.neutral40}})},a4=aS,l4=function(t){var n=t.children,r=t.innerProps;return ke("div",$e({},Ot(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||ke(oS,null))},c4=aS,u4=function(t){var n=t.children,r=t.innerProps;return ke("div",$e({},Ot(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||ke(ap,null))},d4=function(t,n){var r=t.isDisabled,i=t.theme,o=i.spacing.baseUnit,a=i.colors;return Ae({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:o*2,marginTop:o*2})},f4=function(t){var n=t.innerProps;return ke("span",$e({},n,Ot(t,"indicatorSeparator",{"indicator-separator":!0})))},h4=_F(Iy||(Iy=wF([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),m4=function(t,n){var r=t.isFocused,i=t.size,o=t.theme,a=o.colors,u=o.spacing.baseUnit;return Ae({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?a.neutral60:a.neutral20,padding:u*2})},of=function(t){var n=t.delay,r=t.offset;return ke("span",{css:op({animation:"".concat(h4," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},p4=function(t){var n=t.innerProps,r=t.isRtl,i=t.size,o=i===void 0?4:i,a=hi(t,s4);return ke("div",$e({},Ot(Ae(Ae({},a),{},{innerProps:n,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ke(of,{delay:0,offset:r}),ke(of,{delay:160,offset:!0}),ke(of,{delay:320,offset:!r}))},g4=function(t,n){var r=t.isDisabled,i=t.isFocused,o=t.theme,a=o.colors,u=o.borderRadius,d=o.spacing;return Ae({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:d.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:i?a.primary:a.neutral20,borderRadius:u,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:i?a.primary:a.neutral30}})},v4=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,o=t.innerRef,a=t.innerProps,u=t.menuIsOpen;return ke("div",$e({ref:o},Ot(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":u}),a,{"aria-disabled":r||void 0}),n)},y4=v4,x4=["data"],b4=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},_4=function(t){var n=t.children,r=t.cx,i=t.getStyles,o=t.getClassNames,a=t.Heading,u=t.headingProps,d=t.innerProps,f=t.label,m=t.theme,g=t.selectProps;return ke("div",$e({},Ot(t,"group",{group:!0}),d),ke(a,$e({},u,{selectProps:g,theme:m,getStyles:i,getClassNames:o,cx:r}),f),ke("div",null,n))},w4=function(t,n){var r=t.theme,i=r.colors,o=r.spacing;return Ae({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},S4=function(t){var n=Qw(t);n.data;var r=hi(n,x4);return ke("div",$e({},Ot(t,"groupHeading",{"group-heading":!0}),r))},C4=_4,P4=["innerRef","isDisabled","isHidden","inputClassName"],E4=function(t,n){var r=t.isDisabled,i=t.value,o=t.theme,a=o.spacing,u=o.colors;return Ae(Ae({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},T4),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:u.neutral80})},lS={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},T4={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ae({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},lS)},N4=function(t){return Ae({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},lS)},j4=function(t){var n=t.cx,r=t.value,i=Qw(t),o=i.innerRef,a=i.isDisabled,u=i.isHidden,d=i.inputClassName,f=hi(i,P4);return ke("div",$e({},Ot(t,"input",{"input-container":!0}),{"data-value":r||""}),ke("input",$e({className:n({input:!0},d),ref:o,style:N4(u),disabled:a},f)))},M4=j4,R4=function(t,n){var r=t.theme,i=r.spacing,o=r.borderRadius,a=r.colors;return Ae({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:o/2,margin:i.baseUnit/2})},O4=function(t,n){var r=t.theme,i=r.borderRadius,o=r.colors,a=t.cropWithEllipsis;return Ae({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},k4=function(t,n){var r=t.theme,i=r.spacing,o=r.borderRadius,a=r.colors,u=t.isFocused;return Ae({alignItems:"center",display:"flex"},n?{}:{borderRadius:o/2,backgroundColor:u?a.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},cS=function(t){var n=t.children,r=t.innerProps;return ke("div",r,n)},A4=cS,I4=cS;function D4(e){var t=e.children,n=e.innerProps;return ke("div",$e({role:"button"},n),t||ke(ap,{size:14}))}var L4=function(t){var n=t.children,r=t.components,i=t.data,o=t.innerProps,a=t.isDisabled,u=t.removeProps,d=t.selectProps,f=r.Container,m=r.Label,g=r.Remove;return ke(f,{data:i,innerProps:Ae(Ae({},Ot(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),o),selectProps:d},ke(m,{data:i,innerProps:Ae({},Ot(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:d},n),ke(g,{data:i,innerProps:Ae(Ae({},Ot(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},u),selectProps:d}))},F4=L4,V4=function(t,n){var r=t.isDisabled,i=t.isFocused,o=t.isSelected,a=t.theme,u=a.spacing,d=a.colors;return Ae({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:o?d.primary:i?d.primary25:"transparent",color:r?d.neutral20:o?d.neutral0:"inherit",padding:"".concat(u.baseUnit*2,"px ").concat(u.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?d.primary:d.primary50}})},B4=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,o=t.isSelected,a=t.innerRef,u=t.innerProps;return ke("div",$e({},Ot(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":o}),{ref:a,"aria-disabled":r},u),n)},$4=B4,z4=function(t,n){var r=t.theme,i=r.spacing,o=r.colors;return Ae({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:o.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},W4=function(t){var n=t.children,r=t.innerProps;return ke("div",$e({},Ot(t,"placeholder",{placeholder:!0}),r),n)},U4=W4,H4=function(t,n){var r=t.isDisabled,i=t.theme,o=i.spacing,a=i.colors;return Ae({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?a.neutral40:a.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},Z4=function(t){var n=t.children,r=t.isDisabled,i=t.innerProps;return ke("div",$e({},Ot(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},G4=Z4,Y4={ClearIndicator:u4,Control:y4,DropdownIndicator:l4,DownChevron:oS,CrossIcon:ap,Group:C4,GroupHeading:S4,IndicatorsContainer:r4,IndicatorSeparator:f4,Input:M4,LoadingIndicator:p4,Menu:WF,MenuList:HF,MenuPortal:XF,LoadingMessage:KF,NoOptionsMessage:YF,MultiValue:F4,MultiValueContainer:A4,MultiValueLabel:I4,MultiValueRemove:D4,Option:$4,Placeholder:U4,SelectContainer:QF,SingleValue:G4,ValueContainer:t4},K4=function(t){return Ae(Ae({},Y4),t.components)},Dy=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function q4(e,t){return!!(e===t||Dy(e)&&Dy(t))}function X4(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!q4(e[n],t[n]))return!1;return!0}function J4(e,t){t===void 0&&(t=X4);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}var Q4={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},e5=function(t){return ke("span",$e({css:Q4},t))},Ly=e5,t5={guidance:function(t){var n=t.isSearchable,r=t.isMulti,i=t.tabSelectsValue,o=t.context,a=t.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,i=r===void 0?"":r,o=t.labels,a=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return a?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,i=t.options,o=t.label,a=o===void 0?"":o,u=t.selectValue,d=t.isDisabled,f=t.isSelected,m=t.isAppleDevice,g=function(v,_){return v&&v.length?"".concat(v.indexOf(_)+1," of ").concat(v.length):""};if(n==="value"&&u)return"value ".concat(a," focused, ").concat(g(u,r),".");if(n==="menu"&&m){var b=d?" disabled":"",x="".concat(f?" selected":"").concat(b);return"".concat(a).concat(x,", ").concat(g(i,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},n5=function(t){var n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,o=t.focusableOptions,a=t.isFocused,u=t.selectValue,d=t.selectProps,f=t.id,m=t.isAppleDevice,g=d.ariaLiveMessages,b=d.getOptionLabel,x=d.inputValue,w=d.isMulti,v=d.isOptionDisabled,_=d.isSearchable,C=d.menuIsOpen,P=d.options,E=d.screenReaderStatus,M=d.tabSelectsValue,T=d.isLoading,A=d["aria-label"],R=d["aria-live"],k=p.useMemo(function(){return Ae(Ae({},t5),g||{})},[g]),U=p.useMemo(function(){var H="";if(n&&k.onChange){var K=n.option,G=n.options,$=n.removedValue,V=n.removedValues,Y=n.value,se=function(xe){return Array.isArray(xe)?null:xe},I=$||K||se(Y),Q=I?b(I):"",ie=G||V||void 0,ce=ie?ie.map(b):[],ae=Ae({isDisabled:I&&v(I,u),label:Q,labels:ce},n);H=k.onChange(ae)}return H},[n,k,v,u,b]),X=p.useMemo(function(){var H="",K=r||i,G=!!(r&&u&&u.includes(r));if(K&&k.onFocus){var $={focused:K,label:b(K),isDisabled:v(K,u),isSelected:G,options:o,context:K===r?"menu":"value",selectValue:u,isAppleDevice:m};H=k.onFocus($)}return H},[r,i,b,v,k,o,u,m]),re=p.useMemo(function(){var H="";if(C&&P.length&&!T&&k.onFilter){var K=E({count:o.length});H=k.onFilter({inputValue:x,resultsMessage:K})}return H},[o,x,C,k,P,E,T]),z=(n==null?void 0:n.action)==="initial-input-focus",ne=p.useMemo(function(){var H="";if(k.guidance){var K=i?"value":C?"menu":"input";H=k.guidance({"aria-label":A,context:K,isDisabled:r&&v(r,u),isMulti:w,isSearchable:_,tabSelectsValue:M,isInitialFocus:z})}return H},[A,r,i,w,v,_,C,k,u,M,z]),J=ke(p.Fragment,null,ke("span",{id:"aria-selection"},U),ke("span",{id:"aria-focused"},X),ke("span",{id:"aria-results"},re),ke("span",{id:"aria-guidance"},ne));return ke(p.Fragment,null,ke(Ly,{id:f},z&&J),ke(Ly,{"aria-live":R,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!z&&J))},r5=n5,_h=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],i5=new RegExp("["+_h.map(function(e){return e.letters}).join("")+"]","g"),uS={};for(var af=0;af<_h.length;af++)for(var lf=_h[af],cf=0;cf<lf.letters.length;cf++)uS[lf.letters[cf]]=lf.base;var dS=function(t){return t.replace(i5,function(n){return uS[n]})},s5=J4(dS),Fy=function(t){return t.replace(/^\s+|\s+$/g,"")},o5=function(t){return"".concat(t.label," ").concat(t.value)},a5=function(t){return function(n,r){if(n.data.__isNew__)return!0;var i=Ae({ignoreCase:!0,ignoreAccents:!0,stringify:o5,trim:!0,matchFrom:"any"},t),o=i.ignoreCase,a=i.ignoreAccents,u=i.stringify,d=i.trim,f=i.matchFrom,m=d?Fy(r):r,g=d?Fy(u(n)):u(n);return o&&(m=m.toLowerCase(),g=g.toLowerCase()),a&&(m=s5(m),g=dS(g)),f==="start"?g.substr(0,m.length)===m:g.indexOf(m)>-1}},l5=["innerRef"];function c5(e){var t=e.innerRef,n=hi(e,l5),r=IF(n,"onExited","in","enter","exit","appear");return ke("input",$e({ref:t},r,{css:op({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var u5=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function d5(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,o=e.onTopLeave,a=p.useRef(!1),u=p.useRef(!1),d=p.useRef(0),f=p.useRef(null),m=p.useCallback(function(_,C){if(f.current!==null){var P=f.current,E=P.scrollTop,M=P.scrollHeight,T=P.clientHeight,A=f.current,R=C>0,k=M-T-E,U=!1;k>C&&a.current&&(r&&r(_),a.current=!1),R&&u.current&&(o&&o(_),u.current=!1),R&&C>k?(n&&!a.current&&n(_),A.scrollTop=M,U=!0,a.current=!0):!R&&-C>E&&(i&&!u.current&&i(_),A.scrollTop=0,U=!0,u.current=!0),U&&u5(_)}},[n,r,i,o]),g=p.useCallback(function(_){m(_,_.deltaY)},[m]),b=p.useCallback(function(_){d.current=_.changedTouches[0].clientY},[]),x=p.useCallback(function(_){var C=d.current-_.changedTouches[0].clientY;m(_,C)},[m]),w=p.useCallback(function(_){if(_){var C=OF?{passive:!1}:!1;_.addEventListener("wheel",g,C),_.addEventListener("touchstart",b,C),_.addEventListener("touchmove",x,C)}},[x,b,g]),v=p.useCallback(function(_){_&&(_.removeEventListener("wheel",g,!1),_.removeEventListener("touchstart",b,!1),_.removeEventListener("touchmove",x,!1))},[x,b,g]);return p.useEffect(function(){if(t){var _=f.current;return w(_),function(){v(_)}}},[t,w,v]),function(_){f.current=_}}var Vy=["boxSizing","height","overflow","paddingRight","position"],By={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function $y(e){e.cancelable&&e.preventDefault()}function zy(e){e.stopPropagation()}function Wy(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Uy(){return"ontouchstart"in window||navigator.maxTouchPoints}var Hy=!!(typeof window<"u"&&window.document&&window.document.createElement),va=0,Qs={capture:!1,passive:!1};function f5(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,i=p.useRef({}),o=p.useRef(null),a=p.useCallback(function(d){if(Hy){var f=document.body,m=f&&f.style;if(r&&Vy.forEach(function(w){var v=m&&m[w];i.current[w]=v}),r&&va<1){var g=parseInt(i.current.paddingRight,10)||0,b=document.body?document.body.clientWidth:0,x=window.innerWidth-b+g||0;Object.keys(By).forEach(function(w){var v=By[w];m&&(m[w]=v)}),m&&(m.paddingRight="".concat(x,"px"))}f&&Uy()&&(f.addEventListener("touchmove",$y,Qs),d&&(d.addEventListener("touchstart",Wy,Qs),d.addEventListener("touchmove",zy,Qs))),va+=1}},[r]),u=p.useCallback(function(d){if(Hy){var f=document.body,m=f&&f.style;va=Math.max(va-1,0),r&&va<1&&Vy.forEach(function(g){var b=i.current[g];m&&(m[g]=b)}),f&&Uy()&&(f.removeEventListener("touchmove",$y,Qs),d&&(d.removeEventListener("touchstart",Wy,Qs),d.removeEventListener("touchmove",zy,Qs)))}},[r]);return p.useEffect(function(){if(t){var d=o.current;return a(d),function(){u(d)}}},[t,a,u]),function(d){o.current=d}}var h5=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},m5={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function p5(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=r===void 0?!0:r,o=e.onBottomArrive,a=e.onBottomLeave,u=e.onTopArrive,d=e.onTopLeave,f=d5({isEnabled:i,onBottomArrive:o,onBottomLeave:a,onTopArrive:u,onTopLeave:d}),m=f5({isEnabled:n}),g=function(x){f(x),m(x)};return ke(p.Fragment,null,n&&ke("div",{onClick:h5,css:m5}),t(g))}var g5={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},v5=function(t){var n=t.name,r=t.onFocus;return ke("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:g5,value:"",onChange:function(){}})},y5=v5;function lp(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function x5(){return lp(/^iPhone/i)}function fS(){return lp(/^Mac/i)}function b5(){return lp(/^iPad/i)||fS()&&navigator.maxTouchPoints>1}function _5(){return x5()||b5()}function w5(){return fS()||_5()}var S5=function(t){return t.label},C5=function(t){return t.label},P5=function(t){return t.value},E5=function(t){return!!t.isDisabled},T5={clearIndicator:c4,container:JF,control:g4,dropdownIndicator:a4,group:b4,groupHeading:w4,indicatorsContainer:n4,indicatorSeparator:d4,input:E4,loadingIndicator:m4,loadingMessage:GF,menu:BF,menuList:UF,menuPortal:qF,multiValue:R4,multiValueLabel:O4,multiValueRemove:k4,noOptionsMessage:ZF,option:V4,placeholder:z4,singleValue:H4,valueContainer:e4},N5={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},j5=4,hS=4,M5=38,R5=hS*2,O5={baseUnit:hS,controlHeight:M5,menuGutter:R5},uf={borderRadius:j5,colors:N5,spacing:O5},k5={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Ay(),captureMenuScroll:!Ay(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:a5(),formatGroupLabel:S5,getOptionLabel:C5,getOptionValue:P5,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:E5,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!MF(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Zy(e,t,n,r){var i=gS(e,t,n),o=vS(e,t,n),a=pS(e,t),u=cu(e,t);return{type:"option",data:t,isDisabled:i,isSelected:o,label:a,value:u,index:r}}function Ic(e,t){return e.options.map(function(n,r){if("options"in n){var i=n.options.map(function(a,u){return Zy(e,a,t,u)}).filter(function(a){return Yy(e,a)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=Zy(e,n,t,r);return Yy(e,o)?o:void 0}).filter(kF)}function mS(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,tp(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function Gy(e,t){return e.reduce(function(n,r){return r.type==="group"?n.push.apply(n,tp(r.options.map(function(i){return{data:i.data,id:"".concat(t,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),n},[])}function A5(e,t){return mS(Ic(e,t))}function Yy(e,t){var n=e.inputValue,r=n===void 0?"":n,i=t.data,o=t.isSelected,a=t.label,u=t.value;return(!xS(e)||!o)&&yS(e,{label:a,value:u,data:i},r)}function I5(e,t){var n=e.focusedValue,r=e.selectValue,i=r.indexOf(n);if(i>-1){var o=t.indexOf(n);if(o>-1)return n;if(i<t.length)return t[i]}return null}function D5(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var df=function(t,n){var r,i=(r=t.find(function(o){return o.data===n}))===null||r===void 0?void 0:r.id;return i||null},pS=function(t,n){return t.getOptionLabel(n)},cu=function(t,n){return t.getOptionValue(n)};function gS(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function vS(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=cu(e,t);return n.some(function(i){return cu(e,i)===r})}function yS(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var xS=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},L5=1,bS=function(e){xL(n,e);var t=_L(n);function n(r){var i;if(vL(this,n),i=t.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=w5(),i.controlRef=null,i.getControlRef=function(d){i.controlRef=d},i.focusedOptionRef=null,i.getFocusedOptionRef=function(d){i.focusedOptionRef=d},i.menuListRef=null,i.getMenuListRef=function(d){i.menuListRef=d},i.inputRef=null,i.getInputRef=function(d){i.inputRef=d},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(d,f){var m=i.props,g=m.onChange,b=m.name;f.name=b,i.ariaOnChange(d,f),g(d,f)},i.setValue=function(d,f,m){var g=i.props,b=g.closeMenuOnSelect,x=g.isMulti,w=g.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:w}),b&&(i.setState({inputIsHiddenAfterUpdate:!x}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(d,{action:f,option:m})},i.selectOption=function(d){var f=i.props,m=f.blurInputOnSelect,g=f.isMulti,b=f.name,x=i.state.selectValue,w=g&&i.isOptionSelected(d,x),v=i.isOptionDisabled(d,x);if(w){var _=i.getOptionValue(d);i.setValue(x.filter(function(C){return i.getOptionValue(C)!==_}),"deselect-option",d)}else if(!v)g?i.setValue([].concat(tp(x),[d]),"select-option",d):i.setValue(d,"select-option");else{i.ariaOnChange(d,{action:"select-option",option:d,name:b});return}m&&i.blurInput()},i.removeValue=function(d){var f=i.props.isMulti,m=i.state.selectValue,g=i.getOptionValue(d),b=m.filter(function(w){return i.getOptionValue(w)!==g}),x=gc(f,b,b[0]||null);i.onChange(x,{action:"remove-value",removedValue:d}),i.focusInput()},i.clearValue=function(){var d=i.state.selectValue;i.onChange(gc(i.props.isMulti,[],null),{action:"clear",removedValues:d})},i.popValue=function(){var d=i.props.isMulti,f=i.state.selectValue,m=f[f.length-1],g=f.slice(0,f.length-1),b=gc(d,g,g[0]||null);m&&i.onChange(b,{action:"pop-value",removedValue:m})},i.getFocusedOptionId=function(d){return df(i.state.focusableOptionsWithIds,d)},i.getFocusableOptionsWithIds=function(){return Gy(Ic(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];return PF.apply(void 0,[i.props.classNamePrefix].concat(f))},i.getOptionLabel=function(d){return pS(i.props,d)},i.getOptionValue=function(d){return cu(i.props,d)},i.getStyles=function(d,f){var m=i.props.unstyled,g=T5[d](f,m);g.boxSizing="border-box";var b=i.props.styles[d];return b?b(g,f):g},i.getClassNames=function(d,f){var m,g;return(m=(g=i.props.classNames)[d])===null||m===void 0?void 0:m.call(g,f)},i.getElementId=function(d){return"".concat(i.state.instancePrefix,"-").concat(d)},i.getComponents=function(){return K4(i.props)},i.buildCategorizedOptions=function(){return Ic(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return mS(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(d,f){i.setState({ariaSelection:Ae({value:d},f)})},i.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(d){i.blockOptionHover=!1},i.onControlMouseDown=function(d){if(!d.defaultPrevented){var f=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&i.onMenuClose():f&&i.openMenu("first"):(f&&(i.openAfterFocus=!0),i.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},i.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0)&&!i.props.isDisabled){var f=i.props,m=f.isMulti,g=f.menuIsOpen;i.focusInput(),g?(i.setState({inputIsHiddenAfterUpdate:!m}),i.onMenuClose()):i.openMenu("first"),d.preventDefault()}},i.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(i.clearValue(),d.preventDefault(),i.openAfterFocus=!1,d.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(d){typeof i.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&Wu(d.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(d)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(d){var f=d.touches,m=f&&f.item(0);m&&(i.initialTouchX=m.clientX,i.initialTouchY=m.clientY,i.userIsDragging=!1)},i.onTouchMove=function(d){var f=d.touches,m=f&&f.item(0);if(m){var g=Math.abs(m.clientX-i.initialTouchX),b=Math.abs(m.clientY-i.initialTouchY),x=5;i.userIsDragging=g>x||b>x}},i.onTouchEnd=function(d){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(d.target)&&i.menuListRef&&!i.menuListRef.contains(d.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(d){i.userIsDragging||i.onControlMouseDown(d)},i.onClearIndicatorTouchEnd=function(d){i.userIsDragging||i.onClearIndicatorMouseDown(d)},i.onDropdownIndicatorTouchEnd=function(d){i.userIsDragging||i.onDropdownIndicatorMouseDown(d)},i.handleInputChange=function(d){var f=i.props.inputValue,m=d.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(m,{action:"input-change",prevInputValue:f}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(d){i.props.onFocus&&i.props.onFocus(d),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(d){var f=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(d),i.onInputChange("",{action:"input-blur",prevInputValue:f}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(d){if(!(i.blockOptionHover||i.state.focusedOption===d)){var f=i.getFocusableOptions(),m=f.indexOf(d);i.setState({focusedOption:d,focusedOptionId:m>-1?i.getFocusedOptionId(d):null})}},i.shouldHideSelectedOptions=function(){return xS(i.props)},i.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),i.focus()},i.onKeyDown=function(d){var f=i.props,m=f.isMulti,g=f.backspaceRemovesValue,b=f.escapeClearsValue,x=f.inputValue,w=f.isClearable,v=f.isDisabled,_=f.menuIsOpen,C=f.onKeyDown,P=f.tabSelectsValue,E=f.openMenuOnFocus,M=i.state,T=M.focusedOption,A=M.focusedValue,R=M.selectValue;if(!v&&!(typeof C=="function"&&(C(d),d.defaultPrevented))){switch(i.blockOptionHover=!0,d.key){case"ArrowLeft":if(!m||x)return;i.focusValue("previous");break;case"ArrowRight":if(!m||x)return;i.focusValue("next");break;case"Delete":case"Backspace":if(x)return;if(A)i.removeValue(A);else{if(!g)return;m?i.popValue():w&&i.clearValue()}break;case"Tab":if(i.isComposing||d.shiftKey||!_||!P||!T||E&&i.isOptionSelected(T,R))return;i.selectOption(T);break;case"Enter":if(d.keyCode===229)break;if(_){if(!T||i.isComposing)return;i.selectOption(T);break}return;case"Escape":_?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:x}),i.onMenuClose()):w&&b&&i.clearValue();break;case" ":if(x)return;if(!_){i.openMenu("first");break}if(!T)return;i.selectOption(T);break;case"ArrowUp":_?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":_?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!_)return;i.focusOption("pageup");break;case"PageDown":if(!_)return;i.focusOption("pagedown");break;case"Home":if(!_)return;i.focusOption("first");break;case"End":if(!_)return;i.focusOption("last");break;default:return}d.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++L5),i.state.selectValue=Oy(r.value),r.menuIsOpen&&i.state.selectValue.length){var o=i.getFocusableOptionsWithIds(),a=i.buildFocusableOptions(),u=a.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=o,i.state.focusedOption=a[u],i.state.focusedOptionId=df(o,a[u])}return i}return yL(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&ky(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isDisabled,u=o.menuIsOpen,d=this.state.isFocused;(d&&!a&&i.isDisabled||d&&u&&!i.menuIsOpen)&&this.focusInput(),d&&a&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!d&&!a&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(ky(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,a=this.state,u=a.selectValue,d=a.isFocused,f=this.buildFocusableOptions(),m=i==="first"?0:f.length-1;if(!this.props.isMulti){var g=f.indexOf(u[0]);g>-1&&(m=g)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:f[m],focusedOptionId:this.getFocusedOptionId(f[m])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,a=o.selectValue,u=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=a.indexOf(u);u||(d=-1);var f=a.length-1,m=-1;if(a.length){switch(i){case"previous":d===0?m=0:d===-1?m=f:m=d-1;break;case"next":d>-1&&d<f&&(m=d+1);break}this.setState({inputIsHidden:m!==-1,focusedValue:a[m]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,a=this.state.focusedOption,u=this.getFocusableOptions();if(u.length){var d=0,f=u.indexOf(a);a||(f=-1),i==="up"?d=f>0?f-1:u.length-1:i==="down"?d=(f+1)%u.length:i==="pageup"?(d=f-o,d<0&&(d=0)):i==="pagedown"?(d=f+o,d>u.length-1&&(d=u.length-1)):i==="last"&&(d=u.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:u[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(u[d])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(uf):Ae(Ae({},uf),this.props.theme):uf}},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,a=this.getStyles,u=this.getClassNames,d=this.getValue,f=this.selectOption,m=this.setValue,g=this.props,b=g.isMulti,x=g.isRtl,w=g.options,v=this.hasValue();return{clearValue:i,cx:o,getStyles:a,getClassNames:u,getValue:d,hasValue:v,isMulti:b,isRtl:x,options:w,selectOption:f,selectProps:g,setValue:m,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,a=i.isMulti;return o===void 0?a:o}},{key:"isOptionDisabled",value:function(i,o){return gS(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return vS(this.props,i,o)}},{key:"filterOption",value:function(i,o){return yS(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,u=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:a,selectValue:u})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,o=i.isDisabled,a=i.isSearchable,u=i.inputId,d=i.inputValue,f=i.tabIndex,m=i.form,g=i.menuIsOpen,b=i.required,x=this.getComponents(),w=x.Input,v=this.state,_=v.inputIsHidden,C=v.ariaSelection,P=this.commonProps,E=u||this.getElementId("input"),M=Ae(Ae(Ae({"aria-autocomplete":"list","aria-expanded":g,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":b,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},g&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?(C==null?void 0:C.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?p.createElement(w,$e({},P,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:E,innerRef:this.getInputRef,isDisabled:o,isHidden:_,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:f,form:m,type:"text",value:d},M)):p.createElement(c5,$e({id:E,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:au,onFocus:this.onInputFocus,disabled:o,tabIndex:f,inputMode:"none",form:m,value:""},M))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),a=o.MultiValue,u=o.MultiValueContainer,d=o.MultiValueLabel,f=o.MultiValueRemove,m=o.SingleValue,g=o.Placeholder,b=this.commonProps,x=this.props,w=x.controlShouldRenderValue,v=x.isDisabled,_=x.isMulti,C=x.inputValue,P=x.placeholder,E=this.state,M=E.selectValue,T=E.focusedValue,A=E.isFocused;if(!this.hasValue()||!w)return C?null:p.createElement(g,$e({},b,{key:"placeholder",isDisabled:v,isFocused:A,innerProps:{id:this.getElementId("placeholder")}}),P);if(_)return M.map(function(k,U){var X=k===T,re="".concat(i.getOptionLabel(k),"-").concat(i.getOptionValue(k));return p.createElement(a,$e({},b,{components:{Container:u,Label:d,Remove:f},isFocused:X,isDisabled:v,key:re,index:U,removeProps:{onClick:function(){return i.removeValue(k)},onTouchEnd:function(){return i.removeValue(k)},onMouseDown:function(ne){ne.preventDefault()}},data:k}),i.formatOptionLabel(k,"value"))});if(C)return null;var R=M[0];return p.createElement(m,$e({},b,{data:R,isDisabled:v}),this.formatOptionLabel(R,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),o=i.ClearIndicator,a=this.commonProps,u=this.props,d=u.isDisabled,f=u.isLoading,m=this.state.isFocused;if(!this.isClearable()||!o||d||!this.hasValue()||f)return null;var g={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return p.createElement(o,$e({},a,{innerProps:g,isFocused:m}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),o=i.LoadingIndicator,a=this.commonProps,u=this.props,d=u.isDisabled,f=u.isLoading,m=this.state.isFocused;if(!o||!f)return null;var g={"aria-hidden":"true"};return p.createElement(o,$e({},a,{innerProps:g,isDisabled:d,isFocused:m}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,a=i.IndicatorSeparator;if(!o||!a)return null;var u=this.commonProps,d=this.props.isDisabled,f=this.state.isFocused;return p.createElement(a,$e({},u,{isDisabled:d,isFocused:f}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator;if(!o)return null;var a=this.commonProps,u=this.props.isDisabled,d=this.state.isFocused,f={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return p.createElement(o,$e({},a,{innerProps:f,isDisabled:u,isFocused:d}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),a=o.Group,u=o.GroupHeading,d=o.Menu,f=o.MenuList,m=o.MenuPortal,g=o.LoadingMessage,b=o.NoOptionsMessage,x=o.Option,w=this.commonProps,v=this.state.focusedOption,_=this.props,C=_.captureMenuScroll,P=_.inputValue,E=_.isLoading,M=_.loadingMessage,T=_.minMenuHeight,A=_.maxMenuHeight,R=_.menuIsOpen,k=_.menuPlacement,U=_.menuPosition,X=_.menuPortalTarget,re=_.menuShouldBlockScroll,z=_.menuShouldScrollIntoView,ne=_.noOptionsMessage,J=_.onMenuScrollToTop,H=_.onMenuScrollToBottom;if(!R)return null;var K=function(Q,ie){var ce=Q.type,ae=Q.data,oe=Q.isDisabled,xe=Q.isSelected,Ee=Q.label,Re=Q.value,Te=v===ae,Ce=oe?void 0:function(){return i.onOptionHover(ae)},Ze=oe?void 0:function(){return i.selectOption(ae)},lt="".concat(i.getElementId("option"),"-").concat(ie),xt={id:lt,onClick:Ze,onMouseMove:Ce,onMouseOver:Ce,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:xe};return p.createElement(x,$e({},w,{innerProps:xt,data:ae,isDisabled:oe,isSelected:xe,key:lt,label:Ee,type:ce,value:Re,isFocused:Te,innerRef:Te?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(Q.data,"menu"))},G;if(this.hasOptions())G=this.getCategorizedOptions().map(function(I){if(I.type==="group"){var Q=I.data,ie=I.options,ce=I.index,ae="".concat(i.getElementId("group"),"-").concat(ce),oe="".concat(ae,"-heading");return p.createElement(a,$e({},w,{key:ae,data:Q,options:ie,Heading:u,headingProps:{id:oe,data:I.data},label:i.formatGroupLabel(I.data)}),I.options.map(function(xe){return K(xe,"".concat(ce,"-").concat(xe.index))}))}else if(I.type==="option")return K(I,"".concat(I.index))});else if(E){var $=M({inputValue:P});if($===null)return null;G=p.createElement(g,w,$)}else{var V=ne({inputValue:P});if(V===null)return null;G=p.createElement(b,w,V)}var Y={minMenuHeight:T,maxMenuHeight:A,menuPlacement:k,menuPosition:U,menuShouldScrollIntoView:z},se=p.createElement($F,$e({},w,Y),function(I){var Q=I.ref,ie=I.placerProps,ce=ie.placement,ae=ie.maxHeight;return p.createElement(d,$e({},w,Y,{innerRef:Q,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:E,placement:ce}),p.createElement(p5,{captureEnabled:C,onTopArrive:J,onBottomArrive:H,lockEnabled:re},function(oe){return p.createElement(f,$e({},w,{innerRef:function(Ee){i.getMenuListRef(Ee),oe(Ee)},innerProps:{role:"listbox","aria-multiselectable":w.isMulti,id:i.getElementId("listbox")},isLoading:E,maxHeight:ae,focusedOption:v}),G)}))});return X||U==="fixed"?p.createElement(m,$e({},w,{appendTo:X,controlElement:this.controlRef,menuPlacement:k,menuPosition:U}),se):se}},{key:"renderFormField",value:function(){var i=this,o=this.props,a=o.delimiter,u=o.isDisabled,d=o.isMulti,f=o.name,m=o.required,g=this.state.selectValue;if(m&&!this.hasValue()&&!u)return p.createElement(y5,{name:f,onFocus:this.onValueInputFocus});if(!(!f||u))if(d)if(a){var b=g.map(function(v){return i.getOptionValue(v)}).join(a);return p.createElement("input",{name:f,type:"hidden",value:b})}else{var x=g.length>0?g.map(function(v,_){return p.createElement("input",{key:"i-".concat(_),name:f,type:"hidden",value:i.getOptionValue(v)})}):p.createElement("input",{name:f,type:"hidden",value:""});return p.createElement("div",null,x)}else{var w=g[0]?this.getOptionValue(g[0]):"";return p.createElement("input",{name:f,type:"hidden",value:w})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,a=o.ariaSelection,u=o.focusedOption,d=o.focusedValue,f=o.isFocused,m=o.selectValue,g=this.getFocusableOptions();return p.createElement(r5,$e({},i,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:u,focusedValue:d,isFocused:f,selectValue:m,focusableOptions:g,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,a=i.IndicatorsContainer,u=i.SelectContainer,d=i.ValueContainer,f=this.props,m=f.className,g=f.id,b=f.isDisabled,x=f.menuIsOpen,w=this.state.isFocused,v=this.commonProps=this.getCommonProps();return p.createElement(u,$e({},v,{className:m,innerProps:{id:g,onKeyDown:this.onKeyDown},isDisabled:b,isFocused:w}),this.renderLiveRegion(),p.createElement(o,$e({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:b,isFocused:w,menuIsOpen:x}),p.createElement(d,$e({},v,{isDisabled:b}),this.renderPlaceholderOrValue(),this.renderInput()),p.createElement(a,$e({},v,{isDisabled:b}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,o){var a=o.prevProps,u=o.clearFocusValueOnUpdate,d=o.inputIsHiddenAfterUpdate,f=o.ariaSelection,m=o.isFocused,g=o.prevWasFocused,b=o.instancePrefix,x=i.options,w=i.value,v=i.menuIsOpen,_=i.inputValue,C=i.isMulti,P=Oy(w),E={};if(a&&(w!==a.value||x!==a.options||v!==a.menuIsOpen||_!==a.inputValue)){var M=v?A5(i,P):[],T=v?Gy(Ic(i,P),"".concat(b,"-option")):[],A=u?I5(o,P):null,R=D5(o,M),k=df(T,R);E={selectValue:P,focusedOption:R,focusedOptionId:k,focusableOptionsWithIds:T,focusedValue:A,clearFocusValueOnUpdate:!1}}var U=d!=null&&i!==a?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},X=f,re=m&&g;return m&&!re&&(X={value:gc(C,P,P[0]||null),options:P,action:"initial-input-focus"},re=!g),(f==null?void 0:f.action)==="initial-input-focus"&&(X=null),Ae(Ae(Ae({},E),U),{},{prevProps:i,ariaSelection:X,prevWasFocused:re})}}]),n}(p.Component);bS.defaultProps=k5;var F5=p.forwardRef(function(e,t){var n=gL(e);return p.createElement(bS,$e({ref:t},n))}),V5=F5;const Ky=({options:e,value:t,onChange:n,placeholder:r,className:i,...o})=>{const a=e.find(u=>u.value===t)||null;return l.jsx(V5,{options:e,value:a,onChange:u=>n(u?u.value:""),placeholder:r||"Select an option",className:i,classNamePrefix:"stepper-select",isSearchable:!1,...o})};function _S(){const{formData:e,setFormData:t}=_l(),n=p.useCallback(a=>{t({...e,observation_type:a,total_elephants:void 0,male_elephants:void 0,female_elephants:void 0,unknown_elephants:void 0,calves:void 0,indirect_sighting_type:void 0,loss_type:void 0})},[e,t]),r=p.useMemo(()=>uL(a=>{t(a)},300),[t]),i=p.useCallback((a,u)=>{const d=parseInt(u);!isNaN(d)&&d>=0&&r({[a]:d})},[r]),o=p.useCallback((a,u)=>{t({[a]:u})},[t]);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(Fw,{value:e.observation_type,onValueChange:a=>n(a),className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs(Rt,{htmlFor:"direct",className:`flex flex-col items-center justify-center p-4 rounded-lg border-2 cursor-pointer
            ${e.observation_type==="direct"?"border-green-600 bg-green-50":"border-gray-200"}
          `,children:[l.jsx(Rc,{value:"direct",id:"direct",className:"sr-only"}),l.jsx("span",{className:"text-lg font-semibold",children:"Direct Sighting"})]}),l.jsxs(Rt,{htmlFor:"indirect",className:`flex flex-col items-center justify-center p-4 rounded-lg border-2 cursor-pointer
            ${e.observation_type==="indirect"?"border-green-600 bg-green-50":"border-gray-200"}
          `,children:[l.jsx(Rc,{value:"indirect",id:"indirect",className:"sr-only"}),l.jsx("span",{className:"text-lg font-semibold",children:"Indirect Sighting"})]}),l.jsxs(Rt,{htmlFor:"loss",className:`flex flex-col items-center justify-center p-4 rounded-lg border-2 cursor-pointer
            ${e.observation_type==="loss"?"border-green-600 bg-green-50":"border-gray-200"}
          `,children:[l.jsx(Rc,{value:"loss",id:"loss",className:"sr-only"}),l.jsx("span",{className:"text-lg font-semibold",children:"Loss by Elephant"})]})]}),e.observation_type==="direct"&&l.jsx(Ke,{children:l.jsx(Xe,{className:"pt-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"total_elephants",children:"Total Elephants"}),l.jsx(ht,{type:"number",id:"total_elephants",min:"0",value:e.total_elephants||"",onChange:a=>i("total_elephants",a.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"male_elephants",children:"Male Elephants"}),l.jsx(ht,{type:"number",id:"male_elephants",min:"0",value:e.male_elephants||"",onChange:a=>i("male_elephants",a.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"female_elephants",children:"Female Elephants"}),l.jsx(ht,{type:"number",id:"female_elephants",min:"0",value:e.female_elephants||"",onChange:a=>i("female_elephants",a.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"unknown_elephants",children:"Unknown Elephants"}),l.jsx(ht,{type:"number",id:"unknown_elephants",min:"0",value:e.unknown_elephants||"",onChange:a=>i("unknown_elephants",a.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"calves",children:"Calves"}),l.jsx(ht,{type:"number",id:"calves",min:"0",value:e.calves||"",onChange:a=>i("calves",a.target.value)})]})]})})}),e.observation_type==="indirect"&&l.jsx(Ke,{children:l.jsx(Xe,{className:"pt-6",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"indirect_sighting_type",children:"Type of Indirect Sighting"}),l.jsx(Ky,{value:e.indirect_sighting_type,onChange:a=>o("indirect_sighting_type",a),options:[{value:"Pugmark",label:"Pugmark"},{value:"Dung",label:"Dung"},{value:"Broken Branches",label:"Broken Branches"},{value:"Sound",label:"Sound"},{value:"Eyewitness",label:"Eyewitness"}],placeholder:"Select type of indirect sighting",className:"w-full h-12 text-base"})]})})}),e.observation_type==="loss"&&l.jsx(Ke,{children:l.jsx(Xe,{className:"pt-6",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"loss_type",children:"Type of Loss"}),l.jsx(Ky,{value:e.loss_type,onChange:a=>o("loss_type",a),options:[{value:"No loss",label:"No loss"},{value:"crop",label:"Crop"},{value:"livestock",label:"Livestock"},{value:"property",label:"Property"},{value:"fencing",label:"Fencing"},{value:"solar panels",label:"Solar Panels"},{value:"FD establishment",label:"FD Establishment"},{value:"Other",label:"Other"}],placeholder:"Select type of loss",className:"w-full h-12 text-base"})]})})})]})}var Uu="Tabs",[B5,AU]=Bt(Uu,[Lu]),wS=Lu(),[$5,cp]=B5(Uu),SS=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:a="horizontal",dir:u,activationMode:d="automatic",...f}=e,m=Jo(u),[g,b]=Qn({prop:r,onChange:i,defaultProp:o??"",caller:Uu});return l.jsx($5,{scope:n,baseId:qn(),value:g,onValueChange:b,orientation:a,dir:m,activationMode:d,children:l.jsx(Ve.div,{dir:m,"data-orientation":a,...f,ref:t})})});SS.displayName=Uu;var CS="TabsList",PS=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,o=cp(CS,n),a=wS(n);return l.jsx(ww,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:l.jsx(Ve.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});PS.displayName=CS;var ES="TabsTrigger",TS=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=e,a=cp(ES,n),u=wS(n),d=MS(a.baseId,r),f=RS(a.baseId,r),m=r===a.value;return l.jsx(Sw,{asChild:!0,...u,focusable:!i,active:m,children:l.jsx(Ve.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...o,ref:t,onMouseDown:he(e.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?a.onValueChange(r):g.preventDefault()}),onKeyDown:he(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&a.onValueChange(r)}),onFocus:he(e.onFocus,()=>{const g=a.activationMode!=="manual";!m&&!i&&g&&a.onValueChange(r)})})})});TS.displayName=ES;var NS="TabsContent",jS=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...a}=e,u=cp(NS,n),d=MS(u.baseId,r),f=RS(u.baseId,r),m=r===u.value,g=p.useRef(m);return p.useEffect(()=>{const b=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(b)},[]),l.jsx(vn,{present:i||m,children:({present:b})=>l.jsx(Ve.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!b,id:f,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:b&&o})})});jS.displayName=NS;function MS(e,t){return`${e}-trigger-${t}`}function RS(e,t){return`${e}-content-${t}`}var z5=SS,OS=PS,kS=TS,AS=jS;const IS=z5,up=p.forwardRef(({className:e,...t},n)=>l.jsx(OS,{ref:n,className:Me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));up.displayName=OS.displayName;const Po=p.forwardRef(({className:e,...t},n)=>l.jsx(kS,{ref:n,className:Me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Po.displayName=kS.displayName;const wh=p.forwardRef(({className:e,...t},n)=>l.jsx(AS,{ref:n,className:Me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));wh.displayName=AS.displayName;const qy=1,W5=10;function DS(){const{formData:e,setFormData:t}=_l(),[n,r]=p.useState(!1),[i,o]=p.useState(!1),[a,u]=p.useState(!1),[d,f]=p.useState([]),[m,g]=p.useState(0),[b,x]=p.useState(null),[w,v]=p.useState(!1),[_,C]=p.useState("gps"),[P,E]=p.useState({heading:0,accuracy:0,isGPSBased:!1,isErratic:!1,speed:0}),M=p.useRef([]),T=p.useRef(null),A=p.useRef(null),R=p.useRef(null),k=p.useRef(null),U=p.useRef(null);p.useEffect(()=>{const I=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;v(I);const Q=localStorage.getItem("compassCalibrationOffset");Q&&g(parseFloat(Q));const ie=localStorage.getItem("compassMode");return ie&&C(ie),window.DeviceOrientationEvent?x(!I):(ye.error("Device orientation is not supported on this device"),x(!1)),()=>{R.current!==null&&navigator.geolocation.clearWatch(R.current),k.current&&k.current.srcObject&&k.current.srcObject.getTracks().forEach(ae=>ae.stop())}},[]);const X=I=>{const Q=parseInt(I);!isNaN(Q)&&Q>=0&&Q<=360&&t({compass_bearing:Q})},re=()=>{_==="visual"?J():z()},z=()=>{u(!0),ye.info("Point your device north and tap 'Set North' when ready")},ne=()=>{if(A.current!==null){const I=(360-A.current)%360;g(I),localStorage.setItem("compassCalibrationOffset",I.toString()),u(!1),ye.success("North direction set successfully")}},J=async()=>{try{const I=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});k.current&&(k.current.srcObject=I,u(!0),ye.info("Align the camera with a known landmark and tap 'Set Direction'"))}catch(I){console.error("Error accessing camera:",I),ye.error("Failed to access camera")}},H=()=>{if(U.current&&k.current){const I=U.current,Q=k.current,ie=I.getContext("2d");if(ie){ie.drawImage(Q,0,0,I.width,I.height),ie.getImageData(0,0,I.width,I.height);const ce=0;g(ce),localStorage.setItem("compassCalibrationOffset",ce.toString()),u(!1),ye.success("Direction set from visual reference")}}},K=p.useCallback(I=>{if(!n||i||!T.current){T.current=I;return}const{speed:Q,accuracy:ie}=I.coords,ce=T.current.coords,ae=I.coords;if(E(oe=>({...oe,speed:Q||0,accuracy:ie<=W5?1:.5})),Q&&Q>qy){const oe=Math.round((Math.atan2(ae.longitude-ce.longitude,ae.latitude-ce.latitude)*180/Math.PI+360)%360);E(xe=>({...xe,heading:oe,isGPSBased:!0,isErratic:!1})),i||t({compass_bearing:oe})}else if(_==="manual"&&A.current!==null){const oe=(A.current+m)%360;E(xe=>({...xe,heading:oe,isGPSBased:!1,isErratic:!1})),i||t({compass_bearing:oe})}T.current=I},[n,i,t,_,m]),G=p.useCallback(I=>{if(!n||i)return;let Q=0;if(w&&I.webkitCompassHeading?Q=I.webkitCompassHeading:I.alpha!==null&&(Q=Math.round((360-I.alpha)%360)),A.current=Q,_==="manual"&&P.speed<=qy){const ie=(Q+m)%360;M.current=[...M.current.slice(-4),ie];const ce=Math.round(M.current.reduce((ae,oe)=>ae+oe,0)/M.current.length);E(ae=>({...ae,heading:ce,accuracy:.8,isGPSBased:!1,isErratic:!1})),i||t({compass_bearing:ce})}},[n,i,m,t,_,P.speed]);p.useEffect(()=>(n&&(R.current=navigator.geolocation.watchPosition(K,I=>console.error("GPS Error:",I),{enableHighAccuracy:!0}),_==="manual"&&window.addEventListener("deviceorientation",G)),()=>{R.current!==null&&navigator.geolocation.clearWatch(R.current),window.removeEventListener("deviceorientation",G)}),[n,K,G,_]);const $=()=>{r(!n),n?ye.info("Compass tracking stopped"):ye.info("Compass tracking started")},V=()=>{o(!i),i?ye.info("Compass bearing unlocked"):ye.info("Compass bearing locked")},Y=I=>{C(I),localStorage.setItem("compassMode",I),ye.info(`Switched to ${I} mode`)},se=I=>I>=.8?"bg-green-500":I>=.5?"bg-yellow-500":"bg-red-500";return l.jsx("div",{className:"space-y-6",children:l.jsx(Ke,{children:l.jsx(Xe,{className:"pt-6",children:l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsx(IS,{defaultValue:_,onValueChange:I=>Y(I),children:l.jsxs(up,{children:[l.jsxs(Po,{value:"gps",children:[l.jsx(Lg,{className:"w-4 h-4 mr-2"}),"GPS"]}),l.jsxs(Po,{value:"manual",children:[l.jsx(Lf,{className:"w-4 h-4 mr-2"}),"Manual"]}),l.jsxs(Po,{value:"visual",children:[l.jsx(Bc,{className:"w-4 h-4 mr-2"}),"Visual"]})]})}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs(Le,{variant:n?"destructive":"default",onClick:$,className:"flex items-center space-x-2",children:[l.jsx(Lf,{className:`w-4 h-4 ${n?"animate-spin":""}`}),l.jsx("span",{children:n?"Stop Tracking":"Start Tracking"})]}),l.jsxs(Le,{variant:i?"default":"outline",onClick:V,className:"flex items-center space-x-2",disabled:!n,children:[i?l.jsx(XN,{className:"w-4 h-4"}):l.jsx(qN,{className:"w-4 h-4"}),l.jsx("span",{children:i?"Unlock":"Lock"})]}),a?l.jsxs(Le,{variant:"default",onClick:_==="visual"?H:ne,className:"flex items-center space-x-2",children:[l.jsx(Lg,{className:"w-4 h-4"}),l.jsxs("span",{children:["Set ",_==="visual"?"Direction":"North"]})]}):l.jsxs(Le,{variant:"outline",onClick:re,className:"flex items-center space-x-2",disabled:!n,children:[l.jsx(Aa,{className:`w-4 h-4 ${a?"animate-spin":""}`}),l.jsx("span",{children:"Calibrate"})]})]}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx(Rt,{htmlFor:"compass_bearing",className:"text-lg",children:"Compass Bearing (0-360)"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ht,{type:"number",id:"compass_bearing",min:"0",max:"360",value:e.compass_bearing||"",onChange:I=>X(I.target.value),className:"w-32 text-center",disabled:n&&!i}),l.jsx("span",{className:"text-lg",children:""})]})]}),n&&l.jsxs("div",{className:"w-full space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:"Accuracy:"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Jm,{value:P.accuracy*100,className:"w-24"}),l.jsx("span",{className:`w-3 h-3 rounded-full ${se(P.accuracy)}`})]})]}),P.isGPSBased&&l.jsxs("div",{className:"text-sm text-blue-500",children:["Using GPS-based heading (Speed: ",P.speed.toFixed(1)," m/s)"]}),P.isErratic&&l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-red-500",children:[l.jsx(ka,{className:"w-4 h-4"}),l.jsx("span",{children:"Compass readings are erratic. Please calibrate or use manual mode."})]})]}),_==="visual"&&a&&l.jsxs("div",{className:"relative w-full aspect-video",children:[l.jsx("video",{ref:k,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover rounded-lg"}),l.jsx("canvas",{ref:U,className:"hidden",width:640,height:480}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"w-32 h-32 border-2 border-white rounded-full opacity-50"})})]}),l.jsxs("div",{className:"text-sm text-gray-500 text-center max-w-md",children:["Enter the compass bearing in degrees, where:",l.jsxs("ul",{className:"mt-2 space-y-1",children:[l.jsx("li",{children:"0 or 360 = North"}),l.jsx("li",{children:"90 = East"}),l.jsx("li",{children:"180 = South"}),l.jsx("li",{children:"270 = West"})]})]})]})})})})}function LS(){const{formData:e,setFormData:t}=_l(),{user:n}=fi(),[r,i]=p.useState(!1),[o,a]=p.useState(e.photo_url||null),u=p.useRef(null),d=p.useRef(null),f=p.useCallback(async x=>{try{if(!n){ye.error("Please log in to upload photos");return}if(!x){ye.error("No file selected");return}if(!x.type.startsWith("image/")){ye.error("Please select an image file");return}if(x.size>5*1024*1024){ye.error("File size should be less than 5MB");return}i(!0),ye.info("Uploading photo...");const w=x.name.split(".").pop(),_=`activity-photos/${`${n.id}_${Date.now()}.${w}`}`,C=URL.createObjectURL(x);a(C);const{error:P}=await Pe.storage.from("elephant-watch").upload(_,x,{cacheControl:"3600",upsert:!1});if(P){console.error("Upload error:",P),ye.error("Failed to upload photo. Please try again."),a(null),t({...e,photo_url:void 0});return}t({...e,photo_url:_}),ye.success("Photo uploaded successfully!")}catch(w){console.error("Error uploading photo:",w),ye.error("Failed to upload photo. Please try again."),a(null),t({...e,photo_url:void 0})}finally{i(!1)}},[e,t,n]),m=p.useCallback(async()=>{if(e.photo_url)try{if(i(!0),e.photo_url.startsWith("activity-photos/")){const{error:x}=await Pe.storage.from("elephant-watch").remove([e.photo_url]);if(x){console.error("Error removing photo:",x),ye.error("Failed to remove photo");return}}a(null),t({...e,photo_url:void 0}),ye.success("Photo removed successfully!")}catch(x){console.error("Error removing photo:",x),ye.error("Failed to remove photo. Please try again.")}finally{i(!1)}},[e,t]),g=()=>{if(!n){ye.error("Please log in to take photos");return}d.current&&d.current.click()},b=()=>{if(!n){ye.error("Please log in to upload photos");return}u.current&&u.current.click()};return l.jsx(Ke,{children:l.jsx(Xe,{className:"pt-6",children:l.jsx("div",{className:"flex flex-col items-center gap-4",children:o?l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:o,alt:"Preview",className:"max-w-full h-auto rounded-lg shadow-lg",style:{maxHeight:"300px"}}),l.jsx(Le,{variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:m,disabled:r,children:l.jsx(qh,{className:"h-4 w-4"})})]}):l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx(Bc,{className:"w-16 h-16 text-gray-400"}),l.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Upload a photo of the elephant or signs of elephant activity (optional)"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l.jsx("input",{ref:d,type:"file",className:"hidden",accept:"image/*",capture:"environment",onChange:x=>{var v;const w=(v=x.target.files)==null?void 0:v[0];w&&f(w)},disabled:r}),l.jsx("input",{ref:u,type:"file",className:"hidden",accept:"image/*",onChange:x=>{var v;const w=(v=x.target.files)==null?void 0:v[0];w&&f(w)},disabled:r}),l.jsxs(Le,{type:"button",variant:"outline",onClick:g,disabled:r,className:"w-full sm:w-auto",children:[l.jsx(Bc,{className:"w-4 h-4 mr-2"}),r?"Uploading...":"Take Photo"]}),l.jsxs(Le,{type:"button",variant:"outline",onClick:b,disabled:r,className:"w-full sm:w-auto",children:[l.jsx(rj,{className:"w-4 h-4 mr-2"}),r?"Uploading...":"Upload Photo"]})]})]})})})})}const U5=async()=>{if(!navigator.onLine)return console.log("[NetworkStatus] navigator.onLine is false"),!1;try{const e=new AbortController,t=setTimeout(()=>e.abort(),5e3);console.log("[NetworkStatus] Attempting to fetch /ping.txt");const n=await fetch("/ping.txt",{method:"HEAD",signal:e.signal,cache:"no-cache"});return clearTimeout(t),console.log("[NetworkStatus] Fetch /ping.txt response:",n.status,n.ok),n.ok}catch(e){return console.warn("[NetworkStatus] Network check failed:",e),navigator.onLine}},H5=()=>{const[e,t]=p.useState(navigator.onLine);return p.useEffect(()=>{const n=async()=>{const a=await U5();t(a)};n();const r=()=>n(),i=()=>t(!1);window.addEventListener("online",r),window.addEventListener("offline",i);const o=setInterval(n,3e4);return()=>{window.removeEventListener("online",r),window.removeEventListener("offline",i),clearInterval(o)}},[]),e};function vc(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ff={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Xy;function Z5(){return Xy||(Xy=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,o){function a(f,m){if(!i[f]){if(!r[f]){var g=typeof vc=="function"&&vc;if(!m&&g)return g(f,!0);if(u)return u(f,!0);var b=new Error("Cannot find module '"+f+"'");throw b.code="MODULE_NOT_FOUND",b}var x=i[f]={exports:{}};r[f][0].call(x.exports,function(w){var v=r[f][1][w];return a(v||w)},x,x.exports,n,r,i,o)}return i[f].exports}for(var u=typeof vc=="function"&&vc,d=0;d<o.length;d++)a(o[d]);return a}({1:[function(n,r,i){(function(o){var a=o.MutationObserver||o.WebKitMutationObserver,u;if(a){var d=0,f=new a(w),m=o.document.createTextNode("");f.observe(m,{characterData:!0}),u=function(){m.data=d=++d%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var g=new o.MessageChannel;g.port1.onmessage=w,u=function(){g.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?u=function(){var _=o.document.createElement("script");_.onreadystatechange=function(){w(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},o.document.documentElement.appendChild(_)}:u=function(){setTimeout(w,0)};var b,x=[];function w(){b=!0;for(var _,C,P=x.length;P;){for(C=x,x=[],_=-1;++_<P;)C[_]();P=x.length}b=!1}r.exports=v;function v(_){x.push(_)===1&&!b&&u()}}).call(this,typeof nc<"u"?nc:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var o=n(1);function a(){}var u={},d=["REJECTED"],f=["FULFILLED"],m=["PENDING"];r.exports=g;function g(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,T!==a&&v(this,T)}g.prototype.catch=function(T){return this.then(null,T)},g.prototype.then=function(T,A){if(typeof T!="function"&&this.state===f||typeof A!="function"&&this.state===d)return this;var R=new this.constructor(a);if(this.state!==m){var k=this.state===f?T:A;x(R,k,this.outcome)}else this.queue.push(new b(R,T,A));return R};function b(T,A,R){this.promise=T,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(T){u.resolve(this.promise,T)},b.prototype.otherCallFulfilled=function(T){x(this.promise,this.onFulfilled,T)},b.prototype.callRejected=function(T){u.reject(this.promise,T)},b.prototype.otherCallRejected=function(T){x(this.promise,this.onRejected,T)};function x(T,A,R){o(function(){var k;try{k=A(R)}catch(U){return u.reject(T,U)}k===T?u.reject(T,new TypeError("Cannot resolve promise with itself")):u.resolve(T,k)})}u.resolve=function(T,A){var R=_(w,A);if(R.status==="error")return u.reject(T,R.value);var k=R.value;if(k)v(T,k);else{T.state=f,T.outcome=A;for(var U=-1,X=T.queue.length;++U<X;)T.queue[U].callFulfilled(A)}return T},u.reject=function(T,A){T.state=d,T.outcome=A;for(var R=-1,k=T.queue.length;++R<k;)T.queue[R].callRejected(A);return T};function w(T){var A=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof A=="function")return function(){A.apply(T,arguments)}}function v(T,A){var R=!1;function k(z){R||(R=!0,u.reject(T,z))}function U(z){R||(R=!0,u.resolve(T,z))}function X(){A(U,k)}var re=_(X);re.status==="error"&&k(re.value)}function _(T,A){var R={};try{R.value=T(A),R.status="success"}catch(k){R.status="error",R.value=k}return R}g.resolve=C;function C(T){return T instanceof this?T:u.resolve(new this(a),T)}g.reject=P;function P(T){var A=new this(a);return u.reject(A,T)}g.all=E;function E(T){var A=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=T.length,k=!1;if(!R)return this.resolve([]);for(var U=new Array(R),X=0,re=-1,z=new this(a);++re<R;)ne(T[re],re);return z;function ne(J,H){A.resolve(J).then(K,function(G){k||(k=!0,u.reject(z,G))});function K(G){U[H]=G,++X===R&&!k&&(k=!0,u.resolve(z,U))}}}g.race=M;function M(T){var A=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=T.length,k=!1;if(!R)return this.resolve([]);for(var U=-1,X=new this(a);++U<R;)re(T[U]);return X;function re(z){A.resolve(z).then(function(ne){k||(k=!0,u.resolve(X,ne))},function(ne){k||(k=!0,u.reject(X,ne))})}}},{1:1}],3:[function(n,r,i){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof nc<"u"?nc:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j};function a(j,B){if(!(j instanceof B))throw new TypeError("Cannot call a class as a function")}function u(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=u();function f(){try{if(!d||!d.open)return!1;var j=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),B=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!j||B)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function m(j,B){j=j||[],B=B||{};try{return new Blob(j,B)}catch(D){if(D.name!=="TypeError")throw D;for(var O=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,W=new O,Z=0;Z<j.length;Z+=1)W.append(j[Z]);return W.getBlob(B.type)}}typeof Promise>"u"&&n(3);var g=Promise;function b(j,B){B&&j.then(function(O){B(null,O)},function(O){B(O)})}function x(j,B,O){typeof B=="function"&&j.then(B),typeof O=="function"&&j.catch(O)}function w(j){return typeof j!="string"&&(console.warn(j+" used as a key, but it is not a string."),j=String(j)),j}function v(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var _="local-forage-detect-blob-support",C=void 0,P={},E=Object.prototype.toString,M="readonly",T="readwrite";function A(j){for(var B=j.length,O=new ArrayBuffer(B),W=new Uint8Array(O),Z=0;Z<B;Z++)W[Z]=j.charCodeAt(Z);return O}function R(j){return new g(function(B){var O=j.transaction(_,T),W=m([""]);O.objectStore(_).put(W,"key"),O.onabort=function(Z){Z.preventDefault(),Z.stopPropagation(),B(!1)},O.oncomplete=function(){var Z=navigator.userAgent.match(/Chrome\/(\d+)/),D=navigator.userAgent.match(/Edge\//);B(D||!Z||parseInt(Z[1],10)>=43)}}).catch(function(){return!1})}function k(j){return typeof C=="boolean"?g.resolve(C):R(j).then(function(B){return C=B,C})}function U(j){var B=P[j.name],O={};O.promise=new g(function(W,Z){O.resolve=W,O.reject=Z}),B.deferredOperations.push(O),B.dbReady?B.dbReady=B.dbReady.then(function(){return O.promise}):B.dbReady=O.promise}function X(j){var B=P[j.name],O=B.deferredOperations.pop();if(O)return O.resolve(),O.promise}function re(j,B){var O=P[j.name],W=O.deferredOperations.pop();if(W)return W.reject(B),W.promise}function z(j,B){return new g(function(O,W){if(P[j.name]=P[j.name]||I(),j.db)if(B)U(j),j.db.close();else return O(j.db);var Z=[j.name];B&&Z.push(j.version);var D=d.open.apply(d,Z);B&&(D.onupgradeneeded=function(te){var de=D.result;try{de.createObjectStore(j.storeName),te.oldVersion<=1&&de.createObjectStore(_)}catch(pe){if(pe.name==="ConstraintError")console.warn('The database "'+j.name+'" has been upgraded from version '+te.oldVersion+" to version "+te.newVersion+', but the storage "'+j.storeName+'" already exists.');else throw pe}}),D.onerror=function(te){te.preventDefault(),W(D.error)},D.onsuccess=function(){var te=D.result;te.onversionchange=function(de){de.target.close()},O(te),X(j)}})}function ne(j){return z(j,!1)}function J(j){return z(j,!0)}function H(j,B){if(!j.db)return!0;var O=!j.db.objectStoreNames.contains(j.storeName),W=j.version<j.db.version,Z=j.version>j.db.version;if(W&&(j.version!==B&&console.warn('The database "'+j.name+`" can't be downgraded from version `+j.db.version+" to version "+j.version+"."),j.version=j.db.version),Z||O){if(O){var D=j.db.version+1;D>j.version&&(j.version=D)}return!0}return!1}function K(j){return new g(function(B,O){var W=new FileReader;W.onerror=O,W.onloadend=function(Z){var D=btoa(Z.target.result||"");B({__local_forage_encoded_blob:!0,data:D,type:j.type})},W.readAsBinaryString(j)})}function G(j){var B=A(atob(j.data));return m([B],{type:j.type})}function $(j){return j&&j.__local_forage_encoded_blob}function V(j){var B=this,O=B._initReady().then(function(){var W=P[B._dbInfo.name];if(W&&W.dbReady)return W.dbReady});return x(O,j,j),O}function Y(j){U(j);for(var B=P[j.name],O=B.forages,W=0;W<O.length;W++){var Z=O[W];Z._dbInfo.db&&(Z._dbInfo.db.close(),Z._dbInfo.db=null)}return j.db=null,ne(j).then(function(D){return j.db=D,H(j)?J(j):D}).then(function(D){j.db=B.db=D;for(var te=0;te<O.length;te++)O[te]._dbInfo.db=D}).catch(function(D){throw re(j,D),D})}function se(j,B,O,W){W===void 0&&(W=1);try{var Z=j.db.transaction(j.storeName,B);O(null,Z)}catch(D){if(W>0&&(!j.db||D.name==="InvalidStateError"||D.name==="NotFoundError"))return g.resolve().then(function(){if(!j.db||D.name==="NotFoundError"&&!j.db.objectStoreNames.contains(j.storeName)&&j.version<=j.db.version)return j.db&&(j.version=j.db.version+1),J(j)}).then(function(){return Y(j).then(function(){se(j,B,O,W-1)})}).catch(O);O(D)}}function I(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Q(j){var B=this,O={db:null};if(j)for(var W in j)O[W]=j[W];var Z=P[O.name];Z||(Z=I(),P[O.name]=Z),Z.forages.push(B),B._initReady||(B._initReady=B.ready,B.ready=V);var D=[];function te(){return g.resolve()}for(var de=0;de<Z.forages.length;de++){var pe=Z.forages[de];pe!==B&&D.push(pe._initReady().catch(te))}var fe=Z.forages.slice(0);return g.all(D).then(function(){return O.db=Z.db,ne(O)}).then(function(ve){return O.db=ve,H(O,B._defaultConfig.version)?J(O):ve}).then(function(ve){O.db=Z.db=ve,B._dbInfo=O;for(var Se=0;Se<fe.length;Se++){var He=fe[Se];He!==B&&(He._dbInfo.db=O.db,He._dbInfo.version=O.version)}})}function ie(j,B){var O=this;j=w(j);var W=new g(function(Z,D){O.ready().then(function(){se(O._dbInfo,M,function(te,de){if(te)return D(te);try{var pe=de.objectStore(O._dbInfo.storeName),fe=pe.get(j);fe.onsuccess=function(){var ve=fe.result;ve===void 0&&(ve=null),$(ve)&&(ve=G(ve)),Z(ve)},fe.onerror=function(){D(fe.error)}}catch(ve){D(ve)}})}).catch(D)});return b(W,B),W}function ce(j,B){var O=this,W=new g(function(Z,D){O.ready().then(function(){se(O._dbInfo,M,function(te,de){if(te)return D(te);try{var pe=de.objectStore(O._dbInfo.storeName),fe=pe.openCursor(),ve=1;fe.onsuccess=function(){var Se=fe.result;if(Se){var He=Se.value;$(He)&&(He=G(He));var Ie=j(He,Se.key,ve++);Ie!==void 0?Z(Ie):Se.continue()}else Z()},fe.onerror=function(){D(fe.error)}}catch(Se){D(Se)}})}).catch(D)});return b(W,B),W}function ae(j,B,O){var W=this;j=w(j);var Z=new g(function(D,te){var de;W.ready().then(function(){return de=W._dbInfo,E.call(B)==="[object Blob]"?k(de.db).then(function(pe){return pe?B:K(B)}):B}).then(function(pe){se(W._dbInfo,T,function(fe,ve){if(fe)return te(fe);try{var Se=ve.objectStore(W._dbInfo.storeName);pe===null&&(pe=void 0);var He=Se.put(pe,j);ve.oncomplete=function(){pe===void 0&&(pe=null),D(pe)},ve.onabort=ve.onerror=function(){var Ie=He.error?He.error:He.transaction.error;te(Ie)}}catch(Ie){te(Ie)}})}).catch(te)});return b(Z,O),Z}function oe(j,B){var O=this;j=w(j);var W=new g(function(Z,D){O.ready().then(function(){se(O._dbInfo,T,function(te,de){if(te)return D(te);try{var pe=de.objectStore(O._dbInfo.storeName),fe=pe.delete(j);de.oncomplete=function(){Z()},de.onerror=function(){D(fe.error)},de.onabort=function(){var ve=fe.error?fe.error:fe.transaction.error;D(ve)}}catch(ve){D(ve)}})}).catch(D)});return b(W,B),W}function xe(j){var B=this,O=new g(function(W,Z){B.ready().then(function(){se(B._dbInfo,T,function(D,te){if(D)return Z(D);try{var de=te.objectStore(B._dbInfo.storeName),pe=de.clear();te.oncomplete=function(){W()},te.onabort=te.onerror=function(){var fe=pe.error?pe.error:pe.transaction.error;Z(fe)}}catch(fe){Z(fe)}})}).catch(Z)});return b(O,j),O}function Ee(j){var B=this,O=new g(function(W,Z){B.ready().then(function(){se(B._dbInfo,M,function(D,te){if(D)return Z(D);try{var de=te.objectStore(B._dbInfo.storeName),pe=de.count();pe.onsuccess=function(){W(pe.result)},pe.onerror=function(){Z(pe.error)}}catch(fe){Z(fe)}})}).catch(Z)});return b(O,j),O}function Re(j,B){var O=this,W=new g(function(Z,D){if(j<0){Z(null);return}O.ready().then(function(){se(O._dbInfo,M,function(te,de){if(te)return D(te);try{var pe=de.objectStore(O._dbInfo.storeName),fe=!1,ve=pe.openKeyCursor();ve.onsuccess=function(){var Se=ve.result;if(!Se){Z(null);return}j===0||fe?Z(Se.key):(fe=!0,Se.advance(j))},ve.onerror=function(){D(ve.error)}}catch(Se){D(Se)}})}).catch(D)});return b(W,B),W}function Te(j){var B=this,O=new g(function(W,Z){B.ready().then(function(){se(B._dbInfo,M,function(D,te){if(D)return Z(D);try{var de=te.objectStore(B._dbInfo.storeName),pe=de.openKeyCursor(),fe=[];pe.onsuccess=function(){var ve=pe.result;if(!ve){W(fe);return}fe.push(ve.key),ve.continue()},pe.onerror=function(){Z(pe.error)}}catch(ve){Z(ve)}})}).catch(Z)});return b(O,j),O}function Ce(j,B){B=v.apply(this,arguments);var O=this.config();j=typeof j!="function"&&j||{},j.name||(j.name=j.name||O.name,j.storeName=j.storeName||O.storeName);var W=this,Z;if(!j.name)Z=g.reject("Invalid arguments");else{var D=j.name===O.name&&W._dbInfo.db,te=D?g.resolve(W._dbInfo.db):ne(j).then(function(de){var pe=P[j.name],fe=pe.forages;pe.db=de;for(var ve=0;ve<fe.length;ve++)fe[ve]._dbInfo.db=de;return de});j.storeName?Z=te.then(function(de){if(de.objectStoreNames.contains(j.storeName)){var pe=de.version+1;U(j);var fe=P[j.name],ve=fe.forages;de.close();for(var Se=0;Se<ve.length;Se++){var He=ve[Se];He._dbInfo.db=null,He._dbInfo.version=pe}var Ie=new g(function(et,bt){var yt=d.open(j.name,pe);yt.onerror=function(Jt){var nr=yt.result;nr.close(),bt(Jt)},yt.onupgradeneeded=function(){var Jt=yt.result;Jt.deleteObjectStore(j.storeName)},yt.onsuccess=function(){var Jt=yt.result;Jt.close(),et(Jt)}});return Ie.then(function(et){fe.db=et;for(var bt=0;bt<ve.length;bt++){var yt=ve[bt];yt._dbInfo.db=et,X(yt._dbInfo)}}).catch(function(et){throw(re(j,et)||g.resolve()).catch(function(){}),et})}}):Z=te.then(function(de){U(j);var pe=P[j.name],fe=pe.forages;de.close();for(var ve=0;ve<fe.length;ve++){var Se=fe[ve];Se._dbInfo.db=null}var He=new g(function(Ie,et){var bt=d.deleteDatabase(j.name);bt.onerror=function(){var yt=bt.result;yt&&yt.close(),et(bt.error)},bt.onblocked=function(){console.warn('dropInstance blocked for database "'+j.name+'" until all open connections are closed')},bt.onsuccess=function(){var yt=bt.result;yt&&yt.close(),Ie(yt)}});return He.then(function(Ie){pe.db=Ie;for(var et=0;et<fe.length;et++){var bt=fe[et];X(bt._dbInfo)}}).catch(function(Ie){throw(re(j,Ie)||g.resolve()).catch(function(){}),Ie})})}return b(Z,B),Z}var Ze={_driver:"asyncStorage",_initStorage:Q,_support:f(),iterate:ce,getItem:ie,setItem:ae,removeItem:oe,clear:xe,length:Ee,key:Re,keys:Te,dropInstance:Ce};function lt(){return typeof openDatabase=="function"}var xt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$t="~~local_forage_type~",Lt=/^~~local_forage_type~([^~]+)~/,kt="__lfsc__:",Nt=kt.length,Ur="arbf",jn="blob",pi="si08",Mn="ui08",Fs="uic8",Vs="si16",zt="si32",zn="ur16",qi="ui32",Bs="fl32",br="fl64",Xi=Nt+Ur.length,Ji=Object.prototype.toString;function Hr(j){var B=j.length*.75,O=j.length,W,Z=0,D,te,de,pe;j[j.length-1]==="="&&(B--,j[j.length-2]==="="&&B--);var fe=new ArrayBuffer(B),ve=new Uint8Array(fe);for(W=0;W<O;W+=4)D=xt.indexOf(j[W]),te=xt.indexOf(j[W+1]),de=xt.indexOf(j[W+2]),pe=xt.indexOf(j[W+3]),ve[Z++]=D<<2|te>>4,ve[Z++]=(te&15)<<4|de>>2,ve[Z++]=(de&3)<<6|pe&63;return fe}function bn(j){var B=new Uint8Array(j),O="",W;for(W=0;W<B.length;W+=3)O+=xt[B[W]>>2],O+=xt[(B[W]&3)<<4|B[W+1]>>4],O+=xt[(B[W+1]&15)<<2|B[W+2]>>6],O+=xt[B[W+2]&63];return B.length%3===2?O=O.substring(0,O.length-1)+"=":B.length%3===1&&(O=O.substring(0,O.length-2)+"=="),O}function Qi(j,B){var O="";if(j&&(O=Ji.call(j)),j&&(O==="[object ArrayBuffer]"||j.buffer&&Ji.call(j.buffer)==="[object ArrayBuffer]")){var W,Z=kt;j instanceof ArrayBuffer?(W=j,Z+=Ur):(W=j.buffer,O==="[object Int8Array]"?Z+=pi:O==="[object Uint8Array]"?Z+=Mn:O==="[object Uint8ClampedArray]"?Z+=Fs:O==="[object Int16Array]"?Z+=Vs:O==="[object Uint16Array]"?Z+=zn:O==="[object Int32Array]"?Z+=zt:O==="[object Uint32Array]"?Z+=qi:O==="[object Float32Array]"?Z+=Bs:O==="[object Float64Array]"?Z+=br:B(new Error("Failed to get type for BinaryArray"))),B(Z+bn(W))}else if(O==="[object Blob]"){var D=new FileReader;D.onload=function(){var te=$t+j.type+"~"+bn(this.result);B(kt+jn+te)},D.readAsArrayBuffer(j)}else try{B(JSON.stringify(j))}catch(te){console.error("Couldn't convert value into a JSON string: ",j),B(null,te)}}function _r(j){if(j.substring(0,Nt)!==kt)return JSON.parse(j);var B=j.substring(Xi),O=j.substring(Nt,Xi),W;if(O===jn&&Lt.test(B)){var Z=B.match(Lt);W=Z[1],B=B.substring(Z[0].length)}var D=Hr(B);switch(O){case Ur:return D;case jn:return m([D],{type:W});case pi:return new Int8Array(D);case Mn:return new Uint8Array(D);case Fs:return new Uint8ClampedArray(D);case Vs:return new Int16Array(D);case zn:return new Uint16Array(D);case zt:return new Int32Array(D);case qi:return new Uint32Array(D);case Bs:return new Float32Array(D);case br:return new Float64Array(D);default:throw new Error("Unkown type: "+O)}}var er={serialize:Qi,deserialize:_r,stringToBuffer:Hr,bufferToString:bn};function $s(j,B,O,W){j.executeSql("CREATE TABLE IF NOT EXISTS "+B.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],O,W)}function zs(j){var B=this,O={db:null};if(j)for(var W in j)O[W]=typeof j[W]!="string"?j[W].toString():j[W];var Z=new g(function(D,te){try{O.db=openDatabase(O.name,String(O.version),O.description,O.size)}catch(de){return te(de)}O.db.transaction(function(de){$s(de,O,function(){B._dbInfo=O,D()},function(pe,fe){te(fe)})},te)});return O.serializer=er,Z}function _n(j,B,O,W,Z,D){j.executeSql(O,W,Z,function(te,de){de.code===de.SYNTAX_ERR?te.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[B.storeName],function(pe,fe){fe.rows.length?D(pe,de):$s(pe,B,function(){pe.executeSql(O,W,Z,D)},D)},D):D(te,de)},D)}function Ws(j,B){var O=this;j=w(j);var W=new g(function(Z,D){O.ready().then(function(){var te=O._dbInfo;te.db.transaction(function(de){_n(de,te,"SELECT * FROM "+te.storeName+" WHERE key = ? LIMIT 1",[j],function(pe,fe){var ve=fe.rows.length?fe.rows.item(0).value:null;ve&&(ve=te.serializer.deserialize(ve)),Z(ve)},function(pe,fe){D(fe)})})}).catch(D)});return b(W,B),W}function gi(j,B){var O=this,W=new g(function(Z,D){O.ready().then(function(){var te=O._dbInfo;te.db.transaction(function(de){_n(de,te,"SELECT * FROM "+te.storeName,[],function(pe,fe){for(var ve=fe.rows,Se=ve.length,He=0;He<Se;He++){var Ie=ve.item(He),et=Ie.value;if(et&&(et=te.serializer.deserialize(et)),et=j(et,Ie.key,He+1),et!==void 0){Z(et);return}}Z()},function(pe,fe){D(fe)})})}).catch(D)});return b(W,B),W}function Rn(j,B,O,W){var Z=this;j=w(j);var D=new g(function(te,de){Z.ready().then(function(){B===void 0&&(B=null);var pe=B,fe=Z._dbInfo;fe.serializer.serialize(B,function(ve,Se){Se?de(Se):fe.db.transaction(function(He){_n(He,fe,"INSERT OR REPLACE INTO "+fe.storeName+" (key, value) VALUES (?, ?)",[j,ve],function(){te(pe)},function(Ie,et){de(et)})},function(He){if(He.code===He.QUOTA_ERR){if(W>0){te(Rn.apply(Z,[j,pe,O,W-1]));return}de(He)}})})}).catch(de)});return b(D,O),D}function na(j,B,O){return Rn.apply(this,[j,B,O,1])}function Ue(j,B){var O=this;j=w(j);var W=new g(function(Z,D){O.ready().then(function(){var te=O._dbInfo;te.db.transaction(function(de){_n(de,te,"DELETE FROM "+te.storeName+" WHERE key = ?",[j],function(){Z()},function(pe,fe){D(fe)})})}).catch(D)});return b(W,B),W}function ot(j){var B=this,O=new g(function(W,Z){B.ready().then(function(){var D=B._dbInfo;D.db.transaction(function(te){_n(te,D,"DELETE FROM "+D.storeName,[],function(){W()},function(de,pe){Z(pe)})})}).catch(Z)});return b(O,j),O}function vt(j){var B=this,O=new g(function(W,Z){B.ready().then(function(){var D=B._dbInfo;D.db.transaction(function(te){_n(te,D,"SELECT COUNT(key) as c FROM "+D.storeName,[],function(de,pe){var fe=pe.rows.item(0).c;W(fe)},function(de,pe){Z(pe)})})}).catch(Z)});return b(O,j),O}function ln(j,B){var O=this,W=new g(function(Z,D){O.ready().then(function(){var te=O._dbInfo;te.db.transaction(function(de){_n(de,te,"SELECT key FROM "+te.storeName+" WHERE id = ? LIMIT 1",[j+1],function(pe,fe){var ve=fe.rows.length?fe.rows.item(0).key:null;Z(ve)},function(pe,fe){D(fe)})})}).catch(D)});return b(W,B),W}function Zt(j){var B=this,O=new g(function(W,Z){B.ready().then(function(){var D=B._dbInfo;D.db.transaction(function(te){_n(te,D,"SELECT key FROM "+D.storeName,[],function(de,pe){for(var fe=[],ve=0;ve<pe.rows.length;ve++)fe.push(pe.rows.item(ve).key);W(fe)},function(de,pe){Z(pe)})})}).catch(Z)});return b(O,j),O}function Wn(j){return new g(function(B,O){j.transaction(function(W){W.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Z,D){for(var te=[],de=0;de<D.rows.length;de++)te.push(D.rows.item(de).name);B({db:j,storeNames:te})},function(Z,D){O(D)})},function(W){O(W)})})}function tr(j,B){B=v.apply(this,arguments);var O=this.config();j=typeof j!="function"&&j||{},j.name||(j.name=j.name||O.name,j.storeName=j.storeName||O.storeName);var W=this,Z;return j.name?Z=new g(function(D){var te;j.name===O.name?te=W._dbInfo.db:te=openDatabase(j.name,"","",0),j.storeName?D({db:te,storeNames:[j.storeName]}):D(Wn(te))}).then(function(D){return new g(function(te,de){D.db.transaction(function(pe){function fe(Ie){return new g(function(et,bt){pe.executeSql("DROP TABLE IF EXISTS "+Ie,[],function(){et()},function(yt,Jt){bt(Jt)})})}for(var ve=[],Se=0,He=D.storeNames.length;Se<He;Se++)ve.push(fe(D.storeNames[Se]));g.all(ve).then(function(){te()}).catch(function(Ie){de(Ie)})},function(pe){de(pe)})})}):Z=g.reject("Invalid arguments"),b(Z,B),Z}var cn={_driver:"webSQLStorage",_initStorage:zs,_support:lt(),iterate:gi,getItem:Ws,setItem:na,removeItem:Ue,clear:ot,length:vt,key:ln,keys:Zt,dropInstance:tr};function Un(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function On(j,B){var O=j.name+"/";return j.storeName!==B.storeName&&(O+=j.storeName+"/"),O}function je(){var j="_localforage_support_test";try{return localStorage.setItem(j,!0),localStorage.removeItem(j),!1}catch{return!0}}function kl(){return!je()||localStorage.length>0}function Al(j){var B=this,O={};if(j)for(var W in j)O[W]=j[W];return O.keyPrefix=On(j,B._defaultConfig),kl()?(B._dbInfo=O,O.serializer=er,g.resolve()):g.reject()}function Il(j){var B=this,O=B.ready().then(function(){for(var W=B._dbInfo.keyPrefix,Z=localStorage.length-1;Z>=0;Z--){var D=localStorage.key(Z);D.indexOf(W)===0&&localStorage.removeItem(D)}});return b(O,j),O}function Dl(j,B){var O=this;j=w(j);var W=O.ready().then(function(){var Z=O._dbInfo,D=localStorage.getItem(Z.keyPrefix+j);return D&&(D=Z.serializer.deserialize(D)),D});return b(W,B),W}function ra(j,B){var O=this,W=O.ready().then(function(){for(var Z=O._dbInfo,D=Z.keyPrefix,te=D.length,de=localStorage.length,pe=1,fe=0;fe<de;fe++){var ve=localStorage.key(fe);if(ve.indexOf(D)===0){var Se=localStorage.getItem(ve);if(Se&&(Se=Z.serializer.deserialize(Se)),Se=j(Se,ve.substring(te),pe++),Se!==void 0)return Se}}});return b(W,B),W}function Ll(j,B){var O=this,W=O.ready().then(function(){var Z=O._dbInfo,D;try{D=localStorage.key(j)}catch{D=null}return D&&(D=D.substring(Z.keyPrefix.length)),D});return b(W,B),W}function vi(j){var B=this,O=B.ready().then(function(){for(var W=B._dbInfo,Z=localStorage.length,D=[],te=0;te<Z;te++){var de=localStorage.key(te);de.indexOf(W.keyPrefix)===0&&D.push(de.substring(W.keyPrefix.length))}return D});return b(O,j),O}function Fl(j){var B=this,O=B.keys().then(function(W){return W.length});return b(O,j),O}function fd(j,B){var O=this;j=w(j);var W=O.ready().then(function(){var Z=O._dbInfo;localStorage.removeItem(Z.keyPrefix+j)});return b(W,B),W}function hd(j,B,O){var W=this;j=w(j);var Z=W.ready().then(function(){B===void 0&&(B=null);var D=B;return new g(function(te,de){var pe=W._dbInfo;pe.serializer.serialize(B,function(fe,ve){if(ve)de(ve);else try{localStorage.setItem(pe.keyPrefix+j,fe),te(D)}catch(Se){(Se.name==="QuotaExceededError"||Se.name==="NS_ERROR_DOM_QUOTA_REACHED")&&de(Se),de(Se)}})})});return b(Z,O),Z}function md(j,B){if(B=v.apply(this,arguments),j=typeof j!="function"&&j||{},!j.name){var O=this.config();j.name=j.name||O.name,j.storeName=j.storeName||O.storeName}var W=this,Z;return j.name?Z=new g(function(D){j.storeName?D(On(j,W._defaultConfig)):D(j.name+"/")}).then(function(D){for(var te=localStorage.length-1;te>=0;te--){var de=localStorage.key(te);de.indexOf(D)===0&&localStorage.removeItem(de)}}):Z=g.reject("Invalid arguments"),b(Z,B),Z}var pd={_driver:"localStorageWrapper",_initStorage:Al,_support:Un(),iterate:ra,getItem:Dl,setItem:hd,removeItem:fd,clear:Il,length:Fl,key:Ll,keys:vi,dropInstance:md},Vl=function(B,O){return B===O||typeof B=="number"&&typeof O=="number"&&isNaN(B)&&isNaN(O)},gd=function(B,O){for(var W=B.length,Z=0;Z<W;){if(Vl(B[Z],O))return!0;Z++}return!1},es=Array.isArray||function(j){return Object.prototype.toString.call(j)==="[object Array]"},ts={},Bl={},yi={INDEXEDDB:Ze,WEBSQL:cn,LOCALSTORAGE:pd},vd=[yi.INDEXEDDB._driver,yi.WEBSQL._driver,yi.LOCALSTORAGE._driver],Us=["dropInstance"],ns=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Us),rs={description:"",driver:vd.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function $l(j,B){j[B]=function(){var O=arguments;return j.ready().then(function(){return j[B].apply(j,O)})}}function Hs(){for(var j=1;j<arguments.length;j++){var B=arguments[j];if(B)for(var O in B)B.hasOwnProperty(O)&&(es(B[O])?arguments[0][O]=B[O].slice():arguments[0][O]=B[O])}return arguments[0]}var is=function(){function j(B){a(this,j);for(var O in yi)if(yi.hasOwnProperty(O)){var W=yi[O],Z=W._driver;this[O]=Z,ts[Z]||this.defineDriver(W)}this._defaultConfig=Hs({},rs),this._config=Hs({},this._defaultConfig,B),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return j.prototype.config=function(O){if((typeof O>"u"?"undefined":o(O))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var W in O){if(W==="storeName"&&(O[W]=O[W].replace(/\W/g,"_")),W==="version"&&typeof O[W]!="number")return new Error("Database version must be a number.");this._config[W]=O[W]}return"driver"in O&&O.driver?this.setDriver(this._config.driver):!0}else return typeof O=="string"?this._config[O]:this._config},j.prototype.defineDriver=function(O,W,Z){var D=new g(function(te,de){try{var pe=O._driver,fe=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!O._driver){de(fe);return}for(var ve=ns.concat("_initStorage"),Se=0,He=ve.length;Se<He;Se++){var Ie=ve[Se],et=!gd(Us,Ie);if((et||O[Ie])&&typeof O[Ie]!="function"){de(fe);return}}var bt=function(){for(var nr=function(sa){return function(){var Zs=new Error("Method "+sa+" is not implemented by the current driver"),oa=g.reject(Zs);return b(oa,arguments[arguments.length-1]),oa}},ss=0,ia=Us.length;ss<ia;ss++){var xi=Us[ss];O[xi]||(O[xi]=nr(xi))}};bt();var yt=function(nr){ts[pe]&&console.info("Redefining LocalForage driver: "+pe),ts[pe]=O,Bl[pe]=nr,te()};"_support"in O?O._support&&typeof O._support=="function"?O._support().then(yt,de):yt(!!O._support):yt(!0)}catch(Jt){de(Jt)}});return x(D,W,Z),D},j.prototype.driver=function(){return this._driver||null},j.prototype.getDriver=function(O,W,Z){var D=ts[O]?g.resolve(ts[O]):g.reject(new Error("Driver not found."));return x(D,W,Z),D},j.prototype.getSerializer=function(O){var W=g.resolve(er);return x(W,O),W},j.prototype.ready=function(O){var W=this,Z=W._driverSet.then(function(){return W._ready===null&&(W._ready=W._initDriver()),W._ready});return x(Z,O,O),Z},j.prototype.setDriver=function(O,W,Z){var D=this;es(O)||(O=[O]);var te=this._getSupportedDrivers(O);function de(){D._config.driver=D.driver()}function pe(Se){return D._extend(Se),de(),D._ready=D._initStorage(D._config),D._ready}function fe(Se){return function(){var He=0;function Ie(){for(;He<Se.length;){var et=Se[He];return He++,D._dbInfo=null,D._ready=null,D.getDriver(et).then(pe).catch(Ie)}de();var bt=new Error("No available storage method found.");return D._driverSet=g.reject(bt),D._driverSet}return Ie()}}var ve=this._driverSet!==null?this._driverSet.catch(function(){return g.resolve()}):g.resolve();return this._driverSet=ve.then(function(){var Se=te[0];return D._dbInfo=null,D._ready=null,D.getDriver(Se).then(function(He){D._driver=He._driver,de(),D._wrapLibraryMethodsWithReady(),D._initDriver=fe(te)})}).catch(function(){de();var Se=new Error("No available storage method found.");return D._driverSet=g.reject(Se),D._driverSet}),x(this._driverSet,W,Z),this._driverSet},j.prototype.supports=function(O){return!!Bl[O]},j.prototype._extend=function(O){Hs(this,O)},j.prototype._getSupportedDrivers=function(O){for(var W=[],Z=0,D=O.length;Z<D;Z++){var te=O[Z];this.supports(te)&&W.push(te)}return W},j.prototype._wrapLibraryMethodsWithReady=function(){for(var O=0,W=ns.length;O<W;O++)$l(this,ns[O])},j.prototype.createInstance=function(O){return new j(O)},j}(),tt=new is;r.exports=tt},{3:3}]},{},[4])(4)})}(ff)),ff.exports}var G5=Z5();const Y5=$h(G5),FS=Y5.createInstance({name:"ActivityReports",storeName:"pending_activities"}),Jy=async e=>{const t=crypto.randomUUID(),n={...e,id:t,timestamp:new Date().toISOString(),syncStatus:"pending",createdOffline:!0};return await FS.setItem(t,n),t},K5=async()=>{const e=[];return await FS.iterate(t=>{t.syncStatus==="pending"&&e.push(t)}),e},q5=()=>{const[e,t]=p.useState(0);return p.useEffect(()=>{const n=async()=>{const i=await K5();t(i.length)};n();const r=setInterval(n,5e3);return()=>clearInterval(r)},[]),e===0?null:l.jsxs("div",{className:"fixed bottom-4 right-4 bg-yellow-500 text-white px-4 py-2 rounded-full shadow-lg flex items-center gap-2",children:[l.jsx("span",{children:""}),l.jsxs("span",{children:[e," activities pending sync"]})]})},yc=[{type:"dateTimeLocation",title:"Date/Time & Location",icon:l.jsx(_o,{className:"w-5 h-5"}),component:gw},{type:"observationType",title:"Type of Observation",icon:l.jsx(Sb,{className:"w-5 h-5"}),component:_S},{type:"compassBearing",title:"Compass Bearing",icon:l.jsx(Lf,{className:"w-5 h-5"}),component:DS},{type:"photo",title:"Photo",icon:l.jsx(Bc,{className:"w-5 h-5"}),component:LS}];function X5(){const{currentStep:e,formData:t,goToNextStep:n,goToPreviousStep:r,isStepValid:i,isLastStep:o,resetForm:a}=_l(),[u,d]=p.useState(!1),f=yr(),{user:m}=fi(),g=H5(),b=["dateTimeLocation","observationType","compassBearing","photo"].indexOf(e),[x,w]=p.useState(null),[v,_]=p.useState(null),C=async()=>{var E;try{const{data:{session:M}}=await Pe.auth.getSession();if(!M){ye.error("You must be logged in to submit an activity report");return}const T=M.user.id;if(!T){ye.error("User auth ID not found");return}const{data:A,error:R}=await Pe.from("users").select("id").eq("auth_id",T).single();if(R){console.error("Error fetching user:",R),ye.error("Error fetching user information");return}if(!A||!A.id){console.error("User not found in users table"),ye.error("User not found in system");return}const k=A.id;if(!t.activity_date||!t.activity_time||!t.observation_type){ye.error("Please fill in all required fields");return}const U=typeof t.activity_date=="string"?t.activity_date:(E=t.activity_date)==null?void 0:E.toISOString().split("T")[0],X=t.activity_time||"",re={activity_date:U,activity_time:X,observation_type:String(t.observation_type),latitude:Number(t.latitude),longitude:Number(t.longitude),total_elephants:t.total_elephants?Number(t.total_elephants):null,male_elephants:t.male_elephants?Number(t.male_elephants):null,female_elephants:t.female_elephants?Number(t.female_elephants):null,unknown_elephants:t.unknown_elephants?Number(t.unknown_elephants):null,calves:t.calves?Number(t.calves):null,indirect_sighting_type:t.indirect_sighting_type?String(t.indirect_sighting_type):null,loss_type:t.loss_type?String(t.loss_type):null,compass_bearing:t.compass_bearing?Number(t.compass_bearing):null,photo_url:t.photo_url?String(t.photo_url):null,user_id:k};if(g){const{error:z}=await Pe.from("activity_reports").insert([re]);z?(console.error("Insert error details:",z),await Jy(re),ye.error("Online submission failed. Report saved offline.")):(ye.success("Activity report submitted successfully"),a(),f("/"))}else await Jy(re),ye.success("You are offline. Report saved locally and will be synced when online."),a(),f("/")}catch(M){console.error("Error submitting activity report:",M),ye.error(M.message||"Failed to submit report")}finally{d(!1)}};let P;switch(e){case"dateTimeLocation":P=gw;break;case"observationType":P=_S;break;case"compassBearing":P=DS;break;case"photo":P=LS;break;default:P=null}return l.jsxs("div",{className:"container mx-auto p-2 sm:p-4",children:[!g&&l.jsxs("div",{className:"p-2 sm:p-3 mb-3 sm:mb-4 text-xs sm:text-sm text-yellow-800 bg-yellow-100 rounded-lg dark:bg-yellow-900 dark:text-yellow-300",role:"alert",children:[l.jsx("span",{className:"font-medium",children:"You are currently offline."})," Reports will be saved locally and synced when you reconnect."]}),l.jsxs(Ke,{className:"w-full max-w-full sm:max-w-2xl bg-white rounded-xl shadow-sm border border-gray-100 mx-auto",children:[l.jsxs(pt,{className:"space-y-4 sm:space-y-6 p-4 sm:p-6 border-b border-gray-100",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0",children:[l.jsx(gt,{className:"text-lg sm:text-2xl font-bold text-gray-900",children:"Elephant Watch Report"}),l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[l.jsxs("span",{className:"text-xs sm:text-sm font-medium text-gray-600",children:["Step ",b+1," of ",yc.length]}),l.jsx(Jm,{value:(b+1)/yc.length*100,className:"w-full sm:w-48 h-2 bg-gray-100"})]})]}),l.jsx("div",{className:"flex flex-nowrap overflow-x-auto gap-2 pb-2 sm:pb-0 -mx-2 sm:mx-0 px-2 sm:px-0",children:yc.map((E,M)=>l.jsxs(Le,{variant:M===b?"default":"outline",size:"sm",className:`
                  ${M===b?"bg-blue-600 hover:bg-blue-700 text-white border-blue-600":"bg-white hover:bg-gray-50 text-gray-600 border-gray-200"}
                  flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 rounded-md transition-colors whitespace-nowrap text-xs sm:text-sm
                `,disabled:M>b&&!i(yc[M-1].type),children:[E.icon,E.title]},E.type))})]}),l.jsxs(Xe,{className:"p-4 sm:p-6",children:[P&&l.jsx(P,{}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between mt-6 sm:mt-8 pt-4 sm:pt-6 border-t border-gray-100 gap-2 sm:gap-0",children:[l.jsx(Le,{variant:"outline",onClick:r,disabled:b===0||u,className:"border-gray-200 text-gray-600 hover:bg-gray-50 w-full sm:w-auto",children:"Previous"}),o()?l.jsx(Le,{onClick:C,disabled:!i(e)||u,className:"bg-blue-600 hover:bg-blue-700 text-white w-full sm:w-auto",children:u?"Submitting...":"Submit Report"}):l.jsx(Le,{onClick:n,disabled:!i(e)||u,className:"bg-blue-600 hover:bg-blue-700 text-white w-full sm:w-auto",children:"Next"})]})]})]}),l.jsx(q5,{})]})}function J5(){return l.jsx(V2,{children:l.jsx(X5,{})})}const Qy=()=>{const[e,t]=p.useState(!1),{user:n,loading:r}=fi(),i=yr();return p.useEffect(()=>{!r&&!n&&i("/login")},[n,r,i]),r?l.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}):n?l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"container mx-auto p-2 sm:p-4",children:[l.jsxs("header",{className:"mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl",children:"Wild Elephant Monitoring System"}),l.jsx("h2",{className:"mt-2 text-2xl font-semibold text-gray-600",children:"    (2025)"})]}),l.jsx(Ke,{className:"mb-8 overflow-hidden border border-blue-100 bg-white shadow-sm",children:l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(ka,{className:"h-6 w-6 text-blue-600 flex-shrink-0 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:" / Instructions:"}),l.jsxs("ul",{className:"space-y-3 text-gray-600",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-blue-600",children:""}),l.jsxs("span",{children:["       : /  ,   ,  ,  ",l.jsx("br",{}),l.jsx("span",{className:"text-gray-500",children:"Complete this form in four steps: Date/Time & Location, Type of Observation, Compass Bearing, and Photo."})]})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-blue-600",children:""}),l.jsxs("span",{children:["       'Next'           'Previous'    ",l.jsx("br",{}),l.jsx("span",{className:"text-gray-500",children:"Fill in the required information in each step and click 'Next'. Use 'Previous' to go back to earlier steps."})]})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-blue-600",children:""}),l.jsxs("span",{children:["GPS   Degree Decimal    (: 23.4536 81.4763)    ",l.jsx("br",{}),l.jsx("span",{className:"text-gray-500",children:"Enter GPS location in Degree Decimal format (Example: 23.4536 81.4763). Accurate location is crucial."})]})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-blue-600",children:""}),l.jsxs("span",{children:["    ,         ",l.jsx("br",{}),l.jsx("span",{className:"text-gray-500",children:"Based on observation type, provide elephant count or indirect evidence details."})]})]})]})]})]})})}),l.jsx("main",{className:"max-w-4xl mx-auto",children:l.jsx(J5,{})})]})}):null};function ex(e,[t,n]){return Math.min(n,Math.max(t,e))}var hf=0;function Hu(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tx()),document.body.insertAdjacentElement("beforeend",e[1]??tx()),hf++,()=>{hf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),hf--}},[])}function tx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var mf="focusScope.autoFocusOnMount",pf="focusScope.autoFocusOnUnmount",nx={bubbles:!1,cancelable:!0},Q5="FocusScope",dp=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=e,[u,d]=p.useState(null),f=St(i),m=St(o),g=p.useRef(null),b=Oe(t,v=>d(v)),x=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(E){if(x.paused||!u)return;const M=E.target;u.contains(M)?g.current=M:Pi(g.current,{select:!0})},_=function(E){if(x.paused||!u)return;const M=E.relatedTarget;M!==null&&(u.contains(M)||Pi(g.current,{select:!0}))},C=function(E){if(document.activeElement===document.body)for(const T of E)T.removedNodes.length>0&&Pi(u)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const P=new MutationObserver(C);return u&&P.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),P.disconnect()}}},[r,u,x.paused]),p.useEffect(()=>{if(u){ix.add(x);const v=document.activeElement;if(!u.contains(v)){const C=new CustomEvent(mf,nx);u.addEventListener(mf,f),u.dispatchEvent(C),C.defaultPrevented||(eV(sV(VS(u)),{select:!0}),document.activeElement===v&&Pi(u))}return()=>{u.removeEventListener(mf,f),setTimeout(()=>{const C=new CustomEvent(pf,nx);u.addEventListener(pf,m),u.dispatchEvent(C),C.defaultPrevented||Pi(v??document.body,{select:!0}),u.removeEventListener(pf,m),ix.remove(x)},0)}}},[u,f,m,x]);const w=p.useCallback(v=>{if(!n&&!r||x.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,C=document.activeElement;if(_&&C){const P=v.currentTarget,[E,M]=tV(P);E&&M?!v.shiftKey&&C===M?(v.preventDefault(),n&&Pi(E,{select:!0})):v.shiftKey&&C===E&&(v.preventDefault(),n&&Pi(M,{select:!0})):C===P&&v.preventDefault()}},[n,r,x.paused]);return l.jsx(Ve.div,{tabIndex:-1,...a,ref:b,onKeyDown:w})});dp.displayName=Q5;function eV(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Pi(r,{select:t}),document.activeElement!==n)return}function tV(e){const t=VS(e),n=rx(t,e),r=rx(t.reverse(),e);return[n,r]}function VS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function rx(e,t){for(const n of e)if(!nV(n,{upTo:t}))return n}function nV(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rV(e){return e instanceof HTMLInputElement&&"select"in e}function Pi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&rV(e)&&t&&e.select()}}var ix=iV();function iV(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=sx(e,t),e.unshift(t)},remove(t){var n;e=sx(e,t),(n=e[0])==null||n.resume()}}}function sx(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function sV(e){return e.filter(t=>t.tagName!=="A")}function oV(e){const t=aV(e),n=p.forwardRef((r,i)=>{const{children:o,...a}=r,u=p.Children.toArray(o),d=u.find(cV);if(d){const f=d.props.children,m=u.map(g=>g===d?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return l.jsx(t,{...a,ref:i,children:p.isValidElement(f)?p.cloneElement(f,void 0,m):null})}return l.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function aV(e){const t=p.forwardRef((n,r)=>{const{children:i,...o}=n,a=p.isValidElement(i)?dV(i):void 0,u=Oe(a,r);if(p.isValidElement(i)){const d=uV(o,i.props);return i.type!==p.Fragment&&(d.ref=u),p.cloneElement(i,d)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lV=Symbol("radix.slottable");function cV(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lV}function uV(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function dV(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var fV=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},eo=new WeakMap,xc=new WeakMap,bc={},gf=0,BS=function(e){return e&&(e.host||BS(e.parentNode))},hV=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=BS(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},mV=function(e,t,n,r){var i=hV(t,Array.isArray(e)?e:[e]);bc[n]||(bc[n]=new WeakMap);var o=bc[n],a=[],u=new Set,d=new Set(i),f=function(g){!g||u.has(g)||(u.add(g),f(g.parentNode))};i.forEach(f);var m=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(b){if(u.has(b))m(b);else try{var x=b.getAttribute(r),w=x!==null&&x!=="false",v=(eo.get(b)||0)+1,_=(o.get(b)||0)+1;eo.set(b,v),o.set(b,_),a.push(b),v===1&&w&&xc.set(b,!0),_===1&&b.setAttribute(n,"true"),w||b.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",b,C)}})};return m(t),u.clear(),gf++,function(){a.forEach(function(g){var b=eo.get(g)-1,x=o.get(g)-1;eo.set(g,b),o.set(g,x),b||(xc.has(g)||g.removeAttribute(r),xc.delete(g)),x||g.removeAttribute(n)}),gf--,gf||(eo=new WeakMap,eo=new WeakMap,xc=new WeakMap,bc={})}},Zu=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=fV(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),mV(r,i,n,"aria-hidden")):function(){return null}},Rr=function(){return Rr=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Rr.apply(this,arguments)};function $S(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function pV(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Dc="right-scroll-bar-position",Lc="width-before-scroll-bar",gV="with-scroll-bars-hidden",vV="--removed-body-scroll-bar-size";function vf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function yV(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var xV=typeof window<"u"?p.useLayoutEffect:p.useEffect,ox=new WeakMap;function bV(e,t){var n=yV(null,function(r){return e.forEach(function(i){return vf(i,r)})});return xV(function(){var r=ox.get(n);if(r){var i=new Set(r),o=new Set(e),a=n.current;i.forEach(function(u){o.has(u)||vf(u,null)}),o.forEach(function(u){i.has(u)||vf(u,a)})}ox.set(n,e)},[e]),n}function _V(e){return e}function wV(e,t){t===void 0&&(t=_V);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(u){return u!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(u){return o(u)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var u=n;n=[],u.forEach(o),a=n}var d=function(){var m=a;a=[],m.forEach(o)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(m){a.push(m),f()},filter:function(m){return a=a.filter(m),n}}}};return i}function SV(e){e===void 0&&(e={});var t=wV(null);return t.options=Rr({async:!0,ssr:!1},e),t}var zS=function(e){var t=e.sideCar,n=$S(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Rr({},n))};zS.isSideCarExport=!0;function CV(e,t){return e.useMedium(t),zS}var WS=SV(),yf=function(){},Gu=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:yf,onWheelCapture:yf,onTouchMoveCapture:yf}),i=r[0],o=r[1],a=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,m=e.enabled,g=e.shards,b=e.sideCar,x=e.noIsolation,w=e.inert,v=e.allowPinchZoom,_=e.as,C=_===void 0?"div":_,P=e.gapMode,E=$S(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=b,T=bV([n,t]),A=Rr(Rr({},E),i);return p.createElement(p.Fragment,null,m&&p.createElement(M,{sideCar:WS,removeScrollBar:f,shards:g,noIsolation:x,inert:w,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:P}),a?p.cloneElement(p.Children.only(u),Rr(Rr({},A),{ref:T})):p.createElement(C,Rr({},A,{className:d,ref:T}),u))});Gu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gu.classNames={fullWidth:Lc,zeroRight:Dc};var PV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function EV(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=PV();return t&&e.setAttribute("nonce",t),e}function TV(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function NV(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var jV=function(){var e=0,t=null;return{add:function(n){e==0&&(t=EV())&&(TV(t,n),NV(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},MV=function(){var e=jV();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},US=function(){var e=MV(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},RV={left:0,top:0,right:0,gap:0},xf=function(e){return parseInt(e||"",10)||0},OV=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[xf(n),xf(r),xf(i)]},kV=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return RV;var t=OV(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},AV=US(),Eo="data-scroll-locked",IV=function(e,t,n,r){var i=e.left,o=e.top,a=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(gV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Eo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dc,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Lc,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Dc," .").concat(Dc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Lc," .").concat(Lc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Eo,`] {
    `).concat(vV,": ").concat(u,`px;
  }
`)},ax=function(){var e=parseInt(document.body.getAttribute(Eo)||"0",10);return isFinite(e)?e:0},DV=function(){p.useEffect(function(){return document.body.setAttribute(Eo,(ax()+1).toString()),function(){var e=ax()-1;e<=0?document.body.removeAttribute(Eo):document.body.setAttribute(Eo,e.toString())}},[])},LV=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;DV();var o=p.useMemo(function(){return kV(i)},[i]);return p.createElement(AV,{styles:IV(o,!t,i,n?"":"!important")})},Sh=!1;if(typeof window<"u")try{var _c=Object.defineProperty({},"passive",{get:function(){return Sh=!0,!0}});window.addEventListener("test",_c,_c),window.removeEventListener("test",_c,_c)}catch{Sh=!1}var to=Sh?{passive:!1}:!1,FV=function(e){return e.tagName==="TEXTAREA"},HS=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!FV(e)&&n[t]==="visible")},VV=function(e){return HS(e,"overflowY")},BV=function(e){return HS(e,"overflowX")},lx=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=ZS(e,r);if(i){var o=GS(e,r),a=o[1],u=o[2];if(a>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},$V=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},zV=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},ZS=function(e,t){return e==="v"?VV(t):BV(t)},GS=function(e,t){return e==="v"?$V(t):zV(t)},WV=function(e,t){return e==="h"&&t==="rtl"?-1:1},UV=function(e,t,n,r,i){var o=WV(e,window.getComputedStyle(t).direction),a=o*r,u=n.target,d=t.contains(u),f=!1,m=a>0,g=0,b=0;do{var x=GS(e,u),w=x[0],v=x[1],_=x[2],C=v-_-o*w;(w||C)&&ZS(e,u)&&(g+=C,b+=w),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(m&&Math.abs(g)<1||!m&&Math.abs(b)<1)&&(f=!0),f},wc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cx=function(e){return[e.deltaX,e.deltaY]},ux=function(e){return e&&"current"in e?e.current:e},HV=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ZV=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},GV=0,no=[];function YV(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(GV++)[0],o=p.useState(US)[0],a=p.useRef(e);p.useEffect(function(){a.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=pV([e.lockRef.current],(e.shards||[]).map(ux),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=p.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var C=wc(v),P=n.current,E="deltaX"in v?v.deltaX:P[0]-C[0],M="deltaY"in v?v.deltaY:P[1]-C[1],T,A=v.target,R=Math.abs(E)>Math.abs(M)?"h":"v";if("touches"in v&&R==="h"&&A.type==="range")return!1;var k=lx(R,A);if(!k)return!0;if(k?T=R:(T=R==="v"?"h":"v",k=lx(R,A)),!k)return!1;if(!r.current&&"changedTouches"in v&&(E||M)&&(r.current=T),!T)return!0;var U=r.current||T;return UV(U,_,v,U==="h"?E:M)},[]),d=p.useCallback(function(v){var _=v;if(!(!no.length||no[no.length-1]!==o)){var C="deltaY"in _?cx(_):wc(_),P=t.current.filter(function(T){return T.name===_.type&&(T.target===_.target||_.target===T.shadowParent)&&HV(T.delta,C)})[0];if(P&&P.should){_.cancelable&&_.preventDefault();return}if(!P){var E=(a.current.shards||[]).map(ux).filter(Boolean).filter(function(T){return T.contains(_.target)}),M=E.length>0?u(_,E[0]):!a.current.noIsolation;M&&_.cancelable&&_.preventDefault()}}},[]),f=p.useCallback(function(v,_,C,P){var E={name:v,delta:_,target:C,should:P,shadowParent:KV(C)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(M){return M!==E})},1)},[]),m=p.useCallback(function(v){n.current=wc(v),r.current=void 0},[]),g=p.useCallback(function(v){f(v.type,cx(v),v.target,u(v,e.lockRef.current))},[]),b=p.useCallback(function(v){f(v.type,wc(v),v.target,u(v,e.lockRef.current))},[]);p.useEffect(function(){return no.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",d,to),document.addEventListener("touchmove",d,to),document.addEventListener("touchstart",m,to),function(){no=no.filter(function(v){return v!==o}),document.removeEventListener("wheel",d,to),document.removeEventListener("touchmove",d,to),document.removeEventListener("touchstart",m,to)}},[]);var x=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(o,{styles:ZV(i)}):null,x?p.createElement(LV,{gapMode:e.gapMode}):null)}function KV(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const qV=CV(WS,YV);var Cl=p.forwardRef(function(e,t){return p.createElement(Gu,Rr({},e,{ref:t,sideCar:qV}))});Cl.classNames=Gu.classNames;var XV=[" ","Enter","ArrowUp","ArrowDown"],JV=[" ","Enter"],Rs="Select",[Yu,Ku,QV]=zh(Rs),[ea,IU]=Bt(Rs,[QV,Nu]),qu=Nu(),[eB,Zi]=ea(Rs),[tB,nB]=ea(Rs),YS=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:u,onValueChange:d,dir:f,name:m,autoComplete:g,disabled:b,required:x,form:w}=e,v=qu(t),[_,C]=p.useState(null),[P,E]=p.useState(null),[M,T]=p.useState(!1),A=Jo(f),[R,k]=Qn({prop:r,defaultProp:i??!1,onChange:o,caller:Rs}),[U,X]=Qn({prop:a,defaultProp:u,onChange:d,caller:Rs}),re=p.useRef(null),z=_?w||!!_.closest("form"):!0,[ne,J]=p.useState(new Set),H=Array.from(ne).map(K=>K.props.value).join(";");return l.jsx(FM,{...v,children:l.jsxs(eB,{required:x,scope:t,trigger:_,onTriggerChange:C,valueNode:P,onValueNodeChange:E,valueNodeHasChildren:M,onValueNodeHasChildrenChange:T,contentId:qn(),value:U,onValueChange:X,open:R,onOpenChange:k,dir:A,triggerPointerDownPosRef:re,disabled:b,children:[l.jsx(Yu.Provider,{scope:t,children:l.jsx(tB,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(K=>{J(G=>new Set(G).add(K))},[]),onNativeOptionRemove:p.useCallback(K=>{J(G=>{const $=new Set(G);return $.delete(K),$})},[]),children:n})}),z?l.jsxs(gC,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:g,value:U,onChange:K=>X(K.target.value),disabled:b,form:w,children:[U===void 0?l.jsx("option",{value:""}):null,Array.from(ne)]},H):null]})})};YS.displayName=Rs;var KS="SelectTrigger",qS=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=qu(n),a=Zi(KS,n),u=a.disabled||r,d=Oe(t,a.onTriggerChange),f=Ku(n),m=p.useRef("touch"),[g,b,x]=yC(v=>{const _=f().filter(E=>!E.disabled),C=_.find(E=>E.value===a.value),P=xC(_,v,C);P!==void 0&&a.onValueChange(P.value)}),w=v=>{u||(a.onOpenChange(!0),x()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(Xb,{asChild:!0,...o,children:l.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":vC(a.value)?"":void 0,...i,ref:d,onClick:he(i.onClick,v=>{v.currentTarget.focus(),m.current!=="mouse"&&w(v)}),onPointerDown:he(i.onPointerDown,v=>{m.current=v.pointerType;const _=v.target;_.hasPointerCapture(v.pointerId)&&_.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:he(i.onKeyDown,v=>{const _=g.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&b(v.key),!(_&&v.key===" ")&&XV.includes(v.key)&&(w(),v.preventDefault())})})})});qS.displayName=KS;var XS="SelectValue",JS=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:a="",...u}=e,d=Zi(XS,n),{onValueNodeHasChildrenChange:f}=d,m=o!==void 0,g=Oe(t,d.onValueNodeChange);return Tt(()=>{f(m)},[f,m]),l.jsx(Ve.span,{...u,ref:g,style:{pointerEvents:"none"},children:vC(d.value)?l.jsx(l.Fragment,{children:a}):o})});JS.displayName=XS;var rB="SelectIcon",QS=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return l.jsx(Ve.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});QS.displayName=rB;var iB="SelectPortal",eC=e=>l.jsx(xu,{asChild:!0,...e});eC.displayName=iB;var Os="SelectContent",tC=p.forwardRef((e,t)=>{const n=Zi(Os,e.__scopeSelect),[r,i]=p.useState();if(Tt(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?di.createPortal(l.jsx(nC,{scope:e.__scopeSelect,children:l.jsx(Yu.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),o):null}return l.jsx(rC,{...e,ref:t})});tC.displayName=Os;var ar=10,[nC,Gi]=ea(Os),sB="SelectContentImpl",oB=oV("SelectContent.RemoveScroll"),rC=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:u,sideOffset:d,align:f,alignOffset:m,arrowPadding:g,collisionBoundary:b,collisionPadding:x,sticky:w,hideWhenDetached:v,avoidCollisions:_,...C}=e,P=Zi(Os,n),[E,M]=p.useState(null),[T,A]=p.useState(null),R=Oe(t,oe=>M(oe)),[k,U]=p.useState(null),[X,re]=p.useState(null),z=Ku(n),[ne,J]=p.useState(!1),H=p.useRef(!1);p.useEffect(()=>{if(E)return Zu(E)},[E]),Hu();const K=p.useCallback(oe=>{const[xe,...Ee]=z().map(Ce=>Ce.ref.current),[Re]=Ee.slice(-1),Te=document.activeElement;for(const Ce of oe)if(Ce===Te||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===xe&&T&&(T.scrollTop=0),Ce===Re&&T&&(T.scrollTop=T.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==Te))return},[z,T]),G=p.useCallback(()=>K([k,E]),[K,k,E]);p.useEffect(()=>{ne&&G()},[ne,G]);const{onOpenChange:$,triggerPointerDownPosRef:V}=P;p.useEffect(()=>{if(E){let oe={x:0,y:0};const xe=Re=>{var Te,Ce;oe={x:Math.abs(Math.round(Re.pageX)-(((Te=V.current)==null?void 0:Te.x)??0)),y:Math.abs(Math.round(Re.pageY)-(((Ce=V.current)==null?void 0:Ce.y)??0))}},Ee=Re=>{oe.x<=10&&oe.y<=10?Re.preventDefault():E.contains(Re.target)||$(!1),document.removeEventListener("pointermove",xe),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[E,$,V]),p.useEffect(()=>{const oe=()=>$(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[$]);const[Y,se]=yC(oe=>{const xe=z().filter(Te=>!Te.disabled),Ee=xe.find(Te=>Te.ref.current===document.activeElement),Re=xC(xe,oe,Ee);Re&&setTimeout(()=>Re.ref.current.focus())}),I=p.useCallback((oe,xe,Ee)=>{const Re=!H.current&&!Ee;(P.value!==void 0&&P.value===xe||Re)&&(U(oe),Re&&(H.current=!0))},[P.value]),Q=p.useCallback(()=>E==null?void 0:E.focus(),[E]),ie=p.useCallback((oe,xe,Ee)=>{const Re=!H.current&&!Ee;(P.value!==void 0&&P.value===xe||Re)&&re(oe)},[P.value]),ce=r==="popper"?Ch:iC,ae=ce===Ch?{side:u,sideOffset:d,align:f,alignOffset:m,arrowPadding:g,collisionBoundary:b,collisionPadding:x,sticky:w,hideWhenDetached:v,avoidCollisions:_}:{};return l.jsx(nC,{scope:n,content:E,viewport:T,onViewportChange:A,itemRefCallback:I,selectedItem:k,onItemLeave:Q,itemTextRefCallback:ie,focusSelectedItem:G,selectedItemText:X,position:r,isPositioned:ne,searchRef:Y,children:l.jsx(Cl,{as:oB,allowPinchZoom:!0,children:l.jsx(dp,{asChild:!0,trapped:P.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:he(i,oe=>{var xe;(xe=P.trigger)==null||xe.focus({preventScroll:!0}),oe.preventDefault()}),children:l.jsx(hl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:l.jsx(ce,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:oe=>oe.preventDefault(),...C,...ae,onPlaced:()=>J(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:he(C.onKeyDown,oe=>{const xe=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!xe&&oe.key.length===1&&se(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Re=z().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const Te=oe.target,Ce=Re.indexOf(Te);Re=Re.slice(Ce+1)}setTimeout(()=>K(Re)),oe.preventDefault()}})})})})})})});rC.displayName=sB;var aB="SelectItemAlignedPosition",iC=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=Zi(Os,n),a=Gi(Os,n),[u,d]=p.useState(null),[f,m]=p.useState(null),g=Oe(t,R=>m(R)),b=Ku(n),x=p.useRef(!1),w=p.useRef(!0),{viewport:v,selectedItem:_,selectedItemText:C,focusSelectedItem:P}=a,E=p.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&f&&v&&_&&C){const R=o.trigger.getBoundingClientRect(),k=f.getBoundingClientRect(),U=o.valueNode.getBoundingClientRect(),X=C.getBoundingClientRect();if(o.dir!=="rtl"){const Te=X.left-k.left,Ce=U.left-Te,Ze=R.left-Ce,lt=R.width+Ze,xt=Math.max(lt,k.width),$t=window.innerWidth-ar,Lt=ex(Ce,[ar,Math.max(ar,$t-xt)]);u.style.minWidth=lt+"px",u.style.left=Lt+"px"}else{const Te=k.right-X.right,Ce=window.innerWidth-U.right-Te,Ze=window.innerWidth-R.right-Ce,lt=R.width+Ze,xt=Math.max(lt,k.width),$t=window.innerWidth-ar,Lt=ex(Ce,[ar,Math.max(ar,$t-xt)]);u.style.minWidth=lt+"px",u.style.right=Lt+"px"}const re=b(),z=window.innerHeight-ar*2,ne=v.scrollHeight,J=window.getComputedStyle(f),H=parseInt(J.borderTopWidth,10),K=parseInt(J.paddingTop,10),G=parseInt(J.borderBottomWidth,10),$=parseInt(J.paddingBottom,10),V=H+K+ne+$+G,Y=Math.min(_.offsetHeight*5,V),se=window.getComputedStyle(v),I=parseInt(se.paddingTop,10),Q=parseInt(se.paddingBottom,10),ie=R.top+R.height/2-ar,ce=z-ie,ae=_.offsetHeight/2,oe=_.offsetTop+ae,xe=H+K+oe,Ee=V-xe;if(xe<=ie){const Te=re.length>0&&_===re[re.length-1].ref.current;u.style.bottom="0px";const Ce=f.clientHeight-v.offsetTop-v.offsetHeight,Ze=Math.max(ce,ae+(Te?Q:0)+Ce+G),lt=xe+Ze;u.style.height=lt+"px"}else{const Te=re.length>0&&_===re[0].ref.current;u.style.top="0px";const Ze=Math.max(ie,H+v.offsetTop+(Te?I:0)+ae)+Ee;u.style.height=Ze+"px",v.scrollTop=xe-ie+v.offsetTop}u.style.margin=`${ar}px 0`,u.style.minHeight=Y+"px",u.style.maxHeight=z+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[b,o.trigger,o.valueNode,u,f,v,_,C,o.dir,r]);Tt(()=>E(),[E]);const[M,T]=p.useState();Tt(()=>{f&&T(window.getComputedStyle(f).zIndex)},[f]);const A=p.useCallback(R=>{R&&w.current===!0&&(E(),P==null||P(),w.current=!1)},[E,P]);return l.jsx(cB,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:x,onScrollButtonChange:A,children:l.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:l.jsx(Ve.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});iC.displayName=aB;var lB="SelectPopperPosition",Ch=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ar,...o}=e,a=qu(n);return l.jsx(Jb,{...a,...o,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ch.displayName=lB;var[cB,fp]=ea(Os,{}),Ph="SelectViewport",sC=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,o=Gi(Ph,n),a=fp(Ph,n),u=Oe(t,o.onViewportChange),d=p.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Yu.Slot,{scope:n,children:l.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:he(i.onScroll,f=>{const m=f.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:b}=a;if(b!=null&&b.current&&g){const x=Math.abs(d.current-m.scrollTop);if(x>0){const w=window.innerHeight-ar*2,v=parseFloat(g.style.minHeight),_=parseFloat(g.style.height),C=Math.max(v,_);if(C<w){const P=C+x,E=Math.min(w,P),M=P-E;g.style.height=E+"px",g.style.bottom==="0px"&&(m.scrollTop=M>0?M:0,g.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});sC.displayName=Ph;var oC="SelectGroup",[uB,dB]=ea(oC),fB=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=qn();return l.jsx(uB,{scope:n,id:i,children:l.jsx(Ve.div,{role:"group","aria-labelledby":i,...r,ref:t})})});fB.displayName=oC;var aC="SelectLabel",lC=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=dB(aC,n);return l.jsx(Ve.div,{id:i.id,...r,ref:t})});lC.displayName=aC;var uu="SelectItem",[hB,cC]=ea(uu),uC=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...a}=e,u=Zi(uu,n),d=Gi(uu,n),f=u.value===r,[m,g]=p.useState(o??""),[b,x]=p.useState(!1),w=Oe(t,P=>{var E;return(E=d.itemRefCallback)==null?void 0:E.call(d,P,r,i)}),v=qn(),_=p.useRef("touch"),C=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(hB,{scope:n,value:r,disabled:i,textId:v,isSelected:f,onItemTextChange:p.useCallback(P=>{g(E=>E||((P==null?void 0:P.textContent)??"").trim())},[]),children:l.jsx(Yu.ItemSlot,{scope:n,value:r,disabled:i,textValue:m,children:l.jsx(Ve.div,{role:"option","aria-labelledby":v,"data-highlighted":b?"":void 0,"aria-selected":f&&b,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:w,onFocus:he(a.onFocus,()=>x(!0)),onBlur:he(a.onBlur,()=>x(!1)),onClick:he(a.onClick,()=>{_.current!=="mouse"&&C()}),onPointerUp:he(a.onPointerUp,()=>{_.current==="mouse"&&C()}),onPointerDown:he(a.onPointerDown,P=>{_.current=P.pointerType}),onPointerMove:he(a.onPointerMove,P=>{var E;_.current=P.pointerType,i?(E=d.onItemLeave)==null||E.call(d):_.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(a.onPointerLeave,P=>{var E;P.currentTarget===document.activeElement&&((E=d.onItemLeave)==null||E.call(d))}),onKeyDown:he(a.onKeyDown,P=>{var M;((M=d.searchRef)==null?void 0:M.current)!==""&&P.key===" "||(JV.includes(P.key)&&C(),P.key===" "&&P.preventDefault())})})})})});uC.displayName=uu;var Ca="SelectItemText",dC=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,a=Zi(Ca,n),u=Gi(Ca,n),d=cC(Ca,n),f=nB(Ca,n),[m,g]=p.useState(null),b=Oe(t,C=>g(C),d.onItemTextChange,C=>{var P;return(P=u.itemTextRefCallback)==null?void 0:P.call(u,C,d.value,d.disabled)}),x=m==null?void 0:m.textContent,w=p.useMemo(()=>l.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:_}=f;return Tt(()=>(v(w),()=>_(w)),[v,_,w]),l.jsxs(l.Fragment,{children:[l.jsx(Ve.span,{id:d.textId,...o,ref:b}),d.isSelected&&a.valueNode&&!a.valueNodeHasChildren?di.createPortal(o.children,a.valueNode):null]})});dC.displayName=Ca;var fC="SelectItemIndicator",hC=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return cC(fC,n).isSelected?l.jsx(Ve.span,{"aria-hidden":!0,...r,ref:t}):null});hC.displayName=fC;var Eh="SelectScrollUpButton",mB=p.forwardRef((e,t)=>{const n=Gi(Eh,e.__scopeSelect),r=fp(Eh,e.__scopeSelect),[i,o]=p.useState(!1),a=Oe(t,r.onScrollButtonChange);return Tt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=d.scrollTop>0;o(f)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?l.jsx(mC,{...e,ref:a,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});mB.displayName=Eh;var Th="SelectScrollDownButton",pB=p.forwardRef((e,t)=>{const n=Gi(Th,e.__scopeSelect),r=fp(Th,e.__scopeSelect),[i,o]=p.useState(!1),a=Oe(t,r.onScrollButtonChange);return Tt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<f;o(m)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?l.jsx(mC,{...e,ref:a,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});pB.displayName=Th;var mC=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=Gi("SelectScrollButton",n),a=p.useRef(null),u=Ku(n),d=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>d(),[d]),Tt(()=>{var m;const f=u().find(g=>g.ref.current===document.activeElement);(m=f==null?void 0:f.ref.current)==null||m.scrollIntoView({block:"nearest"})},[u]),l.jsx(Ve.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:he(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:he(i.onPointerMove,()=>{var f;(f=o.onItemLeave)==null||f.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:he(i.onPointerLeave,()=>{d()})})}),gB="SelectSeparator",pC=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(Ve.div,{"aria-hidden":!0,...r,ref:t})});pC.displayName=gB;var Nh="SelectArrow",vB=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=qu(n),o=Zi(Nh,n),a=Gi(Nh,n);return o.open&&a.position==="popper"?l.jsx(Qb,{...i,...r,ref:t}):null});vB.displayName=Nh;var yB="SelectBubbleInput",gC=p.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=p.useRef(null),o=Oe(r,i),a=Fu(t);return p.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==t&&m){const g=new Event("change",{bubbles:!0});m.call(u,t),u.dispatchEvent(g)}},[a,t]),l.jsx(Ve.select,{...n,style:{...Qx,...n.style},ref:o,defaultValue:t})});gC.displayName=yB;function vC(e){return e===""||e===void 0}function yC(e){const t=St(e),n=p.useRef(""),r=p.useRef(0),i=p.useCallback(a=>{const u=n.current+a;t(u),function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(u)},[t]),o=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function xC(e,t,n){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=xB(e,Math.max(o,0));i.length===1&&(a=a.filter(f=>f!==n));const d=a.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function xB(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var bB=YS,bC=qS,_B=JS,wB=QS,SB=eC,_C=tC,CB=sC,wC=lC,SC=uC,PB=dC,EB=hC,CC=pC;function TB(){return typeof navigator<"u"&&/wv/.test(navigator.userAgent)&&/Android/.test(navigator.userAgent)}const Ai=bB,Ii=_B,ni=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(bC,{ref:r,className:Me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:[t,l.jsx(wB,{asChild:!0,children:l.jsx(HN,{className:"h-4 w-4 opacity-50"})})]}));ni.displayName=bC.displayName;const ri=p.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>{const o=TB(),a=l.jsx(_C,{ref:i,className:Me("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:l.jsx(CB,{className:Me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})});return o?a:l.jsx(SB,{children:a})});ri.displayName=_C.displayName;const NB=p.forwardRef(({className:e,...t},n)=>l.jsx(wC,{ref:n,className:Me("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));NB.displayName=wC.displayName;const Dt=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(SC,{ref:r,className:Me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(EB,{children:l.jsx(Kh,{className:"h-4 w-4"})})}),l.jsx(PB,{children:t})]}));Dt.displayName=SC.displayName;const jB=p.forwardRef(({className:e,...t},n)=>l.jsx(CC,{ref:n,className:Me("-mx-1 my-1 h-px bg-muted",e),...t}));jB.displayName=CC.displayName;function PC(e,t){const n=p.useRef(t);p.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const MB=1;function RB(e){return Object.freeze({__version:MB,map:e})}function EC(e,t){return Object.freeze({...e,...t})}const TC=p.createContext(null),NC=TC.Provider;function Xu(){const e=p.useContext(TC);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function jC(e){function t(n,r){const{instance:i,context:o}=e(n).current;return p.useImperativeHandle(r,()=>i),n.children==null?null:me.createElement(NC,{value:o},n.children)}return p.forwardRef(t)}function OB(e){function t(n,r){const[i,o]=p.useState(!1),{instance:a}=e(n,o).current;p.useImperativeHandle(r,()=>a),p.useEffect(function(){i&&a.update()},[a,i,n.children]);const u=a._contentNode;return u?di.createPortal(n.children,u):null}return p.forwardRef(t)}function kB(e){function t(n,r){const{instance:i}=e(n).current;return p.useImperativeHandle(r,()=>i),null}return p.forwardRef(t)}function hp(e,t){const n=p.useRef();p.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Ju(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function AB(e,t){return function(r,i){const o=Xu(),a=e(Ju(r,o),o);return PC(o.map,r.attribution),hp(a.current,r.eventHandlers),t(a.current,o,r,i),a}}var Pa={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var IB=Pa.exports,dx;function DB(){return dx||(dx=1,function(e,t){(function(n,r){r(t)})(IB,function(n){var r="1.9.4";function i(s){var c,h,y,S;for(h=1,y=arguments.length;h<y;h++){S=arguments[h];for(c in S)s[c]=S[c]}return s}var o=Object.create||function(){function s(){}return function(c){return s.prototype=c,new s}}();function a(s,c){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var y=h.call(arguments,2);return function(){return s.apply(c,y.length?y.concat(h.call(arguments)):arguments)}}var u=0;function d(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function f(s,c,h){var y,S,N,F;return F=function(){y=!1,S&&(N.apply(h,S),S=!1)},N=function(){y?S=arguments:(s.apply(h,arguments),setTimeout(F,c),y=!0)},N}function m(s,c,h){var y=c[1],S=c[0],N=y-S;return s===y&&h?s:((s-S)%N+N)%N+S}function g(){return!1}function b(s,c){if(c===!1)return s;var h=Math.pow(10,c===void 0?6:c);return Math.round(s*h)/h}function x(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function w(s){return x(s).split(/\s+/)}function v(s,c){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var h in c)s.options[h]=c[h];return s.options}function _(s,c,h){var y=[];for(var S in s)y.push(encodeURIComponent(h?S.toUpperCase():S)+"="+encodeURIComponent(s[S]));return(!c||c.indexOf("?")===-1?"?":"&")+y.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function P(s,c){return s.replace(C,function(h,y){var S=c[y];if(S===void 0)throw new Error("No value provided for variable "+h);return typeof S=="function"&&(S=S(c)),S})}var E=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function M(s,c){for(var h=0;h<s.length;h++)if(s[h]===c)return h;return-1}var T="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var R=0;function k(s){var c=+new Date,h=Math.max(0,16-(c-R));return R=c+h,window.setTimeout(s,h)}var U=window.requestAnimationFrame||A("RequestAnimationFrame")||k,X=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function re(s,c,h){if(h&&U===k)s.call(c);else return U.call(window,a(s,c))}function z(s){s&&X.call(window,s)}var ne={__proto__:null,extend:i,create:o,bind:a,get lastId(){return u},stamp:d,throttle:f,wrapNum:m,falseFn:g,formatNum:b,trim:x,splitWords:w,setOptions:v,getParamString:_,template:P,isArray:E,indexOf:M,emptyImageUrl:T,requestFn:U,cancelFn:X,requestAnimFrame:re,cancelAnimFrame:z};function J(){}J.extend=function(s){var c=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=c.__super__=this.prototype,y=o(h);y.constructor=c,c.prototype=y;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(c[S]=this[S]);return s.statics&&i(c,s.statics),s.includes&&(H(s.includes),i.apply(null,[y].concat(s.includes))),i(y,s),delete y.statics,delete y.includes,y.options&&(y.options=h.options?o(h.options):{},i(y.options,s.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var N=0,F=y._initHooks.length;N<F;N++)y._initHooks[N].call(this)}},c},J.include=function(s){var c=this.prototype.options;return i(this.prototype,s),s.options&&(this.prototype.options=c,this.mergeOptions(s.options)),this},J.mergeOptions=function(s){return i(this.prototype.options,s),this},J.addInitHook=function(s){var c=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function H(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=E(s)?s:[s];for(var c=0;c<s.length;c++)s[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var K={on:function(s,c,h){if(typeof s=="object")for(var y in s)this._on(y,s[y],c);else{s=w(s);for(var S=0,N=s.length;S<N;S++)this._on(s[S],c,h)}return this},off:function(s,c,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var y in s)this._off(y,s[y],c);else{s=w(s);for(var S=arguments.length===1,N=0,F=s.length;N<F;N++)S?this._off(s[N]):this._off(s[N],c,h)}return this},_on:function(s,c,h,y){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(s,c,h)===!1){h===this&&(h=void 0);var S={fn:c,ctx:h};y&&(S.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(S)}},_off:function(s,c,h){var y,S,N;if(this._events&&(y=this._events[s],!!y)){if(arguments.length===1){if(this._firingCount)for(S=0,N=y.length;S<N;S++)y[S].fn=g;delete this._events[s];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var F=this._listens(s,c,h);if(F!==!1){var q=y[F];this._firingCount&&(q.fn=g,this._events[s]=y=y.slice()),y.splice(F,1)}}},fire:function(s,c,h){if(!this.listens(s,h))return this;var y=i({},c,{type:s,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var S=this._events[s];if(S){this._firingCount=this._firingCount+1||1;for(var N=0,F=S.length;N<F;N++){var q=S[N],ee=q.fn;q.once&&this.off(s,ee,q.ctx),ee.call(q.ctx||this,y)}this._firingCount--}}return h&&this._propagateEvent(y),this},listens:function(s,c,h,y){typeof s!="string"&&console.warn('"string" type argument expected');var S=c;typeof c!="function"&&(y=!!c,S=void 0,h=void 0);var N=this._events&&this._events[s];if(N&&N.length&&this._listens(s,S,h)!==!1)return!0;if(y){for(var F in this._eventParents)if(this._eventParents[F].listens(s,c,h,y))return!0}return!1},_listens:function(s,c,h){if(!this._events)return!1;var y=this._events[s]||[];if(!c)return!!y.length;h===this&&(h=void 0);for(var S=0,N=y.length;S<N;S++)if(y[S].fn===c&&y[S].ctx===h)return S;return!1},once:function(s,c,h){if(typeof s=="object")for(var y in s)this._on(y,s[y],c,!0);else{s=w(s);for(var S=0,N=s.length;S<N;S++)this._on(s[S],c,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[d(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[d(s)],this},_propagateEvent:function(s){for(var c in this._eventParents)this._eventParents[c].fire(s.type,i({layer:s.target,propagatedFrom:s.target},s),!0)}};K.addEventListener=K.on,K.removeEventListener=K.clearAllEventListeners=K.off,K.addOneTimeEventListener=K.once,K.fireEvent=K.fire,K.hasEventListeners=K.listens;var G=J.extend(K);function $(s,c,h){this.x=h?Math.round(s):s,this.y=h?Math.round(c):c}var V=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(s){return this.clone()._add(Y(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(Y(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new $(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new $(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=V(this.x),this.y=V(this.y),this},distanceTo:function(s){s=Y(s);var c=s.x-this.x,h=s.y-this.y;return Math.sqrt(c*c+h*h)},equals:function(s){return s=Y(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=Y(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function Y(s,c,h){return s instanceof $?s:E(s)?new $(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new $(s.x,s.y):new $(s,c,h)}function se(s,c){if(s)for(var h=c?[s,c]:s,y=0,S=h.length;y<S;y++)this.extend(h[y])}se.prototype={extend:function(s){var c,h;if(!s)return this;if(s instanceof $||typeof s[0]=="number"||"x"in s)c=h=Y(s);else if(s=I(s),c=s.min,h=s.max,!c||!h)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=h.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return Y((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return Y(this.min.x,this.max.y)},getTopRight:function(){return Y(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var c,h;return typeof s[0]=="number"||s instanceof $?s=Y(s):s=I(s),s instanceof se?(c=s.min,h=s.max):c=h=s,c.x>=this.min.x&&h.x<=this.max.x&&c.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=I(s);var c=this.min,h=this.max,y=s.min,S=s.max,N=S.x>=c.x&&y.x<=h.x,F=S.y>=c.y&&y.y<=h.y;return N&&F},overlaps:function(s){s=I(s);var c=this.min,h=this.max,y=s.min,S=s.max,N=S.x>c.x&&y.x<h.x,F=S.y>c.y&&y.y<h.y;return N&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var c=this.min,h=this.max,y=Math.abs(c.x-h.x)*s,S=Math.abs(c.y-h.y)*s;return I(Y(c.x-y,c.y-S),Y(h.x+y,h.y+S))},equals:function(s){return s?(s=I(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function I(s,c){return!s||s instanceof se?s:new se(s,c)}function Q(s,c){if(s)for(var h=c?[s,c]:s,y=0,S=h.length;y<S;y++)this.extend(h[y])}Q.prototype={extend:function(s){var c=this._southWest,h=this._northEast,y,S;if(s instanceof ce)y=s,S=s;else if(s instanceof Q){if(y=s._southWest,S=s._northEast,!y||!S)return this}else return s?this.extend(ae(s)||ie(s)):this;return!c&&!h?(this._southWest=new ce(y.lat,y.lng),this._northEast=new ce(S.lat,S.lng)):(c.lat=Math.min(y.lat,c.lat),c.lng=Math.min(y.lng,c.lng),h.lat=Math.max(S.lat,h.lat),h.lng=Math.max(S.lng,h.lng)),this},pad:function(s){var c=this._southWest,h=this._northEast,y=Math.abs(c.lat-h.lat)*s,S=Math.abs(c.lng-h.lng)*s;return new Q(new ce(c.lat-y,c.lng-S),new ce(h.lat+y,h.lng+S))},getCenter:function(){return new ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ce||"lat"in s?s=ae(s):s=ie(s);var c=this._southWest,h=this._northEast,y,S;return s instanceof Q?(y=s.getSouthWest(),S=s.getNorthEast()):y=S=s,y.lat>=c.lat&&S.lat<=h.lat&&y.lng>=c.lng&&S.lng<=h.lng},intersects:function(s){s=ie(s);var c=this._southWest,h=this._northEast,y=s.getSouthWest(),S=s.getNorthEast(),N=S.lat>=c.lat&&y.lat<=h.lat,F=S.lng>=c.lng&&y.lng<=h.lng;return N&&F},overlaps:function(s){s=ie(s);var c=this._southWest,h=this._northEast,y=s.getSouthWest(),S=s.getNorthEast(),N=S.lat>c.lat&&y.lat<h.lat,F=S.lng>c.lng&&y.lng<h.lng;return N&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,c){return s?(s=ie(s),this._southWest.equals(s.getSouthWest(),c)&&this._northEast.equals(s.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ie(s,c){return s instanceof Q?s:new Q(s,c)}function ce(s,c,h){if(isNaN(s)||isNaN(c))throw new Error("Invalid LatLng object: ("+s+", "+c+")");this.lat=+s,this.lng=+c,h!==void 0&&(this.alt=+h)}ce.prototype={equals:function(s,c){if(!s)return!1;s=ae(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(c===void 0?1e-9:c)},toString:function(s){return"LatLng("+b(this.lat,s)+", "+b(this.lng,s)+")"},distanceTo:function(s){return xe.distance(this,ae(s))},wrap:function(){return xe.wrapLatLng(this)},toBounds:function(s){var c=180*s/40075017,h=c/Math.cos(Math.PI/180*this.lat);return ie([this.lat-c,this.lng-h],[this.lat+c,this.lng+h])},clone:function(){return new ce(this.lat,this.lng,this.alt)}};function ae(s,c,h){return s instanceof ce?s:E(s)&&typeof s[0]!="object"?s.length===3?new ce(s[0],s[1],s[2]):s.length===2?new ce(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ce(s.lat,"lng"in s?s.lng:s.lon,s.alt):c===void 0?null:new ce(s,c,h)}var oe={latLngToPoint:function(s,c){var h=this.projection.project(s),y=this.scale(c);return this.transformation._transform(h,y)},pointToLatLng:function(s,c){var h=this.scale(c),y=this.transformation.untransform(s,h);return this.projection.unproject(y)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var c=this.projection.bounds,h=this.scale(s),y=this.transformation.transform(c.min,h),S=this.transformation.transform(c.max,h);return new se(y,S)},infinite:!1,wrapLatLng:function(s){var c=this.wrapLng?m(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?m(s.lat,this.wrapLat,!0):s.lat,y=s.alt;return new ce(h,c,y)},wrapLatLngBounds:function(s){var c=s.getCenter(),h=this.wrapLatLng(c),y=c.lat-h.lat,S=c.lng-h.lng;if(y===0&&S===0)return s;var N=s.getSouthWest(),F=s.getNorthEast(),q=new ce(N.lat-y,N.lng-S),ee=new ce(F.lat-y,F.lng-S);return new Q(q,ee)}},xe=i({},oe,{wrapLng:[-180,180],R:6371e3,distance:function(s,c){var h=Math.PI/180,y=s.lat*h,S=c.lat*h,N=Math.sin((c.lat-s.lat)*h/2),F=Math.sin((c.lng-s.lng)*h/2),q=N*N+Math.cos(y)*Math.cos(S)*F*F,ee=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*ee}}),Ee=6378137,Re={R:Ee,MAX_LATITUDE:85.0511287798,project:function(s){var c=Math.PI/180,h=this.MAX_LATITUDE,y=Math.max(Math.min(h,s.lat),-h),S=Math.sin(y*c);return new $(this.R*s.lng*c,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(s){var c=180/Math.PI;return new ce((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*c,s.x*c/this.R)},bounds:function(){var s=Ee*Math.PI;return new se([-s,-s],[s,s])}()};function Te(s,c,h,y){if(E(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=c,this._c=h,this._d=y}Te.prototype={transform:function(s,c){return this._transform(s.clone(),c)},_transform:function(s,c){return c=c||1,s.x=c*(this._a*s.x+this._b),s.y=c*(this._c*s.y+this._d),s},untransform:function(s,c){return c=c||1,new $((s.x/c-this._b)/this._a,(s.y/c-this._d)/this._c)}};function Ce(s,c,h,y){return new Te(s,c,h,y)}var Ze=i({},xe,{code:"EPSG:3857",projection:Re,transformation:function(){var s=.5/(Math.PI*Re.R);return Ce(s,.5,-s,.5)}()}),lt=i({},Ze,{code:"EPSG:900913"});function xt(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function $t(s,c){var h="",y,S,N,F,q,ee;for(y=0,N=s.length;y<N;y++){for(q=s[y],S=0,F=q.length;S<F;S++)ee=q[S],h+=(S?"L":"M")+ee.x+" "+ee.y;h+=c?je.svg?"z":"x":""}return h||"M0 0"}var Lt=document.documentElement.style,kt="ActiveXObject"in window,Nt=kt&&!document.addEventListener,Ur="msLaunchUri"in navigator&&!("documentMode"in document),jn=On("webkit"),pi=On("android"),Mn=On("android 2")||On("android 3"),Fs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Vs=pi&&On("Google")&&Fs<537&&!("AudioNode"in window),zt=!!window.opera,zn=!Ur&&On("chrome"),qi=On("gecko")&&!jn&&!zt&&!kt,Bs=!zn&&On("safari"),br=On("phantom"),Xi="OTransition"in Lt,Ji=navigator.platform.indexOf("Win")===0,Hr=kt&&"transition"in Lt,bn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Mn,Qi="MozPerspective"in Lt,_r=!window.L_DISABLE_3D&&(Hr||bn||Qi)&&!Xi&&!br,er=typeof orientation<"u"||On("mobile"),$s=er&&jn,zs=er&&bn,_n=!window.PointerEvent&&window.MSPointerEvent,Ws=!!(window.PointerEvent||_n),gi="ontouchstart"in window||!!window.TouchEvent,Rn=!window.L_NO_TOUCH&&(gi||Ws),na=er&&zt,Ue=er&&qi,ot=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,vt=function(){var s=!1;try{var c=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",g,c),window.removeEventListener("testPassiveEventSupport",g,c)}catch{}return s}(),ln=function(){return!!document.createElement("canvas").getContext}(),Zt=!!(document.createElementNS&&xt("svg").createSVGRect),Wn=!!Zt&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),tr=!Zt&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var c=s.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),cn=navigator.platform.indexOf("Mac")===0,Un=navigator.platform.indexOf("Linux")===0;function On(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var je={ie:kt,ielt9:Nt,edge:Ur,webkit:jn,android:pi,android23:Mn,androidStock:Vs,opera:zt,chrome:zn,gecko:qi,safari:Bs,phantom:br,opera12:Xi,win:Ji,ie3d:Hr,webkit3d:bn,gecko3d:Qi,any3d:_r,mobile:er,mobileWebkit:$s,mobileWebkit3d:zs,msPointer:_n,pointer:Ws,touch:Rn,touchNative:gi,mobileOpera:na,mobileGecko:Ue,retina:ot,passiveEvents:vt,canvas:ln,svg:Zt,vml:tr,inlineSvg:Wn,mac:cn,linux:Un},kl=je.msPointer?"MSPointerDown":"pointerdown",Al=je.msPointer?"MSPointerMove":"pointermove",Il=je.msPointer?"MSPointerUp":"pointerup",Dl=je.msPointer?"MSPointerCancel":"pointercancel",ra={touchstart:kl,touchmove:Al,touchend:Il,touchcancel:Dl},Ll={touchstart:ts,touchmove:es,touchend:es,touchcancel:es},vi={},Fl=!1;function fd(s,c,h){return c==="touchstart"&&gd(),Ll[c]?(h=Ll[c].bind(this,h),s.addEventListener(ra[c],h,!1),h):(console.warn("wrong event specified:",c),g)}function hd(s,c,h){if(!ra[c]){console.warn("wrong event specified:",c);return}s.removeEventListener(ra[c],h,!1)}function md(s){vi[s.pointerId]=s}function pd(s){vi[s.pointerId]&&(vi[s.pointerId]=s)}function Vl(s){delete vi[s.pointerId]}function gd(){Fl||(document.addEventListener(kl,md,!0),document.addEventListener(Al,pd,!0),document.addEventListener(Il,Vl,!0),document.addEventListener(Dl,Vl,!0),Fl=!0)}function es(s,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var h in vi)c.touches.push(vi[h]);c.changedTouches=[c],s(c)}}function ts(s,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Gt(c),es(s,c)}function Bl(s){var c={},h,y;for(y in s)h=s[y],c[y]=h&&h.bind?h.bind(s):h;return s=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var yi=200;function vd(s,c){s.addEventListener("dblclick",c);var h=0,y;function S(N){if(N.detail!==1){y=N.detail;return}if(!(N.pointerType==="mouse"||N.sourceCapabilities&&!N.sourceCapabilities.firesTouchEvents)){var F=Hp(N);if(!(F.some(function(ee){return ee instanceof HTMLLabelElement&&ee.attributes.for})&&!F.some(function(ee){return ee instanceof HTMLInputElement||ee instanceof HTMLSelectElement}))){var q=Date.now();q-h<=yi?(y++,y===2&&c(Bl(N))):y=1,h=q}}}return s.addEventListener("click",S),{dblclick:c,simDblclick:S}}function Us(s,c){s.removeEventListener("dblclick",c.dblclick),s.removeEventListener("click",c.simDblclick)}var ns=Se(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rs=Se(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),$l=rs==="webkitTransition"||rs==="OTransition"?rs+"End":"transitionend";function Hs(s){return typeof s=="string"?document.getElementById(s):s}function is(s,c){var h=s.style[c]||s.currentStyle&&s.currentStyle[c];if((!h||h==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(s,null);h=y?y[c]:null}return h==="auto"?null:h}function tt(s,c,h){var y=document.createElement(s);return y.className=c||"",h&&h.appendChild(y),y}function j(s){var c=s.parentNode;c&&c.removeChild(s)}function B(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function O(s){var c=s.parentNode;c&&c.lastChild!==s&&c.appendChild(s)}function W(s){var c=s.parentNode;c&&c.firstChild!==s&&c.insertBefore(s,c.firstChild)}function Z(s,c){if(s.classList!==void 0)return s.classList.contains(c);var h=pe(s);return h.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(h)}function D(s,c){if(s.classList!==void 0)for(var h=w(c),y=0,S=h.length;y<S;y++)s.classList.add(h[y]);else if(!Z(s,c)){var N=pe(s);de(s,(N?N+" ":"")+c)}}function te(s,c){s.classList!==void 0?s.classList.remove(c):de(s,x((" "+pe(s)+" ").replace(" "+c+" "," ")))}function de(s,c){s.className.baseVal===void 0?s.className=c:s.className.baseVal=c}function pe(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function fe(s,c){"opacity"in s.style?s.style.opacity=c:"filter"in s.style&&ve(s,c)}function ve(s,c){var h=!1,y="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(y)}catch{if(c===1)return}c=Math.round(c*100),h?(h.Enabled=c!==100,h.Opacity=c):s.style.filter+=" progid:"+y+"(opacity="+c+")"}function Se(s){for(var c=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in c)return s[h];return!1}function He(s,c,h){var y=c||new $(0,0);s.style[ns]=(je.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(h?" scale("+h+")":"")}function Ie(s,c){s._leaflet_pos=c,je.any3d?He(s,c):(s.style.left=c.x+"px",s.style.top=c.y+"px")}function et(s){return s._leaflet_pos||new $(0,0)}var bt,yt,Jt;if("onselectstart"in document)bt=function(){Ge(window,"selectstart",Gt)},yt=function(){_t(window,"selectstart",Gt)};else{var nr=Se(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);bt=function(){if(nr){var s=document.documentElement.style;Jt=s[nr],s[nr]="none"}},yt=function(){nr&&(document.documentElement.style[nr]=Jt,Jt=void 0)}}function ss(){Ge(window,"dragstart",Gt)}function ia(){_t(window,"dragstart",Gt)}var xi,zl;function sa(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Zs(),xi=s,zl=s.style.outlineStyle,s.style.outlineStyle="none",Ge(window,"keydown",Zs))}function Zs(){xi&&(xi.style.outlineStyle=zl,xi=void 0,zl=void 0,_t(window,"keydown",Zs))}function oa(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function yd(s){var c=s.getBoundingClientRect();return{x:c.width/s.offsetWidth||1,y:c.height/s.offsetHeight||1,boundingClientRect:c}}var RE={__proto__:null,TRANSFORM:ns,TRANSITION:rs,TRANSITION_END:$l,get:Hs,getStyle:is,create:tt,remove:j,empty:B,toFront:O,toBack:W,hasClass:Z,addClass:D,removeClass:te,setClass:de,getClass:pe,setOpacity:fe,testProp:Se,setTransform:He,setPosition:Ie,getPosition:et,get disableTextSelection(){return bt},get enableTextSelection(){return yt},disableImageDrag:ss,enableImageDrag:ia,preventOutline:sa,restoreOutline:Zs,getSizedParentNode:oa,getScale:yd};function Ge(s,c,h,y){if(c&&typeof c=="object")for(var S in c)bd(s,S,c[S],h);else{c=w(c);for(var N=0,F=c.length;N<F;N++)bd(s,c[N],h,y)}return this}var wr="_leaflet_events";function _t(s,c,h,y){if(arguments.length===1)Up(s),delete s[wr];else if(c&&typeof c=="object")for(var S in c)_d(s,S,c[S],h);else if(c=w(c),arguments.length===2)Up(s,function(q){return M(c,q)!==-1});else for(var N=0,F=c.length;N<F;N++)_d(s,c[N],h,y);return this}function Up(s,c){for(var h in s[wr]){var y=h.split(/\d/)[0];(!c||c(y))&&_d(s,y,null,null,h)}}var xd={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function bd(s,c,h,y){var S=c+d(h)+(y?"_"+d(y):"");if(s[wr]&&s[wr][S])return this;var N=function(q){return h.call(y||s,q||window.event)},F=N;!je.touchNative&&je.pointer&&c.indexOf("touch")===0?N=fd(s,c,N):je.touch&&c==="dblclick"?N=vd(s,N):"addEventListener"in s?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?s.addEventListener(xd[c]||c,N,je.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(N=function(q){q=q||window.event,Sd(s,q)&&F(q)},s.addEventListener(xd[c],N,!1)):s.addEventListener(c,F,!1):s.attachEvent("on"+c,N),s[wr]=s[wr]||{},s[wr][S]=N}function _d(s,c,h,y,S){S=S||c+d(h)+(y?"_"+d(y):"");var N=s[wr]&&s[wr][S];if(!N)return this;!je.touchNative&&je.pointer&&c.indexOf("touch")===0?hd(s,c,N):je.touch&&c==="dblclick"?Us(s,N):"removeEventListener"in s?s.removeEventListener(xd[c]||c,N,!1):s.detachEvent("on"+c,N),s[wr][S]=null}function os(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function wd(s){return bd(s,"wheel",os),this}function aa(s){return Ge(s,"mousedown touchstart dblclick contextmenu",os),s._leaflet_disable_click=!0,this}function Gt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function as(s){return Gt(s),os(s),this}function Hp(s){if(s.composedPath)return s.composedPath();for(var c=[],h=s.target;h;)c.push(h),h=h.parentNode;return c}function Zp(s,c){if(!c)return new $(s.clientX,s.clientY);var h=yd(c),y=h.boundingClientRect;return new $((s.clientX-y.left)/h.x-c.clientLeft,(s.clientY-y.top)/h.y-c.clientTop)}var OE=je.linux&&je.chrome?window.devicePixelRatio:je.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Gp(s){return je.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/OE:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Sd(s,c){var h=c.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var kE={__proto__:null,on:Ge,off:_t,stopPropagation:os,disableScrollPropagation:wd,disableClickPropagation:aa,preventDefault:Gt,stop:as,getPropagationPath:Hp,getMousePosition:Zp,getWheelDelta:Gp,isExternalTarget:Sd,addListener:Ge,removeListener:_t},Yp=G.extend({run:function(s,c,h,y){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=et(s),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=re(this._animate,this),this._step()},_step:function(s){var c=+new Date-this._startTime,h=this._duration*1e3;c<h?this._runFrame(this._easeOut(c/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,c){var h=this._startPos.add(this._offset.multiplyBy(s));c&&h._round(),Ie(this._el,h),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),nt=G.extend({options:{crs:Ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,c){c=v(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(ae(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rs&&je.any3d&&!je.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ge(this._proxy,$l,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,c,h){if(c=c===void 0?this._zoom:this._limitZoom(c),s=this._limitCenter(ae(s),c,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=i({animate:h.animate},h.zoom),h.pan=i({animate:h.animate,duration:h.duration},h.pan));var y=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,c,h.zoom):this._tryAnimatedPan(s,h.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(s,c,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,c){return this._loaded?this.setView(this.getCenter(),s,{zoom:c}):(this._zoom=s,this)},zoomIn:function(s,c){return s=s||(je.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,c)},zoomOut:function(s,c){return s=s||(je.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,c)},setZoomAround:function(s,c,h){var y=this.getZoomScale(c),S=this.getSize().divideBy(2),N=s instanceof $?s:this.latLngToContainerPoint(s),F=N.subtract(S).multiplyBy(1-1/y),q=this.containerPointToLatLng(S.add(F));return this.setView(q,c,{zoom:h})},_getBoundsCenterZoom:function(s,c){c=c||{},s=s.getBounds?s.getBounds():ie(s);var h=Y(c.paddingTopLeft||c.padding||[0,0]),y=Y(c.paddingBottomRight||c.padding||[0,0]),S=this.getBoundsZoom(s,!1,h.add(y));if(S=typeof c.maxZoom=="number"?Math.min(c.maxZoom,S):S,S===1/0)return{center:s.getCenter(),zoom:S};var N=y.subtract(h).divideBy(2),F=this.project(s.getSouthWest(),S),q=this.project(s.getNorthEast(),S),ee=this.unproject(F.add(q).divideBy(2).add(N),S);return{center:ee,zoom:S}},fitBounds:function(s,c){if(s=ie(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,c);return this.setView(h.center,h.zoom,c)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,c){return this.setView(s,this._zoom,{pan:c})},panBy:function(s,c){if(s=Y(s).round(),c=c||{},!s.x&&!s.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Yp,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){D(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,c.duration||.25,c.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,c,h){if(h=h||{},h.animate===!1||!je.any3d)return this.setView(s,c,h);this._stop();var y=this.project(this.getCenter()),S=this.project(s),N=this.getSize(),F=this._zoom;s=ae(s),c=c===void 0?F:c;var q=Math.max(N.x,N.y),ee=q*this.getZoomScale(F,c),ue=S.distanceTo(y)||1,_e=1.42,De=_e*_e;function Qe(Ft){var ec=Ft?-1:1,_T=Ft?ee:q,wT=ee*ee-q*q+ec*De*De*ue*ue,ST=2*_T*De*ue,Ad=wT/ST,Ng=Math.sqrt(Ad*Ad+1)-Ad,CT=Ng<1e-9?-18:Math.log(Ng);return CT}function un(Ft){return(Math.exp(Ft)-Math.exp(-Ft))/2}function Ut(Ft){return(Math.exp(Ft)+Math.exp(-Ft))/2}function Zn(Ft){return un(Ft)/Ut(Ft)}var wn=Qe(0);function Js(Ft){return q*(Ut(wn)/Ut(wn+_e*Ft))}function vT(Ft){return q*(Ut(wn)*Zn(wn+_e*Ft)-un(wn))/De}function yT(Ft){return 1-Math.pow(1-Ft,1.5)}var xT=Date.now(),Eg=(Qe(1)-wn)/_e,bT=h.duration?1e3*h.duration:1e3*Eg*.8;function Tg(){var Ft=(Date.now()-xT)/bT,ec=yT(Ft)*Eg;Ft<=1?(this._flyToFrame=re(Tg,this),this._move(this.unproject(y.add(S.subtract(y).multiplyBy(vT(ec)/ue)),F),this.getScaleZoom(q/Js(ec),F),{flyTo:!0})):this._move(s,c)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Tg.call(this),this},flyToBounds:function(s,c){var h=this._getBoundsCenterZoom(s,c);return this.flyTo(h.center,h.zoom,c)},setMaxBounds:function(s){return s=ie(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var c=this.options.minZoom;return this.options.minZoom=s,this._loaded&&c!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var c=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&c!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,c){this._enforcingBounds=!0;var h=this.getCenter(),y=this._limitCenter(h,this._zoom,ie(s));return h.equals(y)||this.panTo(y,c),this._enforcingBounds=!1,this},panInside:function(s,c){c=c||{};var h=Y(c.paddingTopLeft||c.padding||[0,0]),y=Y(c.paddingBottomRight||c.padding||[0,0]),S=this.project(this.getCenter()),N=this.project(s),F=this.getPixelBounds(),q=I([F.min.add(h),F.max.subtract(y)]),ee=q.getSize();if(!q.contains(N)){this._enforcingBounds=!0;var ue=N.subtract(q.getCenter()),_e=q.extend(N).getSize().subtract(ee);S.x+=ue.x<0?-_e.x:_e.x,S.y+=ue.y<0?-_e.y:_e.y,this.panTo(this.unproject(S),c),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=i({animate:!1,pan:!0},s===!0?{animate:!0}:s);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),y=c.divideBy(2).round(),S=h.divideBy(2).round(),N=y.subtract(S);return!N.x&&!N.y?this:(s.animate&&s.pan?this.panBy(N):(s.pan&&this._rawPanBy(N),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=i({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=a(this._handleGeolocationResponse,this),h=a(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,h,s):navigator.geolocation.getCurrentPosition(c,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var c=s.code,h=s.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var c=s.coords.latitude,h=s.coords.longitude,y=new ce(c,h),S=y.toBounds(s.coords.accuracy*2),N=this._locateOptions;if(N.setView){var F=this.getBoundsZoom(S);this.setView(y,N.maxZoom?Math.min(F,N.maxZoom):F)}var q={latlng:y,bounds:S,timestamp:s.timestamp};for(var ee in s.coords)typeof s.coords[ee]=="number"&&(q[ee]=s.coords[ee]);this.fire("locationfound",q)}},addHandler:function(s,c){if(!c)return this;var h=this[s]=new c(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),j(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)j(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,c){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),y=tt("div",h,c||this._mapPane);return s&&(this._panes[s]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),c=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new Q(c,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,c,h){s=ie(s),h=Y(h||[0,0]);var y=this.getZoom()||0,S=this.getMinZoom(),N=this.getMaxZoom(),F=s.getNorthWest(),q=s.getSouthEast(),ee=this.getSize().subtract(h),ue=I(this.project(q,y),this.project(F,y)).getSize(),_e=je.any3d?this.options.zoomSnap:1,De=ee.x/ue.x,Qe=ee.y/ue.y,un=c?Math.max(De,Qe):Math.min(De,Qe);return y=this.getScaleZoom(un,y),_e&&(y=Math.round(y/(_e/100))*(_e/100),y=c?Math.ceil(y/_e)*_e:Math.floor(y/_e)*_e),Math.max(S,Math.min(N,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,c){var h=this._getTopLeftPoint(s,c);return new se(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,c){var h=this.options.crs;return c=c===void 0?this._zoom:c,h.scale(s)/h.scale(c)},getScaleZoom:function(s,c){var h=this.options.crs;c=c===void 0?this._zoom:c;var y=h.zoom(s*h.scale(c));return isNaN(y)?1/0:y},project:function(s,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(ae(s),c)},unproject:function(s,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(Y(s),c)},layerPointToLatLng:function(s){var c=Y(s).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(s){var c=this.project(ae(s))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ae(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(ie(s))},distance:function(s,c){return this.options.crs.distance(ae(s),ae(c))},containerPointToLayerPoint:function(s){return Y(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return Y(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var c=this.containerPointToLayerPoint(Y(s));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ae(s)))},mouseEventToContainerPoint:function(s){return Zp(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var c=this._container=Hs(s);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ge(c,"scroll",this._onScroll,this),this._containerId=d(c)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&je.any3d,D(s,"leaflet-container"+(je.touch?" leaflet-touch":"")+(je.retina?" leaflet-retina":"")+(je.ielt9?" leaflet-oldie":"")+(je.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=is(s,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ie(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(D(s.markerPane,"leaflet-zoom-hide"),D(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,c,h){Ie(this._mapPane,new $(0,0));var y=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var S=this._zoom!==c;this._moveStart(S,h)._move(s,c)._moveEnd(S),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(s,c){return s&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(s,c,h,y){c===void 0&&(c=this._zoom);var S=this._zoom!==c;return this._zoom=c,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),y?h&&h.pinch&&this.fire("zoom",h):((S||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Ie(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[d(this._container)]=this;var c=s?_t:Ge;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),je.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=re(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,c){for(var h=[],y,S=c==="mouseout"||c==="mouseover",N=s.target||s.srcElement,F=!1;N;){if(y=this._targets[d(N)],y&&(c==="click"||c==="preclick")&&this._draggableMoved(y)){F=!0;break}if(y&&y.listens(c,!0)&&(S&&!Sd(N,s)||(h.push(y),S))||N===this._container)break;N=N.parentNode}return!h.length&&!F&&!S&&this.listens(c,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var c=s.target||s.srcElement;if(!(!this._loaded||c._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(c))){var h=s.type;h==="mousedown"&&sa(c),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,c,h){if(s.type==="click"){var y=i({},s);y.type="preclick",this._fireDOMEvent(y,y.type,h)}var S=this._findEventTargets(s,c);if(h){for(var N=[],F=0;F<h.length;F++)h[F].listens(c,!0)&&N.push(h[F]);S=N.concat(S)}if(S.length){c==="contextmenu"&&Gt(s);var q=S[0],ee={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var ue=q.getLatLng&&(!q._radius||q._radius<=10);ee.containerPoint=ue?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(s),ee.layerPoint=this.containerPointToLayerPoint(ee.containerPoint),ee.latlng=ue?q.getLatLng():this.layerPointToLatLng(ee.layerPoint)}for(F=0;F<S.length;F++)if(S[F].fire(c,ee,!0),ee.originalEvent._stopped||S[F].options.bubblingMouseEvents===!1&&M(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,c=this._handlers.length;s<c;s++)this._handlers[s].disable()},whenReady:function(s,c){return this._loaded?s.call(c||this,{target:this}):this.on("load",s,c),this},_getMapPanePos:function(){return et(this._mapPane)||new $(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,c){var h=s&&c!==void 0?this._getNewPixelOrigin(s,c):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,c){var h=this.getSize()._divideBy(2);return this.project(s,c)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,c,h){var y=this._getNewPixelOrigin(h,c);return this.project(s,c)._subtract(y)},_latLngBoundsToNewLayerBounds:function(s,c,h){var y=this._getNewPixelOrigin(h,c);return I([this.project(s.getSouthWest(),c)._subtract(y),this.project(s.getNorthWest(),c)._subtract(y),this.project(s.getSouthEast(),c)._subtract(y),this.project(s.getNorthEast(),c)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,c,h){if(!h)return s;var y=this.project(s,c),S=this.getSize().divideBy(2),N=new se(y.subtract(S),y.add(S)),F=this._getBoundsOffset(N,h,c);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?s:this.unproject(y.add(F),c)},_limitOffset:function(s,c){if(!c)return s;var h=this.getPixelBounds(),y=new se(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(y,c))},_getBoundsOffset:function(s,c,h){var y=I(this.project(c.getNorthEast(),h),this.project(c.getSouthWest(),h)),S=y.min.subtract(s.min),N=y.max.subtract(s.max),F=this._rebound(S.x,-N.x),q=this._rebound(S.y,-N.y);return new $(F,q)},_rebound:function(s,c){return s+c>0?Math.round(s-c)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(c))},_limitZoom:function(s){var c=this.getMinZoom(),h=this.getMaxZoom(),y=je.any3d?this.options.zoomSnap:1;return y&&(s=Math.round(s/y)*y),Math.max(c,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){te(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,c){var h=this._getCenterOffset(s)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,c),!0)},_createAnimProxy:function(){var s=this._proxy=tt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(c){var h=ns,y=this._proxy.style[h];He(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),y===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){j(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),c=this.getZoom();He(this._proxy,this.project(s,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,c,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(c),S=this._getCenterOffset(s)._divideBy(1-1/y);return h.animate!==!0&&!this.getSize().contains(S)?!1:(re(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,c,!0)},this),!0)},_animateZoom:function(s,c,h,y){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=c,D(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:c,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&te(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function AE(s,c){return new nt(s,c)}var rr=J.extend({options:{position:"topright"},initialize:function(s){v(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var c=this._map;return c&&c.removeControl(this),this.options.position=s,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var c=this._container=this.onAdd(s),h=this.getPosition(),y=s._controlCorners[h];return D(c,"leaflet-control"),h.indexOf("bottom")!==-1?y.insertBefore(c,y.firstChild):y.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(j(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),la=function(s){return new rr(s)};nt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},c="leaflet-",h=this._controlContainer=tt("div",c+"control-container",this._container);function y(S,N){var F=c+S+" "+c+N;s[S+N]=tt("div",F,h)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)j(this._controlCorners[s]);j(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Kp=rr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,c,h,y){return h<y?-1:y<h?1:0}},initialize:function(s,c,h){v(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in s)this._addLayer(s[y],y);for(y in c)this._addLayer(c[y],y,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return rr.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,c){return this._addLayer(s,c),this._map?this._update():this},addOverlay:function(s,c){return this._addLayer(s,c,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var c=this._getLayer(d(s));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){D(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(D(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):te(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return te(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",c=this._container=tt("div",s),h=this.options.collapsed;c.setAttribute("aria-haspopup",!0),aa(c),wd(c);var y=this._section=tt("section",s+"-list");h&&(this._map.on("click",this.collapse,this),Ge(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=tt("a",s+"-toggle",c);S.href="#",S.title="Layers",S.setAttribute("role","button"),Ge(S,{keydown:function(N){N.keyCode===13&&this._expandSafely()},click:function(N){Gt(N),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=tt("div",s+"-base",y),this._separator=tt("div",s+"-separator",y),this._overlaysList=tt("div",s+"-overlays",y),c.appendChild(y)},_getLayer:function(s){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&d(this._layers[c].layer)===s)return this._layers[c]},_addLayer:function(s,c,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:c,overlay:h}),this.options.sortLayers&&this._layers.sort(a(function(y,S){return this.options.sortFunction(y.layer,S.layer,y.name,S.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;B(this._baseLayersList),B(this._overlaysList),this._layerControlInputs=[];var s,c,h,y,S=0;for(h=0;h<this._layers.length;h++)y=this._layers[h],this._addItem(y),c=c||y.overlay,s=s||!y.overlay,S+=y.overlay?0:1;return this.options.hideSingleBase&&(s=s&&S>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=c&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var c=this._getLayer(d(s.target)),h=c.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,c)},_createRadioElement:function(s,c){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(c?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=h,y.firstChild},_addItem:function(s){var c=document.createElement("label"),h=this._map.hasLayer(s.layer),y;s.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=h):y=this._createRadioElement("leaflet-base-layers_"+d(this),h),this._layerControlInputs.push(y),y.layerId=d(s.layer),Ge(y,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+s.name;var N=document.createElement("span");c.appendChild(N),N.appendChild(y),N.appendChild(S);var F=s.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,c,h,y=[],S=[];this._handlingClick=!0;for(var N=s.length-1;N>=0;N--)c=s[N],h=this._getLayer(c.layerId).layer,c.checked?y.push(h):c.checked||S.push(h);for(N=0;N<S.length;N++)this._map.hasLayer(S[N])&&this._map.removeLayer(S[N]);for(N=0;N<y.length;N++)this._map.hasLayer(y[N])||this._map.addLayer(y[N]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,c,h,y=this._map.getZoom(),S=s.length-1;S>=0;S--)c=s[S],h=this._getLayer(c.layerId).layer,c.disabled=h.options.minZoom!==void 0&&y<h.options.minZoom||h.options.maxZoom!==void 0&&y>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Ge(s,"click",Gt),this.expand();var c=this;setTimeout(function(){_t(s,"click",Gt),c._preventClick=!1})}}),IE=function(s,c,h){return new Kp(s,c,h)},Cd=rr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var c="leaflet-control-zoom",h=tt("div",c+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,c+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,c+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,c,h,y,S){var N=tt("a",h,y);return N.innerHTML=s,N.href="#",N.title=c,N.setAttribute("role","button"),N.setAttribute("aria-label",c),aa(N),Ge(N,"click",as),Ge(N,"click",S,this),Ge(N,"click",this._refocusOnMap,this),N},_updateDisabled:function(){var s=this._map,c="leaflet-disabled";te(this._zoomInButton,c),te(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(D(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(D(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});nt.mergeOptions({zoomControl:!0}),nt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Cd,this.addControl(this.zoomControl))});var DE=function(s){return new Cd(s)},qp=rr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var c="leaflet-control-scale",h=tt("div",c),y=this.options;return this._addScales(y,c+"-line",h),s.on(y.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,c,h){s.metric&&(this._mScale=tt("div",c,h)),s.imperial&&(this._iScale=tt("div",c,h))},_update:function(){var s=this._map,c=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,c]),s.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var c=this._getRoundNum(s),h=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,h,c/s)},_updateImperial:function(s){var c=s*3.2808399,h,y,S;c>5280?(h=c/5280,y=this._getRoundNum(h),this._updateScale(this._iScale,y+" mi",y/h)):(S=this._getRoundNum(c),this._updateScale(this._iScale,S+" ft",S/c))},_updateScale:function(s,c,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=c},_getRoundNum:function(s){var c=Math.pow(10,(Math.floor(s)+"").length-1),h=s/c;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,c*h}}),LE=function(s){return new qp(s)},FE='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Pd=rr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(je.inlineSvg?FE+" ":"")+"Leaflet</a>"},initialize:function(s){v(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=tt("div","leaflet-control-attribution"),aa(this._container);for(var c in s._layers)s._layers[c].getAttribution&&this.addAttribution(s._layers[c].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var c in this._attributions)this._attributions[c]&&s.push(c);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});nt.mergeOptions({attributionControl:!0}),nt.addInitHook(function(){this.options.attributionControl&&new Pd().addTo(this)});var VE=function(s){return new Pd(s)};rr.Layers=Kp,rr.Zoom=Cd,rr.Scale=qp,rr.Attribution=Pd,la.layers=IE,la.zoom=DE,la.scale=LE,la.attribution=VE;var Sr=J.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Sr.addTo=function(s,c){return s.addHandler(c,this),this};var BE={Events:K},Xp=je.touch?"touchstart mousedown":"mousedown",bi=G.extend({options:{clickTolerance:3},initialize:function(s,c,h,y){v(this,y),this._element=s,this._dragStartTarget=c||s,this._preventOutline=h},enable:function(){this._enabled||(Ge(this._dragStartTarget,Xp,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(bi._dragging===this&&this.finishDrag(!0),_t(this._dragStartTarget,Xp,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Z(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){bi._dragging===this&&this.finishDrag();return}if(!(bi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(bi._dragging=this,this._preventOutline&&sa(this._element),ss(),bt(),!this._moving)){this.fire("down");var c=s.touches?s.touches[0]:s,h=oa(this._element);this._startPoint=new $(c.clientX,c.clientY),this._startPos=et(this._element),this._parentScale=yd(h);var y=s.type==="mousedown";Ge(document,y?"mousemove":"touchmove",this._onMove,this),Ge(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var c=s.touches&&s.touches.length===1?s.touches[0]:s,h=new $(c.clientX,c.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Gt(s),this._moved||(this.fire("dragstart"),this._moved=!0,D(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),D(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Ie(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){te(document.body,"leaflet-dragging"),this._lastTarget&&(te(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_t(document,"mousemove touchmove",this._onMove,this),_t(document,"mouseup touchend touchcancel",this._onUp,this),ia(),yt();var c=this._moved&&this._moving;this._moving=!1,bi._dragging=!1,c&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Jp(s,c,h){var y,S=[1,4,2,8],N,F,q,ee,ue,_e,De,Qe;for(N=0,_e=s.length;N<_e;N++)s[N]._code=ls(s[N],c);for(q=0;q<4;q++){for(De=S[q],y=[],N=0,_e=s.length,F=_e-1;N<_e;F=N++)ee=s[N],ue=s[F],ee._code&De?ue._code&De||(Qe=Wl(ue,ee,De,c,h),Qe._code=ls(Qe,c),y.push(Qe)):(ue._code&De&&(Qe=Wl(ue,ee,De,c,h),Qe._code=ls(Qe,c),y.push(Qe)),y.push(ee));s=y}return s}function Qp(s,c){var h,y,S,N,F,q,ee,ue,_e;if(!s||s.length===0)throw new Error("latlngs not passed");Hn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var De=ae([0,0]),Qe=ie(s),un=Qe.getNorthWest().distanceTo(Qe.getSouthWest())*Qe.getNorthEast().distanceTo(Qe.getNorthWest());un<1700&&(De=Ed(s));var Ut=s.length,Zn=[];for(h=0;h<Ut;h++){var wn=ae(s[h]);Zn.push(c.project(ae([wn.lat-De.lat,wn.lng-De.lng])))}for(q=ee=ue=0,h=0,y=Ut-1;h<Ut;y=h++)S=Zn[h],N=Zn[y],F=S.y*N.x-N.y*S.x,ee+=(S.x+N.x)*F,ue+=(S.y+N.y)*F,q+=F*3;q===0?_e=Zn[0]:_e=[ee/q,ue/q];var Js=c.unproject(Y(_e));return ae([Js.lat+De.lat,Js.lng+De.lng])}function Ed(s){for(var c=0,h=0,y=0,S=0;S<s.length;S++){var N=ae(s[S]);c+=N.lat,h+=N.lng,y++}return ae([c/y,h/y])}var $E={__proto__:null,clipPolygon:Jp,polygonCenter:Qp,centroid:Ed};function eg(s,c){if(!c||!s.length)return s.slice();var h=c*c;return s=UE(s,h),s=WE(s,h),s}function tg(s,c,h){return Math.sqrt(ca(s,c,h,!0))}function zE(s,c,h){return ca(s,c,h)}function WE(s,c){var h=s.length,y=typeof Uint8Array<"u"?Uint8Array:Array,S=new y(h);S[0]=S[h-1]=1,Td(s,S,c,0,h-1);var N,F=[];for(N=0;N<h;N++)S[N]&&F.push(s[N]);return F}function Td(s,c,h,y,S){var N=0,F,q,ee;for(q=y+1;q<=S-1;q++)ee=ca(s[q],s[y],s[S],!0),ee>N&&(F=q,N=ee);N>h&&(c[F]=1,Td(s,c,h,y,F),Td(s,c,h,F,S))}function UE(s,c){for(var h=[s[0]],y=1,S=0,N=s.length;y<N;y++)HE(s[y],s[S])>c&&(h.push(s[y]),S=y);return S<N-1&&h.push(s[N-1]),h}var ng;function rg(s,c,h,y,S){var N=y?ng:ls(s,h),F=ls(c,h),q,ee,ue;for(ng=F;;){if(!(N|F))return[s,c];if(N&F)return!1;q=N||F,ee=Wl(s,c,q,h,S),ue=ls(ee,h),q===N?(s=ee,N=ue):(c=ee,F=ue)}}function Wl(s,c,h,y,S){var N=c.x-s.x,F=c.y-s.y,q=y.min,ee=y.max,ue,_e;return h&8?(ue=s.x+N*(ee.y-s.y)/F,_e=ee.y):h&4?(ue=s.x+N*(q.y-s.y)/F,_e=q.y):h&2?(ue=ee.x,_e=s.y+F*(ee.x-s.x)/N):h&1&&(ue=q.x,_e=s.y+F*(q.x-s.x)/N),new $(ue,_e,S)}function ls(s,c){var h=0;return s.x<c.min.x?h|=1:s.x>c.max.x&&(h|=2),s.y<c.min.y?h|=4:s.y>c.max.y&&(h|=8),h}function HE(s,c){var h=c.x-s.x,y=c.y-s.y;return h*h+y*y}function ca(s,c,h,y){var S=c.x,N=c.y,F=h.x-S,q=h.y-N,ee=F*F+q*q,ue;return ee>0&&(ue=((s.x-S)*F+(s.y-N)*q)/ee,ue>1?(S=h.x,N=h.y):ue>0&&(S+=F*ue,N+=q*ue)),F=s.x-S,q=s.y-N,y?F*F+q*q:new $(S,N)}function Hn(s){return!E(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function ig(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Hn(s)}function sg(s,c){var h,y,S,N,F,q,ee,ue;if(!s||s.length===0)throw new Error("latlngs not passed");Hn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var _e=ae([0,0]),De=ie(s),Qe=De.getNorthWest().distanceTo(De.getSouthWest())*De.getNorthEast().distanceTo(De.getNorthWest());Qe<1700&&(_e=Ed(s));var un=s.length,Ut=[];for(h=0;h<un;h++){var Zn=ae(s[h]);Ut.push(c.project(ae([Zn.lat-_e.lat,Zn.lng-_e.lng])))}for(h=0,y=0;h<un-1;h++)y+=Ut[h].distanceTo(Ut[h+1])/2;if(y===0)ue=Ut[0];else for(h=0,N=0;h<un-1;h++)if(F=Ut[h],q=Ut[h+1],S=F.distanceTo(q),N+=S,N>y){ee=(N-y)/S,ue=[q.x-ee*(q.x-F.x),q.y-ee*(q.y-F.y)];break}var wn=c.unproject(Y(ue));return ae([wn.lat+_e.lat,wn.lng+_e.lng])}var ZE={__proto__:null,simplify:eg,pointToSegmentDistance:tg,closestPointOnSegment:zE,clipSegment:rg,_getEdgeIntersection:Wl,_getBitCode:ls,_sqClosestPointOnSegment:ca,isFlat:Hn,_flat:ig,polylineCenter:sg},Nd={project:function(s){return new $(s.lng,s.lat)},unproject:function(s){return new ce(s.y,s.x)},bounds:new se([-180,-90],[180,90])},jd={R:6378137,R_MINOR:6356752314245179e-9,bounds:new se([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var c=Math.PI/180,h=this.R,y=s.lat*c,S=this.R_MINOR/h,N=Math.sqrt(1-S*S),F=N*Math.sin(y),q=Math.tan(Math.PI/4-y/2)/Math.pow((1-F)/(1+F),N/2);return y=-h*Math.log(Math.max(q,1e-10)),new $(s.lng*c*h,y)},unproject:function(s){for(var c=180/Math.PI,h=this.R,y=this.R_MINOR/h,S=Math.sqrt(1-y*y),N=Math.exp(-s.y/h),F=Math.PI/2-2*Math.atan(N),q=0,ee=.1,ue;q<15&&Math.abs(ee)>1e-7;q++)ue=S*Math.sin(F),ue=Math.pow((1-ue)/(1+ue),S/2),ee=Math.PI/2-2*Math.atan(N*ue)-F,F+=ee;return new ce(F*c,s.x*c/h)}},GE={__proto__:null,LonLat:Nd,Mercator:jd,SphericalMercator:Re},YE=i({},xe,{code:"EPSG:3395",projection:jd,transformation:function(){var s=.5/(Math.PI*jd.R);return Ce(s,.5,-s,.5)}()}),og=i({},xe,{code:"EPSG:4326",projection:Nd,transformation:Ce(1/180,1,-1/180,.5)}),KE=i({},oe,{projection:Nd,transformation:Ce(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,c){var h=c.lng-s.lng,y=c.lat-s.lat;return Math.sqrt(h*h+y*y)},infinite:!0});oe.Earth=xe,oe.EPSG3395=YE,oe.EPSG3857=Ze,oe.EPSG900913=lt,oe.EPSG4326=og,oe.Simple=KE;var ir=G.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[d(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[d(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var c=s.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var h=this.getEvents();c.on(h,this),this.once("remove",function(){c.off(h,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});nt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var c=d(s);return this._layers[c]?this:(this._layers[c]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var c=d(s);return this._layers[c]?(this._loaded&&s.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return d(s)in this._layers},eachLayer:function(s,c){for(var h in this._layers)s.call(c,this._layers[h]);return this},_addLayers:function(s){s=s?E(s)?s:[s]:[];for(var c=0,h=s.length;c<h;c++)this.addLayer(s[c])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[d(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var c=d(s);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,c=-1/0,h=this._getZoomSpan();for(var y in this._zoomBoundLayers){var S=this._zoomBoundLayers[y].options;s=S.minZoom===void 0?s:Math.min(s,S.minZoom),c=S.maxZoom===void 0?c:Math.max(c,S.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Gs=ir.extend({initialize:function(s,c){v(this,c),this._layers={};var h,y;if(s)for(h=0,y=s.length;h<y;h++)this.addLayer(s[h])},addLayer:function(s){var c=this.getLayerId(s);return this._layers[c]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var c=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(s){var c=typeof s=="number"?s:this.getLayerId(s);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var c=Array.prototype.slice.call(arguments,1),h,y;for(h in this._layers)y=this._layers[h],y[s]&&y[s].apply(y,c);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,c){for(var h in this._layers)s.call(c,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return d(s)}}),qE=function(s,c){return new Gs(s,c)},Zr=Gs.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Gs.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Gs.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Q;for(var c in this._layers){var h=this._layers[c];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),XE=function(s,c){return new Zr(s,c)},Ys=J.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){v(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,c){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(h,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(y,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(s,c){var h=this.options,y=h[c+"Size"];typeof y=="number"&&(y=[y,y]);var S=Y(y),N=Y(c==="shadow"&&h.shadowAnchor||h.iconAnchor||S&&S.divideBy(2,!0));s.className="leaflet-marker-"+c+" "+(h.className||""),N&&(s.style.marginLeft=-N.x+"px",s.style.marginTop=-N.y+"px"),S&&(s.style.width=S.x+"px",s.style.height=S.y+"px")},_createImg:function(s,c){return c=c||document.createElement("img"),c.src=s,c},_getIconUrl:function(s){return je.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function JE(s){return new Ys(s)}var ua=Ys.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof ua.imagePath!="string"&&(ua.imagePath=this._detectIconPath()),(this.options.imagePath||ua.imagePath)+Ys.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var c=function(h,y,S){var N=y.exec(h);return N&&N[S]};return s=c(s,/^url\((['"])?(.+)\1\)$/,2),s&&c(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=tt("div","leaflet-default-icon-path",document.body),c=is(s,"background-image")||is(s,"backgroundImage");if(document.body.removeChild(s),c=this._stripUrl(c),c)return c;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),ag=Sr.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new bi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),D(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&te(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var c=this._marker,h=c._map,y=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,N=et(c._icon),F=h.getPixelBounds(),q=h.getPixelOrigin(),ee=I(F.min._subtract(q).add(S),F.max._subtract(q).subtract(S));if(!ee.contains(N)){var ue=Y((Math.max(ee.max.x,N.x)-ee.max.x)/(F.max.x-ee.max.x)-(Math.min(ee.min.x,N.x)-ee.min.x)/(F.min.x-ee.min.x),(Math.max(ee.max.y,N.y)-ee.max.y)/(F.max.y-ee.max.y)-(Math.min(ee.min.y,N.y)-ee.min.y)/(F.min.y-ee.min.y)).multiplyBy(y);h.panBy(ue,{animate:!1}),this._draggable._newPos._add(ue),this._draggable._startPos._add(ue),Ie(c._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=re(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=re(this._adjustPan.bind(this,s)))},_onDrag:function(s){var c=this._marker,h=c._shadow,y=et(c._icon),S=c._map.layerPointToLatLng(y);h&&Ie(h,y),c._latlng=S,s.latlng=S,s.oldLatLng=this._oldLatLng,c.fire("move",s).fire("drag",s)},_onDragEnd:function(s){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Ul=ir.extend({options:{icon:new ua,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,c){v(this,c),this._latlng=ae(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var c=this._latlng;return this._latlng=ae(s),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),y=!1;h!==this._icon&&(this._icon&&this._removeIcon(),y=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),D(h,c),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ge(h,"focus",this._panOnFocus,this);var S=s.icon.createShadow(this._shadow),N=!1;S!==this._shadow&&(this._removeShadow(),N=!0),S&&(D(S,c),S.alt=""),this._shadow=S,s.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&N&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_t(this._icon,"focus",this._panOnFocus,this),j(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&j(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Ie(this._icon,s),this._shadow&&Ie(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(D(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ag)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ag(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&fe(this._icon,s),this._shadow&&fe(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var c=this.options.icon.options,h=c.iconSize?Y(c.iconSize):Y(0,0),y=c.iconAnchor?Y(c.iconAnchor):Y(0,0);s.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:h.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function QE(s,c){return new Ul(s,c)}var _i=ir.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return v(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Hl=_i.extend({options:{fill:!0,radius:10},initialize:function(s,c){v(this,c),this._latlng=ae(s),this._radius=this.options.radius},setLatLng:function(s){var c=this._latlng;return this._latlng=ae(s),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var c=s&&s.radius||this._radius;return _i.prototype.setStyle.call(this,s),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,c=this._radiusY||s,h=this._clickTolerance(),y=[s+h,c+h];this._pxBounds=new se(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function eT(s,c){return new Hl(s,c)}var Md=Hl.extend({initialize:function(s,c,h){if(typeof c=="number"&&(c=i({},h,{radius:c})),v(this,c),this._latlng=ae(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Q(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:_i.prototype.setStyle,_project:function(){var s=this._latlng.lng,c=this._latlng.lat,h=this._map,y=h.options.crs;if(y.distance===xe.distance){var S=Math.PI/180,N=this._mRadius/xe.R/S,F=h.project([c+N,s]),q=h.project([c-N,s]),ee=F.add(q).divideBy(2),ue=h.unproject(ee).lat,_e=Math.acos((Math.cos(N*S)-Math.sin(c*S)*Math.sin(ue*S))/(Math.cos(c*S)*Math.cos(ue*S)))/S;(isNaN(_e)||_e===0)&&(_e=N/Math.cos(Math.PI/180*c)),this._point=ee.subtract(h.getPixelOrigin()),this._radius=isNaN(_e)?0:ee.x-h.project([ue,s-_e]).x,this._radiusY=ee.y-F.y}else{var De=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(De).x}this._updateBounds()}});function tT(s,c,h){return new Md(s,c,h)}var Gr=_i.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,c){v(this,c),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var c=1/0,h=null,y=ca,S,N,F=0,q=this._parts.length;F<q;F++)for(var ee=this._parts[F],ue=1,_e=ee.length;ue<_e;ue++){S=ee[ue-1],N=ee[ue];var De=y(s,S,N,!0);De<c&&(c=De,h=y(s,S,N))}return h&&(h.distance=Math.sqrt(c)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return sg(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,c){return c=c||this._defaultShape(),s=ae(s),c.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Q,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Hn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var c=[],h=Hn(s),y=0,S=s.length;y<S;y++)h?(c[y]=ae(s[y]),this._bounds.extend(c[y])):c[y]=this._convertLatLngs(s[y]);return c},_project:function(){var s=new se;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),c=new $(s,s);this._rawPxBounds&&(this._pxBounds=new se([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(s,c,h){var y=s[0]instanceof ce,S=s.length,N,F;if(y){for(F=[],N=0;N<S;N++)F[N]=this._map.latLngToLayerPoint(s[N]),h.extend(F[N]);c.push(F)}else for(N=0;N<S;N++)this._projectLatlngs(s[N],c,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,h,y,S,N,F,q,ee;for(h=0,S=0,N=this._rings.length;h<N;h++)for(ee=this._rings[h],y=0,F=ee.length;y<F-1;y++)q=rg(ee[y],ee[y+1],s,y,!0),q&&(c[S]=c[S]||[],c[S].push(q[0]),(q[1]!==ee[y+1]||y===F-2)&&(c[S].push(q[1]),S++))}},_simplifyPoints:function(){for(var s=this._parts,c=this.options.smoothFactor,h=0,y=s.length;h<y;h++)s[h]=eg(s[h],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,c){var h,y,S,N,F,q,ee=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,N=this._parts.length;h<N;h++)for(q=this._parts[h],y=0,F=q.length,S=F-1;y<F;S=y++)if(!(!c&&y===0)&&tg(s,q[S],q[y])<=ee)return!0;return!1}});function nT(s,c){return new Gr(s,c)}Gr._flat=ig;var Ks=Gr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var c=Gr.prototype._convertLatLngs.call(this,s),h=c.length;return h>=2&&c[0]instanceof ce&&c[0].equals(c[h-1])&&c.pop(),c},_setLatLngs:function(s){Gr.prototype._setLatLngs.call(this,s),Hn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Hn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,c=this.options.weight,h=new $(c,c);if(s=new se(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,S=this._rings.length,N;y<S;y++)N=Jp(this._rings[y],s,!0),N.length&&this._parts.push(N)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var c=!1,h,y,S,N,F,q,ee,ue;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(N=0,ee=this._parts.length;N<ee;N++)for(h=this._parts[N],F=0,ue=h.length,q=ue-1;F<ue;q=F++)y=h[F],S=h[q],y.y>s.y!=S.y>s.y&&s.x<(S.x-y.x)*(s.y-y.y)/(S.y-y.y)+y.x&&(c=!c);return c||Gr.prototype._containsPoint.call(this,s,!0)}});function rT(s,c){return new Ks(s,c)}var Yr=Zr.extend({initialize:function(s,c){v(this,c),this._layers={},s&&this.addData(s)},addData:function(s){var c=E(s)?s:s.features,h,y,S;if(c){for(h=0,y=c.length;h<y;h++)S=c[h],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var N=this.options;if(N.filter&&!N.filter(s))return this;var F=Zl(s,N);return F?(F.feature=Kl(s),F.defaultOptions=F.options,this.resetStyle(F),N.onEachFeature&&N.onEachFeature(s,F),this.addLayer(F)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=i({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(c){this._setLayerStyle(c,s)},this)},_setLayerStyle:function(s,c){s.setStyle&&(typeof c=="function"&&(c=c(s.feature)),s.setStyle(c))}});function Zl(s,c){var h=s.type==="Feature"?s.geometry:s,y=h?h.coordinates:null,S=[],N=c&&c.pointToLayer,F=c&&c.coordsToLatLng||Rd,q,ee,ue,_e;if(!y&&!h)return null;switch(h.type){case"Point":return q=F(y),lg(N,s,q,c);case"MultiPoint":for(ue=0,_e=y.length;ue<_e;ue++)q=F(y[ue]),S.push(lg(N,s,q,c));return new Zr(S);case"LineString":case"MultiLineString":return ee=Gl(y,h.type==="LineString"?0:1,F),new Gr(ee,c);case"Polygon":case"MultiPolygon":return ee=Gl(y,h.type==="Polygon"?1:2,F),new Ks(ee,c);case"GeometryCollection":for(ue=0,_e=h.geometries.length;ue<_e;ue++){var De=Zl({geometry:h.geometries[ue],type:"Feature",properties:s.properties},c);De&&S.push(De)}return new Zr(S);case"FeatureCollection":for(ue=0,_e=h.features.length;ue<_e;ue++){var Qe=Zl(h.features[ue],c);Qe&&S.push(Qe)}return new Zr(S);default:throw new Error("Invalid GeoJSON object.")}}function lg(s,c,h,y){return s?s(c,h):new Ul(h,y&&y.markersInheritOptions&&y)}function Rd(s){return new ce(s[1],s[0],s[2])}function Gl(s,c,h){for(var y=[],S=0,N=s.length,F;S<N;S++)F=c?Gl(s[S],c-1,h):(h||Rd)(s[S]),y.push(F);return y}function Od(s,c){return s=ae(s),s.alt!==void 0?[b(s.lng,c),b(s.lat,c),b(s.alt,c)]:[b(s.lng,c),b(s.lat,c)]}function Yl(s,c,h,y){for(var S=[],N=0,F=s.length;N<F;N++)S.push(c?Yl(s[N],Hn(s[N])?0:c-1,h,y):Od(s[N],y));return!c&&h&&S.length>0&&S.push(S[0].slice()),S}function qs(s,c){return s.feature?i({},s.feature,{geometry:c}):Kl(c)}function Kl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var kd={toGeoJSON:function(s){return qs(this,{type:"Point",coordinates:Od(this.getLatLng(),s)})}};Ul.include(kd),Md.include(kd),Hl.include(kd),Gr.include({toGeoJSON:function(s){var c=!Hn(this._latlngs),h=Yl(this._latlngs,c?1:0,!1,s);return qs(this,{type:(c?"Multi":"")+"LineString",coordinates:h})}}),Ks.include({toGeoJSON:function(s){var c=!Hn(this._latlngs),h=c&&!Hn(this._latlngs[0]),y=Yl(this._latlngs,h?2:c?1:0,!0,s);return c||(y=[y]),qs(this,{type:(h?"Multi":"")+"Polygon",coordinates:y})}}),Gs.include({toMultiPoint:function(s){var c=[];return this.eachLayer(function(h){c.push(h.toGeoJSON(s).geometry.coordinates)}),qs(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(s){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(s);var h=c==="GeometryCollection",y=[];return this.eachLayer(function(S){if(S.toGeoJSON){var N=S.toGeoJSON(s);if(h)y.push(N.geometry);else{var F=Kl(N);F.type==="FeatureCollection"?y.push.apply(y,F.features):y.push(F)}}}),h?qs(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function cg(s,c){return new Yr(s,c)}var iT=cg,ql=ir.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,c,h){this._url=s,this._bounds=ie(c),v(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(D(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){j(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&O(this._image),this},bringToBack:function(){return this._map&&W(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=ie(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",c=this._image=s?this._url:tt("img");if(D(c,"leaflet-image-layer"),this._zoomAnimated&&D(c,"leaflet-zoom-animated"),this.options.className&&D(c,this.options.className),c.onselectstart=g,c.onmousemove=g,c.onload=a(this.fire,this,"load"),c.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(s){var c=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;He(this._image,h,c)},_reset:function(){var s=this._image,c=new se(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=c.getSize();Ie(s,c.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){fe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),sT=function(s,c,h){return new ql(s,c,h)},ug=ql.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",c=this._image=s?this._url:tt("video");if(D(c,"leaflet-image-layer"),this._zoomAnimated&&D(c,"leaflet-zoom-animated"),this.options.className&&D(c,this.options.className),c.onselectstart=g,c.onmousemove=g,c.onloadeddata=a(this.fire,this,"load"),s){for(var h=c.getElementsByTagName("source"),y=[],S=0;S<h.length;S++)y.push(h[S].src);this._url=h.length>0?y:[c.src];return}E(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var N=0;N<this._url.length;N++){var F=tt("source");F.src=this._url[N],c.appendChild(F)}}});function oT(s,c,h){return new ug(s,c,h)}var dg=ql.extend({_initImage:function(){var s=this._image=this._url;D(s,"leaflet-image-layer"),this._zoomAnimated&&D(s,"leaflet-zoom-animated"),this.options.className&&D(s,this.options.className),s.onselectstart=g,s.onmousemove=g}});function aT(s,c,h){return new dg(s,c,h)}var Cr=ir.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,c){s&&(s instanceof ce||E(s))?(this._latlng=ae(s),v(this,c)):(v(this,s),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&fe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&fe(this._container,1),this.bringToFront(),this.options.interactive&&(D(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(fe(this._container,0),this._removeTimeout=setTimeout(a(j,void 0,this._container),200)):j(this._container),this.options.interactive&&(te(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ae(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&O(this._container),this},bringToBack:function(){return this._map&&W(this._container),this},_prepareOpen:function(s){var c=this._source;if(!c._map)return!1;if(c instanceof Zr){c=null;var h=this._source._layers;for(var y in h)if(h[y]._map){c=h[y];break}if(!c)return!1;this._source=c}if(!s)if(c.getCenter)s=c.getCenter();else if(c.getLatLng)s=c.getLatLng();else if(c.getBounds)s=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")s.innerHTML=c;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),c=Y(this.options.offset),h=this._getAnchor();this._zoomAnimated?Ie(this._container,s.add(h)):c=c.add(s).add(h);var y=this._containerBottom=-c.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=y+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});nt.include({_initOverlay:function(s,c,h,y){var S=c;return S instanceof s||(S=new s(y).setContent(c)),h&&S.setLatLng(h),S}}),ir.include({_initOverlay:function(s,c,h,y){var S=h;return S instanceof s?(v(S,y),S._source=this):(S=c&&!y?c:new s(y,this),S.setContent(h)),S}});var Xl=Cr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Cr.prototype.openOn.call(this,s)},onAdd:function(s){Cr.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof _i||this._source.on("preclick",os))},onRemove:function(s){Cr.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof _i||this._source.off("preclick",os))},getEvents:function(){var s=Cr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",c=this._container=tt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=tt("div",s+"-content-wrapper",c);if(this._contentNode=tt("div",s+"-content",h),aa(c),wd(this._contentNode),Ge(c,"contextmenu",os),this._tipContainer=tt("div",s+"-tip-container",c),this._tip=tt("div",s+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=tt("a",s+"-close-button",c);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',Ge(y,"click",function(S){Gt(S),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,c=s.style;c.width="",c.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),c.width=h+1+"px",c.whiteSpace="",c.height="";var y=s.offsetHeight,S=this.options.maxHeight,N="leaflet-popup-scrolled";S&&y>S?(c.height=S+"px",D(s,N)):te(s,N),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();Ie(this._container,c.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,c=parseInt(is(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+c,y=this._containerWidth,S=new $(this._containerLeft,-h-this._containerBottom);S._add(et(this._container));var N=s.layerPointToContainerPoint(S),F=Y(this.options.autoPanPadding),q=Y(this.options.autoPanPaddingTopLeft||F),ee=Y(this.options.autoPanPaddingBottomRight||F),ue=s.getSize(),_e=0,De=0;N.x+y+ee.x>ue.x&&(_e=N.x+y-ue.x+ee.x),N.x-_e-q.x<0&&(_e=N.x-q.x),N.y+h+ee.y>ue.y&&(De=N.y+h-ue.y+ee.y),N.y-De-q.y<0&&(De=N.y-q.y),(_e||De)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([_e,De]))}},_getAnchor:function(){return Y(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),lT=function(s,c){return new Xl(s,c)};nt.mergeOptions({closePopupOnClick:!0}),nt.include({openPopup:function(s,c,h){return this._initOverlay(Xl,s,c,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),ir.include({bindPopup:function(s,c){return this._popup=this._initOverlay(Xl,this._popup,s,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Zr||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){as(s);var c=s.layer||s.target;if(this._popup._source===c&&!(c instanceof _i)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=c,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Jl=Cr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Cr.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Cr.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Cr.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",c=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=tt("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var c,h,y=this._map,S=this._container,N=y.latLngToContainerPoint(y.getCenter()),F=y.layerPointToContainerPoint(s),q=this.options.direction,ee=S.offsetWidth,ue=S.offsetHeight,_e=Y(this.options.offset),De=this._getAnchor();q==="top"?(c=ee/2,h=ue):q==="bottom"?(c=ee/2,h=0):q==="center"?(c=ee/2,h=ue/2):q==="right"?(c=0,h=ue/2):q==="left"?(c=ee,h=ue/2):F.x<N.x?(q="right",c=0,h=ue/2):(q="left",c=ee+(_e.x+De.x)*2,h=ue/2),s=s.subtract(Y(c,h,!0)).add(_e).add(De),te(S,"leaflet-tooltip-right"),te(S,"leaflet-tooltip-left"),te(S,"leaflet-tooltip-top"),te(S,"leaflet-tooltip-bottom"),D(S,"leaflet-tooltip-"+q),Ie(S,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&fe(this._container,s)},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(c)},_getAnchor:function(){return Y(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),cT=function(s,c){return new Jl(s,c)};nt.include({openTooltip:function(s,c,h){return this._initOverlay(Jl,s,c,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),ir.include({bindTooltip:function(s,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Jl,this._tooltip,s,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var c=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[c](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Zr||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var c=typeof s.getElement=="function"&&s.getElement();c&&(Ge(c,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Ge(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var c=typeof s.getElement=="function"&&s.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var c=s.latlng,h,y;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),y=this._map.containerPointToLayerPoint(h),c=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(c)}});var fg=Ys.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var c=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(B(c),c.appendChild(h.html)):c.innerHTML=h.html!==!1?h.html:"",h.bgPos){var y=Y(h.bgPos);c.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function uT(s){return new fg(s)}Ys.Default=ua;var da=ir.extend({options:{tileSize:256,opacity:1,updateWhenIdle:je.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){v(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),j(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(O(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(W(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof $?s:new $(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var c=this.getPane().children,h=-s(-1/0,1/0),y=0,S=c.length,N;y<S;y++)N=c[y].style.zIndex,c[y]!==this._container&&N&&(h=s(h,+N));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!je.ielt9){fe(this._container,this.options.opacity);var s=+new Date,c=!1,h=!1;for(var y in this._tiles){var S=this._tiles[y];if(!(!S.current||!S.loaded)){var N=Math.min(1,(s-S.loaded)/200);fe(S.el,N),N<1?c=!0:(S.active?h=!0:this._onOpaqueTile(S),S.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),c&&(z(this._fadeFrame),this._fadeFrame=re(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=tt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,c=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=c-Math.abs(s-h),this._onUpdateLevel(h)):(j(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var y=this._levels[s],S=this._map;return y||(y=this._levels[s]={},y.el=tt("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=c,y.origin=S.project(S.unproject(S.getPixelOrigin()),s).round(),y.zoom=s,this._setZoomTransform(y,S.getCenter(),S.getZoom()),g(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var s,c,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)c=this._tiles[s],c.retain=c.current;for(s in this._tiles)if(c=this._tiles[s],c.current&&!c.active){var y=c.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var c in this._tiles)this._tiles[c].coords.z===s&&this._removeTile(c)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)j(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,c,h,y){var S=Math.floor(s/2),N=Math.floor(c/2),F=h-1,q=new $(+S,+N);q.z=+F;var ee=this._tileCoordsToKey(q),ue=this._tiles[ee];return ue&&ue.active?(ue.retain=!0,!0):(ue&&ue.loaded&&(ue.retain=!0),F>y?this._retainParent(S,N,F,y):!1)},_retainChildren:function(s,c,h,y){for(var S=2*s;S<2*s+2;S++)for(var N=2*c;N<2*c+2;N++){var F=new $(S,N);F.z=h+1;var q=this._tileCoordsToKey(F),ee=this._tiles[q];if(ee&&ee.active){ee.retain=!0;continue}else ee&&ee.loaded&&(ee.retain=!0);h+1<y&&this._retainChildren(S,N,h+1,y)}},_resetView:function(s){var c=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var c=this.options;return c.minNativeZoom!==void 0&&s<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<s?c.maxNativeZoom:s},_setView:function(s,c,h,y){var S=Math.round(c);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var N=this.options.updateWhenZooming&&S!==this._tileZoom;(!y||N)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,c)},_setZoomTransforms:function(s,c){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,c)},_setZoomTransform:function(s,c,h){var y=this._map.getZoomScale(h,s.zoom),S=s.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(c,h)).round();je.any3d?He(s.el,S,y):Ie(s.el,S)},_resetGrid:function(){var s=this._map,c=s.options.crs,h=this._tileSize=this.getTileSize(),y=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,c.wrapLng[0]],y).x/h.x),Math.ceil(s.project([0,c.wrapLng[1]],y).x/h.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([c.wrapLat[0],0],y).y/h.x),Math.ceil(s.project([c.wrapLat[1],0],y).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var c=this._map,h=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),y=c.getZoomScale(h,this._tileZoom),S=c.project(s,this._tileZoom).floor(),N=c.getSize().divideBy(y*2);return new se(S.subtract(N),S.add(N))},_update:function(s){var c=this._map;if(c){var h=this._clampZoom(c.getZoom());if(s===void 0&&(s=c.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(s),S=this._pxBoundsToTileRange(y),N=S.getCenter(),F=[],q=this.options.keepBuffer,ee=new se(S.getBottomLeft().subtract([q,-q]),S.getTopRight().add([q,-q]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ue in this._tiles){var _e=this._tiles[ue].coords;(_e.z!==this._tileZoom||!ee.contains(new $(_e.x,_e.y)))&&(this._tiles[ue].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var De=S.min.y;De<=S.max.y;De++)for(var Qe=S.min.x;Qe<=S.max.x;Qe++){var un=new $(Qe,De);if(un.z=this._tileZoom,!!this._isValidTile(un)){var Ut=this._tiles[this._tileCoordsToKey(un)];Ut?Ut.current=!0:F.push(un)}}if(F.sort(function(wn,Js){return wn.distanceTo(N)-Js.distanceTo(N)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Zn=document.createDocumentFragment();for(Qe=0;Qe<F.length;Qe++)this._addTile(F[Qe],Zn);this._level.el.appendChild(Zn)}}}},_isValidTile:function(s){var c=this._map.options.crs;if(!c.infinite){var h=this._globalTileRange;if(!c.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!c.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(s);return ie(this.options.bounds).overlaps(y)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var c=this._map,h=this.getTileSize(),y=s.scaleBy(h),S=y.add(h),N=c.unproject(y,s.z),F=c.unproject(S,s.z);return[N,F]},_tileCoordsToBounds:function(s){var c=this._tileCoordsToNwSe(s),h=new Q(c[0],c[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var c=s.split(":"),h=new $(+c[0],+c[1]);return h.z=+c[2],h},_removeTile:function(s){var c=this._tiles[s];c&&(j(c.el),delete this._tiles[s],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){D(s,"leaflet-tile");var c=this.getTileSize();s.style.width=c.x+"px",s.style.height=c.y+"px",s.onselectstart=g,s.onmousemove=g,je.ielt9&&this.options.opacity<1&&fe(s,this.options.opacity)},_addTile:function(s,c){var h=this._getTilePos(s),y=this._tileCoordsToKey(s),S=this.createTile(this._wrapCoords(s),a(this._tileReady,this,s));this._initTile(S),this.createTile.length<2&&re(a(this._tileReady,this,s,null,S)),Ie(S,h),this._tiles[y]={el:S,coords:s,current:!0},c.appendChild(S),this.fire("tileloadstart",{tile:S,coords:s})},_tileReady:function(s,c,h){c&&this.fire("tileerror",{error:c,tile:h,coords:s});var y=this._tileCoordsToKey(s);h=this._tiles[y],h&&(h.loaded=+new Date,this._map._fadeAnimated?(fe(h.el,0),z(this._fadeFrame),this._fadeFrame=re(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),c||(D(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),je.ielt9||!this._map._fadeAnimated?re(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var c=new $(this._wrapX?m(s.x,this._wrapX):s.x,this._wrapY?m(s.y,this._wrapY):s.y);return c.z=s.z,c},_pxBoundsToTileRange:function(s){var c=this.getTileSize();return new se(s.min.unscaleBy(c).floor(),s.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function dT(s){return new da(s)}var Xs=da.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,c){this._url=s,c=v(this,c),c.detectRetina&&je.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,c){return this._url===s&&c===void 0&&(c=!0),this._url=s,c||this.redraw(),this},createTile:function(s,c){var h=document.createElement("img");return Ge(h,"load",a(this._tileOnLoad,this,c,h)),Ge(h,"error",a(this._tileOnError,this,c,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var c={r:je.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(c.y=h),c["-y"]=h}return P(this._url,i(c,this.options))},_tileOnLoad:function(s,c){je.ielt9?setTimeout(a(s,this,null,c),0):s(null,c)},_tileOnError:function(s,c,h){var y=this.options.errorTileUrl;y&&c.getAttribute("src")!==y&&(c.src=y),s(h,c)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,c=this.options.maxZoom,h=this.options.zoomReverse,y=this.options.zoomOffset;return h&&(s=c-s),s+y},_getSubdomain:function(s){var c=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var s,c;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(c=this._tiles[s].el,c.onload=g,c.onerror=g,!c.complete)){c.src=T;var h=this._tiles[s].coords;j(c),delete this._tiles[s],this.fire("tileabort",{tile:c,coords:h})}},_removeTile:function(s){var c=this._tiles[s];if(c)return c.el.setAttribute("src",T),da.prototype._removeTile.call(this,s)},_tileReady:function(s,c,h){if(!(!this._map||h&&h.getAttribute("src")===T))return da.prototype._tileReady.call(this,s,c,h)}});function hg(s,c){return new Xs(s,c)}var mg=Xs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,c){this._url=s;var h=i({},this.defaultWmsParams);for(var y in c)y in this.options||(h[y]=c[y]);c=v(this,c);var S=c.detectRetina&&je.retina?2:1,N=this.getTileSize();h.width=N.x*S,h.height=N.y*S,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Xs.prototype.onAdd.call(this,s)},getTileUrl:function(s){var c=this._tileCoordsToNwSe(s),h=this._crs,y=I(h.project(c[0]),h.project(c[1])),S=y.min,N=y.max,F=(this._wmsVersion>=1.3&&this._crs===og?[S.y,S.x,N.y,N.x]:[S.x,S.y,N.x,N.y]).join(","),q=Xs.prototype.getTileUrl.call(this,s);return q+_(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(s,c){return i(this.wmsParams,s),c||this.redraw(),this}});function fT(s,c){return new mg(s,c)}Xs.WMS=mg,hg.wms=fT;var Kr=ir.extend({options:{padding:.1},initialize:function(s){v(this,s),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),D(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,c){var h=this._map.getZoomScale(c,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,c),N=y.multiplyBy(-h).add(S).subtract(this._map._getNewPixelOrigin(s,c));je.any3d?He(this._container,N,h):Ie(this._container,N)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,c=this._map.getSize(),h=this._map.containerPointToLayerPoint(c.multiplyBy(-s)).round();this._bounds=new se(h,h.add(c.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),pg=Kr.extend({options:{tolerance:0},getEvents:function(){var s=Kr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Kr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Ge(s,"mousemove",this._onMouseMove,this),Ge(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ge(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,j(this._container),_t(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var c in this._layers)s=this._layers[c],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Kr.prototype._update.call(this);var s=this._bounds,c=this._container,h=s.getSize(),y=je.retina?2:1;Ie(c,s.min),c.width=y*h.x,c.height=y*h.y,c.style.width=h.x+"px",c.style.height=h.y+"px",je.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Kr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[d(s)]=s;var c=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var c=s._order,h=c.next,y=c.prev;h?h.prev=y:this._drawLast=y,y?y.next=h:this._drawFirst=h,delete s._order,delete this._layers[d(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var c=s.options.dashArray.split(/[, ]+/),h=[],y,S;for(S=0;S<c.length;S++){if(y=Number(c[S]),isNaN(y))return;h.push(y)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||re(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var c=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new se,this._redrawBounds.extend(s._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(s._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var c=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,c=this._redrawBounds;if(this._ctx.save(),c){var h=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)s=y.layer,(!c||s._pxBounds&&s._pxBounds.intersects(c))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,c){if(this._drawing){var h,y,S,N,F=s._parts,q=F.length,ee=this._ctx;if(q){for(ee.beginPath(),h=0;h<q;h++){for(y=0,S=F[h].length;y<S;y++)N=F[h][y],ee[y?"lineTo":"moveTo"](N.x,N.y);c&&ee.closePath()}this._fillStroke(ee,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var c=s._point,h=this._ctx,y=Math.max(Math.round(s._radius),1),S=(Math.max(Math.round(s._radiusY),1)||y)/y;S!==1&&(h.save(),h.scale(1,S)),h.beginPath(),h.arc(c.x,c.y/S,y,0,Math.PI*2,!1),S!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,c){var h=c.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(c.options&&c.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var c=this._map.mouseEventToLayerPoint(s),h,y,S=this._drawFirst;S;S=S.next)h=S.layer,h.options.interactive&&h._containsPoint(c)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(y=h);this._fireEvent(y?[y]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,c)}},_handleMouseOut:function(s){var c=this._hoveredLayer;c&&(te(this._container,"leaflet-interactive"),this._fireEvent([c],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,c){if(!this._mouseHoverThrottled){for(var h,y,S=this._drawFirst;S;S=S.next)h=S.layer,h.options.interactive&&h._containsPoint(c)&&(y=h);y!==this._hoveredLayer&&(this._handleMouseOut(s),y&&(D(this._container,"leaflet-interactive"),this._fireEvent([y],s,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,c,h){this._map._fireDOMEvent(c,h||c.type,s)},_bringToFront:function(s){var c=s._order;if(c){var h=c.next,y=c.prev;if(h)h.prev=y;else return;y?y.next=h:h&&(this._drawFirst=h),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(s)}},_bringToBack:function(s){var c=s._order;if(c){var h=c.next,y=c.prev;if(y)y.next=h;else return;h?h.prev=y:y&&(this._drawLast=y),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(s)}}});function gg(s){return je.canvas?new pg(s):null}var fa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),hT={_initContainer:function(){this._container=tt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Kr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var c=s._container=fa("shape");D(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",s._path=fa("path"),c.appendChild(s._path),this._updateStyle(s),this._layers[d(s)]=s},_addPath:function(s){var c=s._container;this._container.appendChild(c),s.options.interactive&&s.addInteractiveTarget(c)},_removePath:function(s){var c=s._container;j(c),s.removeInteractiveTarget(c),delete this._layers[d(s)]},_updateStyle:function(s){var c=s._stroke,h=s._fill,y=s.options,S=s._container;S.stroked=!!y.stroke,S.filled=!!y.fill,y.stroke?(c||(c=s._stroke=fa("stroke")),S.appendChild(c),c.weight=y.weight+"px",c.color=y.color,c.opacity=y.opacity,y.dashArray?c.dashStyle=E(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=y.lineCap.replace("butt","flat"),c.joinstyle=y.lineJoin):c&&(S.removeChild(c),s._stroke=null),y.fill?(h||(h=s._fill=fa("fill")),S.appendChild(h),h.color=y.fillColor||y.color,h.opacity=y.fillOpacity):h&&(S.removeChild(h),s._fill=null)},_updateCircle:function(s){var c=s._point.round(),h=Math.round(s._radius),y=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+c.x+","+c.y+" "+h+","+y+" 0,"+65535*360)},_setPath:function(s,c){s._path.v=c},_bringToFront:function(s){O(s._container)},_bringToBack:function(s){W(s._container)}},Ql=je.vml?fa:xt,ha=Kr.extend({_initContainer:function(){this._container=Ql("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ql("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){j(this._container),_t(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Kr.prototype._update.call(this);var s=this._bounds,c=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,h.setAttribute("width",c.x),h.setAttribute("height",c.y)),Ie(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(s){var c=s._path=Ql("path");s.options.className&&D(c,s.options.className),s.options.interactive&&D(c,"leaflet-interactive"),this._updateStyle(s),this._layers[d(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){j(s._path),s.removeInteractiveTarget(s._path),delete this._layers[d(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var c=s._path,h=s.options;c&&(h.stroke?(c.setAttribute("stroke",h.color),c.setAttribute("stroke-opacity",h.opacity),c.setAttribute("stroke-width",h.weight),c.setAttribute("stroke-linecap",h.lineCap),c.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?c.setAttribute("stroke-dasharray",h.dashArray):c.removeAttribute("stroke-dasharray"),h.dashOffset?c.setAttribute("stroke-dashoffset",h.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),h.fill?(c.setAttribute("fill",h.fillColor||h.color),c.setAttribute("fill-opacity",h.fillOpacity),c.setAttribute("fill-rule",h.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(s,c){this._setPath(s,$t(s._parts,c))},_updateCircle:function(s){var c=s._point,h=Math.max(Math.round(s._radius),1),y=Math.max(Math.round(s._radiusY),1)||h,S="a"+h+","+y+" 0 1,0 ",N=s._empty()?"M0 0":"M"+(c.x-h)+","+c.y+S+h*2+",0 "+S+-h*2+",0 ";this._setPath(s,N)},_setPath:function(s,c){s._path.setAttribute("d",c)},_bringToFront:function(s){O(s._path)},_bringToBack:function(s){W(s._path)}});je.vml&&ha.include(hT);function vg(s){return je.svg||je.vml?new ha(s):null}nt.include({getRenderer:function(s){var c=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var c=this._paneRenderers[s];return c===void 0&&(c=this._createRenderer({pane:s}),this._paneRenderers[s]=c),c},_createRenderer:function(s){return this.options.preferCanvas&&gg(s)||vg(s)}});var yg=Ks.extend({initialize:function(s,c){Ks.prototype.initialize.call(this,this._boundsToLatLngs(s),c)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=ie(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function mT(s,c){return new yg(s,c)}ha.create=Ql,ha.pointsToPath=$t,Yr.geometryToLayer=Zl,Yr.coordsToLatLng=Rd,Yr.coordsToLatLngs=Gl,Yr.latLngToCoords=Od,Yr.latLngsToCoords=Yl,Yr.getFeature=qs,Yr.asFeature=Kl,nt.mergeOptions({boxZoom:!0});var xg=Sr.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Ge(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_t(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){j(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),bt(),ss(),this._startPoint=this._map.mouseEventToContainerPoint(s),Ge(document,{contextmenu:as,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=tt("div","leaflet-zoom-box",this._container),D(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var c=new se(this._point,this._startPoint),h=c.getSize();Ie(this._box,c.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(j(this._box),te(this._container,"leaflet-crosshair")),yt(),ia(),_t(document,{contextmenu:as,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var c=new Q(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nt.addInitHook("addHandler","boxZoom",xg),nt.mergeOptions({doubleClickZoom:!0});var bg=Sr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var c=this._map,h=c.getZoom(),y=c.options.zoomDelta,S=s.originalEvent.shiftKey?h-y:h+y;c.options.doubleClickZoom==="center"?c.setZoom(S):c.setZoomAround(s.containerPoint,S)}});nt.addInitHook("addHandler","doubleClickZoom",bg),nt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _g=Sr.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new bi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}D(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){te(this._map._container,"leaflet-grab"),te(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=ie(this._map.options.maxBounds);this._offsetLimit=I(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var c=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(c),this._prunePositions(c)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,c){return s-(s-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;s.x<c.min.x&&(s.x=this._viscousLimit(s.x,c.min.x)),s.y<c.min.y&&(s.y=this._viscousLimit(s.y,c.min.y)),s.x>c.max.x&&(s.x=this._viscousLimit(s.x,c.max.x)),s.y>c.max.y&&(s.y=this._viscousLimit(s.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,c=Math.round(s/2),h=this._initialWorldOffset,y=this._draggable._newPos.x,S=(y-c+h)%s+c-h,N=(y+c+h)%s-c-h,F=Math.abs(S+h)<Math.abs(N+h)?S:N;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(s){var c=this._map,h=c.options,y=!h.inertia||s.noInertia||this._times.length<2;if(c.fire("dragend",s),y)c.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),N=(this._lastTime-this._times[0])/1e3,F=h.easeLinearity,q=S.multiplyBy(F/N),ee=q.distanceTo([0,0]),ue=Math.min(h.inertiaMaxSpeed,ee),_e=q.multiplyBy(ue/ee),De=ue/(h.inertiaDeceleration*F),Qe=_e.multiplyBy(-De/2).round();!Qe.x&&!Qe.y?c.fire("moveend"):(Qe=c._limitOffset(Qe,c.options.maxBounds),re(function(){c.panBy(Qe,{duration:De,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});nt.addInitHook("addHandler","dragging",_g),nt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var wg=Sr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Ge(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),_t(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,c=document.documentElement,h=s.scrollTop||c.scrollTop,y=s.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(y,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var c=this._panKeys={},h=this.keyCodes,y,S;for(y=0,S=h.left.length;y<S;y++)c[h.left[y]]=[-1*s,0];for(y=0,S=h.right.length;y<S;y++)c[h.right[y]]=[s,0];for(y=0,S=h.down.length;y<S;y++)c[h.down[y]]=[0,s];for(y=0,S=h.up.length;y<S;y++)c[h.up[y]]=[0,-1*s]},_setZoomDelta:function(s){var c=this._zoomKeys={},h=this.keyCodes,y,S;for(y=0,S=h.zoomIn.length;y<S;y++)c[h.zoomIn[y]]=s;for(y=0,S=h.zoomOut.length;y<S;y++)c[h.zoomOut[y]]=-s},_addHooks:function(){Ge(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){_t(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var c=s.keyCode,h=this._map,y;if(c in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(y=this._panKeys[c],s.shiftKey&&(y=Y(y).multiplyBy(3)),h.options.maxBounds&&(y=h._limitOffset(Y(y),h.options.maxBounds)),h.options.worldCopyJump){var S=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(y)));h.panTo(S)}else h.panBy(y)}else if(c in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;as(s)}}});nt.addInitHook("addHandler","keyboard",wg),nt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Sg=Sr.extend({addHooks:function(){Ge(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){_t(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var c=Gp(s),h=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var y=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),y),as(s)},_performZoom:function(){var s=this._map,c=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,N=h?Math.ceil(S/h)*h:S,F=s._limitZoom(c+(this._delta>0?N:-N))-c;this._delta=0,this._startTime=null,F&&(s.options.scrollWheelZoom==="center"?s.setZoom(c+F):s.setZoomAround(this._lastMousePos,c+F))}});nt.addInitHook("addHandler","scrollWheelZoom",Sg);var pT=600;nt.mergeOptions({tapHold:je.touchNative&&je.safari&&je.mobile,tapTolerance:15});var Cg=Sr.extend({addHooks:function(){Ge(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_t(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var c=s.touches[0];this._startPos=this._newPos=new $(c.clientX,c.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(Ge(document,"touchend",Gt),Ge(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),pT),Ge(document,"touchend touchcancel contextmenu",this._cancel,this),Ge(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){_t(document,"touchend",Gt),_t(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),_t(document,"touchend touchcancel contextmenu",this._cancel,this),_t(document,"touchmove",this._onMove,this)},_onMove:function(s){var c=s.touches[0];this._newPos=new $(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,c){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});h._simulated=!0,c.target.dispatchEvent(h)}});nt.addInitHook("addHandler","tapHold",Cg),nt.mergeOptions({touchZoom:je.touch,bounceAtZoomLimits:!0});var Pg=Sr.extend({addHooks:function(){D(this._map._container,"leaflet-touch-zoom"),Ge(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){te(this._map._container,"leaflet-touch-zoom"),_t(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var c=this._map;if(!(!s.touches||s.touches.length!==2||c._animatingZoom||this._zooming)){var h=c.mouseEventToContainerPoint(s.touches[0]),y=c.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(h.add(y)._divideBy(2))),this._startDist=h.distanceTo(y),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Ge(document,"touchmove",this._onTouchMove,this),Ge(document,"touchend touchcancel",this._onTouchEnd,this),Gt(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var c=this._map,h=c.mouseEventToContainerPoint(s.touches[0]),y=c.mouseEventToContainerPoint(s.touches[1]),S=h.distanceTo(y)/this._startDist;if(this._zoom=c.getScaleZoom(S,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&S<1||this._zoom>c.getMaxZoom()&&S>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var N=h._add(y)._divideBy(2)._subtract(this._centerPoint);if(S===1&&N.x===0&&N.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(N),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var F=a(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=re(F,this,!0),Gt(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),_t(document,"touchmove",this._onTouchMove,this),_t(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});nt.addInitHook("addHandler","touchZoom",Pg),nt.BoxZoom=xg,nt.DoubleClickZoom=bg,nt.Drag=_g,nt.Keyboard=wg,nt.ScrollWheelZoom=Sg,nt.TapHold=Cg,nt.TouchZoom=Pg,n.Bounds=se,n.Browser=je,n.CRS=oe,n.Canvas=pg,n.Circle=Md,n.CircleMarker=Hl,n.Class=J,n.Control=rr,n.DivIcon=fg,n.DivOverlay=Cr,n.DomEvent=kE,n.DomUtil=RE,n.Draggable=bi,n.Evented=G,n.FeatureGroup=Zr,n.GeoJSON=Yr,n.GridLayer=da,n.Handler=Sr,n.Icon=Ys,n.ImageOverlay=ql,n.LatLng=ce,n.LatLngBounds=Q,n.Layer=ir,n.LayerGroup=Gs,n.LineUtil=ZE,n.Map=nt,n.Marker=Ul,n.Mixin=BE,n.Path=_i,n.Point=$,n.PolyUtil=$E,n.Polygon=Ks,n.Polyline=Gr,n.Popup=Xl,n.PosAnimation=Yp,n.Projection=GE,n.Rectangle=yg,n.Renderer=Kr,n.SVG=ha,n.SVGOverlay=dg,n.TileLayer=Xs,n.Tooltip=Jl,n.Transformation=Te,n.Util=ne,n.VideoOverlay=ug,n.bind=a,n.bounds=I,n.canvas=gg,n.circle=tT,n.circleMarker=eT,n.control=la,n.divIcon=uT,n.extend=i,n.featureGroup=XE,n.geoJSON=cg,n.geoJson=iT,n.gridLayer=dT,n.icon=JE,n.imageOverlay=sT,n.latLng=ae,n.latLngBounds=ie,n.layerGroup=qE,n.map=AE,n.marker=QE,n.point=Y,n.polygon=rT,n.polyline=nT,n.popup=lT,n.rectangle=mT,n.setOptions=v,n.stamp=d,n.svg=vg,n.svgOverlay=aT,n.tileLayer=hg,n.tooltip=cT,n.transformation=Ce,n.version=r,n.videoOverlay=oT;var gT=window.L;n.noConflict=function(){return window.L=gT,this},window.L=n})}(Pa,Pa.exports)),Pa.exports}var ta=DB();const jh=$h(ta);function Qu(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function ed(e,t){return t==null?function(r,i){const o=p.useRef();return o.current||(o.current=e(r,i)),o}:function(r,i){const o=p.useRef();o.current||(o.current=e(r,i));const a=p.useRef(r),{instance:u}=o.current;return p.useEffect(function(){a.current!==r&&(t(u,r,a.current),a.current=r)},[u,r,i]),o}}function MC(e,t){p.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var o;(o=t.layerContainer)==null||o.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function RC(e){return function(n){const r=Xu(),i=e(Ju(n,r),r);return PC(r.map,n.attribution),hp(i.current,n.eventHandlers),MC(i.current,r),i}}function LB(e,t){const n=p.useRef();p.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function FB(e){return function(n){const r=Xu(),i=e(Ju(n,r),r);return hp(i.current,n.eventHandlers),MC(i.current,r),LB(i.current,n),i}}function VB(e,t){const n=ed(e,t),r=RC(n);return jC(r)}function BB(e,t){const n=ed(e),r=AB(n,t);return OB(r)}function $B(e,t){const n=ed(e,t),r=FB(n);return jC(r)}function zB(e,t){const n=ed(e,t),r=RC(n);return kB(r)}function WB(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function UB(){return Xu().map}function Mh(){return Mh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mh.apply(this,arguments)}function HB({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:o,placeholder:a,style:u,whenReady:d,zoom:f,...m},g){const[b]=p.useState({className:i,id:o,style:u}),[x,w]=p.useState(null);p.useImperativeHandle(g,()=>(x==null?void 0:x.map)??null,[x]);const v=p.useCallback(C=>{if(C!==null&&x===null){const P=new ta.Map(C,m);n!=null&&f!=null?P.setView(n,f):e!=null&&P.fitBounds(e,t),d!=null&&P.whenReady(d),w(RB(P))}},[]);p.useEffect(()=>()=>{x==null||x.map.remove()},[x]);const _=x?me.createElement(NC,{value:x},r):a??null;return me.createElement("div",Mh({},b,{ref:v}),_)}const ZB=p.forwardRef(HB),fx=VB(function({position:t,...n},r){const i=new ta.Marker(t,n);return Qu(i,EC(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),GB=$B(function({positions:t,...n},r){const i=new ta.Polygon(t,n);return Qu(i,EC(r,{overlayContainer:i}))},function(t,n,r){n.positions!==r.positions&&t.setLatLngs(n.positions)}),bf=BB(function(t,n){const r=new ta.Popup(t,n.overlayContainer);return Qu(r,n)},function(t,n,{position:r},i){p.useEffect(function(){const{instance:a}=t;function u(f){f.popup===a&&(a.update(),i(!0))}function d(f){f.popup===a&&i(!1)}return n.map.on({popupopen:u,popupclose:d}),n.overlayContainer==null?(r!=null&&a.setLatLng(r),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var m;n.map.off({popupopen:u,popupclose:d}),(m=n.overlayContainer)==null||m.unbindPopup(),n.map.removeLayer(a)}},[t,n,i,r])}),YB=zB(function({url:t,...n},r){const i=new ta.TileLayer(t,Ju(n,r));return Qu(i,r)},function(t,n,r){WB(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)});function KB({polygons:e}){const t=UB();return p.useEffect(()=>{if(e.length>0){const n=jh.latLngBounds(e.flatMap(r=>r.coordinates));t.fitBounds(n,{padding:[50,50]})}},[e,t]),null}const qB=()=>{var U,X,re,z,ne,J,H,K,G,$,V,Y,se;const[e,t]=p.useState({timeRange:"7d"}),[n,r]=p.useState(!0),[i,o]=p.useState(!1),[a,u]=p.useState([]),[d,f]=p.useState([]),[m,g]=p.useState([]),[b,x]=p.useState({divisionStats:[],rangeStats:[],beatStats:[],heatmap:[],observationTypes:[]}),[w,v]=p.useState(null),[_,C]=p.useState(!1),[P,E]=p.useState([]),[M,T]=p.useState([]);p.useEffect(()=>{async function I(){r(!0);const{data:Q,error:ie}=await Pe.from("divisions").select("id, name").order("name");if(ie){console.error("Error fetching divisions:",ie);return}u(Q||[]),r(!1)}I()},[]),p.useEffect(()=>{async function I(){if(!e.division){f([]),g([]);return}r(!0);const{data:Q,error:ie}=await Pe.from("ranges").select(`
          new_id,
          name,
          new_division_id
        `).eq("new_division_id",e.division).order("name");if(ie){console.error("Error fetching ranges:",ie);return}const ce=(Q||[]).map(ae=>({id:ae.new_id,name:ae.name}));f(ce),g([]),r(!1)}I()},[e.division]),p.useEffect(()=>{async function I(){if(!e.range||!e.division){g([]);return}r(!0);const{data:Q,error:ie}=await Pe.from("beats").select(`
          new_id,
          name,
          new_range_id,
          new_division_id
        `).eq("new_range_id",e.range).eq("new_division_id",e.division).order("name");if(ie){console.error("Error fetching beats:",ie);return}const ce=(Q||[]).map(ae=>({id:ae.new_id,name:ae.name}));g(ce),r(!1)}I()},[e.range,e.division]);const A=async()=>{r(!0);try{const{data:I,error:Q}=await Pe.from("v_dashboard_kpi_summary").select("*").single();if(Q)throw Q;const{data:ie,error:ce}=await Pe.from("v_dashboard_division_stats").select("*");if(ce)throw ce;const{data:ae,error:oe}=await Pe.from("v_dashboard_range_stats").select("*");if(oe)throw oe;const{data:xe,error:Ee}=await Pe.from("v_dashboard_beat_stats").select("*");if(Ee)throw Ee;const{data:Re,error:Te}=await Pe.from("v_dashboard_observations_by_type").select("*");if(Te)throw Te;const{data:Ce,error:Ze}=await Pe.from("v_elephant_activity_observations_by_type").select("*");if(Ze)throw Ze;const lt=(Ce==null?void 0:Ce.reduce((Lt,kt)=>Lt+(kt.count||0),0))||0,$t={kpiSummary:{...I,total_loss_reports:lt,loss_types:Ce||[]},divisionStats:ie||[],rangeStats:ae||[],beatStats:xe||[],heatmap:[],observationTypes:Re||[]};x($t),v(null)}catch(I){console.error("Error fetching dashboard data:",I),v("Failed to load dashboard data")}finally{r(!1)}};p.useEffect(()=>{A()},[]);const R=(I,Q)=>{t(ie=>({...ie,[I]:Q}))},k=async()=>{o(!0);try{await A()}finally{o(!1)}};return p.useEffect(()=>{async function I(){if(!e.division){E([]);return}try{let Q=[];const{data:ie,error:ce}=await Pe.from("division_polygons").select(`
            id,
            new_division_id,
            divisions!inner(
              name
            )
          `).eq("new_division_id",e.division).single();if(console.log("Division data:",ie),console.log("Division error:",ce),ie)try{const{data:ae,error:oe}=await Pe.from("division_polygons").select("polygon").eq("id",ie.id).single();if(oe){console.error("Error fetching polygon:",oe);return}const{data:xe,error:Ee}=await Pe.rpc("st_asgeojson",{geom:ae.polygon});if(Ee){console.error("Error converting to GeoJSON:",Ee);return}const Re=JSON.parse(xe);console.log("Parsed division GeoJSON:",Re),Q.push({id:ie.id,name:ie.divisions.name,coordinates:Re.coordinates[0].map(([Te,Ce])=>[Ce,Te]),type:"division"})}catch(ae){console.error("Error processing division polygon:",ae)}if(e.range){const{data:ae,error:oe}=await Pe.from("range_polygons").select(`
              id,
              new_range_id,
              ranges!inner(
                name
              )
            `).eq("new_range_id",e.range).single();if(console.log("Range data:",ae),console.log("Range error:",oe),ae)try{const{data:xe,error:Ee}=await Pe.from("range_polygons").select("polygon").eq("id",ae.id).single();if(Ee){console.error("Error fetching polygon:",Ee);return}const{data:Re,error:Te}=await Pe.rpc("st_asgeojson",{geom:xe.polygon});if(Te){console.error("Error converting to GeoJSON:",Te);return}const Ce=JSON.parse(Re);console.log("Parsed range GeoJSON:",Ce),Q.push({id:ae.id,name:ae.ranges.name,coordinates:Ce.coordinates[0].map(([Ze,lt])=>[lt,Ze]),type:"range"})}catch(xe){console.error("Error processing range polygon:",xe)}}if(e.beat){const{data:ae,error:oe}=await Pe.from("beat_polygons").select(`
              id,
              new_beat_id,
              beats!inner(
                name
              )
            `).eq("new_beat_id",e.beat).single();if(console.log("Beat data:",ae),console.log("Beat error:",oe),ae)try{const{data:xe,error:Ee}=await Pe.from("beat_polygons").select("polygon").eq("id",ae.id).single();if(Ee){console.error("Error fetching polygon:",Ee);return}const{data:Re,error:Te}=await Pe.rpc("st_asgeojson",{geom:xe.polygon});if(Te){console.error("Error converting to GeoJSON:",Te);return}const Ce=JSON.parse(Re);console.log("Parsed beat GeoJSON:",Ce),Q.push({id:ae.id,name:ae.beats.name,coordinates:Ce.coordinates[0].map(([Ze,lt])=>[lt,Ze]),type:"beat"})}catch(xe){console.error("Error processing beat polygon:",xe)}}console.log("Final polygons array:",Q),E(Q)}catch(Q){console.error("Error fetching polygon data:",Q)}}I()},[e.division,e.range,e.beat]),p.useEffect(()=>{async function I(){const{data:Q,error:ie}=await Pe.from("activity_observation").select(`
          id,
          latitude,
          longitude,
          observation_type,
          activity_date,
          activity_time,
          total_elephants,
          male_elephants,
          female_elephants,
          unknown_elephants,
          calves,
          indirect_sighting_type,
          loss_type,
          compass_bearing,
          photo_url
        `);if(ie){console.error("Error fetching activity markers:",ie),T([]);return}T((Q||[]).filter(ce=>ce.latitude&&ce.longitude))}I()},[]),n?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Aa,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),l.jsx("p",{children:"Loading dashboard data..."})]})}):w?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsxs("div",{className:"text-center",children:[l.jsx(ka,{className:"h-8 w-8 text-red-500 mx-auto mb-4"}),l.jsxs("p",{className:"text-red-500",children:["Error: ",w]}),l.jsx(Le,{onClick:k,className:"mt-4",children:"Try Again"})]})}):l.jsxs("div",{className:"space-y-8",children:[l.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(Ai,{value:e.timeRange,onValueChange:I=>R("timeRange",I),children:[l.jsx(ni,{className:"w-[180px] bg-white border-gray-200 shadow-sm hover:border-blue-500 transition-colors",children:l.jsx(Ii,{placeholder:"Select time range"})}),l.jsxs(ri,{children:[l.jsx(Dt,{value:"24h",children:"Last 24 Hours"}),l.jsx(Dt,{value:"7d",children:"Last 7 Days"}),l.jsx(Dt,{value:"30d",children:"Last 30 Days"}),l.jsx(Dt,{value:"90d",children:"Last 90 Days"})]})]}),l.jsxs(Le,{onClick:k,className:"bg-gradient-to-r from-blue-600 to-green-600 text-white hover:from-blue-700 hover:to-green-700 shadow-sm",children:[l.jsx(Aa,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs(Ke,{className:"bg-gradient-to-br from-blue-100 to-blue-50 shadow-lg rounded-2xl hover:scale-105 hover:shadow-xl transition-all duration-300 border-0",children:[l.jsxs(pt,{className:"flex flex-row items-center justify-between pb-2",children:[l.jsx(gt,{className:"text-base font-semibold text-blue-700",children:"Total Activities"}),l.jsx("div",{className:"bg-blue-200 p-2 rounded-full",children:l.jsx(Gh,{className:"h-5 w-5 text-blue-600"})})]}),l.jsxs(Xe,{children:[l.jsx("div",{className:"text-3xl font-extrabold text-blue-900",children:((U=b.kpiSummary)==null?void 0:U.total_activities)||0}),l.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Across all divisions"})]})]}),l.jsxs(Ke,{className:"bg-gradient-to-br from-green-100 to-green-50 shadow-lg rounded-2xl hover:scale-105 hover:shadow-xl transition-all duration-300 border-0",children:[l.jsxs(pt,{className:"flex flex-row items-center justify-between pb-2",children:[l.jsx(gt,{className:"text-base font-semibold text-green-700",children:"Active Users"}),l.jsx("div",{className:"bg-green-200 p-2 rounded-full",children:l.jsx(Pb,{className:"h-5 w-5 text-green-600"})})]}),l.jsxs(Xe,{children:[l.jsx("div",{className:"text-3xl font-extrabold text-green-900",children:((X=b.kpiSummary)==null?void 0:X.total_users)||0}),l.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Total registered users"})]})]}),l.jsxs(Ke,{className:"bg-gradient-to-br from-red-100 to-red-50 shadow-lg rounded-2xl hover:scale-105 hover:shadow-xl transition-transform",children:[l.jsxs(pt,{className:"flex flex-row items-center justify-between pb-2",children:[l.jsx(gt,{className:"text-base font-semibold text-red-700",children:"Total Loss"}),l.jsx("div",{className:"bg-red-200 p-2 rounded-full",children:l.jsx(ka,{className:"h-5 w-5 text-red-600"})})]}),l.jsxs(Xe,{children:[l.jsx("div",{className:"text-3xl font-extrabold text-red-900",children:((re=b.kpiSummary)==null?void 0:re.total_loss_reports)||0}),l.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Total loss reports"})]})]}),l.jsxs(Ke,{className:"bg-gradient-to-br from-purple-100 to-purple-50 shadow-lg rounded-2xl hover:scale-105 hover:shadow-xl transition-transform",children:[l.jsxs(pt,{className:"flex flex-row items-center justify-between pb-2",children:[l.jsx(gt,{className:"text-base font-semibold text-purple-700",children:"Today's Activities"}),l.jsx("div",{className:"bg-purple-200 p-2 rounded-full",children:l.jsx(Yh,{className:"h-5 w-5 text-purple-600"})})]}),l.jsxs(Xe,{children:[l.jsx("div",{className:"text-3xl font-extrabold text-purple-900",children:((z=b.kpiSummary)==null?void 0:z.today_activities)||0}),l.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Activities in last 24 hours"})]})]})]}),l.jsxs(Ke,{className:"border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[l.jsx(pt,{className:"bg-gradient-to-r from-blue-50 to-green-50 border-b border-gray-200",children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{children:[l.jsx(gt,{className:"text-xl font-semibold text-gray-900",children:"Activity Map"}),l.jsx(vm,{children:"Geographic distribution of elephant activities"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Rt,{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[l.jsx(_o,{className:"w-4 h-4 text-blue-600"}),"Division"]}),l.jsxs(Ai,{value:e.division||"",onValueChange:I=>{t(Q=>({...Q,division:I,range:void 0,beat:void 0}))},children:[l.jsx(ni,{className:"w-full bg-white border-gray-200 shadow-sm hover:border-blue-500 transition-colors",children:l.jsx(Ii,{placeholder:"Select Division"})}),l.jsx(ri,{children:a.map(I=>l.jsx(Dt,{value:I.id,children:I.name},I.id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Rt,{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[l.jsx(_o,{className:"w-4 h-4 text-blue-600"}),"Range"]}),l.jsxs(Ai,{value:e.range||"",onValueChange:I=>{t(Q=>({...Q,range:I,beat:void 0}))},disabled:!e.division,children:[l.jsx(ni,{className:"w-full bg-white border-gray-200 shadow-sm hover:border-blue-500 transition-colors disabled:opacity-50",children:l.jsx(Ii,{placeholder:"Select Range"})}),l.jsx(ri,{children:d.map(I=>l.jsx(Dt,{value:I.id,children:I.name},I.id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Rt,{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[l.jsx(_o,{className:"w-4 h-4 text-blue-600"}),"Beat"]}),l.jsxs(Ai,{value:e.beat||"",onValueChange:I=>{t(Q=>({...Q,beat:I}))},disabled:!e.range,children:[l.jsx(ni,{className:"w-full bg-white border-gray-200 shadow-sm hover:border-blue-500 transition-colors disabled:opacity-50",children:l.jsx(Ii,{placeholder:"Select Beat"})}),l.jsx(ri,{children:m.map(I=>l.jsx(Dt,{value:I.id,children:I.name},I.id))})]})]})]})]})}),l.jsxs(Xe,{className:"p-6",children:[l.jsx("div",{className:"h-[500px] rounded-lg overflow-hidden border border-gray-200",children:l.jsxs(ZB,{center:[10.8505,76.2711],zoom:8,style:{width:"100%",height:"100%"},children:[l.jsx(YB,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),l.jsx(KB,{polygons:P}),P.map(I=>(console.log("Rendering polygon:",I),l.jsx(GB,{positions:I.coordinates,pathOptions:{color:I.type==="division"?"#2563eb":I.type==="range"?"#f97316":"#6b7280",fillColor:I.type==="division"?"#3b82f6":I.type==="range"?"#fb923c":"#9ca3af",fillOpacity:.2,weight:2},children:l.jsx(bf,{children:l.jsxs("div",{className:"p-2",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:I.name}),l.jsxs("p",{className:"text-sm text-gray-600",children:[I.type.charAt(0).toUpperCase()+I.type.slice(1)," Boundary"]})]})})},I.id))),b.heatmap.map((I,Q)=>l.jsx(fx,{position:[I.lat,I.lng],icon:jh.divIcon({className:"custom-marker",html:'<div class="w-4 h-4 rounded-full bg-blue-500 border-2 border-white shadow-lg"></div>',iconSize:[16,16]}),children:l.jsx(bf,{children:l.jsxs("div",{className:"p-2",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:I.division_name}),l.jsxs("p",{className:"text-sm text-gray-600",children:[I.observation_count," observations",I.total_elephants_seen>0&&`  ${I.total_elephants_seen} elephants seen`]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last observation: ",new Date(I.last_observation_date).toLocaleDateString()]})]})})},Q)),M.map(I=>l.jsx(fx,{position:[I.latitude,I.longitude],icon:jh.divIcon({className:"custom-marker",html:`
                      <div style="
                        width: 24px;
                        height: 24px;
                        background-color: #22c55e;
                        border: 3px solid white;
                        border-radius: 50%;
                        box-shadow: 0 0 10px rgba(0,0,0,0.3);
                        display: flex;
                        align-items: center;
                        justify-content: center;
                      ">
                        <div style="
                          width: 8px;
                          height: 8px;
                          background-color: white;
                          border-radius: 50%;
                        "></div>
                      </div>
                    `,iconSize:[24,24],iconAnchor:[12,12],popupAnchor:[0,-12]}),children:l.jsx(bf,{children:l.jsxs("div",{className:"p-2",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:I.observation_type}),l.jsxs("p",{className:"text-sm text-gray-600",children:[I.activity_date," ",I.activity_time]}),I.total_elephants&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Total Elephants: ",I.total_elephants,I.male_elephants&&` (${I.male_elephants} male)`,I.female_elephants&&` (${I.female_elephants} female)`,I.calves&&` (${I.calves} calves)`]}),I.indirect_sighting_type&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Evidence: ",I.indirect_sighting_type]}),I.loss_type&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Loss Type: ",I.loss_type]})]})})},I.id))]})}),l.jsx("div",{className:"mt-4 flex items-center justify-center gap-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-6 h-6 rounded-full bg-green-600 border-2 border-white shadow-md flex items-center justify-center",children:l.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),l.jsxs("span",{className:"text-sm text-gray-600",children:["Activity Points (",M.length,")"]})]})})]})]}),l.jsxs(IS,{defaultValue:"overview",className:"space-y-8",children:[l.jsxs(up,{className:"bg-white p-2 rounded-xl shadow-md flex gap-4",children:[l.jsx(Po,{value:"overview",className:"data-[state=active]:bg-blue-100 data-[state=active]:text-blue-800 font-semibold px-6 py-2 rounded-lg transition-all duration-300",children:"Overview"}),l.jsx(Po,{value:"activity",className:"data-[state=active]:bg-blue-100 data-[state=active]:text-blue-800 font-semibold px-6 py-2 rounded-lg transition-all duration-300",children:"Activity"})]}),l.jsxs(wh,{value:"overview",className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs(Ke,{className:"bg-white shadow-lg rounded-2xl border-0",children:[l.jsx(pt,{children:l.jsx(gt,{className:"text-lg font-bold text-gray-900",children:"Observations by Type"})}),l.jsx(Xe,{children:l.jsx("div",{className:"h-[300px]",children:l.jsx(fs,{width:"100%",height:"100%",children:l.jsxs(oo,{data:b.observationTypes,barCategoryGap:24,children:[l.jsx(ao,{strokeDasharray:"3 3",className:"stroke-gray-200"}),l.jsx(lo,{dataKey:"observation_type",className:"text-sm"}),l.jsx(co,{className:"text-sm"}),l.jsx(uo,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),l.jsx(ma,{}),l.jsx(hs,{dataKey:"count",fill:"#4f46e5",radius:[8,8,0,0],isAnimationActive:!0})]})})})})]}),l.jsxs(Ke,{className:"bg-white shadow-md rounded-2xl",children:[l.jsx(pt,{children:l.jsx(gt,{className:"text-lg font-bold text-blue-900",children:"Most Active Areas"})}),l.jsx(Xe,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Most Active Division"}),l.jsx("p",{className:"text-2xl font-extrabold text-blue-900 mt-1",children:((J=(ne=b.divisionStats)==null?void 0:ne[0])==null?void 0:J.division_name)||"N/A"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm text-blue-700",children:"Observations"}),l.jsx("p",{className:"text-2xl font-extrabold text-blue-900 mt-1",children:((K=(H=b.divisionStats)==null?void 0:H[0])==null?void 0:K.total_observations)||0})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Most Active Range"}),l.jsx("p",{className:"text-2xl font-extrabold text-blue-900 mt-1",children:(($=(G=b.rangeStats)==null?void 0:G[0])==null?void 0:$.range_name)||"N/A"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm text-blue-700",children:"Observations"}),l.jsx("p",{className:"text-2xl font-extrabold text-blue-900 mt-1",children:((Y=(V=b.rangeStats)==null?void 0:V[0])==null?void 0:Y.total_observations)||0})]})]})]})})]})]}),l.jsxs(Ke,{className:"bg-white shadow-md rounded-2xl",children:[l.jsx(pt,{children:l.jsx(gt,{className:"text-lg font-bold text-red-700",children:"Loss Reports Summary"})}),l.jsx(Xe,{children:l.jsx("div",{className:"h-[300px]",children:l.jsx(fs,{width:"100%",height:"100%",children:l.jsxs(oo,{data:b.divisionStats,barCategoryGap:24,children:[l.jsx(ao,{strokeDasharray:"3 3",className:"stroke-gray-200"}),l.jsx(lo,{dataKey:"division_name",className:"text-sm"}),l.jsx(co,{className:"text-sm"}),l.jsx(uo,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),l.jsx(ma,{}),l.jsx(hs,{dataKey:"loss_reports",fill:"#ef4444",radius:[8,8,0,0],isAnimationActive:!0})]})})})})]})]}),l.jsxs(wh,{value:"activity",className:"space-y-8",children:[l.jsxs(Ke,{className:"bg-white shadow-md rounded-2xl",children:[l.jsx(pt,{children:l.jsx(gt,{className:"text-lg font-bold text-blue-900",children:"Activity by Division"})}),l.jsx(Xe,{children:l.jsx("div",{className:"h-[300px]",children:l.jsx(fs,{width:"100%",height:"100%",children:l.jsxs(oo,{data:b.divisionStats,barCategoryGap:24,children:[l.jsx(ao,{strokeDasharray:"3 3",className:"stroke-gray-200"}),l.jsx(lo,{dataKey:"division_name",className:"text-sm"}),l.jsx(co,{className:"text-sm"}),l.jsx(uo,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),l.jsx(ma,{}),l.jsx(hs,{dataKey:"total_observations",fill:"#4f46e5",radius:[8,8,0,0],isAnimationActive:!0})]})})})})]}),l.jsxs(Ke,{className:"bg-white shadow-md rounded-2xl",children:[l.jsx(pt,{children:l.jsx(gt,{className:"text-lg font-bold text-blue-900",children:"Activity by Range"})}),l.jsx(Xe,{children:l.jsx("div",{className:"h-[300px]",children:l.jsx(fs,{width:"100%",height:"100%",children:l.jsxs(oo,{data:b.rangeStats,barCategoryGap:24,children:[l.jsx(ao,{strokeDasharray:"3 3",className:"stroke-gray-200"}),l.jsx(lo,{dataKey:"range_name",className:"text-sm"}),l.jsx(co,{className:"text-sm"}),l.jsx(uo,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),l.jsx(ma,{}),l.jsx(hs,{dataKey:"total_observations",fill:"#4f46e5",radius:[8,8,0,0],isAnimationActive:!0})]})})})})]}),l.jsxs(Ke,{className:"bg-white shadow-md rounded-2xl",children:[l.jsx(pt,{children:l.jsx(gt,{className:"text-lg font-bold text-red-700",children:"Loss Reports by Type"})}),l.jsx(Xe,{children:l.jsx("div",{className:"h-[300px]",children:l.jsx(fs,{width:"100%",height:"100%",children:l.jsxs(oo,{data:((se=b.kpiSummary)==null?void 0:se.loss_types)||[],barCategoryGap:24,children:[l.jsx(ao,{strokeDasharray:"3 3",className:"stroke-gray-200"}),l.jsx(lo,{dataKey:"type",className:"text-sm"}),l.jsx(co,{className:"text-sm"}),l.jsx(uo,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),l.jsx(ma,{}),l.jsx(hs,{dataKey:"count",fill:"#ef4444",radius:[8,8,0,0],isAnimationActive:!0})]})})})})]})]})]})]})};function XB(){return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 flex flex-col",children:[l.jsx(Cn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-r from-blue-600 to-green-600 text-white shadow-lg",children:l.jsx("div",{className:"container mx-auto px-6 py-4",children:l.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-between sm:items-center",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-full blur-lg"}),l.jsx(Su,{className:"w-8 h-8 text-white relative z-10"})]}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Eravat Dashboard"}),l.jsx("p",{className:"text-base font-medium text-white/90 mt-1",children:"Real-time monitoring and analysis of elephant activities"})]})]})})})}),l.jsx(Cn.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},className:"container mx-auto p-2 sm:p-4",children:l.jsx(qB,{})})]})}const JB=[{title:"User Management",description:"Add, edit, or remove users. Assign roles and manage permissions.",icon:l.jsx(Pb,{className:"h-6 w-6"}),onClick:e=>e("/admin/users"),color:"from-blue-600 to-green-600",iconBg:"bg-blue-100",iconColor:"text-blue-600"},{title:"Observation & Report Management",description:"View, edit, or delete observations and reports submitted by users.",icon:l.jsx(Sb,{className:"h-6 w-6"}),onClick:e=>e("/admin/observations"),color:"from-blue-600 to-green-600",iconBg:"bg-blue-100",iconColor:"text-blue-600"},{title:"System Settings",description:"Configure system settings, notifications, and maintenance.",icon:l.jsx(Cb,{className:"h-6 w-6"}),onClick:e=>e("/admin/settings"),color:"from-blue-600 to-green-600",iconBg:"bg-blue-100",iconColor:"text-blue-600"},{title:"Activity Dashboard",description:"View detailed statistics and activity reports.",icon:l.jsx(Gh,{className:"h-6 w-6"}),onClick:e=>e("/admin/statistics"),color:"from-blue-600 to-green-600",iconBg:"bg-blue-100",iconColor:"text-blue-600"},{title:"Alerts & Notifications",description:"Manage system alerts and notification settings.",icon:l.jsx(ka,{className:"h-6 w-6"}),onClick:e=>e("/admin/notifications"),color:"from-blue-600 to-green-600",iconBg:"bg-blue-100",iconColor:"text-blue-600"}];function QB(){const e=yr();return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 py-12",children:l.jsxs("div",{className:"container mx-auto p-2 sm:p-4",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl font-extrabold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent tracking-tight mb-3",children:"Admin Panel"}),l.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Manage your application's core functions and monitor system performance"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:JB.map(t=>l.jsxs(Ke,{className:"group cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-xl border-blue-100",onClick:()=>t.onClick(e),children:[l.jsx(pt,{className:"pb-4",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`${t.iconBg} p-3 rounded-xl`,children:l.jsx("div",{className:t.iconColor,children:t.icon})}),l.jsx(gt,{className:"text-xl font-semibold text-gray-900",children:t.title})]})}),l.jsxs(Xe,{children:[l.jsx("p",{className:"text-gray-600",children:t.description}),l.jsx("div",{className:`mt-4 h-1 w-full bg-gradient-to-r ${t.color} rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300`})]})]},t.title))})]})})}const Ht="https://pauafmgoewfdhwnsexzy.supabase.co".trim(),It="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBhdWFmbWdvZXdmZGh3bnNleHp5Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0NjY4MDAxOCwiZXhwIjoyMDYyMjU2MDE4fQ.AmhwlpdZxs__o8VPv4N2Zf-3zb8JgiDqyJfNnEHQX1k".trim();console.log("=== Supabase Admin Configuration Debug ===");console.log("URL:",{value:Ht,length:Ht==null?void 0:Ht.length,type:typeof Ht,firstChar:Ht==null?void 0:Ht[0],lastChar:Ht==null?void 0:Ht[Ht.length-1]});console.log("Service Role Key:",{exists:!!It,length:It==null?void 0:It.length,type:typeof It,parts:It==null?void 0:It.split(".").length,firstChar:It==null?void 0:It[0],lastChar:It==null?void 0:It[It.length-1]});if(!Ht||typeof Ht!="string")throw console.error("Invalid VITE_SUPABASE_URL:",{value:Ht,type:typeof Ht}),new Error(`Invalid VITE_SUPABASE_URL: ${Ht}`);if(!It||typeof It!="string")throw console.error("Invalid VITE_SUPABASE_SERVICE_ROLE_KEY:",{keyPresent:!!It,type:typeof It}),new Error("VITE_SUPABASE_SERVICE_ROLE_KEY is missing or invalid");const Rh=It.split(".");if(Rh.length!==3)throw console.error("Invalid JWT format for service role key:",{parts:Rh.length,expectedParts:3}),new Error("Service role key must be a valid JWT token");try{const t=Rh[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(window.atob(t).split("").map(i=>"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)).join("")),r=JSON.parse(n);if(r.role!=="service_role")throw new Error(`Invalid role in service key: ${r.role}`);console.log("Service key JWT payload validated:",{role:r.role,exp:new Date(r.exp*1e3).toISOString(),ref:r.ref})}catch(e){throw console.error("Failed to validate service key JWT:",e),e}yu(Ht,It,{auth:{autoRefreshToken:!1,persistSession:!1,detectSessionInUrl:!1}});var td="Checkbox",[e$,DU]=Bt(td),[t$,mp]=e$(td);function n$(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:o,form:a,name:u,onCheckedChange:d,required:f,value:m="on",internal_do_not_use_render:g}=e,[b,x]=Qn({prop:n,defaultProp:i??!1,onChange:d,caller:td}),[w,v]=p.useState(null),[_,C]=p.useState(null),P=p.useRef(!1),E=w?!!a||!!w.closest("form"):!0,M={checked:b,disabled:o,setChecked:x,control:w,setControl:v,name:u,form:a,value:m,hasConsumerStoppedPropagationRef:P,required:f,defaultChecked:Di(i)?!1:i,isFormControl:E,bubbleInput:_,setBubbleInput:C};return l.jsx(t$,{scope:t,...M,children:r$(g)?g(M):r})}var OC="CheckboxTrigger",kC=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:o,value:a,disabled:u,checked:d,required:f,setControl:m,setChecked:g,hasConsumerStoppedPropagationRef:b,isFormControl:x,bubbleInput:w}=mp(OC,e),v=Oe(i,m),_=p.useRef(d);return p.useEffect(()=>{const C=o==null?void 0:o.form;if(C){const P=()=>g(_.current);return C.addEventListener("reset",P),()=>C.removeEventListener("reset",P)}},[o,g]),l.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":Di(d)?"mixed":d,"aria-required":f,"data-state":FC(d),"data-disabled":u?"":void 0,disabled:u,value:a,...r,ref:v,onKeyDown:he(t,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:he(n,C=>{g(P=>Di(P)?!0:!P),w&&x&&(b.current=C.isPropagationStopped(),b.current||C.stopPropagation())})})});kC.displayName=OC;var pp=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:a,disabled:u,value:d,onCheckedChange:f,form:m,...g}=e;return l.jsx(n$,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:u,required:a,onCheckedChange:f,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:b})=>l.jsxs(l.Fragment,{children:[l.jsx(kC,{...g,ref:t,__scopeCheckbox:n}),b&&l.jsx(LC,{__scopeCheckbox:n})]})})});pp.displayName=td;var AC="CheckboxIndicator",IC=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,o=mp(AC,n);return l.jsx(vn,{present:r||Di(o.checked)||o.checked===!0,children:l.jsx(Ve.span,{"data-state":FC(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});IC.displayName=AC;var DC="CheckboxBubbleInput",LC=p.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:a,required:u,disabled:d,name:f,value:m,form:g,bubbleInput:b,setBubbleInput:x}=mp(DC,e),w=Oe(n,x),v=Fu(o),_=Yo(r);p.useEffect(()=>{const P=b;if(!P)return;const E=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(E,"checked").set,A=!i.current;if(v!==o&&T){const R=new Event("click",{bubbles:A});P.indeterminate=Di(o),T.call(P,Di(o)?!1:o),P.dispatchEvent(R)}},[b,v,o,i]);const C=p.useRef(Di(o)?!1:o);return l.jsx(Ve.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??C.current,required:u,disabled:d,name:f,value:m,form:g,...t,tabIndex:-1,ref:w,style:{...t.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});LC.displayName=DC;function r$(e){return typeof e=="function"}function Di(e){return e==="indeterminate"}function FC(e){return Di(e)?"indeterminate":e?"checked":"unchecked"}const du=p.forwardRef(({className:e,...t},n)=>l.jsx(pp,{ref:n,className:Me("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(IC,{className:Me("flex items-center justify-center text-current"),children:l.jsx(Kh,{className:"h-4 w-4"})})}));du.displayName=pp.displayName;function i$(){const[e,t]=p.useState(""),[n,r]=p.useState(""),[i,o]=p.useState(!1),[a,u]=p.useState(!1),[d,f]=p.useState(null),m=yr(),g=Bh(),{signIn:b}=fi();p.useEffect(()=>{(async()=>{await p0()||ye.error("Failed to connect to Supabase. Please check your configuration.")})()},[]);const x=v=>{const _=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,C=/^\d{10}$/;return _.test(v)||C.test(v)},w=async v=>{var _;v.preventDefault(),o(!0),f(null);try{if(!x(e)){f("Please enter a valid email or phone number"),o(!1);return}console.log("Starting login process for:",e);const C=await b(e,n,a);if(console.log("Sign in completed:",C),!C)throw new Error("No user data received after login");const P=((_=g.state)==null?void 0:_.from)||"/";console.log("Redirecting to:",P),setTimeout(()=>{o(!1),m(P)},500)}catch(C){console.error("Login error:",C),f(C instanceof Error?C.message:"An error occurred during login"),ye.error(C instanceof Error?C.message:"Login failed. Please try again."),o(!1)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50",children:l.jsxs("div",{className:"container mx-auto py-12 px-4",children:[l.jsxs(Cn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-16",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsxs(Cn.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.5,delay:.2},className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-green-500 rounded-full blur-xl opacity-20 animate-pulse"}),l.jsx(Su,{className:"w-24 h-24 text-blue-600 relative z-10"})]})}),l.jsx(Cn.h1,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"text-6xl font-bold mb-6 bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Eravat"}),l.jsx(Cn.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Wild Elephant Monitoring System"}),l.jsx(Cn.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.5},className:"text-lg text-gray-500 mt-2",children:"    (2025)"})]}),l.jsx(Cn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"max-w-md mx-auto",children:l.jsxs(Ke,{className:"bg-white shadow-lg border-0 rounded-2xl overflow-hidden",children:[l.jsxs(pt,{className:"space-y-1",children:[l.jsx(gt,{className:"text-2xl font-bold text-gray-900",children:"Welcome back"}),l.jsx(vm,{className:"text-gray-600",children:"Enter your email or phone number to access the system"})]}),l.jsx(Xe,{children:l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"identifier",className:"text-gray-700",children:"Email or Phone Number"}),l.jsx(ht,{id:"identifier",type:"text",placeholder:"Enter email or 10-digit phone number",value:e,onChange:v=>t(v.target.value),required:!0,className:"focus:ring-blue-600 border-gray-200",disabled:i})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"password",className:"text-gray-700",children:"Password"}),l.jsx(ht,{id:"password",type:"password",value:n,onChange:v=>r(v.target.value),required:!0,className:"focus:ring-blue-600 border-gray-200",disabled:i})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(du,{id:"remember",checked:a,onCheckedChange:v=>u(v),disabled:i,className:"border-gray-200"}),l.jsx(Rt,{htmlFor:"remember",className:"text-sm font-normal text-gray-600",children:"Remember me"})]}),l.jsx(Le,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700 text-white rounded-xl py-6 text-lg font-semibold transition-all duration-300",disabled:i,children:i?l.jsxs(l.Fragment,{children:[l.jsx(bo,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):"Login"})]})})]})})]})})}var s$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yn=s$.reduce((e,t)=>{const n=Ps(`Primitive.${t}`),r=p.forwardRef((i,o)=>{const{asChild:a,...u}=i,d=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(d,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function VC(e,t){e&&di.flushSync(()=>e.dispatchEvent(t))}function BC(e){const t=e+"CollectionProvider",[n,r]=Bt(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:_,children:C}=v,P=me.useRef(null),E=me.useRef(new Map).current;return l.jsx(i,{scope:_,itemMap:E,collectionRef:P,children:C})};a.displayName=t;const u=e+"CollectionSlot",d=Ps(u),f=me.forwardRef((v,_)=>{const{scope:C,children:P}=v,E=o(u,C),M=Oe(_,E.collectionRef);return l.jsx(d,{ref:M,children:P})});f.displayName=u;const m=e+"CollectionItemSlot",g="data-radix-collection-item",b=Ps(m),x=me.forwardRef((v,_)=>{const{scope:C,children:P,...E}=v,M=me.useRef(null),T=Oe(_,M),A=o(m,C);return me.useEffect(()=>(A.itemMap.set(M,{ref:M,...E}),()=>void A.itemMap.delete(M))),l.jsx(b,{[g]:"",ref:T,children:P})});x.displayName=m;function w(v){const _=o(e+"CollectionConsumer",v);return me.useCallback(()=>{const P=_.collectionRef.current;if(!P)return[];const E=Array.from(P.querySelectorAll(`[${g}]`));return Array.from(_.itemMap.values()).sort((A,R)=>E.indexOf(A.ref.current)-E.indexOf(R.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:a,Slot:f,ItemSlot:x},w,r]}var o$="DismissableLayer",Oh="dismissableLayer.update",a$="dismissableLayer.pointerDownOutside",l$="dismissableLayer.focusOutside",hx,$C=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zC=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:u,...d}=e,f=p.useContext($C),[m,g]=p.useState(null),b=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=p.useState({}),w=Oe(t,R=>g(R)),v=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),C=v.indexOf(_),P=m?v.indexOf(m):-1,E=f.layersWithOutsidePointerEventsDisabled.size>0,M=P>=C,T=d$(R=>{const k=R.target,U=[...f.branches].some(X=>X.contains(k));!M||U||(i==null||i(R),a==null||a(R),R.defaultPrevented||u==null||u())},b),A=f$(R=>{const k=R.target;[...f.branches].some(X=>X.contains(k))||(o==null||o(R),a==null||a(R),R.defaultPrevented||u==null||u())},b);return Wh(R=>{P===f.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},b),p.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(hx=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),mx(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=hx)}},[m,b,n,f]),p.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),mx())},[m,f]),p.useEffect(()=>{const R=()=>x({});return document.addEventListener(Oh,R),()=>document.removeEventListener(Oh,R)},[]),l.jsx(yn.div,{...d,ref:w,style:{pointerEvents:E?M?"auto":"none":void 0,...e.style},onFocusCapture:he(e.onFocusCapture,A.onFocusCapture),onBlurCapture:he(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:he(e.onPointerDownCapture,T.onPointerDownCapture)})});zC.displayName=o$;var c$="DismissableLayerBranch",u$=p.forwardRef((e,t)=>{const n=p.useContext($C),r=p.useRef(null),i=Oe(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(yn.div,{...e,ref:i})});u$.displayName=c$;function d$(e,t=globalThis==null?void 0:globalThis.document){const n=St(e),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let d=function(){WC(a$,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function f$(e,t=globalThis==null?void 0:globalThis.document){const n=St(e),r=p.useRef(!1);return p.useEffect(()=>{const i=o=>{o.target&&!r.current&&WC(l$,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function mx(){const e=new CustomEvent(Oh);document.dispatchEvent(e)}function WC(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?VC(i,o):i.dispatchEvent(o)}var _f="focusScope.autoFocusOnMount",wf="focusScope.autoFocusOnUnmount",px={bubbles:!1,cancelable:!0},h$="FocusScope",UC=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=e,[u,d]=p.useState(null),f=St(i),m=St(o),g=p.useRef(null),b=Oe(t,v=>d(v)),x=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(E){if(x.paused||!u)return;const M=E.target;u.contains(M)?g.current=M:Ei(g.current,{select:!0})},_=function(E){if(x.paused||!u)return;const M=E.relatedTarget;M!==null&&(u.contains(M)||Ei(g.current,{select:!0}))},C=function(E){if(document.activeElement===document.body)for(const T of E)T.removedNodes.length>0&&Ei(u)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const P=new MutationObserver(C);return u&&P.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),P.disconnect()}}},[r,u,x.paused]),p.useEffect(()=>{if(u){vx.add(x);const v=document.activeElement;if(!u.contains(v)){const C=new CustomEvent(_f,px);u.addEventListener(_f,f),u.dispatchEvent(C),C.defaultPrevented||(m$(x$(HC(u)),{select:!0}),document.activeElement===v&&Ei(u))}return()=>{u.removeEventListener(_f,f),setTimeout(()=>{const C=new CustomEvent(wf,px);u.addEventListener(wf,m),u.dispatchEvent(C),C.defaultPrevented||Ei(v??document.body,{select:!0}),u.removeEventListener(wf,m),vx.remove(x)},0)}}},[u,f,m,x]);const w=p.useCallback(v=>{if(!n&&!r||x.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,C=document.activeElement;if(_&&C){const P=v.currentTarget,[E,M]=p$(P);E&&M?!v.shiftKey&&C===M?(v.preventDefault(),n&&Ei(E,{select:!0})):v.shiftKey&&C===E&&(v.preventDefault(),n&&Ei(M,{select:!0})):C===P&&v.preventDefault()}},[n,r,x.paused]);return l.jsx(yn.div,{tabIndex:-1,...a,ref:b,onKeyDown:w})});UC.displayName=h$;function m$(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ei(r,{select:t}),document.activeElement!==n)return}function p$(e){const t=HC(e),n=gx(t,e),r=gx(t.reverse(),e);return[n,r]}function HC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function gx(e,t){for(const n of e)if(!g$(n,{upTo:t}))return n}function g$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function v$(e){return e instanceof HTMLInputElement&&"select"in e}function Ei(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&v$(e)&&t&&e.select()}}var vx=y$();function y$(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=yx(e,t),e.unshift(t)},remove(t){var n;e=yx(e,t),(n=e[0])==null||n.resume()}}}function yx(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function x$(e){return e.filter(t=>t.tagName!=="A")}var b$="Arrow",ZC=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return l.jsx(yn.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});ZC.displayName=b$;var _$=ZC,gp="Popper",[GC,YC]=Bt(gp),[w$,KC]=GC(gp),qC=e=>{const{__scopePopper:t,children:n}=e,[r,i]=p.useState(null);return l.jsx(w$,{scope:t,anchor:r,onAnchorChange:i,children:n})};qC.displayName=gp;var XC="PopperAnchor",JC=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=KC(XC,n),a=p.useRef(null),u=Oe(t,a);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:l.jsx(yn.div,{...i,ref:u})});JC.displayName=XC;var vp="PopperContent",[S$,C$]=GC(vp),QC=p.forwardRef((e,t)=>{var oe,xe,Ee,Re,Te,Ce;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:x="optimized",onPlaced:w,...v}=e,_=KC(vp,n),[C,P]=p.useState(null),E=Oe(t,Ze=>P(Ze)),[M,T]=p.useState(null),A=Yo(M),R=(A==null?void 0:A.width)??0,k=(A==null?void 0:A.height)??0,U=r+(o!=="center"?"-"+o:""),X=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},re=Array.isArray(f)?f:[f],z=re.length>0,ne={padding:X,boundary:re.filter(E$),altBoundary:z},{refs:J,floatingStyles:H,placement:K,isPositioned:G,middlewareData:$}=im({strategy:"fixed",placement:U,whileElementsMounted:(...Ze)=>Tu(...Ze,{animationFrame:x==="always"}),elements:{reference:_.anchor},middleware:[sm({mainAxis:i+k,alignmentAxis:a}),d&&om({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?am():void 0,...ne}),d&&lm({...ne}),cm({...ne,apply:({elements:Ze,rects:lt,availableWidth:xt,availableHeight:$t})=>{const{width:Lt,height:kt}=lt.reference,Nt=Ze.floating.style;Nt.setProperty("--radix-popper-available-width",`${xt}px`),Nt.setProperty("--radix-popper-available-height",`${$t}px`),Nt.setProperty("--radix-popper-anchor-width",`${Lt}px`),Nt.setProperty("--radix-popper-anchor-height",`${kt}px`)}}),M&&dm({element:M,padding:u}),T$({arrowWidth:R,arrowHeight:k}),b&&um({strategy:"referenceHidden",...ne})]}),[V,Y]=n1(K),se=St(w);Tt(()=>{G&&(se==null||se())},[G,se]);const I=(oe=$.arrow)==null?void 0:oe.x,Q=(xe=$.arrow)==null?void 0:xe.y,ie=((Ee=$.arrow)==null?void 0:Ee.centerOffset)!==0,[ce,ae]=p.useState();return Tt(()=>{C&&ae(window.getComputedStyle(C).zIndex)},[C]),l.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:G?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(Re=$.transformOrigin)==null?void 0:Re.x,(Te=$.transformOrigin)==null?void 0:Te.y].join(" "),...((Ce=$.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(S$,{scope:n,placedSide:V,onArrowChange:T,arrowX:I,arrowY:Q,shouldHideArrow:ie,children:l.jsx(yn.div,{"data-side":V,"data-align":Y,...v,ref:E,style:{...v.style,animation:G?void 0:"none"}})})})});QC.displayName=vp;var e1="PopperArrow",P$={top:"bottom",right:"left",bottom:"top",left:"right"},t1=p.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=C$(e1,r),a=P$[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(_$,{...i,ref:n,style:{...i.style,display:"block"}})})});t1.displayName=e1;function E$(e){return e!==null}var T$=e=>({name:"transformOrigin",options:e,fn(t){var _,C,P;const{placement:n,rects:r,middlewareData:i}=t,a=((_=i.arrow)==null?void 0:_.centerOffset)!==0,u=a?0:e.arrowWidth,d=a?0:e.arrowHeight,[f,m]=n1(n),g={start:"0%",center:"50%",end:"100%"}[m],b=(((C=i.arrow)==null?void 0:C.x)??0)+u/2,x=(((P=i.arrow)==null?void 0:P.y)??0)+d/2;let w="",v="";return f==="bottom"?(w=a?g:`${b}px`,v=`${-d}px`):f==="top"?(w=a?g:`${b}px`,v=`${r.floating.height+d}px`):f==="right"?(w=`${-d}px`,v=a?g:`${x}px`):f==="left"&&(w=`${r.floating.width+d}px`,v=a?g:`${x}px`),{data:{x:w,y:v}}}});function n1(e){const[t,n="center"]=e.split("-");return[t,n]}var N$=qC,j$=JC,M$=QC,R$=t1,O$="Portal",r1=p.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[i,o]=p.useState(!1);Tt(()=>o(!0),[]);const a=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return a?vu.createPortal(l.jsx(yn.div,{...r,ref:t}),a):null});r1.displayName=O$;var Sf="rovingFocusGroup.onEntryFocus",k$={bubbles:!1,cancelable:!0},Pl="RovingFocusGroup",[kh,i1,A$]=BC(Pl),[I$,s1]=Bt(Pl,[A$]),[D$,L$]=I$(Pl),o1=p.forwardRef((e,t)=>l.jsx(kh.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(kh.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(F$,{...e,ref:t})})}));o1.displayName=Pl;var F$=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...g}=e,b=p.useRef(null),x=Oe(t,b),w=Jo(o),[v,_]=Qn({prop:a,defaultProp:u??null,onChange:d,caller:Pl}),[C,P]=p.useState(!1),E=St(f),M=i1(n),T=p.useRef(!1),[A,R]=p.useState(0);return p.useEffect(()=>{const k=b.current;if(k)return k.addEventListener(Sf,E),()=>k.removeEventListener(Sf,E)},[E]),l.jsx(D$,{scope:n,orientation:r,dir:w,loop:i,currentTabStopId:v,onItemFocus:p.useCallback(k=>_(k),[_]),onItemShiftTab:p.useCallback(()=>P(!0),[]),onFocusableItemAdd:p.useCallback(()=>R(k=>k+1),[]),onFocusableItemRemove:p.useCallback(()=>R(k=>k-1),[]),children:l.jsx(yn.div,{tabIndex:C||A===0?-1:0,"data-orientation":r,...g,ref:x,style:{outline:"none",...e.style},onMouseDown:he(e.onMouseDown,()=>{T.current=!0}),onFocus:he(e.onFocus,k=>{const U=!T.current;if(k.target===k.currentTarget&&U&&!C){const X=new CustomEvent(Sf,k$);if(k.currentTarget.dispatchEvent(X),!X.defaultPrevented){const re=M().filter(K=>K.focusable),z=re.find(K=>K.active),ne=re.find(K=>K.id===v),H=[z,ne,...re].filter(Boolean).map(K=>K.ref.current);c1(H,m)}}T.current=!1}),onBlur:he(e.onBlur,()=>P(!1))})})}),a1="RovingFocusGroupItem",l1=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:a,...u}=e,d=qn(),f=o||d,m=L$(a1,n),g=m.currentTabStopId===f,b=i1(n),{onFocusableItemAdd:x,onFocusableItemRemove:w,currentTabStopId:v}=m;return p.useEffect(()=>{if(r)return x(),()=>w()},[r,x,w]),l.jsx(kh.ItemSlot,{scope:n,id:f,focusable:r,active:i,children:l.jsx(yn.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:he(e.onMouseDown,_=>{r?m.onItemFocus(f):_.preventDefault()}),onFocus:he(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:he(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){m.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const C=$$(_,m.orientation,m.dir);if(C!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let E=b().filter(M=>M.focusable).map(M=>M.ref.current);if(C==="last")E.reverse();else if(C==="prev"||C==="next"){C==="prev"&&E.reverse();const M=E.indexOf(_.currentTarget);E=m.loop?z$(E,M+1):E.slice(M+1)}setTimeout(()=>c1(E))}}),children:typeof a=="function"?a({isCurrentTabStop:g,hasTabStop:v!=null}):a})})});l1.displayName=a1;var V$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function B$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $$(e,t,n){const r=B$(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return V$[r]}function c1(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function z$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var W$=o1,U$=l1,Ah=["Enter"," "],H$=["ArrowDown","PageUp","Home"],u1=["ArrowUp","PageDown","End"],Z$=[...H$,...u1],G$={ltr:[...Ah,"ArrowRight"],rtl:[...Ah,"ArrowLeft"]},Y$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},El="Menu",[ll,K$,q$]=BC(El),[Ds,d1]=Bt(El,[q$,YC,s1]),nd=YC(),f1=s1(),[X$,Ls]=Ds(El),[J$,Tl]=Ds(El),h1=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:o,modal:a=!0}=e,u=nd(t),[d,f]=p.useState(null),m=p.useRef(!1),g=St(o),b=Jo(i);return p.useEffect(()=>{const x=()=>{m.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>m.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),l.jsx(N$,{...u,children:l.jsx(X$,{scope:t,open:n,onOpenChange:g,content:d,onContentChange:f,children:l.jsx(J$,{scope:t,onClose:p.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:m,dir:b,modal:a,children:r})})})};h1.displayName=El;var Q$="MenuAnchor",yp=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=nd(n);return l.jsx(j$,{...i,...r,ref:t})});yp.displayName=Q$;var xp="MenuPortal",[e3,m1]=Ds(xp,{forceMount:void 0}),p1=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,o=Ls(xp,t);return l.jsx(e3,{scope:t,forceMount:n,children:l.jsx(vn,{present:n||o.open,children:l.jsx(r1,{asChild:!0,container:i,children:r})})})};p1.displayName=xp;var Jn="MenuContent",[t3,bp]=Ds(Jn),g1=p.forwardRef((e,t)=>{const n=m1(Jn,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=Ls(Jn,e.__scopeMenu),a=Tl(Jn,e.__scopeMenu);return l.jsx(ll.Provider,{scope:e.__scopeMenu,children:l.jsx(vn,{present:r||o.open,children:l.jsx(ll.Slot,{scope:e.__scopeMenu,children:a.modal?l.jsx(n3,{...i,ref:t}):l.jsx(r3,{...i,ref:t})})})})}),n3=p.forwardRef((e,t)=>{const n=Ls(Jn,e.__scopeMenu),r=p.useRef(null),i=Oe(t,r);return p.useEffect(()=>{const o=r.current;if(o)return Zu(o)},[]),l.jsx(_p,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:he(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),r3=p.forwardRef((e,t)=>{const n=Ls(Jn,e.__scopeMenu);return l.jsx(_p,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),i3=Ps("MenuContent.ScrollLock"),_p=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:b,onDismiss:x,disableOutsideScroll:w,...v}=e,_=Ls(Jn,n),C=Tl(Jn,n),P=nd(n),E=f1(n),M=K$(n),[T,A]=p.useState(null),R=p.useRef(null),k=Oe(t,R,_.onContentChange),U=p.useRef(0),X=p.useRef(""),re=p.useRef(0),z=p.useRef(null),ne=p.useRef("right"),J=p.useRef(0),H=w?Cl:p.Fragment,K=w?{as:i3,allowPinchZoom:!0}:void 0,G=V=>{var oe,xe;const Y=X.current+V,se=M().filter(Ee=>!Ee.disabled),I=document.activeElement,Q=(oe=se.find(Ee=>Ee.ref.current===I))==null?void 0:oe.textValue,ie=se.map(Ee=>Ee.textValue),ce=g3(ie,Y,Q),ae=(xe=se.find(Ee=>Ee.textValue===ce))==null?void 0:xe.ref.current;(function Ee(Re){X.current=Re,window.clearTimeout(U.current),Re!==""&&(U.current=window.setTimeout(()=>Ee(""),1e3))})(Y),ae&&setTimeout(()=>ae.focus())};p.useEffect(()=>()=>window.clearTimeout(U.current),[]),Hu();const $=p.useCallback(V=>{var se,I;return ne.current===((se=z.current)==null?void 0:se.side)&&y3(V,(I=z.current)==null?void 0:I.area)},[]);return l.jsx(t3,{scope:n,searchRef:X,onItemEnter:p.useCallback(V=>{$(V)&&V.preventDefault()},[$]),onItemLeave:p.useCallback(V=>{var Y;$(V)||((Y=R.current)==null||Y.focus(),A(null))},[$]),onTriggerLeave:p.useCallback(V=>{$(V)&&V.preventDefault()},[$]),pointerGraceTimerRef:re,onPointerGraceIntentChange:p.useCallback(V=>{z.current=V},[]),children:l.jsx(H,{...K,children:l.jsx(UC,{asChild:!0,trapped:i,onMountAutoFocus:he(o,V=>{var Y;V.preventDefault(),(Y=R.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:l.jsx(zC,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:b,onDismiss:x,children:l.jsx(W$,{asChild:!0,...E,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:T,onCurrentTabStopIdChange:A,onEntryFocus:he(d,V=>{C.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(M$,{role:"menu","aria-orientation":"vertical","data-state":O1(_.open),"data-radix-menu-content":"",dir:C.dir,...P,...v,ref:k,style:{outline:"none",...v.style},onKeyDown:he(v.onKeyDown,V=>{const se=V.target.closest("[data-radix-menu-content]")===V.currentTarget,I=V.ctrlKey||V.altKey||V.metaKey,Q=V.key.length===1;se&&(V.key==="Tab"&&V.preventDefault(),!I&&Q&&G(V.key));const ie=R.current;if(V.target!==ie||!Z$.includes(V.key))return;V.preventDefault();const ae=M().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);u1.includes(V.key)&&ae.reverse(),m3(ae)}),onBlur:he(e.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(U.current),X.current="")}),onPointerMove:he(e.onPointerMove,cl(V=>{const Y=V.target,se=J.current!==V.clientX;if(V.currentTarget.contains(Y)&&se){const I=V.clientX>J.current?"right":"left";ne.current=I,J.current=V.clientX}}))})})})})})})});g1.displayName=Jn;var s3="MenuGroup",wp=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(yn.div,{role:"group",...r,ref:t})});wp.displayName=s3;var o3="MenuLabel",v1=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(yn.div,{...r,ref:t})});v1.displayName=o3;var fu="MenuItem",xx="menu.itemSelect",rd=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,o=p.useRef(null),a=Tl(fu,e.__scopeMenu),u=bp(fu,e.__scopeMenu),d=Oe(t,o),f=p.useRef(!1),m=()=>{const g=o.current;if(!n&&g){const b=new CustomEvent(xx,{bubbles:!0,cancelable:!0});g.addEventListener(xx,x=>r==null?void 0:r(x),{once:!0}),VC(g,b),b.defaultPrevented?f.current=!1:a.onClose()}};return l.jsx(y1,{...i,ref:d,disabled:n,onClick:he(e.onClick,m),onPointerDown:g=>{var b;(b=e.onPointerDown)==null||b.call(e,g),f.current=!0},onPointerUp:he(e.onPointerUp,g=>{var b;f.current||(b=g.currentTarget)==null||b.click()}),onKeyDown:he(e.onKeyDown,g=>{const b=u.searchRef.current!=="";n||b&&g.key===" "||Ah.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});rd.displayName=fu;var y1=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=e,a=bp(fu,n),u=f1(n),d=p.useRef(null),f=Oe(t,d),[m,g]=p.useState(!1),[b,x]=p.useState("");return p.useEffect(()=>{const w=d.current;w&&x((w.textContent??"").trim())},[o.children]),l.jsx(ll.ItemSlot,{scope:n,disabled:r,textValue:i??b,children:l.jsx(U$,{asChild:!0,...u,focusable:!r,children:l.jsx(yn.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:f,onPointerMove:he(e.onPointerMove,cl(w=>{r?a.onItemLeave(w):(a.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:he(e.onPointerLeave,cl(w=>a.onItemLeave(w))),onFocus:he(e.onFocus,()=>g(!0)),onBlur:he(e.onBlur,()=>g(!1))})})})}),a3="MenuCheckboxItem",x1=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return l.jsx(C1,{scope:e.__scopeMenu,checked:n,children:l.jsx(rd,{role:"menuitemcheckbox","aria-checked":hu(n)?"mixed":n,...i,ref:t,"data-state":Cp(n),onSelect:he(i.onSelect,()=>r==null?void 0:r(hu(n)?!0:!n),{checkForDefaultPrevented:!1})})})});x1.displayName=a3;var b1="MenuRadioGroup",[l3,c3]=Ds(b1,{value:void 0,onValueChange:()=>{}}),_1=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,o=St(r);return l.jsx(l3,{scope:e.__scopeMenu,value:n,onValueChange:o,children:l.jsx(wp,{...i,ref:t})})});_1.displayName=b1;var w1="MenuRadioItem",S1=p.forwardRef((e,t)=>{const{value:n,...r}=e,i=c3(w1,e.__scopeMenu),o=n===i.value;return l.jsx(C1,{scope:e.__scopeMenu,checked:o,children:l.jsx(rd,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Cp(o),onSelect:he(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});S1.displayName=w1;var Sp="MenuItemIndicator",[C1,u3]=Ds(Sp,{checked:!1}),P1=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,o=u3(Sp,n);return l.jsx(vn,{present:r||hu(o.checked)||o.checked===!0,children:l.jsx(yn.span,{...i,ref:t,"data-state":Cp(o.checked)})})});P1.displayName=Sp;var d3="MenuSeparator",E1=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(yn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});E1.displayName=d3;var f3="MenuArrow",T1=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=nd(n);return l.jsx(R$,{...i,...r,ref:t})});T1.displayName=f3;var h3="MenuSub",[LU,N1]=Ds(h3),Ea="MenuSubTrigger",j1=p.forwardRef((e,t)=>{const n=Ls(Ea,e.__scopeMenu),r=Tl(Ea,e.__scopeMenu),i=N1(Ea,e.__scopeMenu),o=bp(Ea,e.__scopeMenu),a=p.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=o,f={__scopeMenu:e.__scopeMenu},m=p.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return p.useEffect(()=>m,[m]),p.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),d(null)}},[u,d]),l.jsx(yp,{asChild:!0,...f,children:l.jsx(y1,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":O1(n.open),...e,ref:Yx(t,i.onTriggerChange),onClick:g=>{var b;(b=e.onClick)==null||b.call(e,g),!(e.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:he(e.onPointerMove,cl(g=>{o.onItemEnter(g),!g.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:he(e.onPointerLeave,cl(g=>{var x,w;m();const b=(x=n.content)==null?void 0:x.getBoundingClientRect();if(b){const v=(w=n.content)==null?void 0:w.dataset.side,_=v==="right",C=_?-5:5,P=b[_?"left":"right"],E=b[_?"right":"left"];o.onPointerGraceIntentChange({area:[{x:g.clientX+C,y:g.clientY},{x:P,y:b.top},{x:E,y:b.top},{x:E,y:b.bottom},{x:P,y:b.bottom}],side:v}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(g),g.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:he(e.onKeyDown,g=>{var x;const b=o.searchRef.current!=="";e.disabled||b&&g.key===" "||G$[r.dir].includes(g.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),g.preventDefault())})})})});j1.displayName=Ea;var M1="MenuSubContent",R1=p.forwardRef((e,t)=>{const n=m1(Jn,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=Ls(Jn,e.__scopeMenu),a=Tl(Jn,e.__scopeMenu),u=N1(M1,e.__scopeMenu),d=p.useRef(null),f=Oe(t,d);return l.jsx(ll.Provider,{scope:e.__scopeMenu,children:l.jsx(vn,{present:r||o.open,children:l.jsx(ll.Slot,{scope:e.__scopeMenu,children:l.jsx(_p,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:f,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var g;a.isUsingKeyboardRef.current&&((g=d.current)==null||g.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:he(e.onFocusOutside,m=>{m.target!==u.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:he(e.onEscapeKeyDown,m=>{a.onClose(),m.preventDefault()}),onKeyDown:he(e.onKeyDown,m=>{var x;const g=m.currentTarget.contains(m.target),b=Y$[a.dir].includes(m.key);g&&b&&(o.onOpenChange(!1),(x=u.trigger)==null||x.focus(),m.preventDefault())})})})})})});R1.displayName=M1;function O1(e){return e?"open":"closed"}function hu(e){return e==="indeterminate"}function Cp(e){return hu(e)?"indeterminate":e?"checked":"unchecked"}function m3(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function p3(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function g3(e,t,n){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=p3(e,Math.max(o,0));i.length===1&&(a=a.filter(f=>f!==n));const d=a.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function v3(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const u=t[o],d=t[a],f=u.x,m=u.y,g=d.x,b=d.y;m>r!=b>r&&n<(g-f)*(r-m)/(b-m)+f&&(i=!i)}return i}function y3(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return v3(n,t)}function cl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var x3=h1,b3=yp,_3=p1,w3=g1,S3=wp,C3=v1,P3=rd,E3=x1,T3=_1,N3=S1,j3=P1,M3=E1,R3=T1,O3=j1,k3=R1,id="DropdownMenu",[A3,FU]=Bt(id,[d1]),xn=d1(),[I3,k1]=A3(id),A1=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:a,modal:u=!0}=e,d=xn(t),f=p.useRef(null),[m,g]=Qn({prop:i,defaultProp:o??!1,onChange:a,caller:id});return l.jsx(I3,{scope:t,triggerId:qn(),triggerRef:f,contentId:qn(),open:m,onOpenChange:g,onOpenToggle:p.useCallback(()=>g(b=>!b),[g]),modal:u,children:l.jsx(x3,{...d,open:m,onOpenChange:g,dir:r,modal:u,children:n})})};A1.displayName=id;var I1="DropdownMenuTrigger",D1=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,o=k1(I1,n),a=xn(n);return l.jsx(b3,{asChild:!0,...a,children:l.jsx(yn.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Yx(t,o.triggerRef),onPointerDown:he(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(o.onOpenToggle(),o.open||u.preventDefault())}),onKeyDown:he(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&o.onOpenToggle(),u.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});D1.displayName=I1;var D3="DropdownMenuPortal",L1=e=>{const{__scopeDropdownMenu:t,...n}=e,r=xn(t);return l.jsx(_3,{...r,...n})};L1.displayName=D3;var F1="DropdownMenuContent",V1=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=k1(F1,n),o=xn(n),a=p.useRef(!1);return l.jsx(w3,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:t,onCloseAutoFocus:he(e.onCloseAutoFocus,u=>{var d;a.current||(d=i.triggerRef.current)==null||d.focus(),a.current=!1,u.preventDefault()}),onInteractOutside:he(e.onInteractOutside,u=>{const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,m=d.button===2||f;(!i.modal||m)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});V1.displayName=F1;var L3="DropdownMenuGroup",F3=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xn(n);return l.jsx(S3,{...i,...r,ref:t})});F3.displayName=L3;var V3="DropdownMenuLabel",B1=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xn(n);return l.jsx(C3,{...i,...r,ref:t})});B1.displayName=V3;var B3="DropdownMenuItem",$1=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xn(n);return l.jsx(P3,{...i,...r,ref:t})});$1.displayName=B3;var $3="DropdownMenuCheckboxItem",z1=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xn(n);return l.jsx(E3,{...i,...r,ref:t})});z1.displayName=$3;var z3="DropdownMenuRadioGroup",W3=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xn(n);return l.jsx(T3,{...i,...r,ref:t})});W3.displayName=z3;var U3="DropdownMenuRadioItem",W1=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xn(n);return l.jsx(N3,{...i,...r,ref:t})});W1.displayName=U3;var H3="DropdownMenuItemIndicator",U1=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xn(n);return l.jsx(j3,{...i,...r,ref:t})});U1.displayName=H3;var Z3="DropdownMenuSeparator",H1=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xn(n);return l.jsx(M3,{...i,...r,ref:t})});H1.displayName=Z3;var G3="DropdownMenuArrow",Y3=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xn(n);return l.jsx(R3,{...i,...r,ref:t})});Y3.displayName=G3;var K3="DropdownMenuSubTrigger",Z1=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xn(n);return l.jsx(O3,{...i,...r,ref:t})});Z1.displayName=K3;var q3="DropdownMenuSubContent",G1=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xn(n);return l.jsx(k3,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});G1.displayName=q3;var X3=A1,J3=D1,Q3=L1,Y1=V1,K1=B1,q1=$1,X1=z1,J1=W1,Q1=U1,eP=H1,tP=Z1,nP=G1;const rP=X3,iP=J3,e6=p.forwardRef(({className:e,inset:t,children:n,...r},i)=>l.jsxs(tP,{ref:i,className:Me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,l.jsx(wu,{className:"ml-auto h-4 w-4"})]}));e6.displayName=tP.displayName;const t6=p.forwardRef(({className:e,...t},n)=>l.jsx(nP,{ref:n,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));t6.displayName=nP.displayName;const Pp=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(Q3,{children:l.jsx(Y1,{ref:r,sideOffset:t,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Pp.displayName=Y1.displayName;const Ni=p.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(q1,{ref:r,className:Me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Ni.displayName=q1.displayName;const n6=p.forwardRef(({className:e,children:t,checked:n,...r},i)=>l.jsxs(X1,{ref:i,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Q1,{children:l.jsx(Kh,{className:"h-4 w-4"})})}),t]}));n6.displayName=X1.displayName;const r6=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(J1,{ref:r,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Q1,{children:l.jsx(wb,{className:"h-2 w-2 fill-current"})})}),t]}));r6.displayName=J1.displayName;const sP=p.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(K1,{ref:r,className:Me("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));sP.displayName=K1.displayName;const Ih=p.forwardRef(({className:e,...t},n)=>l.jsx(eP,{ref:n,className:Me("-mx-1 my-1 h-px bg-muted",e),...t}));Ih.displayName=eP.displayName;function i6(e){const t=s6(e),n=p.forwardRef((r,i)=>{const{children:o,...a}=r,u=p.Children.toArray(o),d=u.find(a6);if(d){const f=d.props.children,m=u.map(g=>g===d?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return l.jsx(t,{...a,ref:i,children:p.isValidElement(f)?p.cloneElement(f,void 0,m):null})}return l.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function s6(e){const t=p.forwardRef((n,r)=>{const{children:i,...o}=n,a=p.isValidElement(i)?c6(i):void 0,u=Oe(a,r);if(p.isValidElement(i)){const d=l6(o,i.props);return i.type!==p.Fragment&&(d.ref=u),p.cloneElement(i,d)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var o6=Symbol("radix.slottable");function a6(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===o6}function l6(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function c6(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var sd="Dialog",[oP,VU]=Bt(sd),[u6,xr]=oP(sd),aP=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,u=p.useRef(null),d=p.useRef(null),[f,m]=Qn({prop:r,defaultProp:i??!1,onChange:o,caller:sd});return l.jsx(u6,{scope:t,triggerRef:u,contentRef:d,contentId:qn(),titleId:qn(),descriptionId:qn(),open:f,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(g=>!g),[m]),modal:a,children:n})};aP.displayName=sd;var lP="DialogTrigger",d6=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=xr(lP,n),o=Oe(t,i.triggerRef);return l.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Np(i.open),...r,ref:o,onClick:he(e.onClick,i.onOpenToggle)})});d6.displayName=lP;var Ep="DialogPortal",[f6,cP]=oP(Ep,{forceMount:void 0}),uP=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=xr(Ep,t);return l.jsx(f6,{scope:t,forceMount:n,children:p.Children.map(r,a=>l.jsx(vn,{present:n||o.open,children:l.jsx(xu,{asChild:!0,container:i,children:a})}))})};uP.displayName=Ep;var mu="DialogOverlay",dP=p.forwardRef((e,t)=>{const n=cP(mu,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=xr(mu,e.__scopeDialog);return o.modal?l.jsx(vn,{present:r||o.open,children:l.jsx(m6,{...i,ref:t})}):null});dP.displayName=mu;var h6=i6("DialogOverlay.RemoveScroll"),m6=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=xr(mu,n);return l.jsx(Cl,{as:h6,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Ve.div,{"data-state":Np(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ks="DialogContent",fP=p.forwardRef((e,t)=>{const n=cP(ks,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=xr(ks,e.__scopeDialog);return l.jsx(vn,{present:r||o.open,children:o.modal?l.jsx(p6,{...i,ref:t}):l.jsx(g6,{...i,ref:t})})});fP.displayName=ks;var p6=p.forwardRef((e,t)=>{const n=xr(ks,e.__scopeDialog),r=p.useRef(null),i=Oe(t,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return Zu(o)},[]),l.jsx(hP,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:he(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,u=a.button===0&&a.ctrlKey===!0;(a.button===2||u)&&o.preventDefault()}),onFocusOutside:he(e.onFocusOutside,o=>o.preventDefault())})}),g6=p.forwardRef((e,t)=>{const n=xr(ks,e.__scopeDialog),r=p.useRef(!1),i=p.useRef(!1);return l.jsx(hP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,u;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;((f=n.triggerRef.current)==null?void 0:f.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),hP=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=e,u=xr(ks,n),d=p.useRef(null),f=Oe(t,d);return Hu(),l.jsxs(l.Fragment,{children:[l.jsx(dp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:l.jsx(hl,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Np(u.open),...a,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(v6,{titleId:u.titleId}),l.jsx(x6,{contentRef:d,descriptionId:u.descriptionId})]})]})}),Tp="DialogTitle",mP=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=xr(Tp,n);return l.jsx(Ve.h2,{id:i.titleId,...r,ref:t})});mP.displayName=Tp;var pP="DialogDescription",gP=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=xr(pP,n);return l.jsx(Ve.p,{id:i.descriptionId,...r,ref:t})});gP.displayName=pP;var vP="DialogClose",yP=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=xr(vP,n);return l.jsx(Ve.button,{type:"button",...r,ref:t,onClick:he(e.onClick,()=>i.onOpenChange(!1))})});yP.displayName=vP;function Np(e){return e?"open":"closed"}var xP="DialogTitleWarning",[BU,bP]=GT(xP,{contentName:ks,titleName:Tp,docsSlug:"dialog"}),v6=({titleId:e})=>{const t=bP(xP),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},y6="DialogDescriptionWarning",x6=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bP(y6).contentName}}.`;return p.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},b6=aP,_6=uP,_P=dP,wP=fP,SP=mP,CP=gP,w6=yP;const S6=b6,C6=_6,PP=p.forwardRef(({className:e,...t},n)=>l.jsx(_P,{ref:n,className:Me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));PP.displayName=_P.displayName;const EP=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(C6,{children:[l.jsx(PP,{}),l.jsxs(wP,{ref:r,className:Me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(w6,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(qh,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));EP.displayName=wP.displayName;const TP=({className:e,...t})=>l.jsx("div",{className:Me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});TP.displayName="DialogHeader";const NP=p.forwardRef(({className:e,...t},n)=>l.jsx(SP,{ref:n,className:Me("text-lg font-semibold leading-none tracking-tight",e),...t}));NP.displayName=SP.displayName;const P6=p.forwardRef(({className:e,...t},n)=>l.jsx(CP,{ref:n,className:Me("text-sm text-muted-foreground",e),...t}));P6.displayName=CP.displayName;const E6="https://pauafmgoewfdhwnsexzy.supabase.co",T6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBhdWFmbWdvZXdmZGh3bnNleHp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY2ODAwMTgsImV4cCI6MjA2MjI1NjAxOH0.iSTx9Upe8wekbKvk5ZiUMeWGi-WB67gqdZG8Bf-DO-0",ro=yu(E6,T6);class xo{constructor(){this.table="activity_reports"}static getInstance(){return xo.instance||(xo.instance=new xo),xo.instance}async create(t){const{data:n,error:r}=await ro.from(this.table).insert(t).select().single();if(r)throw new Error(`Error creating activity report: ${r.message}`);return n}async getById(t){const{data:n,error:r}=await ro.from(this.table).select().eq("id",t).maybeSingle();if(r)throw new Error(`Error fetching activity report: ${r.message}`);return n||null}async update(t,n){const{data:r,error:i}=await ro.from(this.table).update(n).eq("id",t).select().single();if(i)throw new Error(`Error updating activity report: ${i.message}`);return r}async delete(t){const{error:n}=await ro.from(this.table).delete().eq("id",t);if(n)throw new Error(`Error deleting activity report: ${n.message}`)}async list(t){let n=ro.from(this.table).select();t!=null&&t.startDate&&(n=n.gte("activity_date",t.startDate.toISOString())),t!=null&&t.endDate&&(n=n.lte("activity_date",t.endDate.toISOString())),t!=null&&t.division&&(n=n.eq("associated_division",t.division)),t!=null&&t.range&&(n=n.eq("associated_range",t.range)),t!=null&&t.beat&&(n=n.eq("associated_beat",t.beat));const{data:r,error:i}=await n;if(i)throw new Error(`Error listing activity reports: ${i.message}`);return r}async getReportsByLocation(t,n,r){const{data:i,error:o}=await ro.rpc("get_reports_within_radius",{p_latitude:t,p_longitude:n,p_radius_km:r});if(o)throw new Error(`Error fetching reports by location: ${o.message}`);return i}}function N6(){const{user:e}=fi(),[t,n]=p.useState([]),[r,i]=p.useState(0),[o,a]=p.useState(!0),[u,d]=p.useState(null),[f,m]=p.useState(null),[g,b]=p.useState(!1),[x,w]=p.useState(!1),[v,_]=p.useState([]),[C,P]=p.useState([]),[E,M]=p.useState([]);p.useEffect(()=>{async function z(){const[ne,J,H]=await Promise.all([Pe.from("divisions").select("id, name"),Pe.from("ranges").select("new_id, name"),Pe.from("beats").select("new_id, name")]);ne.error||_(ne.data||[]),J.error||P((J.data||[]).map(K=>({id:K.new_id,name:K.name}))),H.error||M((H.data||[]).map(K=>({id:K.new_id,name:K.name})))}z()},[]);const T=z=>{var ne;return((ne=v.find(J=>J.id===z))==null?void 0:ne.name)||z||""},A=z=>{const ne=C.find(J=>J.id===z||J.new_id===z);return(ne==null?void 0:ne.name)||z||""},R=z=>{var ne;return((ne=E.find(J=>J.id===z))==null?void 0:ne.name)||z||""},k=async()=>{if(e!=null&&e.id)try{a(!0);const{data:z,error:ne}=await Pe.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);if(ne)throw ne;n(z||[]),i((z==null?void 0:z.filter(J=>!J.is_read).length)||0)}catch(z){console.error("Error fetching notifications:",z),ye.error("Failed to load notifications")}finally{a(!1)}},U=async z=>{if(e!=null&&e.id)try{const{error:ne}=await Pe.from("notifications").update({is_read:!0}).eq("id",z).eq("user_id",e.id);if(ne)throw ne;n(J=>J.map(H=>H.id===z?{...H,is_read:!0}:H)),i(J=>Math.max(0,J-1))}catch(ne){console.error("Error marking notification as read:",ne),ye.error("Failed to mark notification as read")}},X=async()=>{if(e!=null&&e.id)try{const{error:z}=await Pe.from("notifications").update({is_read:!0}).eq("user_id",e.id).eq("is_read",!1);if(z)throw z;n(ne=>ne.map(J=>({...J,is_read:!0}))),i(0)}catch(z){console.error("Error marking all notifications as read:",z),ye.error("Failed to mark all notifications as read")}},re=async z=>{if(d(z),m(null),b(!0),z.activity_id){w(!0);try{const ne=await xo.getInstance().getById(z.activity_id);m(ne)}catch{ye.error("Failed to load activity details")}finally{w(!1)}}z.is_read||U(z.id)};return p.useEffect(()=>{if(e!=null&&e.id){k();const z=Pe.channel(`notifications-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},()=>{k()}).subscribe();return()=>{Pe.removeChannel(z)}}},[e==null?void 0:e.id]),e?l.jsxs(l.Fragment,{children:[l.jsxs(rP,{children:[l.jsx(iP,{asChild:!0,children:l.jsxs(Le,{variant:"ghost",size:"icon",className:"relative h-12 w-12","aria-label":"View notifications",children:[l.jsx(bb,{className:"h-7 w-7"}),r>0&&l.jsx("span",{className:"absolute -right-1 -top-1 flex h-6 w-6 items-center justify-center rounded-full bg-red-500 text-[12px] font-medium text-white",children:r})]})}),l.jsxs(Pp,{align:"end",className:"w-80",children:[l.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[l.jsx("h3",{className:"font-semibold",children:"Notifications"}),r>0&&l.jsx(Le,{variant:"ghost",size:"sm",onClick:X,className:"text-sm text-blue-600 hover:text-blue-700",children:"Mark all as read"})]}),l.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:o?l.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading notifications..."}):t.length===0?l.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications yet"}):t.map(z=>l.jsx(Ni,{className:`p-4 hover:bg-gray-50 ${z.is_read?"":"bg-blue-50"}`,onClick:()=>re(z),children:l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("p",{className:"text-sm font-medium",children:z.message}),l.jsxs("div",{className:"text-xs text-gray-600 flex flex-wrap gap-2",children:[z.division_id&&l.jsxs("span",{children:["Division: ",T(z.division_id)]}),z.range_id&&l.jsxs("span",{children:["Range: ",A(z.range_id)]}),z.activity_id&&l.jsxs("span",{children:["Activity: ",z.activity_id]})]}),l.jsx("p",{className:"text-xs text-gray-500",children:new Date(z.created_at).toLocaleString()})]})},z.id))})]})]}),l.jsx(S6,{open:g,onOpenChange:b,children:l.jsxs(EP,{children:[l.jsx(TP,{children:l.jsx(NP,{children:"Activity Details"})}),x?l.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading details..."}):f?l.jsx("div",{className:"space-y-2",children:Object.entries(f).map(([z,ne])=>{if(ne==null||ne==="")return null;let J=ne;return(z==="associated_division"||z==="associated_division_id")&&(J=T(ne)),(z==="associated_range"||z==="associated_range_id")&&(J=A(ne)),(z==="associated_beat"||z==="associated_beat_id")&&(J=R(ne)),l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{className:"font-medium capitalize",children:[z.replace(/_/g," "),":"]}),l.jsx("span",{children:typeof J=="object"&&J instanceof Date?J.toLocaleString():J.toString()})]},z)})}):l.jsx("div",{className:"p-4 text-center text-gray-500",children:"No activity details found for this notification."})]})})]}):null}function kn(){const{user:e,signOut:t,canManageUsers:n,canViewReports:r,canEditReports:i}=fi(),o=yr(),a=async()=>{await t(),o("/login")};return e?l.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:l.jsxs("div",{className:"container flex flex-col sm:flex-row h-auto sm:h-16 items-center justify-between px-4 sm:px-0 py-2 sm:py-0",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-center w-full sm:w-auto",children:[l.jsx("div",{className:"flex-shrink-0 flex items-center gap-2",children:l.jsxs(so,{to:"/",className:"flex items-center gap-2",children:[l.jsxs("span",{className:"relative flex items-center justify-center w-8 h-8",children:[l.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-green-500 rounded-full blur-md opacity-30 animate-pulse"}),l.jsx(Su,{className:"w-7 h-7 text-blue-600 relative z-10"})]}),l.jsx("span",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Eravat"})]})}),l.jsxs("div",{className:"sm:hidden ml-auto",children:[l.jsx("input",{id:"nav-toggle",type:"checkbox",className:"hidden peer"}),l.jsx("label",{htmlFor:"nav-toggle",className:"cursor-pointer p-2",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),l.jsx("div",{className:"absolute left-0 top-16 w-full bg-white border-b shadow-md z-40 hidden peer-checked:block",children:l.jsxs("nav",{className:"flex flex-col items-center py-2 gap-2",children:[(e==null?void 0:e.role)!=="data_collector"&&l.jsx(so,{to:"/dashboard",className:"block px-4 py-2 text-sm font-medium text-gray-900",children:"Dashboard"}),l.jsx(so,{to:"/report",className:"block px-4 py-2 text-sm font-medium text-gray-900",children:"Report Activity"})]})})]}),l.jsxs("nav",{className:"ml-0 sm:ml-6 hidden sm:flex space-x-8",children:[(e==null?void 0:e.role)!=="data_collector"&&l.jsx(so,{to:"/dashboard",className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-900",children:"Dashboard"}),l.jsx(so,{to:"/report",className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-900",children:"Report Activity"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 mt-2 sm:mt-0 w-full sm:w-auto justify-end",children:[l.jsx(N6,{}),l.jsxs(rP,{children:[l.jsx(iP,{asChild:!0,children:l.jsx(Le,{variant:"ghost",className:"relative h-12 px-4 rounded-full w-full sm:w-auto",children:l.jsx("span",{className:"text-xs sm:text-sm font-medium truncate max-w-[120px] sm:max-w-none",children:e==null?void 0:e.email})})}),l.jsxs(Pp,{className:"w-56",align:"end",forceMount:!0,children:[l.jsx(sP,{className:"font-normal",children:l.jsxs("div",{className:"flex flex-col space-y-1",children:[l.jsx("p",{className:"text-sm font-medium leading-none",children:(e==null?void 0:e.email)||(e==null?void 0:e.phone)}),l.jsx("p",{className:"text-xs leading-none text-muted-foreground capitalize",children:e==null?void 0:e.role.replace("_"," ")})]})}),l.jsx(Ih,{}),(e==null?void 0:e.role)==="admin"&&l.jsxs(l.Fragment,{children:[l.jsx(Ni,{onClick:()=>o("/admin"),children:"Admin Dashboard"}),l.jsx(Ni,{onClick:()=>o("/admin/users"),children:"User Management"}),l.jsx(Ni,{onClick:()=>o("/admin/observations"),children:"Observations"}),l.jsx(Ni,{onClick:()=>o("/admin/settings"),children:"Settings"}),l.jsx(Ni,{onClick:()=>o("/admin/logs"),children:"System Logs"}),l.jsx(Ih,{})]}),l.jsxs(Ni,{onClick:a,children:[l.jsx(JN,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Log out"})]})]})]})]})]})}):null}const j6="sb-pauafmgoewfdhwnexzy-auth-token",bx="cda0c1cd-c91a-41c5-9bb8-93a1df73df6d",M6="5d261670-4476-4892-b3a4-3009cf49413b";function R6(){try{const e=localStorage.getItem(j6);if(!e)return!1;const t=JSON.parse(e);if(!t.access_token)return!1;const n=Math.floor(Date.now()/1e3);return t.expires_at&&t.expires_at<n?(console.log("Local session exists but is expired"),!1):!0}catch(e){return console.error("Error checking localStorage session:",e),!1}}async function O6(){try{const{data:e}=await Pe.from("users").select("*").eq("id",bx).single();if(e)return console.log("Successfully loaded emergency user from database"),e}catch(e){console.error("Error fetching emergency user:",e)}return{id:bx,auth_id:M6,email:"yash.tagai@gmail.com",phone:"9713010045",role:"admin",first_name:"Yash",last_name:"Tagai",position:"DFO",status:"active",created_at:new Date().toISOString(),updated_at:null}}function An({children:e,requiredRole:t}){const{user:n,loading:r,initialized:i,canManageUsers:o,canViewReports:a,canEditReports:u}=fi(),d=Bh(),[f,m]=p.useState(null),[g,b]=p.useState(null),[x,w]=p.useState(!1);if(p.useEffect(()=>{const _=R6();m(_),_&&!n&&!r&&!g&&!x&&(w(!0),O6().then(C=>{b(C),w(!1)}).catch(C=>{console.error("Failed to load emergency user:",C),w(!1)}))},[n,r,g,x]),console.log("ProtectedRoute:",{pathname:d.pathname,user:(n==null?void 0:n.email)||(n==null?void 0:n.phone),userRole:n==null?void 0:n.role,emergencyUser:g==null?void 0:g.email,loading:r,loadingEmergencyUser:x,initialized:i,directLocalStorageCheck:f}),x)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsxs("div",{className:"text-center",children:[l.jsx(bo,{className:"h-8 w-8 animate-spin text-green-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Restoring session..."})]})});if(g&&!n){if(console.log("Using emergency user:",g.email),t)switch(t){case"admin":if(g.role!=="admin")return l.jsx(Pr,{to:"/",replace:!0});break;case"manager":if(!["admin","manager"].includes(g.role))return l.jsx(Pr,{to:"/",replace:!0});break}return l.jsx(l.Fragment,{children:e})}if(!n&&f===!0&&!g)return console.log("Session found in localStorage but not in Auth context, showing loading state"),l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx(bo,{className:"h-8 w-8 animate-spin text-green-600"})});if(r&&!i)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx(bo,{className:"h-8 w-8 animate-spin text-green-600"})});if(!r&&!i&&f!==!0)return console.error("Auth context not initialized properly"),l.jsx(Pr,{to:"/login",state:{from:d},replace:!0});if(!n&&f!==!0&&!g)return console.log("No user found, redirecting to login"),l.jsx(Pr,{to:"/login",state:{from:d},replace:!0});const v=n||g;if(t&&v)switch(console.log("Checking role permissions:",{userRole:v.role,requiredRole:t}),t){case"admin":if(v.role!=="admin")return console.log("User is not admin, redirecting to home"),l.jsx(Pr,{to:"/",replace:!0});break;case"manager":if(!["admin","manager"].includes(v.role))return console.log("User is not manager or admin, redirecting to home"),l.jsx(Pr,{to:"/",replace:!0});break}return d.pathname.startsWith("/admin/users")&&(v==null?void 0:v.role)!=="admin"?(console.log("User cannot manage users, redirecting to home"),l.jsx(Pr,{to:"/",replace:!0})):d.pathname.startsWith("/reports/edit")&&!["admin","manager"].includes(v==null?void 0:v.role)?(console.log("User cannot edit reports, redirecting to reports"),l.jsx(Pr,{to:"/reports",replace:!0})):d.pathname.startsWith("/reports")&&(v==null?void 0:v.role)==="data_collector"?(console.log("User cannot view reports, redirecting to home"),l.jsx(Pr,{to:"/",replace:!0})):d.pathname==="/dashboard"&&(v==null?void 0:v.role)==="data_collector"?(console.log("Data collector cannot access dashboard, redirecting to home"),l.jsx(Pr,{to:"/",replace:!0})):l.jsx(l.Fragment,{children:e})}const od=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:Me("w-full caption-bottom text-sm",e),...t})}));od.displayName="Table";const ad=p.forwardRef(({className:e,...t},n)=>l.jsx("thead",{ref:n,className:Me("[&_tr]:border-b",e),...t}));ad.displayName="TableHeader";const ld=p.forwardRef(({className:e,...t},n)=>l.jsx("tbody",{ref:n,className:Me("[&_tr:last-child]:border-0",e),...t}));ld.displayName="TableBody";const k6=p.forwardRef(({className:e,...t},n)=>l.jsx("tfoot",{ref:n,className:Me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));k6.displayName="TableFooter";const As=p.forwardRef(({className:e,...t},n)=>l.jsx("tr",{ref:n,className:Me("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));As.displayName="TableRow";const qt=p.forwardRef(({className:e,...t},n)=>l.jsx("th",{ref:n,className:Me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));qt.displayName="TableHead";const Xt=p.forwardRef(({className:e,...t},n)=>l.jsx("td",{ref:n,className:Me("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Xt.displayName="TableCell";const A6=p.forwardRef(({className:e,...t},n)=>l.jsx("caption",{ref:n,className:Me("mt-4 text-sm text-muted-foreground",e),...t}));A6.displayName="TableCaption";function I6({items:e}){return l.jsx("nav",{className:"flex items-center space-x-1 text-sm text-gray-500 mb-6",children:e.map((t,n)=>l.jsxs(me.Fragment,{children:[n>0&&l.jsx(wu,{className:"h-4 w-4"}),t.href?l.jsx(so,{to:t.href,className:"hover:text-gray-700 transition-colors",children:t.label}):l.jsx("span",{className:"text-gray-900 font-medium",children:t.label})]},t.label))})}const qr=yu("https://pauafmgoewfdhwnsexzy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBhdWFmbWdvZXdmZGh3bnNleHp5Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0NjY4MDAxOCwiZXhwIjoyMDYyMjU2MDE4fQ.AmhwlpdZxs__o8VPv4N2Zf-3zb8JgiDqyJfNnEHQX1k",{auth:{autoRefreshToken:!1,persistSession:!1}});function _x(){const[e,t]=p.useState(""),[n,r]=p.useState([]),[i,o]=p.useState(!1),[a,u]=p.useState(null),[d,f]=p.useState([]),[m,g]=p.useState([]),[b,x]=p.useState(null),[w,v]=p.useState(null),[_,C]=p.useState({email:"",phone:"",password:"",first_name:"",last_name:"",role:"data_collector",position:"Ranger"});yr();const{user:P,canCreateUserWithRole:E}=fi();p.useEffect(()=>{k(),M()},[]);const M=async()=>{try{const{data:H,error:K}=await Pe.from("divisions").select("id, name").order("name");if(K)throw K;f(H||[])}catch(H){ye.error("Error fetching divisions: "+H.message)}},T=async H=>{try{console.log("Fetching ranges for division:",H);const{data:K,error:G}=await Pe.from("ranges").select("new_id, name, new_division_id").eq("new_division_id",H).order("name");if(G)throw console.error("Error fetching ranges:",G),G;console.log("Fetched ranges:",K),g(K||[])}catch(K){console.error("Error in fetchRanges:",K),ye.error("Error fetching ranges: "+K.message)}},A=async H=>{console.log("Division changed to:",H),x(H==="none"?null:H),v(null),H&&H!=="none"?await T(H):g([])},R=H=>{console.log("Range selected:",H);const K=H==="none"?null:H;console.log("Setting selectedRange to:",K),v(K)},k=async()=>{try{const{data:H,error:K}=await Pe.from("users").select("*").order("created_at",{ascending:!1});if(K)throw K;r(H)}catch(H){ye.error("Error fetching users: "+H.message)}},U=async H=>{var K;H.preventDefault();try{if(!E(_.role)){ye.error("You do not have permission to create users with this role");return}if(_.position==="Ranger"&&(!b||!w)){ye.error("Rangers must be assigned to both a division and a range");return}if(_.position==="DFO"&&!b){ye.error("DFOs must be assigned to a division");return}const{data:G,error:$}=await qr.auth.admin.createUser({email:_.email||void 0,phone:_.phone||void 0,password:_.password,email_confirm:!0});if($)throw $;const{data:V,error:Y}=await qr.from("users").insert([{id:G.user.id,auth_id:G.user.id,first_name:_.first_name,last_name:_.last_name,email:_.email,phone:_.phone,role:_.role,position:_.position,status:"active",created_by:P==null?void 0:P.id}]).select().single();if(Y)throw await qr.auth.admin.deleteUser(G.user.id),Y;if(!V||!V.id)throw new Error("Failed to create user profile - no ID returned");if(b){console.log("Available ranges:",m),console.log("Selected range value:",w);const se=m.find(I=>I.new_id===w);if(console.log("Found range object:",se),_.position==="Ranger"&&!se)throw new Error(`Invalid range ID: ${w}. Available ranges: ${m.map(I=>`${I.name} (${I.new_id})`).join(", ")}`);console.log("Creating region assignment with:",{user_id:V.id,division_id:b,range_id:_.position==="Ranger"?se==null?void 0:se.new_id:null,selectedRange:w,selectedRangeObj:se});try{const{data:I,error:Q}=await qr.from("user_region_assignments").insert({user_id:V.id,division_id:b,range_id:_.position==="Ranger"?se==null?void 0:se.new_id:null,start_date:new Date().toISOString()}).select().single();Q?(console.error("Error creating region assignment:",Q),(K=Q.message)!=null&&K.includes("must be assigned")?ye.error(`Region assignment failed: ${Q.message}`):ye.warning("User created but region assignment failed")):console.log("Region assignment created successfully:",I)}catch(I){console.error("Exception creating region assignment:",I),ye.warning("User created but region assignment failed")}}else console.log("No division selected, skipping region assignment");ye.success("User created successfully"),o(!1),C({email:"",phone:"",password:"",first_name:"",last_name:"",role:"data_collector",position:"Ranger"}),x(null),v(null),await k()}catch(G){ye.error("Error creating user: "+G.message)}},X=async H=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const{error:K}=await qr.from("user_region_assignments").delete().eq("user_id",H.id);if(K){console.error("Error deleting region assignments:",K),ye.error("Error deleting region assignments: "+K.message);return}const{error:G}=await qr.from("users").delete().eq("id",H.id);if(G){console.error("Error deleting user profile:",G),ye.error("Error deleting user profile: "+G.message);return}try{const{error:$}=await qr.auth.admin.deleteUser(H.auth_id);$&&console.warn("Warning: Could not delete auth user:",$)}catch($){console.warn("Warning: Exception deleting auth user:",$)}ye.success("User and associated data deleted successfully"),await k()}catch(K){console.error("Error in delete process:",K),ye.error("Error deleting user: "+K.message)}},re=async(H,K)=>{var G,$,V,Y;try{const{error:se,data:I}=await qr.from("users").update(K).eq("id",H).select().single();if(se){console.error("DB update error:",se),ye.error("Database error updating user: "+(se.message||JSON.stringify(se)));return}if(!I){ye.error("No user found to update.");return}const Q={};K.email&&K.email.trim()!==""&&(Q.email=K.email.trim()),K.phone&&K.phone.trim()!==""&&(Q.phone=K.phone.trim());let ie=!1;if(Object.keys(Q).length>0&&(I!=null&&I.auth_id))try{const{error:ce}=await qr.auth.admin.updateUserById(I.auth_id,Q);if(ce&&!((G=ce.message)!=null&&G.includes("User not found"))&&!(($=ce.message)!=null&&$.includes("500")))throw ce;ce&&((V=ce.message)!=null&&V.includes("User not found")||(Y=ce.message)!=null&&Y.includes("500"))&&(ie=!0)}catch{ie=!0}ie?ye.warning("User updated in database, but not found or not updated in Auth."):ye.success("User updated successfully"),await k(),u(null),o(!1)}catch(se){ye.error("Error updating user: "+(se.message||JSON.stringify(se))),console.error("Error updating user:",se)}},z=H=>{u(H),o(!0)},ne=()=>{o(!1),u(null),C({email:"",phone:"",password:"",first_name:"",last_name:"",role:"data_collector",position:"Ranger"})},J=n.filter(H=>{var K,G,$;return(((K=H.first_name)==null?void 0:K.toLowerCase())||"").includes(e.toLowerCase())||(((G=H.last_name)==null?void 0:G.toLowerCase())||"").includes(e.toLowerCase())||((($=H.email)==null?void 0:$.toLowerCase())||"").includes(e.toLowerCase())||(H.phone||"").includes(e)});return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 py-8",children:l.jsxs("div",{className:"container mx-auto p-2 sm:p-4",children:[l.jsx(I6,{items:[{label:"Admin",href:"/admin"},{label:"User Management"}]}),l.jsxs(Ke,{className:"border-blue-100 shadow-lg",children:[l.jsxs(pt,{className:"flex flex-row items-center justify-between bg-gradient-to-r from-blue-50 to-blue-100",children:[l.jsx(gt,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"User Management"}),E("data_collector")&&l.jsx(Le,{onClick:()=>o(!0),className:"bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700 text-white shadow-sm",children:"Add User"})]}),l.jsxs(Xe,{children:[l.jsx("div",{className:"mb-4",children:l.jsx(ht,{placeholder:"Search users...",value:e,onChange:H=>t(H.target.value),className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"})}),l.jsxs(od,{children:[l.jsx(ad,{children:l.jsxs(As,{className:"bg-blue-50",children:[l.jsx(qt,{className:"text-blue-900",children:"Name"}),l.jsx(qt,{className:"text-blue-900",children:"Email"}),l.jsx(qt,{className:"text-blue-900",children:"Phone"}),l.jsx(qt,{className:"text-blue-900",children:"Position"}),l.jsx(qt,{className:"text-blue-900",children:"Role"}),l.jsx(qt,{className:"text-blue-900",children:"Status"}),l.jsx(qt,{className:"text-blue-900",children:"Actions"})]})}),l.jsx(ld,{children:J.map(H=>l.jsxs(As,{className:"hover:bg-blue-50/50 transition-colors",children:[l.jsxs(Xt,{children:[H.first_name," ",H.last_name]}),l.jsx(Xt,{children:H.email||"-"}),l.jsx(Xt,{children:H.phone||"-"}),l.jsx(Xt,{children:H.position}),l.jsx(Xt,{children:H.role}),l.jsx(Xt,{children:H.status}),l.jsx(Xt,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Le,{variant:"outline",size:"sm",onClick:()=>z(H),className:"border-blue-200 hover:bg-blue-50 hover:text-blue-600",children:"Edit"}),l.jsx(Le,{variant:"destructive",size:"sm",onClick:()=>X(H),className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})})]},H.id))})]})]})]}),i&&l.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 w-full max-w-4xl border border-blue-100",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:a?"Edit User":"Add User"}),l.jsxs("form",{onSubmit:a?H=>{H.preventDefault(),re(a.id,{first_name:a.first_name,last_name:a.last_name,email:a.email,phone:a.phone,role:a.role,position:a.position})}:U,className:"grid grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Personal Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(ht,{placeholder:"First Name",value:(a==null?void 0:a.first_name)||_.first_name,onChange:H=>a?u({...a,first_name:H.target.value}):C({..._,first_name:H.target.value}),className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"}),l.jsx(ht,{placeholder:"Last Name",value:(a==null?void 0:a.last_name)||_.last_name,onChange:H=>a?u({...a,last_name:H.target.value}):C({..._,last_name:H.target.value}),className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"}),l.jsx(ht,{type:"email",placeholder:"Email",value:(a==null?void 0:a.email)||_.email,onChange:H=>a?u({...a,email:H.target.value}):C({..._,email:H.target.value}),className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"}),l.jsx(ht,{placeholder:"Phone",value:(a==null?void 0:a.phone)||_.phone,onChange:H=>a?u({...a,phone:H.target.value}):C({..._,phone:H.target.value}),className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"}),!a&&l.jsx(ht,{type:"password",placeholder:"Password",value:_.password,onChange:H=>C({..._,password:H.target.value}),className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Role & Assignment"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-blue-900",children:"Position"}),l.jsxs("select",{className:"w-full p-2 border border-blue-100 rounded-md focus:border-blue-500 focus:ring-blue-500",value:(a==null?void 0:a.position)||_.position,onChange:H=>{const K=H.target.value;a?u({...a,position:K}):(C({..._,position:K}),x(null),v(null))},children:[l.jsx("option",{value:"Ranger",children:"Ranger"}),l.jsx("option",{value:"DFO",children:"DFO"}),l.jsx("option",{value:"Officer",children:"Officer"}),l.jsx("option",{value:"Guard",children:"Guard"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-blue-900",children:"Role"}),l.jsxs("select",{className:"w-full p-2 border border-blue-100 rounded-md focus:border-blue-500 focus:ring-blue-500",value:(a==null?void 0:a.role)||_.role,onChange:H=>{const K=H.target.value;a?u({...a,role:K}):C({..._,role:K})},children:[(P==null?void 0:P.role)==="admin"&&l.jsx("option",{value:"admin",children:"Admin"}),(P==null?void 0:P.role)==="admin"&&l.jsx("option",{value:"manager",children:"Manager"}),((P==null?void 0:P.role)==="admin"||(P==null?void 0:P.role)==="manager")&&l.jsx("option",{value:"data_collector",children:"Data Collector"})]})]}),(_.position==="Ranger"||_.position==="DFO")&&l.jsxs("div",{className:"space-y-4 pt-4 border-t border-blue-100",children:[l.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Region Assignment"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-blue-900",children:"Division"}),l.jsx("div",{className:"relative",children:l.jsxs("select",{className:"w-full p-2 border border-blue-100 rounded-md focus:border-blue-500 focus:ring-blue-500",value:b||"none",onChange:H=>A(H.target.value),children:[l.jsx("option",{value:"none",children:"Select a division"}),d.map(H=>l.jsx("option",{value:H.id,children:H.name},H.id))]})})]}),_.position==="Ranger"&&b&&b!=="none"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-blue-900",children:"Range"}),l.jsx("div",{className:"relative",children:l.jsxs("select",{className:"w-full p-2 border border-blue-100 rounded-md focus:border-blue-500 focus:ring-blue-500",value:w||"none",onChange:H=>R(H.target.value),children:[l.jsx("option",{value:"none",children:"Select a range"}),m.map(H=>l.jsx("option",{value:H.new_id,children:H.name},H.new_id))]})})]})]})]})]}),l.jsxs("div",{className:"col-span-2 flex justify-end gap-2 mt-6 pt-6 border-t border-blue-100",children:[l.jsx(Le,{type:"button",variant:"outline",onClick:ne,className:"border-blue-200 hover:bg-blue-50 hover:text-blue-600",children:"Cancel"}),l.jsx(Le,{type:"submit",className:"bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700 text-white shadow-sm",children:a?"Update":"Create"})]})]})]})})]})})}function it(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function $n(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function hn(e,t){const n=it(e);return isNaN(t)?$n(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function gr(e,t){const n=it(e);if(isNaN(t))return $n(e,NaN);if(!t)return n;const r=n.getDate(),i=$n(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const jp=6048e5,D6=864e5;let L6={};function Nl(){return L6}function zr(e,t){var u,d,f,m;const n=Nl(),r=(t==null?void 0:t.weekStartsOn)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,i=it(e),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Is(e){return zr(e,{weekStartsOn:1})}function jP(e){const t=it(e),n=t.getFullYear(),r=$n(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Is(r),o=$n(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const a=Is(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Uo(e){const t=it(e);return t.setHours(0,0,0,0),t}function pu(e){const t=it(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Or(e,t){const n=Uo(e),r=Uo(t),i=+n-pu(n),o=+r-pu(r);return Math.round((i-o)/D6)}function F6(e){const t=jP(e),n=$n(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Is(n)}function Dh(e,t){const n=t*7;return hn(e,n)}function V6(e,t){return gr(e,t*12)}function B6(e){let t;return e.forEach(function(n){const r=it(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function $6(e){let t;return e.forEach(n=>{const r=it(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function En(e,t){const n=Uo(e),r=Uo(t);return+n==+r}function Mp(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function z6(e){if(!Mp(e)&&typeof e!="number")return!1;const t=it(e);return!isNaN(Number(t))}function ul(e,t){const n=it(e),r=it(t),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function W6(e,t,n){const r=zr(e,n),i=zr(t,n),o=+r-pu(r),a=+i-pu(i);return Math.round((o-a)/jp)}function Rp(e){const t=it(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Tn(e){const t=it(e);return t.setDate(1),t.setHours(0,0,0,0),t}function MP(e){const t=it(e),n=$n(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Op(e,t){var u,d,f,m;const n=Nl(),r=(t==null?void 0:t.weekStartsOn)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,i=it(e),o=i.getDay(),a=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function RP(e){return Op(e,{weekStartsOn:1})}const U6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},H6=(e,t,n)=>{let r;const i=U6[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Cf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Z6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},G6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Y6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},K6={date:Cf({formats:Z6,defaultWidth:"full"}),time:Cf({formats:G6,defaultWidth:"full"}),dateTime:Cf({formats:Y6,defaultWidth:"full"})},q6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},X6=(e,t,n,r)=>q6[e];function ya(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):a;i=e.formattingValues[u]||e.formattingValues[a]}else{const a=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[u]||e.values[a]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const J6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Q6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ez={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iz=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},sz={ordinalNumber:iz,era:ya({values:J6,defaultWidth:"wide"}),quarter:ya({values:Q6,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ya({values:ez,defaultWidth:"wide"}),day:ya({values:tz,defaultWidth:"wide"}),dayPeriod:ya({values:nz,defaultWidth:"wide",formattingValues:rz,defaultFormattingWidth:"wide"})};function xa(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?az(u,g=>g.test(a)):oz(u,g=>g.test(a));let f;f=e.valueCallback?e.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const m=t.slice(a.length);return{value:f,rest:m}}}function oz(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function az(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function lz(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const u=t.slice(i.length);return{value:a,rest:u}}}const cz=/^(\d+)(th|st|nd|rd)?/i,uz=/\d+/i,dz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fz={any:[/^b/i,/^(a|c)/i]},hz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mz={any:[/1/i,/2/i,/3/i,/4/i]},pz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_z={ordinalNumber:lz({matchPattern:cz,parsePattern:uz,valueCallback:e=>parseInt(e,10)}),era:xa({matchPatterns:dz,defaultMatchWidth:"wide",parsePatterns:fz,defaultParseWidth:"any"}),quarter:xa({matchPatterns:hz,defaultMatchWidth:"wide",parsePatterns:mz,defaultParseWidth:"any",valueCallback:e=>e+1}),month:xa({matchPatterns:pz,defaultMatchWidth:"wide",parsePatterns:gz,defaultParseWidth:"any"}),day:xa({matchPatterns:vz,defaultMatchWidth:"wide",parsePatterns:yz,defaultParseWidth:"any"}),dayPeriod:xa({matchPatterns:xz,defaultMatchWidth:"any",parsePatterns:bz,defaultParseWidth:"any"})},OP={code:"en-US",formatDistance:H6,formatLong:K6,formatRelative:X6,localize:sz,match:_z,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wz(e){const t=it(e);return Or(t,MP(t))+1}function kP(e){const t=it(e),n=+Is(t)-+F6(t);return Math.round(n/jp)+1}function AP(e,t){var m,g,b,x;const n=it(e),r=n.getFullYear(),i=Nl(),o=(t==null?void 0:t.firstWeekContainsDate)??((g=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(b=i.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)??1,a=$n(e,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const u=zr(a,t),d=$n(e,0);d.setFullYear(r,0,o),d.setHours(0,0,0,0);const f=zr(d,t);return n.getTime()>=u.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function Sz(e,t){var u,d,f,m;const n=Nl(),r=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,i=AP(e,t),o=$n(e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),zr(o,t)}function IP(e,t){const n=it(e),r=+zr(n,t)-+Sz(n,t);return Math.round(r/jp)+1}function mt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const wi={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return mt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):mt(n+1,2)},d(e,t){return mt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return mt(e.getHours()%12||12,t.length)},H(e,t){return mt(e.getHours(),t.length)},m(e,t){return mt(e.getMinutes(),t.length)},s(e,t){return mt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return mt(i,t.length)}},io={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wx={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return wi.y(e,t)},Y:function(e,t,n,r){const i=AP(e,r),o=i>0?i:1-i;if(t==="YY"){const a=o%100;return mt(a,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):mt(o,t.length)},R:function(e,t){const n=jP(e);return mt(n,t.length)},u:function(e,t){const n=e.getFullYear();return mt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return mt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return mt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return wi.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return mt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=IP(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):mt(i,t.length)},I:function(e,t,n){const r=kP(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):mt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):wi.d(e,t)},D:function(e,t,n){const r=wz(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):mt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return mt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return mt(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return mt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=io.noon:r===0?i=io.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=io.evening:r>=12?i=io.afternoon:r>=4?i=io.morning:i=io.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return wi.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):wi.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):mt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):mt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):wi.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):wi.s(e,t)},S:function(e,t){return wi.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Cx(r);case"XXXX":case"XX":return ds(r);case"XXXXX":case"XXX":default:return ds(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Cx(r);case"xxxx":case"xx":return ds(r);case"xxxxx":case"xxx":default:return ds(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Sx(r,":");case"OOOO":default:return"GMT"+ds(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Sx(r,":");case"zzzz":default:return"GMT"+ds(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return mt(r,t.length)},T:function(e,t,n){const r=e.getTime();return mt(r,t.length)}};function Sx(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+mt(o,2)}function Cx(e,t){return e%60===0?(e>0?"-":"+")+mt(Math.abs(e)/60,2):ds(e,t)}function ds(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=mt(Math.trunc(r/60),2),o=mt(r%60,2);return n+i+t+o}const Px=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},DP=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Cz=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Px(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Px(r,t)).replace("{{time}}",DP(i,t))},Pz={p:DP,P:Cz},Ez=/^D+$/,Tz=/^Y+$/,Nz=["D","DD","YY","YYYY"];function jz(e){return Ez.test(e)}function Mz(e){return Tz.test(e)}function Rz(e,t,n){const r=Oz(e,t,n);if(console.warn(r),Nz.includes(e))throw new RangeError(r)}function Oz(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Az=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Iz=/^'([^]*?)'?$/,Dz=/''/g,Lz=/[a-zA-Z]/;function Yi(e,t,n){var m,g,b,x,w,v,_,C;const r=Nl(),i=(n==null?void 0:n.locale)??r.locale??OP,o=(n==null?void 0:n.firstWeekContainsDate)??((g=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((x=(b=r.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((v=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((C=(_=r.locale)==null?void 0:_.options)==null?void 0:C.weekStartsOn)??0,u=it(e);if(!z6(u))throw new RangeError("Invalid time value");let d=t.match(Az).map(P=>{const E=P[0];if(E==="p"||E==="P"){const M=Pz[E];return M(P,i.formatLong)}return P}).join("").match(kz).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const E=P[0];if(E==="'")return{isToken:!1,value:Fz(P)};if(wx[E])return{isToken:!0,value:P};if(E.match(Lz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:P}});i.localize.preprocessor&&(d=i.localize.preprocessor(u,d));const f={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return d.map(P=>{if(!P.isToken)return P.value;const E=P.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Mz(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&jz(E))&&Rz(E,t,String(e));const M=wx[E[0]];return M(u,E,i.localize,f)}).join("")}function Fz(e){const t=e.match(Iz);return t?t[1].replace(Dz,"'"):e}function Vz(e){const t=it(e),n=t.getFullYear(),r=t.getMonth(),i=$n(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Bz(e){return Math.trunc(+it(e)/1e3)}function $z(e){const t=it(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function zz(e,t){return W6($z(e),Tn(e),t)+1}function Lh(e,t){const n=it(e),r=it(t);return n.getTime()>r.getTime()}function LP(e,t){const n=it(e),r=it(t);return+n<+r}function kp(e,t){const n=it(e),r=it(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Wz(e,t){const n=it(e),r=it(t);return n.getFullYear()===r.getFullYear()}function Pf(e,t){return hn(e,-t)}function Ef(e,t){const n=it(e),r=n.getFullYear(),i=n.getDate(),o=$n(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const a=Vz(o);return n.setMonth(t,Math.min(i,a)),n}function Ex(e,t){const n=it(e);return isNaN(+n)?$n(e,NaN):(n.setFullYear(t),n)}var ze=function(){return ze=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ze.apply(this,arguments)};function Uz(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function FP(e,t,n){for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function jl(e){return e.mode==="multiple"}function Ml(e){return e.mode==="range"}function cd(e){return e.mode==="single"}var Hz={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Zz(e,t){return Yi(e,"LLLL y",t)}function Gz(e,t){return Yi(e,"d",t)}function Yz(e,t){return Yi(e,"LLLL",t)}function Kz(e){return"".concat(e)}function qz(e,t){return Yi(e,"cccccc",t)}function Xz(e,t){return Yi(e,"yyyy",t)}var Jz=Object.freeze({__proto__:null,formatCaption:Zz,formatDay:Gz,formatMonthCaption:Yz,formatWeekNumber:Kz,formatWeekdayName:qz,formatYearCaption:Xz}),Qz=function(e,t,n){return Yi(e,"do MMMM (EEEE)",n)},e9=function(){return"Month: "},t9=function(){return"Go to next month"},n9=function(){return"Go to previous month"},r9=function(e,t){return Yi(e,"cccc",t)},i9=function(e){return"Week n. ".concat(e)},s9=function(){return"Year: "},o9=Object.freeze({__proto__:null,labelDay:Qz,labelMonthDropdown:e9,labelNext:t9,labelPrevious:n9,labelWeekNumber:i9,labelWeekday:r9,labelYearDropdown:s9});function a9(){var e="buttons",t=Hz,n=OP,r={},i={},o=1,a={},u=new Date;return{captionLayout:e,classNames:t,formatters:Jz,labels:o9,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:o,styles:a,today:u,mode:"default"}}function l9(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,o=e.fromDate,a=e.toDate;return r?o=Tn(r):t&&(o=new Date(t,0,1)),i?a=Rp(i):n&&(a=new Date(n,11,31)),{fromDate:o?Uo(o):void 0,toDate:a?Uo(a):void 0}}var VP=p.createContext(void 0);function c9(e){var t,n=e.initialProps,r=a9(),i=l9(n),o=i.fromDate,a=i.toDate,u=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;u!=="buttons"&&(!o||!a)&&(u="buttons");var d;(cd(n)||jl(n)||Ml(n))&&(d=n.onSelect);var f=ze(ze(ze({},r),n),{captionLayout:u,classNames:ze(ze({},r.classNames),n.classNames),components:ze({},n.components),formatters:ze(ze({},r.formatters),n.formatters),fromDate:o,labels:ze(ze({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:ze(ze({},r.modifiers),n.modifiers),modifiersClassNames:ze(ze({},r.modifiersClassNames),n.modifiersClassNames),onSelect:d,styles:ze(ze({},r.styles),n.styles),toDate:a});return l.jsx(VP.Provider,{value:f,children:e.children})}function wt(){var e=p.useContext(VP);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function BP(e){var t=wt(),n=t.locale,r=t.classNames,i=t.styles,o=t.formatters.formatCaption;return l.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function u9(e){return l.jsx("svg",ze({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function $P(e){var t,n,r=e.onChange,i=e.value,o=e.children,a=e.caption,u=e.className,d=e.style,f=wt(),m=(n=(t=f.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:u9;return l.jsxs("div",{className:u,style:d,children:[l.jsx("span",{className:f.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:i,onChange:r,children:o}),l.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[a,l.jsx(m,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function d9(e){var t,n=wt(),r=n.fromDate,i=n.toDate,o=n.styles,a=n.locale,u=n.formatters.formatMonthCaption,d=n.classNames,f=n.components,m=n.labels.labelMonthDropdown;if(!r)return l.jsx(l.Fragment,{});if(!i)return l.jsx(l.Fragment,{});var g=[];if(Wz(r,i))for(var b=Tn(r),x=r.getMonth();x<=i.getMonth();x++)g.push(Ef(b,x));else for(var b=Tn(new Date),x=0;x<=11;x++)g.push(Ef(b,x));var w=function(_){var C=Number(_.target.value),P=Ef(Tn(e.displayMonth),C);e.onChange(P)},v=(t=f==null?void 0:f.Dropdown)!==null&&t!==void 0?t:$P;return l.jsx(v,{name:"months","aria-label":m(),className:d.dropdown_month,style:o.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:u(e.displayMonth,{locale:a}),children:g.map(function(_){return l.jsx("option",{value:_.getMonth(),children:u(_,{locale:a})},_.getMonth())})})}function f9(e){var t,n=e.displayMonth,r=wt(),i=r.fromDate,o=r.toDate,a=r.locale,u=r.styles,d=r.classNames,f=r.components,m=r.formatters.formatYearCaption,g=r.labels.labelYearDropdown,b=[];if(!i)return l.jsx(l.Fragment,{});if(!o)return l.jsx(l.Fragment,{});for(var x=i.getFullYear(),w=o.getFullYear(),v=x;v<=w;v++)b.push(Ex(MP(new Date),v));var _=function(P){var E=Ex(Tn(n),Number(P.target.value));e.onChange(E)},C=(t=f==null?void 0:f.Dropdown)!==null&&t!==void 0?t:$P;return l.jsx(C,{name:"years","aria-label":g(),className:d.dropdown_year,style:u.dropdown_year,onChange:_,value:n.getFullYear(),caption:m(n,{locale:a}),children:b.map(function(P){return l.jsx("option",{value:P.getFullYear(),children:m(P,{locale:a})},P.getFullYear())})})}function h9(e,t){var n=p.useState(e),r=n[0],i=n[1],o=t===void 0?r:t;return[o,i]}function m9(e){var t=e.month,n=e.defaultMonth,r=e.today,i=t||n||r||new Date,o=e.toDate,a=e.fromDate,u=e.numberOfMonths,d=u===void 0?1:u;if(o&&ul(o,i)<0){var f=-1*(d-1);i=gr(o,f)}return a&&ul(i,a)<0&&(i=a),Tn(i)}function p9(){var e=wt(),t=m9(e),n=h9(t,e.month),r=n[0],i=n[1],o=function(a){var u;if(!e.disableNavigation){var d=Tn(a);i(d),(u=e.onMonthChange)===null||u===void 0||u.call(e,d)}};return[r,o]}function g9(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=Tn(e),o=Tn(gr(i,r)),a=ul(o,i),u=[],d=0;d<a;d++){var f=gr(i,d);u.push(f)}return n&&(u=u.reverse()),u}function v9(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,o=i===void 0?1:i,a=r?o:1,u=Tn(e);if(!n)return gr(u,a);var d=ul(n,e);if(!(d<o))return gr(u,a)}}function y9(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,o=i===void 0?1:i,a=r?o:1,u=Tn(e);if(!n)return gr(u,-a);var d=ul(u,n);if(!(d<=0))return gr(u,-a)}}var zP=p.createContext(void 0);function x9(e){var t=wt(),n=p9(),r=n[0],i=n[1],o=g9(r,t),a=v9(r,t),u=y9(r,t),d=function(g){return o.some(function(b){return kp(g,b)})},f=function(g,b){d(g)||(b&&LP(g,b)?i(gr(g,1+t.numberOfMonths*-1)):i(g))},m={currentMonth:r,displayMonths:o,goToMonth:i,goToDate:f,previousMonth:u,nextMonth:a,isDateDisplayed:d};return l.jsx(zP.Provider,{value:m,children:e.children})}function Rl(){var e=p.useContext(zP);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Tx(e){var t,n=wt(),r=n.classNames,i=n.styles,o=n.components,a=Rl().goToMonth,u=function(m){a(gr(m,e.displayIndex?-e.displayIndex:0))},d=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:BP,f=l.jsx(d,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[l.jsx("div",{className:r.vhidden,children:f}),l.jsx(d9,{onChange:u,displayMonth:e.displayMonth}),l.jsx(f9,{onChange:u,displayMonth:e.displayMonth})]})}function b9(e){return l.jsx("svg",ze({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function _9(e){return l.jsx("svg",ze({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var gu=p.forwardRef(function(e,t){var n=wt(),r=n.classNames,i=n.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var a=o.join(" "),u=ze(ze({},i.button_reset),i.button);return e.style&&Object.assign(u,e.style),l.jsx("button",ze({},e,{ref:t,type:"button",className:a,style:u}))});function w9(e){var t,n,r=wt(),i=r.dir,o=r.locale,a=r.classNames,u=r.styles,d=r.labels,f=d.labelPrevious,m=d.labelNext,g=r.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var b=f(e.previousMonth,{locale:o}),x=[a.nav_button,a.nav_button_previous].join(" "),w=m(e.nextMonth,{locale:o}),v=[a.nav_button,a.nav_button_next].join(" "),_=(t=g==null?void 0:g.IconRight)!==null&&t!==void 0?t:_9,C=(n=g==null?void 0:g.IconLeft)!==null&&n!==void 0?n:b9;return l.jsxs("div",{className:a.nav,style:u.nav,children:[!e.hidePrevious&&l.jsx(gu,{name:"previous-month","aria-label":b,className:x,style:u.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?l.jsx(_,{className:a.nav_icon,style:u.nav_icon}):l.jsx(C,{className:a.nav_icon,style:u.nav_icon})}),!e.hideNext&&l.jsx(gu,{name:"next-month","aria-label":w,className:v,style:u.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?l.jsx(C,{className:a.nav_icon,style:u.nav_icon}):l.jsx(_,{className:a.nav_icon,style:u.nav_icon})})]})}function Nx(e){var t=wt().numberOfMonths,n=Rl(),r=n.previousMonth,i=n.nextMonth,o=n.goToMonth,a=n.displayMonths,u=a.findIndex(function(w){return kp(e.displayMonth,w)}),d=u===0,f=u===a.length-1,m=t>1&&(d||!f),g=t>1&&(f||!d),b=function(){r&&o(r)},x=function(){i&&o(i)};return l.jsx(w9,{displayMonth:e.displayMonth,hideNext:m,hidePrevious:g,nextMonth:i,previousMonth:r,onPreviousClick:b,onNextClick:x})}function S9(e){var t,n=wt(),r=n.classNames,i=n.disableNavigation,o=n.styles,a=n.captionLayout,u=n.components,d=(t=u==null?void 0:u.CaptionLabel)!==null&&t!==void 0?t:BP,f;return i?f=l.jsx(d,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?f=l.jsx(Tx,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?f=l.jsxs(l.Fragment,{children:[l.jsx(Tx,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(Nx,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):f=l.jsxs(l.Fragment,{children:[l.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(Nx,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:r.caption,style:o.caption,children:f})}function C9(e){var t=wt(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?l.jsx("tfoot",{className:i,style:r.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:n})})}):l.jsx(l.Fragment,{})}function P9(e,t,n){for(var r=n?Is(new Date):zr(new Date,{locale:e,weekStartsOn:t}),i=[],o=0;o<7;o++){var a=hn(r,o);i.push(a)}return i}function E9(){var e=wt(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,o=e.weekStartsOn,a=e.ISOWeek,u=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,f=P9(i,o,a);return l.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&l.jsx("td",{style:n.head_cell,className:t.head_cell}),f.map(function(m,g){return l.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":d(m,{locale:i}),children:u(m,{locale:i})},g)})]})}function T9(){var e,t=wt(),n=t.classNames,r=t.styles,i=t.components,o=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:E9;return l.jsx("thead",{style:r.head,className:n.head,children:l.jsx(o,{})})}function N9(e){var t=wt(),n=t.locale,r=t.formatters.formatDay;return l.jsx(l.Fragment,{children:r(e.date,{locale:n})})}var Ap=p.createContext(void 0);function j9(e){if(!jl(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(Ap.Provider,{value:t,children:e.children})}return l.jsx(M9,{initialProps:e.initialProps,children:e.children})}function M9(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,o=t.max,a=function(f,m,g){var b,x;(b=t.onDayClick)===null||b===void 0||b.call(t,f,m,g);var w=!!(m.selected&&i&&(r==null?void 0:r.length)===i);if(!w){var v=!!(!m.selected&&o&&(r==null?void 0:r.length)===o);if(!v){var _=r?FP([],r):[];if(m.selected){var C=_.findIndex(function(P){return En(f,P)});_.splice(C,1)}else _.push(f);(x=t.onSelect)===null||x===void 0||x.call(t,_,f,m,g)}}},u={disabled:[]};r&&u.disabled.push(function(f){var m=o&&r.length>o-1,g=r.some(function(b){return En(b,f)});return!!(m&&!g)});var d={selected:r,onDayClick:a,modifiers:u};return l.jsx(Ap.Provider,{value:d,children:n})}function Ip(){var e=p.useContext(Ap);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function R9(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?En(i,e)&&En(r,e)?void 0:En(i,e)?{from:i,to:void 0}:En(r,e)?void 0:Lh(r,e)?{from:e,to:i}:{from:r,to:e}:i?Lh(e,i)?{from:i,to:e}:{from:e,to:i}:r?LP(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var Dp=p.createContext(void 0);function O9(e){if(!Ml(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(Dp.Provider,{value:t,children:e.children})}return l.jsx(k9,{initialProps:e.initialProps,children:e.children})}function k9(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},o=i.from,a=i.to,u=t.min,d=t.max,f=function(x,w,v){var _,C;(_=t.onDayClick)===null||_===void 0||_.call(t,x,w,v);var P=R9(x,r);(C=t.onSelect)===null||C===void 0||C.call(t,P,x,w,v)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(m.range_start=[o],a?(m.range_end=[a],En(o,a)||(m.range_middle=[{after:o,before:a}])):m.range_end=[o]):a&&(m.range_start=[a],m.range_end=[a]),u&&(o&&!a&&m.disabled.push({after:Pf(o,u-1),before:hn(o,u-1)}),o&&a&&m.disabled.push({after:o,before:hn(o,u-1)}),!o&&a&&m.disabled.push({after:Pf(a,u-1),before:hn(a,u-1)})),d){if(o&&!a&&(m.disabled.push({before:hn(o,-d+1)}),m.disabled.push({after:hn(o,d-1)})),o&&a){var g=Or(a,o)+1,b=d-g;m.disabled.push({before:Pf(o,b)}),m.disabled.push({after:hn(a,b)})}!o&&a&&(m.disabled.push({before:hn(a,-d+1)}),m.disabled.push({after:hn(a,d-1)}))}return l.jsx(Dp.Provider,{value:{selected:r,onDayClick:f,modifiers:m},children:n})}function Lp(){var e=p.useContext(Dp);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Fc(e){return Array.isArray(e)?FP([],e):e!==void 0?[e]:[]}function A9(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];t[r]=Fc(i)}),t}var vr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(vr||(vr={}));var I9=vr.Selected,Xr=vr.Disabled,D9=vr.Hidden,L9=vr.Today,Tf=vr.RangeEnd,Nf=vr.RangeMiddle,jf=vr.RangeStart,F9=vr.Outside;function V9(e,t,n){var r,i=(r={},r[I9]=Fc(e.selected),r[Xr]=Fc(e.disabled),r[D9]=Fc(e.hidden),r[L9]=[e.today],r[Tf]=[],r[Nf]=[],r[jf]=[],r[F9]=[],r);return e.fromDate&&i[Xr].push({before:e.fromDate}),e.toDate&&i[Xr].push({after:e.toDate}),jl(e)?i[Xr]=i[Xr].concat(t.modifiers[Xr]):Ml(e)&&(i[Xr]=i[Xr].concat(n.modifiers[Xr]),i[jf]=n.modifiers[jf],i[Nf]=n.modifiers[Nf],i[Tf]=n.modifiers[Tf]),i}var WP=p.createContext(void 0);function B9(e){var t=wt(),n=Ip(),r=Lp(),i=V9(t,n,r),o=A9(t.modifiers),a=ze(ze({},i),o);return l.jsx(WP.Provider,{value:a,children:e.children})}function UP(){var e=p.useContext(WP);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function $9(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function z9(e){return!!(e&&typeof e=="object"&&"from"in e)}function W9(e){return!!(e&&typeof e=="object"&&"after"in e)}function U9(e){return!!(e&&typeof e=="object"&&"before"in e)}function H9(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Z9(e,t){var n,r=t.from,i=t.to;if(r&&i){var o=Or(i,r)<0;o&&(n=[i,r],r=n[0],i=n[1]);var a=Or(e,r)>=0&&Or(i,e)>=0;return a}return i?En(i,e):r?En(r,e):!1}function G9(e){return Mp(e)}function Y9(e){return Array.isArray(e)&&e.every(Mp)}function K9(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(G9(n))return En(e,n);if(Y9(n))return n.includes(e);if(z9(n))return Z9(e,n);if(H9(n))return n.dayOfWeek.includes(e.getDay());if($9(n)){var r=Or(n.before,e),i=Or(n.after,e),o=r>0,a=i<0,u=Lh(n.before,n.after);return u?a&&o:o||a}return W9(n)?Or(e,n.after)>0:U9(n)?Or(n.before,e)>0:typeof n=="function"?n(e):!1})}function Fp(e,t,n){var r=Object.keys(t).reduce(function(o,a){var u=t[a];return K9(e,u)&&o.push(a),o},[]),i={};return r.forEach(function(o){return i[o]=!0}),n&&!kp(e,n)&&(i.outside=!0),i}function q9(e,t){for(var n=Tn(e[0]),r=Rp(e[e.length-1]),i,o,a=n;a<=r;){var u=Fp(a,t),d=!u.disabled&&!u.hidden;if(!d){a=hn(a,1);continue}if(u.selected)return a;u.today&&!o&&(o=a),i||(i=a),a=hn(a,1)}return o||i}var X9=365;function HP(e,t){var n=t.moveBy,r=t.direction,i=t.context,o=t.modifiers,a=t.retry,u=a===void 0?{count:0,lastFocused:e}:a,d=i.weekStartsOn,f=i.fromDate,m=i.toDate,g=i.locale,b={day:hn,week:Dh,month:gr,year:V6,startOfWeek:function(_){return i.ISOWeek?Is(_):zr(_,{locale:g,weekStartsOn:d})},endOfWeek:function(_){return i.ISOWeek?RP(_):Op(_,{locale:g,weekStartsOn:d})}},x=b[n](e,r==="after"?1:-1);r==="before"&&f?x=B6([f,x]):r==="after"&&m&&(x=$6([m,x]));var w=!0;if(o){var v=Fp(x,o);w=!v.disabled&&!v.hidden}return w?x:u.count>X9?u.lastFocused:HP(x,{moveBy:n,direction:r,context:i,modifiers:o,retry:ze(ze({},u),{count:u.count+1})})}var ZP=p.createContext(void 0);function J9(e){var t=Rl(),n=UP(),r=p.useState(),i=r[0],o=r[1],a=p.useState(),u=a[0],d=a[1],f=q9(t.displayMonths,n),m=i??(u&&t.isDateDisplayed(u))?u:f,g=function(){d(i),o(void 0)},b=function(_){o(_)},x=wt(),w=function(_,C){if(i){var P=HP(i,{moveBy:_,direction:C,context:x,modifiers:n});En(i,P)||(t.goToDate(P,i),b(P))}},v={focusedDay:i,focusTarget:m,blur:g,focus:b,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return l.jsx(ZP.Provider,{value:v,children:e.children})}function Vp(){var e=p.useContext(ZP);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Q9(e,t){var n=UP(),r=Fp(e,n,t);return r}var Bp=p.createContext(void 0);function eW(e){if(!cd(e.initialProps)){var t={selected:void 0};return l.jsx(Bp.Provider,{value:t,children:e.children})}return l.jsx(tW,{initialProps:e.initialProps,children:e.children})}function tW(e){var t=e.initialProps,n=e.children,r=function(o,a,u){var d,f,m;if((d=t.onDayClick)===null||d===void 0||d.call(t,o,a,u),a.selected&&!t.required){(f=t.onSelect)===null||f===void 0||f.call(t,void 0,o,a,u);return}(m=t.onSelect)===null||m===void 0||m.call(t,o,o,a,u)},i={selected:t.selected,onDayClick:r};return l.jsx(Bp.Provider,{value:i,children:n})}function GP(){var e=p.useContext(Bp);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function nW(e,t){var n=wt(),r=GP(),i=Ip(),o=Lp(),a=Vp(),u=a.focusDayAfter,d=a.focusDayBefore,f=a.focusWeekAfter,m=a.focusWeekBefore,g=a.blur,b=a.focus,x=a.focusMonthBefore,w=a.focusMonthAfter,v=a.focusYearBefore,_=a.focusYearAfter,C=a.focusStartOfWeek,P=a.focusEndOfWeek,E=function(G){var $,V,Y,se;cd(n)?($=r.onDayClick)===null||$===void 0||$.call(r,e,t,G):jl(n)?(V=i.onDayClick)===null||V===void 0||V.call(i,e,t,G):Ml(n)?(Y=o.onDayClick)===null||Y===void 0||Y.call(o,e,t,G):(se=n.onDayClick)===null||se===void 0||se.call(n,e,t,G)},M=function(G){var $;b(e),($=n.onDayFocus)===null||$===void 0||$.call(n,e,t,G)},T=function(G){var $;g(),($=n.onDayBlur)===null||$===void 0||$.call(n,e,t,G)},A=function(G){var $;($=n.onDayMouseEnter)===null||$===void 0||$.call(n,e,t,G)},R=function(G){var $;($=n.onDayMouseLeave)===null||$===void 0||$.call(n,e,t,G)},k=function(G){var $;($=n.onDayPointerEnter)===null||$===void 0||$.call(n,e,t,G)},U=function(G){var $;($=n.onDayPointerLeave)===null||$===void 0||$.call(n,e,t,G)},X=function(G){var $;($=n.onDayTouchCancel)===null||$===void 0||$.call(n,e,t,G)},re=function(G){var $;($=n.onDayTouchEnd)===null||$===void 0||$.call(n,e,t,G)},z=function(G){var $;($=n.onDayTouchMove)===null||$===void 0||$.call(n,e,t,G)},ne=function(G){var $;($=n.onDayTouchStart)===null||$===void 0||$.call(n,e,t,G)},J=function(G){var $;($=n.onDayKeyUp)===null||$===void 0||$.call(n,e,t,G)},H=function(G){var $;switch(G.key){case"ArrowLeft":G.preventDefault(),G.stopPropagation(),n.dir==="rtl"?u():d();break;case"ArrowRight":G.preventDefault(),G.stopPropagation(),n.dir==="rtl"?d():u();break;case"ArrowDown":G.preventDefault(),G.stopPropagation(),f();break;case"ArrowUp":G.preventDefault(),G.stopPropagation(),m();break;case"PageUp":G.preventDefault(),G.stopPropagation(),G.shiftKey?v():x();break;case"PageDown":G.preventDefault(),G.stopPropagation(),G.shiftKey?_():w();break;case"Home":G.preventDefault(),G.stopPropagation(),C();break;case"End":G.preventDefault(),G.stopPropagation(),P();break}($=n.onDayKeyDown)===null||$===void 0||$.call(n,e,t,G)},K={onClick:E,onFocus:M,onBlur:T,onKeyDown:H,onKeyUp:J,onMouseEnter:A,onMouseLeave:R,onPointerEnter:k,onPointerLeave:U,onTouchCancel:X,onTouchEnd:re,onTouchMove:z,onTouchStart:ne};return K}function rW(){var e=wt(),t=GP(),n=Ip(),r=Lp(),i=cd(e)?t.selected:jl(e)?n.selected:Ml(e)?r.selected:void 0;return i}function iW(e){return Object.values(vr).includes(e)}function sW(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var i=e.modifiersClassNames[r];if(i)n.push(i);else if(iW(r)){var o=e.classNames["day_".concat(r)];o&&n.push(o)}}),n}function oW(e,t){var n=ze({},e.styles.day);return Object.keys(t).forEach(function(r){var i;n=ze(ze({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function aW(e,t,n){var r,i,o,a=wt(),u=Vp(),d=Q9(e,t),f=nW(e,d),m=rW(),g=!!(a.onDayClick||a.mode!=="default");p.useEffect(function(){var A;d.outside||u.focusedDay&&g&&En(u.focusedDay,e)&&((A=n.current)===null||A===void 0||A.focus())},[u.focusedDay,e,n,g,d.outside]);var b=sW(a,d).join(" "),x=oW(a,d),w=!!(d.outside&&!a.showOutsideDays||d.hidden),v=(o=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:N9,_=l.jsx(v,{date:e,displayMonth:t,activeModifiers:d}),C={style:x,className:b,children:_,role:"gridcell"},P=u.focusTarget&&En(u.focusTarget,e)&&!d.outside,E=u.focusedDay&&En(u.focusedDay,e),M=ze(ze(ze({},C),(r={disabled:d.disabled,role:"gridcell"},r["aria-selected"]=d.selected,r.tabIndex=E||P?0:-1,r)),f),T={isButton:g,isHidden:w,activeModifiers:d,selectedDays:m,buttonProps:M,divProps:C};return T}function lW(e){var t=p.useRef(null),n=aW(e.date,e.displayMonth,t);return n.isHidden?l.jsx("div",{role:"gridcell"}):n.isButton?l.jsx(gu,ze({name:"day",ref:t},n.buttonProps)):l.jsx("div",ze({},n.divProps))}function cW(e){var t=e.number,n=e.dates,r=wt(),i=r.onWeekNumberClick,o=r.styles,a=r.classNames,u=r.locale,d=r.labels.labelWeekNumber,f=r.formatters.formatWeekNumber,m=f(Number(t),{locale:u});if(!i)return l.jsx("span",{className:a.weeknumber,style:o.weeknumber,children:m});var g=d(Number(t),{locale:u}),b=function(x){i(t,n,x)};return l.jsx(gu,{name:"week-number","aria-label":g,className:a.weeknumber,style:o.weeknumber,onClick:b,children:m})}function uW(e){var t,n,r=wt(),i=r.styles,o=r.classNames,a=r.showWeekNumber,u=r.components,d=(t=u==null?void 0:u.Day)!==null&&t!==void 0?t:lW,f=(n=u==null?void 0:u.WeekNumber)!==null&&n!==void 0?n:cW,m;return a&&(m=l.jsx("td",{className:o.cell,style:i.cell,children:l.jsx(f,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:o.row,style:i.row,children:[m,e.dates.map(function(g){return l.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:l.jsx(d,{displayMonth:e.displayMonth,date:g})},Bz(g))})]})}function jx(e,t,n){for(var r=n!=null&&n.ISOWeek?RP(t):Op(t,n),i=n!=null&&n.ISOWeek?Is(e):zr(e,n),o=Or(r,i),a=[],u=0;u<=o;u++)a.push(hn(i,u));var d=a.reduce(function(f,m){var g=n!=null&&n.ISOWeek?kP(m):IP(m,n),b=f.find(function(x){return x.weekNumber===g});return b?(b.dates.push(m),f):(f.push({weekNumber:g,dates:[m]}),f)},[]);return d}function dW(e,t){var n=jx(Tn(e),Rp(e),t);if(t!=null&&t.useFixedWeeks){var r=zz(e,t);if(r<6){var i=n[n.length-1],o=i.dates[i.dates.length-1],a=Dh(o,6-r),u=jx(Dh(o,1),a,t);n.push.apply(n,u)}}return n}function fW(e){var t,n,r,i=wt(),o=i.locale,a=i.classNames,u=i.styles,d=i.hideHead,f=i.fixedWeeks,m=i.components,g=i.weekStartsOn,b=i.firstWeekContainsDate,x=i.ISOWeek,w=dW(e.displayMonth,{useFixedWeeks:!!f,ISOWeek:x,locale:o,weekStartsOn:g,firstWeekContainsDate:b}),v=(t=m==null?void 0:m.Head)!==null&&t!==void 0?t:T9,_=(n=m==null?void 0:m.Row)!==null&&n!==void 0?n:uW,C=(r=m==null?void 0:m.Footer)!==null&&r!==void 0?r:C9;return l.jsxs("table",{id:e.id,className:a.table,style:u.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&l.jsx(v,{}),l.jsx("tbody",{className:a.tbody,style:u.tbody,children:w.map(function(P){return l.jsx(_,{displayMonth:e.displayMonth,dates:P.dates,weekNumber:P.weekNumber},P.weekNumber)})}),l.jsx(C,{displayMonth:e.displayMonth})]})}function hW(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var mW=hW()?p.useLayoutEffect:p.useEffect,Mf=!1,pW=0;function Mx(){return"react-day-picker-".concat(++pW)}function gW(e){var t,n=e??(Mf?Mx():null),r=p.useState(n),i=r[0],o=r[1];return mW(function(){i===null&&o(Mx())},[]),p.useEffect(function(){Mf===!1&&(Mf=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function vW(e){var t,n,r=wt(),i=r.dir,o=r.classNames,a=r.styles,u=r.components,d=Rl().displayMonths,f=gW(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),m=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,g=[o.month],b=a.month,x=e.displayIndex===0,w=e.displayIndex===d.length-1,v=!x&&!w;i==="rtl"&&(t=[x,w],w=t[0],x=t[1]),x&&(g.push(o.caption_start),b=ze(ze({},b),a.caption_start)),w&&(g.push(o.caption_end),b=ze(ze({},b),a.caption_end)),v&&(g.push(o.caption_between),b=ze(ze({},b),a.caption_between));var _=(n=u==null?void 0:u.Caption)!==null&&n!==void 0?n:S9;return l.jsxs("div",{className:g.join(" "),style:b,children:[l.jsx(_,{id:f,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(fW,{id:m,"aria-labelledby":f,displayMonth:e.displayMonth})]},e.displayIndex)}function yW(e){var t=wt(),n=t.classNames,r=t.styles;return l.jsx("div",{className:n.months,style:r.months,children:e.children})}function xW(e){var t,n,r=e.initialProps,i=wt(),o=Vp(),a=Rl(),u=p.useState(!1),d=u[0],f=u[1];p.useEffect(function(){i.initialFocus&&o.focusTarget&&(d||(o.focus(o.focusTarget),f(!0)))},[i.initialFocus,d,o.focus,o.focusTarget,o]);var m=[i.classNames.root,i.className];i.numberOfMonths>1&&m.push(i.classNames.multiple_months),i.showWeekNumber&&m.push(i.classNames.with_weeknumber);var g=ze(ze({},i.styles.root),i.style),b=Object.keys(r).filter(function(w){return w.startsWith("data-")}).reduce(function(w,v){var _;return ze(ze({},w),(_={},_[v]=r[v],_))},{}),x=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:yW;return l.jsx("div",ze({className:m.join(" "),style:g,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},b,{children:l.jsx(x,{children:a.displayMonths.map(function(w,v){return l.jsx(vW,{displayIndex:v,displayMonth:w},v)})})}))}function bW(e){var t=e.children,n=Uz(e,["children"]);return l.jsx(c9,{initialProps:n,children:l.jsx(x9,{children:l.jsx(eW,{initialProps:n,children:l.jsx(j9,{initialProps:n,children:l.jsx(O9,{initialProps:n,children:l.jsx(B9,{children:l.jsx(J9,{children:t})})})})})})})}function _W(e){return l.jsx(bW,ze({},e,{children:l.jsx(xW,{initialProps:e})}))}function YP({className:e,classNames:t,showOutsideDays:n=!0,...r}){return l.jsx(_W,{showOutsideDays:n,className:Me("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Me(Uf({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Me(Uf({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>l.jsx(_b,{className:"h-4 w-4"}),IconRight:({...i})=>l.jsx(wu,{className:"h-4 w-4"})},...r})}YP.displayName="Calendar";var wW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mi=wW.reduce((e,t)=>{const n=Ps(`Primitive.${t}`),r=p.forwardRef((i,o)=>{const{asChild:a,...u}=i,d=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(d,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function SW(e,t){e&&di.flushSync(()=>e.dispatchEvent(t))}var CW="DismissableLayer",Fh="dismissableLayer.update",PW="dismissableLayer.pointerDownOutside",EW="dismissableLayer.focusOutside",Rx,KP=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qP=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:u,...d}=e,f=p.useContext(KP),[m,g]=p.useState(null),b=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=p.useState({}),w=Oe(t,R=>g(R)),v=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),C=v.indexOf(_),P=m?v.indexOf(m):-1,E=f.layersWithOutsidePointerEventsDisabled.size>0,M=P>=C,T=jW(R=>{const k=R.target,U=[...f.branches].some(X=>X.contains(k));!M||U||(i==null||i(R),a==null||a(R),R.defaultPrevented||u==null||u())},b),A=MW(R=>{const k=R.target;[...f.branches].some(X=>X.contains(k))||(o==null||o(R),a==null||a(R),R.defaultPrevented||u==null||u())},b);return Wh(R=>{P===f.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},b),p.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Rx=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),Ox(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Rx)}},[m,b,n,f]),p.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),Ox())},[m,f]),p.useEffect(()=>{const R=()=>x({});return document.addEventListener(Fh,R),()=>document.removeEventListener(Fh,R)},[]),l.jsx(mi.div,{...d,ref:w,style:{pointerEvents:E?M?"auto":"none":void 0,...e.style},onFocusCapture:he(e.onFocusCapture,A.onFocusCapture),onBlurCapture:he(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:he(e.onPointerDownCapture,T.onPointerDownCapture)})});qP.displayName=CW;var TW="DismissableLayerBranch",NW=p.forwardRef((e,t)=>{const n=p.useContext(KP),r=p.useRef(null),i=Oe(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(mi.div,{...e,ref:i})});NW.displayName=TW;function jW(e,t=globalThis==null?void 0:globalThis.document){const n=St(e),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let d=function(){XP(PW,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function MW(e,t=globalThis==null?void 0:globalThis.document){const n=St(e),r=p.useRef(!1);return p.useEffect(()=>{const i=o=>{o.target&&!r.current&&XP(EW,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ox(){const e=new CustomEvent(Fh);document.dispatchEvent(e)}function XP(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?SW(i,o):i.dispatchEvent(o)}var Rf="focusScope.autoFocusOnMount",Of="focusScope.autoFocusOnUnmount",kx={bubbles:!1,cancelable:!0},RW="FocusScope",JP=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=e,[u,d]=p.useState(null),f=St(i),m=St(o),g=p.useRef(null),b=Oe(t,v=>d(v)),x=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(E){if(x.paused||!u)return;const M=E.target;u.contains(M)?g.current=M:Ti(g.current,{select:!0})},_=function(E){if(x.paused||!u)return;const M=E.relatedTarget;M!==null&&(u.contains(M)||Ti(g.current,{select:!0}))},C=function(E){if(document.activeElement===document.body)for(const T of E)T.removedNodes.length>0&&Ti(u)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const P=new MutationObserver(C);return u&&P.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),P.disconnect()}}},[r,u,x.paused]),p.useEffect(()=>{if(u){Ix.add(x);const v=document.activeElement;if(!u.contains(v)){const C=new CustomEvent(Rf,kx);u.addEventListener(Rf,f),u.dispatchEvent(C),C.defaultPrevented||(OW(LW(QP(u)),{select:!0}),document.activeElement===v&&Ti(u))}return()=>{u.removeEventListener(Rf,f),setTimeout(()=>{const C=new CustomEvent(Of,kx);u.addEventListener(Of,m),u.dispatchEvent(C),C.defaultPrevented||Ti(v??document.body,{select:!0}),u.removeEventListener(Of,m),Ix.remove(x)},0)}}},[u,f,m,x]);const w=p.useCallback(v=>{if(!n&&!r||x.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,C=document.activeElement;if(_&&C){const P=v.currentTarget,[E,M]=kW(P);E&&M?!v.shiftKey&&C===M?(v.preventDefault(),n&&Ti(E,{select:!0})):v.shiftKey&&C===E&&(v.preventDefault(),n&&Ti(M,{select:!0})):C===P&&v.preventDefault()}},[n,r,x.paused]);return l.jsx(mi.div,{tabIndex:-1,...a,ref:b,onKeyDown:w})});JP.displayName=RW;function OW(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ti(r,{select:t}),document.activeElement!==n)return}function kW(e){const t=QP(e),n=Ax(t,e),r=Ax(t.reverse(),e);return[n,r]}function QP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ax(e,t){for(const n of e)if(!AW(n,{upTo:t}))return n}function AW(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function IW(e){return e instanceof HTMLInputElement&&"select"in e}function Ti(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&IW(e)&&t&&e.select()}}var Ix=DW();function DW(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Dx(e,t),e.unshift(t)},remove(t){var n;e=Dx(e,t),(n=e[0])==null||n.resume()}}}function Dx(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function LW(e){return e.filter(t=>t.tagName!=="A")}var FW="Arrow",eE=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return l.jsx(mi.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});eE.displayName=FW;var VW=eE,$p="Popper",[tE,nE]=Bt($p),[BW,rE]=tE($p),iE=e=>{const{__scopePopper:t,children:n}=e,[r,i]=p.useState(null);return l.jsx(BW,{scope:t,anchor:r,onAnchorChange:i,children:n})};iE.displayName=$p;var sE="PopperAnchor",oE=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=rE(sE,n),a=p.useRef(null),u=Oe(t,a);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:l.jsx(mi.div,{...i,ref:u})});oE.displayName=sE;var zp="PopperContent",[$W,zW]=tE(zp),aE=p.forwardRef((e,t)=>{var oe,xe,Ee,Re,Te,Ce;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:x="optimized",onPlaced:w,...v}=e,_=rE(zp,n),[C,P]=p.useState(null),E=Oe(t,Ze=>P(Ze)),[M,T]=p.useState(null),A=Yo(M),R=(A==null?void 0:A.width)??0,k=(A==null?void 0:A.height)??0,U=r+(o!=="center"?"-"+o:""),X=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},re=Array.isArray(f)?f:[f],z=re.length>0,ne={padding:X,boundary:re.filter(UW),altBoundary:z},{refs:J,floatingStyles:H,placement:K,isPositioned:G,middlewareData:$}=im({strategy:"fixed",placement:U,whileElementsMounted:(...Ze)=>Tu(...Ze,{animationFrame:x==="always"}),elements:{reference:_.anchor},middleware:[sm({mainAxis:i+k,alignmentAxis:a}),d&&om({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?am():void 0,...ne}),d&&lm({...ne}),cm({...ne,apply:({elements:Ze,rects:lt,availableWidth:xt,availableHeight:$t})=>{const{width:Lt,height:kt}=lt.reference,Nt=Ze.floating.style;Nt.setProperty("--radix-popper-available-width",`${xt}px`),Nt.setProperty("--radix-popper-available-height",`${$t}px`),Nt.setProperty("--radix-popper-anchor-width",`${Lt}px`),Nt.setProperty("--radix-popper-anchor-height",`${kt}px`)}}),M&&dm({element:M,padding:u}),HW({arrowWidth:R,arrowHeight:k}),b&&um({strategy:"referenceHidden",...ne})]}),[V,Y]=uE(K),se=St(w);Tt(()=>{G&&(se==null||se())},[G,se]);const I=(oe=$.arrow)==null?void 0:oe.x,Q=(xe=$.arrow)==null?void 0:xe.y,ie=((Ee=$.arrow)==null?void 0:Ee.centerOffset)!==0,[ce,ae]=p.useState();return Tt(()=>{C&&ae(window.getComputedStyle(C).zIndex)},[C]),l.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:G?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(Re=$.transformOrigin)==null?void 0:Re.x,(Te=$.transformOrigin)==null?void 0:Te.y].join(" "),...((Ce=$.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx($W,{scope:n,placedSide:V,onArrowChange:T,arrowX:I,arrowY:Q,shouldHideArrow:ie,children:l.jsx(mi.div,{"data-side":V,"data-align":Y,...v,ref:E,style:{...v.style,animation:G?void 0:"none"}})})})});aE.displayName=zp;var lE="PopperArrow",WW={top:"bottom",right:"left",bottom:"top",left:"right"},cE=p.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=zW(lE,r),a=WW[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(VW,{...i,ref:n,style:{...i.style,display:"block"}})})});cE.displayName=lE;function UW(e){return e!==null}var HW=e=>({name:"transformOrigin",options:e,fn(t){var _,C,P;const{placement:n,rects:r,middlewareData:i}=t,a=((_=i.arrow)==null?void 0:_.centerOffset)!==0,u=a?0:e.arrowWidth,d=a?0:e.arrowHeight,[f,m]=uE(n),g={start:"0%",center:"50%",end:"100%"}[m],b=(((C=i.arrow)==null?void 0:C.x)??0)+u/2,x=(((P=i.arrow)==null?void 0:P.y)??0)+d/2;let w="",v="";return f==="bottom"?(w=a?g:`${b}px`,v=`${-d}px`):f==="top"?(w=a?g:`${b}px`,v=`${r.floating.height+d}px`):f==="right"?(w=`${-d}px`,v=a?g:`${x}px`):f==="left"&&(w=`${r.floating.width+d}px`,v=a?g:`${x}px`),{data:{x:w,y:v}}}});function uE(e){const[t,n="center"]=e.split("-");return[t,n]}var ZW=iE,dE=oE,GW=aE,YW=cE,KW="Portal",fE=p.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[i,o]=p.useState(!1);Tt(()=>o(!0),[]);const a=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return a?vu.createPortal(l.jsx(mi.div,{...r,ref:t}),a):null});fE.displayName=KW;var ud="Popover",[hE,$U]=Bt(ud,[nE]),Ol=nE(),[qW,Ki]=hE(ud),mE=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!1}=e,u=Ol(t),d=p.useRef(null),[f,m]=p.useState(!1),[g,b]=Qn({prop:r,defaultProp:i??!1,onChange:o,caller:ud});return l.jsx(ZW,{...u,children:l.jsx(qW,{scope:t,contentId:qn(),triggerRef:d,open:g,onOpenChange:b,onOpenToggle:p.useCallback(()=>b(x=>!x),[b]),hasCustomAnchor:f,onCustomAnchorAdd:p.useCallback(()=>m(!0),[]),onCustomAnchorRemove:p.useCallback(()=>m(!1),[]),modal:a,children:n})})};mE.displayName=ud;var pE="PopoverAnchor",XW=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Ki(pE,n),o=Ol(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:u}=i;return p.useEffect(()=>(a(),()=>u()),[a,u]),l.jsx(dE,{...o,...r,ref:t})});XW.displayName=pE;var gE="PopoverTrigger",vE=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Ki(gE,n),o=Ol(n),a=Oe(t,i.triggerRef),u=l.jsx(mi.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":wE(i.open),...r,ref:a,onClick:he(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?u:l.jsx(dE,{asChild:!0,...o,children:u})});vE.displayName=gE;var Wp="PopoverPortal",[JW,QW]=hE(Wp,{forceMount:void 0}),yE=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=Ki(Wp,t);return l.jsx(JW,{scope:t,forceMount:n,children:l.jsx(vn,{present:n||o.open,children:l.jsx(fE,{asChild:!0,container:i,children:r})})})};yE.displayName=Wp;var Ho="PopoverContent",xE=p.forwardRef((e,t)=>{const n=QW(Ho,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=Ki(Ho,e.__scopePopover);return l.jsx(vn,{present:r||o.open,children:o.modal?l.jsx(tU,{...i,ref:t}):l.jsx(nU,{...i,ref:t})})});xE.displayName=Ho;var eU=Ps("PopoverContent.RemoveScroll"),tU=p.forwardRef((e,t)=>{const n=Ki(Ho,e.__scopePopover),r=p.useRef(null),i=Oe(t,r),o=p.useRef(!1);return p.useEffect(()=>{const a=r.current;if(a)return Zu(a)},[]),l.jsx(Cl,{as:eU,allowPinchZoom:!0,children:l.jsx(bE,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(e.onCloseAutoFocus,a=>{var u;a.preventDefault(),o.current||(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:he(e.onPointerDownOutside,a=>{const u=a.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,f=u.button===2||d;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:he(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),nU=p.forwardRef((e,t)=>{const n=Ki(Ho,e.__scopePopover),r=p.useRef(!1),i=p.useRef(!1);return l.jsx(bE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,u;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;((f=n.triggerRef.current)==null?void 0:f.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),bE=p.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,...g}=e,b=Ki(Ho,n),x=Ol(n);return Hu(),l.jsx(JP,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:l.jsx(qP,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>b.onOpenChange(!1),children:l.jsx(GW,{"data-state":wE(b.open),role:"dialog",id:b.contentId,...x,...g,ref:t,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),_E="PopoverClose",rU=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Ki(_E,n);return l.jsx(mi.button,{type:"button",...r,ref:t,onClick:he(e.onClick,()=>i.onOpenChange(!1))})});rU.displayName=_E;var iU="PopoverArrow",sU=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Ol(n);return l.jsx(YW,{...i,...r,ref:t})});sU.displayName=iU;function wE(e){return e?"open":"closed"}var oU=mE,aU=vE,lU=yE,SE=xE;const cU=oU,uU=aU,CE=p.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>l.jsx(lU,{children:l.jsx(SE,{ref:i,align:t,sideOffset:n,className:Me("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));CE.displayName=SE.displayName;function dU({date:e,setDate:t,placeholder:n="Pick a date"}){return l.jsxs(cU,{children:[l.jsx(uU,{asChild:!0,children:l.jsxs(Le,{variant:"outline",className:Me("w-full justify-start text-left font-normal",!e&&"text-muted-foreground"),children:[l.jsx(Yh,{className:"mr-2 h-4 w-4"}),e?Yi(e,"PPP"):l.jsx("span",{children:n})]})}),l.jsx(CE,{className:"w-auto p-0",align:"start",children:l.jsx(YP,{mode:"single",selected:e,onSelect:t,initialFocus:!0})})]})}function Lx(){var K,G,$;const[e,t]=p.useState([]),[n,r]=p.useState(null),[i,o]=p.useState(null),[a,u]=p.useState(new Set),[d,f]=p.useState({reporterName:"",dateRange:null,showUnsyncedOnly:!1}),[m,g]=p.useState(null),[b,x]=p.useState(!0),[w,v]=p.useState(1),[_,C]=p.useState(1),[P,E]=p.useState(0),[M,T]=p.useState(10),[A,R]=p.useState(null),k=yr();p.useEffect(()=>{U()},[w,M,d,m]);const U=async()=>{try{x(!0);let V=Pe.from("activity_reports").select(`
          *,
          users (
            first_name,
            last_name
          ),
          activity_observation (
            id
          )
        `,{count:"exact"});d.reporterName&&(V=V.or(`users.first_name.ilike.%${d.reporterName}%,users.last_name.ilike.%${d.reporterName}%`)),d.dateRange&&(V=V.gte("created_at",d.dateRange.toISOString())),m?V=V.order(m.key,{ascending:m.direction==="asc"}):V=V.order("created_at",{ascending:!1}),V=V.range((w-1)*M,w*M-1);const{data:Y,error:se,count:I}=await V;if(se)throw console.error("Query error:",se),se;if(d.showUnsyncedOnly&&Y){const{data:Q}=await Pe.from("activity_observation").select("activity_report_id").in("activity_report_id",Y.map(ae=>ae.id)),ie=new Set((Q==null?void 0:Q.map(ae=>ae.activity_report_id))||[]),ce=Y.filter(ae=>!ie.has(ae.id));t(ce),E(ce.length),C(Math.ceil(ce.length/M))}else t(Y||[]),E(I||0),C(Math.ceil((I||0)/M))}catch(V){console.error("Error fetching observations:",V),ye.error("Failed to fetch observations")}finally{x(!1)}},X=async()=>{try{const{data:V,error:Y}=await Pe.from("activity_reports").select("*").order("created_at",{ascending:!1});if(Y)throw Y;const I=[["Date/Time","Division","Range","Beat","Total Elephants","Damage Done","Reporter Name","Email","Contact"].join(","),...V.map(ae=>{var oe;return[new Date(ae.created_at).toLocaleString(),ae.division_name,ae.range_name,ae.beat_name,ae.total_elephants,ae.damage_done,(oe=ae.users)==null?void 0:oe.full_name,ae.email,ae.reporter_mobile].join(",")})].join(`
`),Q=new Blob([I],{type:"text/csv;charset=utf-8;"}),ie=document.createElement("a"),ce=URL.createObjectURL(Q);ie.setAttribute("href",ce),ie.setAttribute("download",`activity_reports_${new Date().toISOString()}.csv`),ie.style.visibility="hidden",document.body.appendChild(ie),ie.click(),document.body.removeChild(ie)}catch(V){console.error("Error exporting data:",V),ye.error("Failed to export data")}},re=async V=>{try{const{error:Y}=await Pe.from("activity_reports").delete().eq("id",V);if(Y)throw Y;t(e.filter(se=>se.id!==V)),ye.success("Report deleted successfully")}catch(Y){console.error("Error deleting report:",Y),ye.error("Failed to delete report")}},z=async()=>{if(a.size===0){ye.warning("Please select reports to delete");return}try{const{error:V}=await Pe.from("activity_reports").delete().in("id",Array.from(a));if(V)throw V;t(e.filter(Y=>!a.has(Y.id))),u(new Set),ye.success("Selected reports deleted successfully")}catch(V){console.error("Error deleting reports:",V),ye.error("Failed to delete reports")}},ne=V=>{g(Y=>({key:V,direction:(Y==null?void 0:Y.key)===V&&Y.direction==="asc"?"desc":"asc"}))},J=async(V,Y)=>{try{const{error:se}=await Pe.from("activity_reports").update(Y).eq("id",V);if(se)throw se;t(e.map(I=>I.id===V?{...I,...Y}:I)),o(null),ye.success("Report updated successfully")}catch(se){console.error("Error updating report:",se),ye.error("Failed to update report")}},H=async V=>{try{R(V);const{data:Y,error:se}=await Pe.from("activity_observation").select("*").eq("activity_report_id",V);if(se)throw console.error("Error checking existing observation:",se),se;if(Y&&Y.length>0){ye.success("Report already synced"),await U();return}const{data:I,error:Q}=await Pe.rpc("process_new_activity_reports",{p_report_id:V});if(Q)throw console.error("Error processing report:",Q),Q;if(!I)throw new Error("No response from server");if(I.status==="error")throw console.error("Processing error:",I.error,I.detail),new Error(I.error||I.message||"Failed to process report");if(I.status!=="success")throw new Error(I.message||"Unexpected response from server");const{data:ie,error:ce}=await Pe.from("activity_observation").select("*").eq("activity_report_id",V);if(ce)throw console.error("Error verifying observation:",ce),ce;if(!ie||ie.length===0)throw new Error("Failed to verify observation creation");ye.success(I.message||"Report synced successfully"),await U()}catch(Y){console.error("Error syncing report:",Y),ye.error(Y.message||"Failed to sync report")}finally{R(null)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 py-10",children:l.jsxs("div",{className:"container mx-auto p-2 sm:p-4",children:[l.jsx("nav",{className:"mb-6","aria-label":"Breadcrumb",children:l.jsxs("ol",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[l.jsx("li",{children:l.jsx("button",{className:"hover:underline text-green-800 font-medium",onClick:()=>k("/admin"),children:"Admin Panel"})}),l.jsx("li",{children:l.jsx("span",{className:"mx-1",children:"/"})}),l.jsx("li",{className:"text-gray-600",children:"Observations"})]})}),l.jsx("h1",{className:"text-3xl font-bold mb-8 text-center bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Observation & Report Management"}),l.jsxs(Ke,{className:"border-blue-100 shadow-lg",children:[l.jsx(pt,{className:"bg-gradient-to-r from-blue-50 to-blue-100",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsx(gt,{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"User-Submitted Reports"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Le,{variant:"outline",onClick:()=>f(V=>({...V,showUnsyncedOnly:!V.showUnsyncedOnly})),className:`border-blue-200 hover:bg-blue-50 hover:text-blue-600 ${d.showUnsyncedOnly?"bg-red-100":""}`,children:d.showUnsyncedOnly?"Show All":"Show Unsynced Only"}),l.jsxs(Le,{variant:"outline",onClick:X,className:"flex items-center gap-2 border-blue-200 hover:bg-blue-50 hover:text-blue-600",children:[l.jsx(YN,{className:"w-4 h-4"}),"Export CSV"]}),l.jsx(Le,{variant:"destructive",onClick:z,disabled:a.size===0,className:"bg-red-500 hover:bg-red-600",children:"Delete Selected"})]})]})}),l.jsxs(Xe,{children:[l.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(ht,{placeholder:"Search by reporter name...",value:d.reporterName,onChange:V=>f(Y=>({...Y,reporterName:V.target.value})),className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"}),l.jsx(dU,{selected:d.dateRange,onChange:V=>f(Y=>({...Y,dateRange:V})),placeholderText:"Filter by date...",className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"}),l.jsxs(Ai,{value:M.toString(),onValueChange:V=>T(Number(V)),children:[l.jsx(ni,{className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500",children:l.jsx(Ii,{placeholder:"Rows per page"})}),l.jsxs(ri,{children:[l.jsx(Dt,{value:"10",children:"10 rows"}),l.jsx(Dt,{value:"25",children:"25 rows"}),l.jsx(Dt,{value:"50",children:"50 rows"}),l.jsx(Dt,{value:"100",children:"100 rows"})]})]})]}),l.jsxs("div",{className:"relative",children:[b&&l.jsx("div",{className:"absolute inset-0 bg-white/50 backdrop-blur-sm flex items-center justify-center z-10",children:l.jsx(bo,{className:"w-8 h-8 animate-spin text-blue-600"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(od,{children:[l.jsx(ad,{children:l.jsxs(As,{className:"bg-blue-50",children:[l.jsx(qt,{className:"w-[50px]",children:l.jsx(du,{checked:a.size===e.length,onCheckedChange:V=>{u(V?new Set(e.map(Y=>Y.id)):new Set)},className:"border-blue-200"})}),l.jsxs(qt,{className:"cursor-pointer text-blue-900",onClick:()=>ne("created_at"),children:["Date/Time ",(m==null?void 0:m.key)==="created_at"&&(m.direction==="asc"?"":"")]}),l.jsx(qt,{className:"text-blue-900",children:"Reporter"}),l.jsx(qt,{className:"text-blue-900",children:"Details"}),l.jsx(qt,{className:"text-blue-900",children:"Actions"})]})}),l.jsx(ld,{children:e.map(V=>{var se,I;const Y=V.activity_observation&&V.activity_observation.length>0;return l.jsxs(As,{className:"hover:bg-blue-50/50 transition-colors",children:[l.jsx(Xt,{children:l.jsx(du,{checked:a.has(V.id),onCheckedChange:Q=>{const ie=new Set(a);Q?ie.add(V.id):ie.delete(V.id),u(ie)},className:"border-blue-200"})}),l.jsx(Xt,{children:new Date(V.created_at).toLocaleString()}),l.jsx(Xt,{children:`${((se=V.users)==null?void 0:se.first_name)||""} ${((I=V.users)==null?void 0:I.last_name)||""}`.trim()||"Unknown"}),l.jsx(Xt,{children:V.total_elephants>0?`${V.total_elephants} elephants`:V.damage_description||"No details"}),l.jsx(Xt,{children:l.jsxs("div",{className:"flex gap-2",children:[Y?l.jsxs(Le,{size:"sm",variant:"default",className:"flex items-center gap-1 bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700 text-white",disabled:!0,children:[l.jsx(Dg,{className:"w-4 h-4"}),"Synced"]}):l.jsx(Le,{size:"sm",variant:"destructive",onClick:()=>H(V.id),disabled:A===V.id,className:"flex items-center gap-1 bg-red-500 hover:bg-red-600",children:A===V.id?l.jsxs(l.Fragment,{children:[l.jsx(Dg,{className:"w-4 h-4"}),"Syncing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Aa,{className:"w-4 h-4"}),"Sync Now"]})}),l.jsx(Le,{size:"sm",variant:"outline",onClick:()=>r(V),className:"border-blue-200 hover:bg-blue-50 hover:text-blue-600",children:"View"}),l.jsx(Le,{size:"sm",variant:"outline",onClick:()=>o(V),className:"border-blue-200 hover:bg-blue-50 hover:text-blue-600",children:"Edit"}),l.jsx(Le,{size:"sm",variant:"destructive",onClick:()=>re(V.id),className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})})]},V.id)})})]})}),l.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-blue-900",children:["Showing ",(w-1)*M+1," to ",Math.min(w*M,P)," of ",P," records"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Le,{variant:"outline",size:"sm",onClick:()=>v(V=>Math.max(V-1,1)),disabled:w===1,className:"border-blue-200 hover:bg-blue-50 hover:text-blue-600",children:l.jsx(_b,{className:"w-4 h-4"})}),l.jsxs("span",{className:"text-sm text-blue-900",children:["Page ",w," of ",_]}),l.jsx(Le,{variant:"outline",size:"sm",onClick:()=>v(V=>Math.min(V+1,_)),disabled:w===_,className:"border-blue-200 hover:bg-blue-50 hover:text-blue-600",children:l.jsx(wu,{className:"w-4 h-4"})})]})]})]})]})]}),n&&l.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 w-full max-w-2xl border border-blue-100",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"View Report"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Date:"})," ",new Date(n.created_at).toLocaleDateString()]}),l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Time:"})," ",new Date(n.created_at).toLocaleTimeString()]}),l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Reporter:"})," ",`${((K=n.users)==null?void 0:K.first_name)||""} ${((G=n.users)==null?void 0:G.last_name)||""}`.trim()||"Unknown"]}),n.reporter_mobile&&l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Contact:"})," ",n.reporter_mobile]}),n.email&&l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Email:"})," ",n.email]}),n.associated_division&&l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Division:"})," ",n.associated_division]}),n.associated_range&&l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Range:"})," ",n.associated_range]}),n.associated_beat&&l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Beat:"})," ",n.associated_beat]})]}),l.jsxs("div",{children:[n.total_elephants>0&&l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Total Elephants:"})," ",n.total_elephants]}),n.damage_done&&l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Damage:"})," ",n.damage_done]}),n.damage_description&&l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Description:"})," ",n.damage_description]}),n.latitude&&l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Latitude:"})," ",n.latitude]}),n.longitude&&l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Longitude:"})," ",n.longitude]}),(($=n.activity_observation)==null?void 0:$[0])&&l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"mt-4 font-semibold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Observation Details:"}),n.activity_observation[0].total_elephants>0&&l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Observed Elephants:"})," ",n.activity_observation[0].total_elephants]}),n.activity_observation[0].adult_male_count>0&&l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Adult Males:"})," ",n.activity_observation[0].adult_male_count]}),n.activity_observation[0].adult_female_count>0&&l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Adult Females:"})," ",n.activity_observation[0].adult_female_count]}),n.activity_observation[0].sub_adult_male_count>0&&l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Sub-adult Males:"})," ",n.activity_observation[0].sub_adult_male_count]}),n.activity_observation[0].sub_adult_female_count>0&&l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Sub-adult Females:"})," ",n.activity_observation[0].sub_adult_female_count]}),n.activity_observation[0].calf_count>0&&l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Calves:"})," ",n.activity_observation[0].calf_count]}),n.activity_observation[0].damage_done&&l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Observed Damage:"})," ",n.activity_observation[0].damage_done]}),n.activity_observation[0].damage_description&&l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Damage Description:"})," ",n.activity_observation[0].damage_description]}),n.activity_observation[0].created_at&&l.jsxs("p",{className:"text-blue-900",children:[l.jsx("strong",{children:"Observation Date:"})," ",new Date(n.activity_observation[0].created_at).toLocaleString()]})]})]})]}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx(Le,{variant:"outline",onClick:()=>r(null),className:"border-blue-200 hover:bg-blue-50 hover:text-blue-600",children:"Close"})})]})}),i&&l.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 w-full max-w-2xl border border-blue-100",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Edit Report"}),l.jsxs("form",{className:"space-y-4",onSubmit:V=>{V.preventDefault();const Y=new FormData(V.currentTarget);J(i.id,{total_elephants:parseInt(Y.get("total_elephants")),damage_done:Y.get("damage_done"),damage_description:Y.get("damage_description")})},children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-blue-900",children:"Total Elephants"}),l.jsx(ht,{name:"total_elephants",type:"number",defaultValue:i.total_elephants,className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-blue-900",children:"Damage Done"}),l.jsx(ht,{name:"damage_done",defaultValue:i.damage_done,className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-blue-900",children:"Description"}),l.jsx(ht,{name:"damage_description",defaultValue:i.damage_description||"",className:"border-blue-100 focus:border-blue-500 focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[l.jsx(Le,{type:"button",variant:"outline",onClick:()=>o(null),className:"border-blue-200 hover:bg-blue-50 hover:text-blue-600",children:"Cancel"}),l.jsx(Le,{type:"submit",className:"bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700 text-white shadow-sm",children:"Save Changes"})]})]})]})})]})})}var dd="Switch",[fU,zU]=Bt(dd),[hU,mU]=fU(dd),PE=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:a,disabled:u,value:d="on",onCheckedChange:f,form:m,...g}=e,[b,x]=p.useState(null),w=Oe(t,E=>x(E)),v=p.useRef(!1),_=b?m||!!b.closest("form"):!0,[C,P]=Qn({prop:i,defaultProp:o??!1,onChange:f,caller:dd});return l.jsxs(hU,{scope:n,checked:C,disabled:u,children:[l.jsx(Ve.button,{type:"button",role:"switch","aria-checked":C,"aria-required":a,"data-state":jE(C),"data-disabled":u?"":void 0,disabled:u,value:d,...g,ref:w,onClick:he(e.onClick,E=>{P(M=>!M),_&&(v.current=E.isPropagationStopped(),v.current||E.stopPropagation())})}),_&&l.jsx(NE,{control:b,bubbles:!v.current,name:r,value:d,checked:C,required:a,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});PE.displayName=dd;var EE="SwitchThumb",TE=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=mU(EE,n);return l.jsx(Ve.span,{"data-state":jE(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});TE.displayName=EE;var pU="SwitchBubbleInput",NE=p.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},o)=>{const a=p.useRef(null),u=Oe(a,o),d=Fu(n),f=Yo(t);return p.useEffect(()=>{const m=a.current;if(!m)return;const g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&x){const w=new Event("click",{bubbles:r});x.call(m,n),m.dispatchEvent(w)}},[d,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});NE.displayName=pU;function jE(e){return e?"checked":"unchecked"}var ME=PE,gU=TE;const Cs=p.forwardRef(({className:e,...t},n)=>l.jsx(ME,{className:Me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:l.jsx(gU,{className:Me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Cs.displayName=ME.displayName;async function vU(){try{const[{data:e},{data:t},{data:n},{data:r},{data:i},{data:o},{data:a}]=await Promise.all([Pe.from("v_admin_user_stats").select("*").single(),Pe.from("v_admin_activity_stats").select("*").single(),Pe.from("v_admin_system_health").select("*").single(),Pe.from("v_admin_user_activity_timeline").select("*"),Pe.from("v_admin_record_creation_timeline").select("*"),Pe.from("v_admin_resource_utilization").select("*"),Pe.from("v_admin_recent_activity").select("*")]);return{userStats:e||{total_users:0,active_users:0,daily_active_users:0,total_admins:0,total_moderators:0,total_regular_users:0,new_users_7d:0,new_users_30d:0},activityStats:t||{total_records:0,records_24h:0,records_7d:0,records_30d:0,active_users_24h:0,active_users_7d:0,active_users_30d:0},systemHealth:n||{errors_24h:0,errors_7d:0,failed_logins_24h:0,failed_logins_7d:0,system_failures_24h:0,system_failures_7d:0},userActivityTimeline:r||[],recordCreationTimeline:i||[],resourceUtilization:o||[],recentActivity:a||[]}}catch(e){throw console.error("Error fetching admin statistics:",e),e}}const Sc=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];function Fx(){const e=yr(),[t,n]=p.useState("7d"),[r,i]=p.useState(!1),[o,a]=p.useState(!0),[u,d]=p.useState(null),[f,m]=p.useState(!1),g=async()=>{try{m(!0);const v=await vU();d(v)}catch(v){console.error("Error fetching statistics:",v),ye.error("Failed to fetch statistics")}finally{a(!1),m(!1)}};if(p.useEffect(()=>{g()},[]),p.useEffect(()=>{let v;return r&&(v=setInterval(g,6e4)),()=>{v&&clearInterval(v)}},[r]),o)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx(bo,{className:"w-8 h-8 animate-spin text-green-800"})});if(!u)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to load statistics"}),l.jsx(Le,{onClick:g,children:"Try Again"})]})});u.userActivityTimeline.map(v=>({time:new Date(v.hour).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),activity:v.activity_count,users:v.unique_users})).reverse();const b=u.recordCreationTimeline.map(v=>({date:new Date(v.day).toLocaleDateString(),records:v.record_count,users:v.unique_users}));u.resourceUtilization.map(v=>({time:new Date(v.hour).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),requests:v.request_count,errors:v.error_count})).reverse();const w=[{name:"Admins",value:u.userStats.total_admins},{name:"Moderators",value:u.userStats.total_moderators},{name:"Regular Users",value:u.userStats.total_regular_users}].filter(v=>v.value>0);return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 py-10",children:l.jsxs("div",{className:"container mx-auto p-2 sm:p-4",children:[l.jsx("nav",{className:"mb-6","aria-label":"Breadcrumb",children:l.jsxs("ol",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[l.jsx("li",{children:l.jsx("button",{className:"hover:underline text-green-800 font-medium",onClick:()=>e("/admin"),children:"Admin Panel"})}),l.jsx("li",{children:l.jsx("span",{className:"mx-1",children:"/"})}),l.jsx("li",{className:"text-gray-600",children:"Admin Dashboard & Statistics"})]})}),l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard & Statistics"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("select",{className:"border rounded px-2 py-1",value:t,onChange:v=>n(v.target.value),children:[l.jsx("option",{value:"1d",children:"Last 24 hours"}),l.jsx("option",{value:"7d",children:"Last 7 days"}),l.jsx("option",{value:"30d",children:"Last 30 days"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium",children:"Auto Refresh"}),l.jsx(Cs,{checked:r,onCheckedChange:i})]}),l.jsxs(Le,{variant:"outline",size:"sm",onClick:g,disabled:f,children:[l.jsx(Aa,{className:`w-4 h-4 mr-2 ${f?"animate-spin":""}`}),"Refresh"]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 mb-10",children:[l.jsx(Ke,{className:"bg-white shadow-sm hover:shadow-md transition",children:l.jsxs(Xe,{className:"p-4",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Total Users"}),l.jsx("div",{className:"text-2xl font-bold text-green-800",children:u.userStats.total_users}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["+",u.userStats.new_users_7d," this week"]})]})}),l.jsx(Ke,{className:"bg-white shadow-sm hover:shadow-md transition",children:l.jsxs(Xe,{className:"p-4",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Active Users"}),l.jsx("div",{className:"text-2xl font-bold text-blue-800",children:u.userStats.active_users}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[u.userStats.daily_active_users," today"]})]})}),l.jsx(Ke,{className:"bg-white shadow-sm hover:shadow-md transition",children:l.jsxs(Xe,{className:"p-4",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Total Records"}),l.jsx("div",{className:"text-2xl font-bold text-purple-800",children:u.activityStats.total_records}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["+",u.activityStats.records_24h," today"]})]})}),l.jsx(Ke,{className:"bg-white shadow-sm hover:shadow-md transition",children:l.jsxs(Xe,{className:"p-4",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Daily Active Users"}),l.jsx("div",{className:"text-2xl font-bold text-orange-800",children:u.userStats.daily_active_users}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[u.activityStats.active_users_24h," in last 24h"]})]})}),l.jsx(Ke,{className:"bg-white shadow-sm hover:shadow-md transition",children:l.jsxs(Xe,{className:"p-4",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"System Errors"}),l.jsx("div",{className:"text-2xl font-bold text-red-800",children:u.systemHealth.errors_24h}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[u.systemHealth.errors_7d," in last 7 days"]})]})}),l.jsx(Ke,{className:"bg-white shadow-sm hover:shadow-md transition",children:l.jsxs(Xe,{className:"p-4",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Failed Logins"}),l.jsx("div",{className:"text-2xl font-bold text-yellow-800",children:u.systemHealth.failed_logins_24h}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[u.systemHealth.failed_logins_7d," in last 7 days"]})]})}),l.jsx(Ke,{className:"bg-white shadow-sm hover:shadow-md transition",children:l.jsxs(Xe,{className:"p-4",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"System Uptime"}),l.jsx("div",{className:"text-2xl font-bold text-green-800",children:"99.98%"}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Last 30 days"})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[l.jsxs(Ke,{className:"shadow-lg border-0 bg-white",children:[l.jsx(pt,{className:"pb-2",children:l.jsx(gt,{className:"text-lg font-semibold text-gray-900",children:"User Distribution"})}),l.jsx(Xe,{children:l.jsxs("div",{className:"flex flex-col items-center justify-center h-80",children:[l.jsx(fs,{width:"100%",height:260,children:l.jsx(DT,{children:l.jsx(LT,{data:w,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:4,dataKey:"value",nameKey:"name",label:({name:v,percent:_})=>`${(_*100).toFixed(0)}%`,children:w.map((v,_)=>l.jsx(FT,{fill:Sc[_%Sc.length]},`cell-${_}`))})})}),l.jsx("div",{className:"flex gap-6 mt-6",children:w.map((v,_)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:Sc[_%Sc.length]}}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:v.name}),l.jsxs("span",{className:"text-xs text-gray-500",children:["(",v.value,")"]})]},v.name))})]})})]}),l.jsxs(Ke,{children:[l.jsx(pt,{children:l.jsx(gt,{children:"Record Creation Timeline"})}),l.jsx(Xe,{children:l.jsx("div",{className:"h-80",children:l.jsx(fs,{width:"100%",height:"100%",children:l.jsxs(oo,{data:b,children:[l.jsx(ao,{strokeDasharray:"3 3"}),l.jsx(lo,{dataKey:"date"}),l.jsx(co,{}),l.jsx(uo,{}),l.jsx(hs,{dataKey:"records",fill:"#8884d8"}),l.jsx(hs,{dataKey:"users",fill:"#82ca9d"})]})})})})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx(Le,{variant:"outline",onClick:()=>{ye.info("Export functionality coming soon")},children:"Export Dashboard Data"})})]})})}function yU(){const[e,t]=p.useState(!1),[n,r]=p.useState(!0),[i,o]=p.useState("UTC"),[a,u]=p.useState("en"),[d,f]=p.useState(30),[m,g]=p.useState(""),b=yr(),x=[{id:1,user:"admin@example.com",action:"Updated settings",time:"2024-06-01 10:00",ip:"192.168.1.1"},{id:2,user:"user1@example.com",action:"Logged in",time:"2024-06-01 09:30",ip:"192.168.1.2"}];return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 py-10",children:l.jsxs("div",{className:"container mx-auto p-2 sm:p-4",children:[l.jsx("nav",{className:"mb-6","aria-label":"Breadcrumb",children:l.jsxs("ol",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[l.jsx("li",{children:l.jsx("button",{className:"hover:underline text-green-800 font-medium",onClick:()=>b("/admin"),children:"Admin Panel"})}),l.jsx("li",{children:l.jsx("span",{className:"mx-1",children:"/"})}),l.jsx("li",{className:"text-gray-600",children:"System Settings"})]})}),l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight mb-3",children:"System Settings"}),l.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Configure system settings, notifications, and maintenance options"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-7xl mx-auto",children:[l.jsxs(Ke,{className:"bg-white shadow-lg",children:[l.jsxs(pt,{className:"flex flex-row items-center gap-4 pb-4",children:[l.jsx("div",{className:"bg-blue-100 p-3 rounded-xl",children:l.jsx(Cb,{className:"h-6 w-6 text-blue-600"})}),l.jsx(gt,{className:"text-xl font-semibold text-gray-900",children:"General Settings"})]}),l.jsxs(Xe,{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:"Maintenance Mode"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Enable maintenance mode for system updates"})]}),l.jsx(Cs,{checked:e,onCheckedChange:t})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:"Email Notifications"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Send email notifications for important events"})]}),l.jsx(Cs,{checked:n,onCheckedChange:r})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Session Timeout (minutes)"}),l.jsx(ht,{type:"number",value:d,onChange:w=>f(Number(w.target.value)),className:"max-w-[200px]"})]})]})]}),l.jsxs(Ke,{className:"bg-white shadow-lg",children:[l.jsxs(pt,{className:"flex flex-row items-center gap-4 pb-4",children:[l.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:l.jsx(KN,{className:"h-6 w-6 text-green-600"})}),l.jsx(gt,{className:"text-xl font-semibold text-gray-900",children:"Regional Settings"})]}),l.jsxs(Xe,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Timezone"}),l.jsxs(Ai,{value:i,onValueChange:o,children:[l.jsx(ni,{className:"max-w-[200px]",children:l.jsx(Ii,{placeholder:"Select timezone"})}),l.jsxs(ri,{children:[l.jsx(Dt,{value:"UTC",children:"UTC"}),l.jsx(Dt,{value:"IST",children:"IST"}),l.jsx(Dt,{value:"EST",children:"EST"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Language"}),l.jsxs(Ai,{value:a,onValueChange:u,children:[l.jsx(ni,{className:"max-w-[200px]",children:l.jsx(Ii,{placeholder:"Select language"})}),l.jsxs(ri,{children:[l.jsx(Dt,{value:"en",children:"English"}),l.jsx(Dt,{value:"hi",children:"Hindi"}),l.jsx(Dt,{value:"mr",children:"Marathi"})]})]})]})]})]}),l.jsxs(Ke,{className:"bg-white shadow-lg",children:[l.jsxs(pt,{className:"flex flex-row items-center gap-4 pb-4",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-xl",children:l.jsx(nj,{className:"h-6 w-6 text-red-600"})}),l.jsx(gt,{className:"text-xl font-semibold text-gray-900",children:"Security Settings"})]}),l.jsx(Xe,{className:"space-y-6",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:"Password Policy"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",className:"rounded border-gray-300",checked:!0,readOnly:!0}),l.jsx("span",{className:"text-sm text-gray-600",children:"Require strong passwords"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",className:"rounded border-gray-300",checked:!0,readOnly:!0}),l.jsx("span",{className:"text-sm text-gray-600",children:"Enable two-factor authentication"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",className:"rounded border-gray-300",checked:!0,readOnly:!0}),l.jsx("span",{className:"text-sm text-gray-600",children:"Regular password rotation"})]})]})]})})]}),l.jsxs(Ke,{className:"bg-white shadow-lg",children:[l.jsxs(pt,{className:"flex flex-row items-center gap-4 pb-4",children:[l.jsx("div",{className:"bg-purple-100 p-3 rounded-xl",children:l.jsx(GN,{className:"h-6 w-6 text-purple-600"})}),l.jsx(gt,{className:"text-xl font-semibold text-gray-900",children:"System Logs"})]}),l.jsx(Xe,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ht,{placeholder:"Search logs...",value:m,onChange:w=>g(w.target.value),className:"max-w-[300px]"}),l.jsx(Le,{variant:"outline",children:"Filter"})]}),l.jsx("div",{className:"border rounded-lg",children:l.jsxs(od,{children:[l.jsx(ad,{children:l.jsxs(As,{children:[l.jsx(qt,{children:"Time"}),l.jsx(qt,{children:"Event"}),l.jsx(qt,{children:"User"}),l.jsx(qt,{children:"Status"})]})}),l.jsx(ld,{children:x.map(w=>l.jsxs(As,{children:[l.jsx(Xt,{className:"text-sm",children:w.time}),l.jsx(Xt,{className:"text-sm",children:w.action}),l.jsx(Xt,{className:"text-sm",children:w.user}),l.jsx(Xt,{children:l.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:"Success"})})]},w.id))})]})})]})})]})]}),l.jsxs("div",{className:"flex justify-end gap-4 mt-8 max-w-7xl mx-auto",children:[l.jsx(Le,{variant:"outline",children:"Reset to Default"}),l.jsx(Le,{children:"Save Changes"})]})]})})}function xU(){const[e,t]=p.useState(!0),[n,r]=p.useState(!1),[i,o]=p.useState(!0),[a,u]=p.useState("realtime"),d=yr();return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 py-10",children:l.jsxs("div",{className:"container mx-auto p-2 sm:p-4",children:[l.jsx("nav",{className:"mb-6","aria-label":"Breadcrumb",children:l.jsxs("ol",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[l.jsx("li",{children:l.jsx("button",{className:"hover:underline text-green-800 font-medium",onClick:()=>d("/admin"),children:"Admin Panel"})}),l.jsx("li",{children:l.jsx("span",{className:"mx-1",children:"/"})}),l.jsx("li",{className:"text-gray-600",children:"Alerts & Notifications"})]})}),l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight mb-3",children:"Alerts & Notifications"}),l.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Configure notification preferences and alert settings"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-7xl mx-auto",children:[l.jsxs(Ke,{className:"bg-white shadow-lg",children:[l.jsxs(pt,{className:"flex flex-row items-center gap-4 pb-4",children:[l.jsx("div",{className:"bg-blue-100 p-3 rounded-xl",children:l.jsx(QN,{className:"h-6 w-6 text-blue-600"})}),l.jsx(gt,{className:"text-xl font-semibold text-gray-900",children:"Email Notifications"})]}),l.jsxs(Xe,{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:"Enable Email Notifications"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Send notifications via email"})]}),l.jsx(Cs,{checked:e,onCheckedChange:t})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Notification Frequency"}),l.jsxs(Ai,{value:a,onValueChange:u,children:[l.jsx(ni,{className:"max-w-[200px]",children:l.jsx(Ii,{placeholder:"Select frequency"})}),l.jsxs(ri,{children:[l.jsx(Dt,{value:"realtime",children:"Real-time"}),l.jsx(Dt,{value:"daily",children:"Daily Digest"}),l.jsx(Dt,{value:"weekly",children:"Weekly Summary"})]})]})]})]})]}),l.jsxs(Ke,{className:"bg-white shadow-lg",children:[l.jsxs(pt,{className:"flex flex-row items-center gap-4 pb-4",children:[l.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:l.jsx(tj,{className:"h-6 w-6 text-green-600"})}),l.jsx(gt,{className:"text-xl font-semibold text-gray-900",children:"SMS Notifications"})]}),l.jsxs(Xe,{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:"Enable SMS Notifications"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Send notifications via SMS"})]}),l.jsx(Cs,{checked:n,onCheckedChange:r})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-900",children:"SMS Gateway"}),l.jsx(ht,{placeholder:"Enter SMS gateway URL",className:"max-w-[300px]"})]})]})]}),l.jsxs(Ke,{className:"bg-white shadow-lg",children:[l.jsxs(pt,{className:"flex flex-row items-center gap-4 pb-4",children:[l.jsx("div",{className:"bg-purple-100 p-3 rounded-xl",children:l.jsx(bb,{className:"h-6 w-6 text-purple-600"})}),l.jsx(gt,{className:"text-xl font-semibold text-gray-900",children:"Push Notifications"})]}),l.jsxs(Xe,{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:"Enable Push Notifications"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Send notifications to user devices"})]}),l.jsx(Cs,{checked:i,onCheckedChange:o})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Firebase Configuration"}),l.jsx(ht,{placeholder:"Enter Firebase config",className:"max-w-[300px]"})]})]})]}),l.jsxs(Ke,{className:"bg-white shadow-lg",children:[l.jsxs(pt,{className:"flex flex-row items-center gap-4 pb-4",children:[l.jsx("div",{className:"bg-orange-100 p-3 rounded-xl",children:l.jsx(ej,{className:"h-6 w-6 text-orange-600"})}),l.jsx(gt,{className:"text-xl font-semibold text-gray-900",children:"Notification Templates"})]}),l.jsx(Xe,{className:"space-y-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Welcome Email Template"}),l.jsx(ht,{placeholder:"Enter welcome email template",className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Alert Template"}),l.jsx(ht,{placeholder:"Enter alert template",className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Report Template"}),l.jsx(ht,{placeholder:"Enter report template",className:"mt-1"})]})]})})]})]}),l.jsxs("div",{className:"flex justify-end gap-4 mt-8 max-w-7xl mx-auto",children:[l.jsx(Le,{variant:"outline",children:"Reset to Default"}),l.jsx(Le,{children:"Save Changes"})]})]})})}function In(){return l.jsx("footer",{className:"bg-gradient-to-r from-blue-600 to-green-600 text-white py-4 mt-8",children:l.jsx("div",{className:"container mx-auto px-2 sm:px-4 text-center",children:l.jsxs("p",{className:"text-xs sm:text-sm font-medium",children:[" ",new Date().getFullYear()," Eravat - Advanced Elephant Monitoring & Conservation Platform"]})})})}const bU=new NR,Vx=me.lazy(()=>RT(()=>import("./PwaReloader-D5b5DzuY.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),_U=()=>{const[e,t]=p.useState(!0),[n,r]=p.useState(null);return p.useEffect(()=>{console.log("App component mounted"),(async()=>{try{console.log("Checking Supabase connection...");const o=await p0();console.log("Supabase connection status:",o),o||(r("Database connection error. Please try again later."),ye.error("Database connection error. Please try again later."))}catch(o){console.error("Connection check failed:",o),r("Failed to connect to the database. Please try again later."),ye.error("Failed to connect to the database. Please try again later.")}finally{t(!1)}})()},[]),console.log("App component rendering..."),e?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading application..."})]})}):n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-lg w-full",children:[l.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Connection Error"}),l.jsx("p",{className:"text-gray-600 mb-4",children:n}),l.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors",children:"Retry Connection"})]})}):l.jsx(RR,{children:l.jsx(MR,{client:bU,children:l.jsxs(iR,{children:[l.jsx(aj,{}),l.jsx(Vj,{}),Vx&&l.jsx(p.Suspense,{fallback:null,children:l.jsx(Vx,{})}),l.jsx(jT,{children:l.jsx(DR,{children:l.jsxs(MT,{children:[l.jsx(dn,{path:"/login",element:l.jsx(i$,{})}),l.jsx(dn,{path:"/",element:l.jsxs(An,{children:[l.jsx(kn,{}),l.jsx(xD,{}),l.jsx(In,{})]})}),l.jsx(dn,{path:"/dashboard",element:l.jsxs(An,{children:[l.jsx(kn,{}),l.jsx(XB,{}),l.jsx(In,{})]})}),l.jsx(dn,{path:"/report",element:l.jsxs(An,{children:[l.jsx(kn,{}),l.jsx(Qy,{}),l.jsx(In,{})]})}),l.jsx(dn,{path:"/admin",element:l.jsxs(An,{requiredRole:"admin",children:[l.jsx(kn,{}),l.jsx(QB,{}),l.jsx(In,{})]})}),l.jsx(dn,{path:"/admin/users",element:l.jsxs(An,{requiredRole:"admin",children:[l.jsx(kn,{}),l.jsx(_x,{}),l.jsx(In,{})]})}),l.jsx(dn,{path:"/admin/observations",element:l.jsxs(An,{requiredRole:"admin",children:[l.jsx(kn,{}),l.jsx(Lx,{}),l.jsx(In,{})]})}),l.jsx(dn,{path:"/admin/statistics",element:l.jsxs(An,{requiredRole:"admin",children:[l.jsx(kn,{}),l.jsx(Fx,{}),l.jsx(In,{})]})}),l.jsx(dn,{path:"/admin/settings",element:l.jsxs(An,{requiredRole:"admin",children:[l.jsx(kn,{}),l.jsx(yU,{}),l.jsx(In,{})]})}),l.jsx(dn,{path:"/admin/notifications",element:l.jsxs(An,{requiredRole:"admin",children:[l.jsx(kn,{}),l.jsx(xU,{}),l.jsx(In,{})]})}),l.jsx(dn,{path:"/manager/users",element:l.jsxs(An,{requiredRole:"manager",children:[l.jsx(kn,{}),l.jsx(_x,{}),l.jsx(In,{})]})}),l.jsx(dn,{path:"/manager/observations",element:l.jsxs(An,{requiredRole:"manager",children:[l.jsx(kn,{}),l.jsx(Lx,{}),l.jsx(In,{})]})}),l.jsx(dn,{path:"/manager/statistics",element:l.jsxs(An,{requiredRole:"manager",children:[l.jsx(kn,{}),l.jsx(Fx,{}),l.jsx(In,{})]})}),l.jsx(dn,{path:"/collector/report",element:l.jsxs(An,{children:[l.jsx(kn,{}),l.jsx(Qy,{}),l.jsx(In,{})]})}),l.jsx(dn,{path:"*",element:l.jsx(bD,{})})]})})})]})})})};window.CESIUM_BASE_URL="/cesium";BT.createRoot(document.getElementById("root")).render(l.jsx(_U,{}));export{Le as B,ye as u};
//# sourceMappingURL=index-CvoOBrh0.js.map
