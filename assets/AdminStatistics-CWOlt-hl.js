import{W as F,t as h,n as ut,r as L,s as Z,j as s,e as Dt,u as Lt,o as It}from"./index-Ct3NJnDQ.js";import{C as M}from"./card-Dql-rexB.js";import{f as j,r as ft,b as Ct,c as dt,d as Ft,i as H,e as Be,p as U,g as w,h as pt,j as Ke,k as mt,D as ht,l as vt,m as z,n as G,S as Bt,A as yt,o as Kt,q as J,s as gt,t as te,u as bt,v as xt,G as At,w as ve,x as _t,y as jt,z as Mt,E as de,F as Me,H as Ut,I as zt,J as Ue,K as Pt,X as ye,Y as ge,M as Vt,N as Wt,R as pe,C as Te,T as me,B as ze,a as he}from"./BarChart-BPOYOwH7.js";import"./debounce-Dp180YeK.js";var qt=["points","className","baseLinePoints","connectNulls"];function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(this,arguments)}function Ht(e,t){if(e==null)return{};var n=Gt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Gt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ve(e){return Jt(e)||Yt(e)||Xt(e)||Zt()}function Zt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xt(e,t){if(e){if(typeof e=="string")return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}}function Yt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jt(e){if(Array.isArray(e))return $e(e)}function $e(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var We=function(t){return t&&t.x===+t.x&&t.y===+t.y},Qt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){We(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),We(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},le=function(t,n){var r=Qt(t);n&&(r=[r.reduce(function(o,a){return[].concat(Ve(o),Ve(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,c,u){return"".concat(a).concat(u===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},er=function(t,n,r){var i=le(t,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(le(n.reverse(),r).slice(1))},tr=function(t){var n=t.points,r=t.className,i=t.baseLinePoints,o=t.connectNulls,a=Ht(t,qt);if(!n||!n.length)return null;var c=F("recharts-polygon",r);if(i&&i.length){var u=a.stroke&&a.stroke!=="none",l=er(n,i,o);return h.createElement("g",{className:c},h.createElement("path",re({},j(a,!0),{fill:l.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:l})),u?h.createElement("path",re({},j(a,!0),{fill:"none",d:le(n,o)})):null,u?h.createElement("path",re({},j(a,!0),{fill:"none",d:le(i,o)})):null)}var m=le(n,o);return h.createElement("path",re({},j(a,!0),{fill:m.slice(-1)==="Z"?a.fill:"none",className:c,d:m}))},Ne,qe;function rr(){if(qe)return Ne;qe=1;var e=ft(),t=Ct(),n=dt();function r(i,o){return i&&i.length?e(i,n(o,2),t):void 0}return Ne=r,Ne}var nr=rr();const ir=ut(nr);var Re,He;function ar(){if(He)return Re;He=1;var e=ft(),t=dt(),n=Ft();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return Re=r,Re}var or=ar();const sr=ut(or);var cr=["cx","cy","angle","ticks","axisLine"],lr=["ticks","tick","angle","tickFormatter","stroke"];function ie(e){"@babel/helpers - typeof";return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(e)}function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ge(Object(n),!0).forEach(function(r){Pe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ze(e,t){if(e==null)return{};var n=ur(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ur(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,St(r.key),r)}}function dr(e,t,n){return t&&Xe(e.prototype,t),n&&Xe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pr(e,t,n){return t=xe(t),mr(e,Ot()?Reflect.construct(t,n||[],xe(e).constructor):t.apply(e,n))}function mr(e,t){if(t&&(ie(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hr(e)}function hr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ot=function(){return!!e})()}function xe(e){return xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xe(e)}function vr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}function De(e,t){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},De(e,t)}function Pe(e,t,n){return t=St(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function St(e){var t=yr(e,"string");return ie(t)=="symbol"?t:t+""}function yr(e,t){if(ie(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ie(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Oe=function(e){function t(){return fr(this,t),pr(this,t,arguments)}return vr(t,e),dr(t,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,c=o.cx,u=o.cy;return U(c,u,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,c=r.ticks,u=ir(c,function(m){return m.coordinate||0}),l=sr(c,function(m){return m.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:l.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,c=r.ticks,u=r.axisLine,l=Ze(r,cr),m=c.reduce(function(p,f){return[Math.min(p[0],f.coordinate),Math.max(p[1],f.coordinate)]},[1/0,-1/0]),y=U(i,o,m[0],a),v=U(i,o,m[1],a),x=X(X(X({},j(l,!1)),{},{fill:"none"},j(u,!1)),{},{x1:y.x,y1:y.y,x2:v.x,y2:v.y});return h.createElement("line",ue({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,c=i.angle,u=i.tickFormatter,l=i.stroke,m=Ze(i,lr),y=this.getTickTextAnchor(),v=j(m,!1),x=j(a,!1),p=o.map(function(f,g){var d=r.getTickValueCoord(f),b=X(X(X(X({textAnchor:y,transform:"rotate(".concat(90-c,", ").concat(d.x,", ").concat(d.y,")")},v),{},{stroke:"none",fill:l},x),{},{index:g},d),{},{payload:f});return h.createElement(w,ue({className:F("recharts-polar-radius-axis-tick",pt(a)),key:"tick-".concat(f.coordinate)},Ke(r.props,f,g)),t.renderTickItem(a,b,u?u(f.value,g):f.value))});return h.createElement(w,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:h.createElement(w,{className:F("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),mt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return h.isValidElement(r)?a=h.cloneElement(r,i):H(r)?a=r(i):a=h.createElement(Be,ue({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(L.PureComponent);Pe(Oe,"displayName","PolarRadiusAxis");Pe(Oe,"axisType","radiusAxis");Pe(Oe,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ae(e){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ae(e)}function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ye(Object(n),!0).forEach(function(r){Se(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wt(r.key),r)}}function br(e,t,n){return t&&Je(e.prototype,t),n&&Je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xr(e,t,n){return t=Ae(t),Ar(e,kt()?Reflect.construct(t,n||[],Ae(e).constructor):t.apply(e,n))}function Ar(e,t){if(t&&(ae(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _r(e)}function _r(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kt=function(){return!!e})()}function Ae(e){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ae(e)}function jr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Le(e,t)}function Le(e,t){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Le(e,t)}function Se(e,t,n){return t=wt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wt(e){var t=Pr(e,"string");return ae(t)=="symbol"?t:t+""}function Pr(e,t){if(ae(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ae(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Or=Math.PI/180,Qe=1e-5,ke=function(e){function t(){return gr(this,t),xr(this,t,arguments)}return jr(t,e),br(t,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,c=i.radius,u=i.orientation,l=i.tickSize,m=l||8,y=U(o,a,c,r.coordinate),v=U(o,a,c+(u==="inner"?-1:1)*m,r.coordinate);return{x1:y.x,y1:y.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*Or),a;return o>Qe?a=i==="outer"?"start":"end":o<-Qe?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,c=r.axisLine,u=r.axisLineType,l=Y(Y({},j(this.props,!1)),{},{fill:"none"},j(c,!1));if(u==="circle")return h.createElement(ht,Q({className:"recharts-polar-angle-axis-line"},l,{cx:i,cy:o,r:a}));var m=this.props.ticks,y=m.map(function(v){return U(i,o,a,v.coordinate)});return h.createElement(tr,Q({className:"recharts-polar-angle-axis-line"},l,{points:y}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,c=i.tickLine,u=i.tickFormatter,l=i.stroke,m=j(this.props,!1),y=j(a,!1),v=Y(Y({},m),{},{fill:"none"},j(c,!1)),x=o.map(function(p,f){var g=r.getTickLineCoord(p),d=r.getTickTextAnchor(p),b=Y(Y(Y({textAnchor:d},m),{},{stroke:"none",fill:l},y),{},{index:f,payload:p,x:g.x2,y:g.y2});return h.createElement(w,Q({className:F("recharts-polar-angle-axis-tick",pt(a)),key:"tick-".concat(p.coordinate)},Ke(r.props,p,f)),c&&h.createElement("line",Q({className:"recharts-polar-angle-axis-tick-line"},v,g)),a&&t.renderTickItem(a,b,u?u(p.value,f):p.value))});return h.createElement(w,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:h.createElement(w,{className:F("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return h.isValidElement(r)?a=h.cloneElement(r,i):H(r)?a=r(i):a=h.createElement(Be,Q({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(L.PureComponent);Se(ke,"displayName","PolarAngleAxis");Se(ke,"axisType","angleAxis");Se(ke,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var be;function oe(e){"@babel/helpers - typeof";return oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oe(e)}function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?et(Object(n),!0).forEach(function(r){I(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tt(r.key),r)}}function kr(e,t,n){return t&&tt(e.prototype,t),n&&tt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wr(e,t,n){return t=_e(t),Er(e,Et()?Reflect.construct(t,n||[],_e(e).constructor):t.apply(e,n))}function Er(e,t){if(t&&(oe(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tr(e)}function Tr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Et(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Et=function(){return!!e})()}function _e(e){return _e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_e(e)}function Nr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ie(e,t)}function Ie(e,t){return Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ie(e,t)}function I(e,t,n){return t=Tt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tt(e){var t=Rr(e,"string");return oe(t)=="symbol"?t:t+""}function Rr(e,t){if(oe(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oe(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var V=function(e){function t(n){var r;return Sr(this,t),r=wr(this,t,[n]),I(r,"pieRef",null),I(r,"sectorRefs",[]),I(r,"id",xt("recharts-pie-")),I(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),H(i)&&i()}),I(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),H(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Nr(t,e),kr(t,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,c=o.labelLine,u=o.dataKey,l=o.valueKey,m=j(this.props,!1),y=j(a,!1),v=j(c,!1),x=a&&a.offsetRadius||20,p=r.map(function(f,g){var d=(f.startAngle+f.endAngle)/2,b=U(f.cx,f.cy,f.outerRadius+x,d),S=A(A(A(A({},m),f),{},{stroke:"none"},y),{},{index:g,textAnchor:t.getTextAnchor(b.x,f.cx)},b),E=A(A(A(A({},m),f),{},{fill:"none",stroke:f.fill},v),{},{index:g,points:[U(f.cx,f.cy,f.outerRadius,d),b]}),_=u;return z(u)&&z(l)?_="value":z(u)&&(_=l),h.createElement(w,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(g)},c&&t.renderLabelLineItem(c,E,"line"),t.renderLabelItem(a,S,G(f,_)))});return h.createElement(w,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,c=o.blendStroke,u=o.inactiveShape;return r.map(function(l,m){if((l==null?void 0:l.startAngle)===0&&(l==null?void 0:l.endAngle)===0&&r.length!==1)return null;var y=i.isActiveIndex(m),v=u&&i.hasActiveIndex()?u:null,x=y?a:v,p=A(A({},l),{},{stroke:c?l.fill:l.stroke,tabIndex:-1});return h.createElement(w,ne({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Ke(i.props,l,m),{key:"sector-".concat(l==null?void 0:l.startAngle,"-").concat(l==null?void 0:l.endAngle,"-").concat(l.midAngle,"-").concat(m)}),h.createElement(Bt,ne({option:x,isActive:y,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,l=i.animationEasing,m=i.animationId,y=this.state,v=y.prevSectors,x=y.prevIsAnimationActive;return h.createElement(yt,{begin:c,duration:u,isActive:a,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var f=p.t,g=[],d=o&&o[0],b=d.startAngle;return o.forEach(function(S,E){var _=v&&v[E],T=E>0?Kt(S,"paddingAngle",0):0;if(_){var N=J(_.endAngle-_.startAngle,S.endAngle-S.startAngle),P=A(A({},S),{},{startAngle:b+T,endAngle:b+N(f)+T});g.push(P),b=P.endAngle}else{var $=S.endAngle,k=S.startAngle,B=J(0,$-k),O=B(f),D=A(A({},S),{},{startAngle:b+T,endAngle:b+O+T});g.push(D),b=D.endAngle}}),h.createElement(w,null,r.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!gt(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,c=i.className,u=i.label,l=i.cx,m=i.cy,y=i.innerRadius,v=i.outerRadius,x=i.isAnimationActive,p=this.state.isAnimationFinished;if(o||!a||!a.length||!te(l)||!te(m)||!te(y)||!te(v))return null;var f=F("recharts-pie",c);return h.createElement(w,{tabIndex:this.props.rootTabIndex,className:f,ref:function(d){r.pieRef=d}},this.renderSectors(),u&&this.renderLabels(a),mt.renderCallByParent(this.props,null,!1),(!x||p)&&bt.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(h.isValidElement(r))return h.cloneElement(r,i);if(H(r))return r(i);var a=F("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return h.createElement(vt,ne({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(h.isValidElement(r))return h.cloneElement(r,i);var a=o;if(H(r)&&(a=r(i),h.isValidElement(a)))return a;var c=F("recharts-pie-label-text",typeof r!="boolean"&&!H(r)?r.className:"");return h.createElement(Be,ne({},i,{alignmentBaseline:"middle",className:c}),a)}}])}(L.PureComponent);be=V;I(V,"displayName","Pie");I(V,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!At.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});I(V,"parseDeltaAngle",function(e,t){var n=ve(t-e),r=Math.min(Math.abs(t-e),360);return n*r});I(V,"getRealPieData",function(e){var t=e.data,n=e.children,r=j(e,!1),i=_t(n,jt);return t&&t.length?t.map(function(o,a){return A(A(A({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return A(A({},r),o.props)}):[]});I(V,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,o=t.height,a=Mt(i,o),c=r+de(e.cx,i,i/2),u=n+de(e.cy,o,o/2),l=de(e.innerRadius,a,0),m=de(e.outerRadius,a,a*.8),y=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:u,innerRadius:l,outerRadius:m,maxRadius:y}});I(V,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?A(A({},t.type.defaultProps),t.props):t.props,i=be.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,c=r.endAngle,u=r.paddingAngle,l=r.dataKey,m=r.nameKey,y=r.valueKey,v=r.tooltipType,x=Math.abs(r.minAngle),p=be.parseCoordinateOfPie(r,n),f=be.parseDeltaAngle(a,c),g=Math.abs(f),d=l;z(l)&&z(y)?(Me(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),d="value"):z(l)&&(Me(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),d=y);var b=i.filter(function(P){return G(P,d,0)!==0}).length,S=(g>=360?b:b-1)*u,E=g-b*x-S,_=i.reduce(function(P,$){var k=G($,d,0);return P+(te(k)?k:0)},0),T;if(_>0){var N;T=i.map(function(P,$){var k=G(P,d,0),B=G(P,m,$),O=(te(k)?k:0)/_,D;$?D=N.endAngle+ve(f)*u*(k!==0?1:0):D=a;var W=D+ve(f)*((k!==0?x:0)+O*E),q=(D+W)/2,K=(p.innerRadius+p.outerRadius)/2,we=[{name:B,value:k,payload:P,dataKey:d,type:v}],Ee=U(p.cx,p.cy,K,q);return N=A(A(A({percent:O,cornerRadius:o,name:B,tooltipPayload:we,midAngle:q,middleRadius:K,tooltipPosition:Ee},P),p),{},{value:G(P,d),startAngle:D,endAngle:W,payload:P,paddingAngle:ve(f)*u}),N})}return A(A({},p),{},{sectors:T,data:i})});var $r=["type","layout","connectNulls","ref"],Dr=["key"];function se(e){"@babel/helpers - typeof";return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},se(e)}function rt(e,t){if(e==null)return{};var n=Lr(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Lr(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nt(Object(n),!0).forEach(function(r){C(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ee(e){return Br(e)||Fr(e)||Cr(e)||Ir()}function Ir(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cr(e,t){if(e){if(typeof e=="string")return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(e,t)}}function Fr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Br(e){if(Array.isArray(e))return Ce(e)}function Ce(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rt(r.key),r)}}function Mr(e,t,n){return t&&it(e.prototype,t),n&&it(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ur(e,t,n){return t=je(t),zr(e,Nt()?Reflect.construct(t,n||[],je(e).constructor):t.apply(e,n))}function zr(e,t){if(t&&(se(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vr(e)}function Vr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nt=function(){return!!e})()}function je(e){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},je(e)}function Wr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fe(e,t)}function Fe(e,t){return Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fe(e,t)}function C(e,t,n){return t=Rt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rt(e){var t=qr(e,"string");return se(t)=="symbol"?t:t+""}function qr(e,t){if(se(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(se(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ce=function(e){function t(){var n;Kr(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Ur(this,t,[].concat(i)),C(n,"state",{isAnimationFinished:!0,totalLength:0}),C(n,"generateSimpleStrokeDasharray",function(a,c){return"".concat(c,"px ").concat(a-c,"px")}),C(n,"getStrokeDasharray",function(a,c,u){var l=u.reduce(function(d,b){return d+b});if(!l)return n.generateSimpleStrokeDasharray(c,a);for(var m=Math.floor(a/l),y=a%l,v=c-a,x=[],p=0,f=0;p<u.length;f+=u[p],++p)if(f+u[p]>y){x=[].concat(ee(u.slice(0,p)),[y-f]);break}var g=x.length%2===0?[0,v]:[v];return[].concat(ee(t.repeat(u,m)),ee(x),g).map(function(d){return"".concat(d,"px")}).join(", ")}),C(n,"id",xt("recharts-line-")),C(n,"pathRef",function(a){n.mainCurve=a}),C(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),C(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Wr(t,e),Mr(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,c=o.xAxis,u=o.yAxis,l=o.layout,m=o.children,y=_t(m,Ut);if(!y)return null;var v=function(f,g){return{x:f.x,y:f.y,value:f.value,errorVal:G(f.payload,g)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return h.createElement(w,x,y.map(function(p){return h.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:a,xAxis:c,yAxis:u,layout:l,dataPointFormatter:v})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var c=this.props,u=c.dot,l=c.points,m=c.dataKey,y=j(this.props,!1),v=j(u,!0),x=l.map(function(f,g){var d=R(R(R({key:"dot-".concat(g),r:3},y),v),{},{index:g,cx:f.x,cy:f.y,value:f.value,dataKey:m,payload:f.payload,points:l});return t.renderDotItem(u,d)}),p={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return h.createElement(w,fe({className:"recharts-line-dots",key:"dots"},p),x)}},{key:"renderCurveStatically",value:function(r,i,o,a){var c=this.props,u=c.type,l=c.layout,m=c.connectNulls;c.ref;var y=rt(c,$r),v=R(R(R({},j(y,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:u,layout:l,connectNulls:m});return h.createElement(vt,fe({},v,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,c=a.points,u=a.strokeDasharray,l=a.isAnimationActive,m=a.animationBegin,y=a.animationDuration,v=a.animationEasing,x=a.animationId,p=a.animateNewValues,f=a.width,g=a.height,d=this.state,b=d.prevPoints,S=d.totalLength;return h.createElement(yt,{begin:m,duration:y,isActive:l,easing:v,from:{t:0},to:{t:1},key:"line-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var _=E.t;if(b){var T=b.length/c.length,N=c.map(function(O,D){var W=Math.floor(D*T);if(b[W]){var q=b[W],K=J(q.x,O.x),we=J(q.y,O.y);return R(R({},O),{},{x:K(_),y:we(_)})}if(p){var Ee=J(f*2,O.x),$t=J(g/2,O.y);return R(R({},O),{},{x:Ee(_),y:$t(_)})}return R(R({},O),{},{x:O.x,y:O.y})});return o.renderCurveStatically(N,r,i)}var P=J(0,S),$=P(_),k;if(u){var B="".concat(u).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});k=o.getStrokeDasharray($,S,B)}else k=o.generateSimpleStrokeDasharray(S,$);return o.renderCurveStatically(c,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,c=o.isAnimationActive,u=this.state,l=u.prevPoints,m=u.totalLength;return c&&a&&a.length&&(!l&&m>0||!gt(l,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,c=i.points,u=i.className,l=i.xAxis,m=i.yAxis,y=i.top,v=i.left,x=i.width,p=i.height,f=i.isAnimationActive,g=i.id;if(o||!c||!c.length)return null;var d=this.state.isAnimationFinished,b=c.length===1,S=F("recharts-line",u),E=l&&l.allowDataOverflow,_=m&&m.allowDataOverflow,T=E||_,N=z(g)?this.id:g,P=(r=j(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},$=P.r,k=$===void 0?3:$,B=P.strokeWidth,O=B===void 0?2:B,D=zt(a)?a:{},W=D.clipDot,q=W===void 0?!0:W,K=k*2+O;return h.createElement(w,{className:S},E||_?h.createElement("defs",null,h.createElement("clipPath",{id:"clipPath-".concat(N)},h.createElement("rect",{x:E?v:v-x/2,y:_?y:y-p/2,width:E?x:x*2,height:_?p:p*2})),!q&&h.createElement("clipPath",{id:"clipPath-dots-".concat(N)},h.createElement("rect",{x:v-K/2,y:y-K/2,width:x+K,height:p+K}))):null,!b&&this.renderCurve(T,N),this.renderErrorBar(T,N),(b||a)&&this.renderDots(T,q,N),(!f||d)&&bt.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(ee(r),[0]):r,a=[],c=0;c<i;++c)a=[].concat(ee(a),ee(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(h.isValidElement(r))o=h.cloneElement(r,i);else if(H(r))o=r(i);else{var a=i.key,c=rt(i,Dr),u=F("recharts-line-dot",typeof r!="boolean"?r.className:"");o=h.createElement(ht,fe({key:a},c,{className:u}))}return o}}])}(L.PureComponent);C(ce,"displayName","Line");C(ce,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!At.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});C(ce,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,c=e.bandSize,u=e.displayedData,l=e.offset,m=t.layout,y=u.map(function(v,x){var p=G(v,a);return m==="horizontal"?{x:Ue({axis:n,ticks:i,bandSize:c,entry:v,index:x}),y:z(p)?null:r.scale(p),value:p,payload:v}:{x:z(p)?null:n.scale(p),y:Ue({axis:r,ticks:o,bandSize:c,entry:v,index:x}),value:p,payload:v}});return R({points:y,layout:m},l)});var Hr=Pt({chartName:"LineChart",GraphicalChild:ce,axisComponents:[{axisType:"xAxis",AxisComp:ye},{axisType:"yAxis",AxisComp:ge}],formatAxisMap:Vt}),Gr=Pt({chartName:"PieChart",GraphicalChild:V,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ke},{axisType:"radiusAxis",AxisComp:Oe}],formatAxisMap:Wt,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const at={total_users:0,active_users:0,daily_active_users:0,total_admins:0,new_users_24h:0,new_users_7d:0,new_users_30d:0,user_growth_rate:0},ot={total_records:0,records_24h:0,records_7d:0,records_30d:0,avg_records_per_user:0,most_common_activity:"",activity_distribution:{}},st={errors_24h:0,errors_7d:0,failed_logins_24h:0,failed_logins_7d:0,system_uptime:100,avg_response_time:0};async function Zr(){try{const[{data:e},{data:t},{data:n},{data:r},{data:i},{data:o},{data:a}]=await Promise.all([Z.from("user_statistics").select("*").single(),Z.from("activity_statistics").select("*").single(),Z.from("system_health").select("*").single(),Z.from("user_activity_timeline").select("*"),Z.from("record_creation_timeline").select("*"),Z.from("resource_utilization").select("*"),Z.from("recent_activity").select("*")]);return{userStats:e||at,activityStats:t||ot,systemHealth:n||st,userActivityTimeline:r||[],recordCreationTimeline:i||[],resourceUtilization:o||[],recentActivity:a||[]}}catch(e){return console.error("Error fetching admin statistics:",e),{userStats:at,activityStats:ot,systemHealth:st,userActivityTimeline:[],recordCreationTimeline:[],resourceUtilization:[],recentActivity:[]}}}function ct({className:e,...t}){return s.jsx("div",{className:Dt("animate-pulse rounded-md bg-muted",e),...t})}const lt=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];function en(){Lt();const[e,t]=L.useState("7d"),[n,r]=L.useState(!1),[i,o]=L.useState(!0),[a,c]=L.useState(null),[u,l]=L.useState(!1),[m,y]=L.useState(null),v=async()=>{try{l(!0);const d=await Zr();c(d)}catch(d){console.error("Error fetching statistics:",d),It.error("Failed to fetch statistics")}finally{o(!1),l(!1)}};if(L.useEffect(()=>{v()},[]),L.useEffect(()=>{let d;return n&&(d=setInterval(v,6e4)),()=>{d&&clearInterval(d)}},[n]),i)return s.jsxs("div",{className:"container mx-auto p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin Statistics"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((d,b)=>s.jsxs(M,{className:"p-4",children:[s.jsx(ct,{className:"h-4 w-3/4 mb-2"}),s.jsx(ct,{className:"h-8 w-1/2"})]},b))})]});if(m||!a)return s.jsxs("div",{className:"container mx-auto p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin Statistics"}),s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:m||"Failed to load statistics"})]});const x=a.userActivityTimeline.map(d=>({hour:d.hour,activity:d.activity_count,users:d.unique_users})),p=a.recordCreationTimeline.map(d=>({day:d.day,records:d.record_count,users:d.unique_users})),f=a.resourceUtilization.map(d=>({hour:d.hour,requests:d.request_count,responseTime:d.avg_response_time,errors:d.error_count})),g=[{name:"Admins",value:a.userStats.total_admins},{name:"Regular Users",value:a.userStats.total_users-a.userStats.total_admins}];return s.jsxs("div",{className:"container mx-auto p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin Statistics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:[s.jsxs(M,{className:"p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"User Activity"}),s.jsx("div",{className:"h-[200px]",children:s.jsx(pe,{width:"100%",height:"100%",children:s.jsxs(Hr,{data:x,children:[s.jsx(Te,{strokeDasharray:"3 3"}),s.jsx(ye,{dataKey:"hour"}),s.jsx(ge,{}),s.jsx(me,{}),s.jsx(ce,{type:"monotone",dataKey:"activity",stroke:"#8884d8"}),s.jsx(ce,{type:"monotone",dataKey:"users",stroke:"#82ca9d"})]})})})]}),s.jsxs(M,{className:"p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Record Creation"}),s.jsx("div",{className:"h-[200px]",children:s.jsx(pe,{width:"100%",height:"100%",children:s.jsxs(ze,{data:p,children:[s.jsx(Te,{strokeDasharray:"3 3"}),s.jsx(ye,{dataKey:"day"}),s.jsx(ge,{}),s.jsx(me,{}),s.jsx(he,{dataKey:"records",fill:"#8884d8"}),s.jsx(he,{dataKey:"users",fill:"#82ca9d"})]})})})]}),s.jsxs(M,{className:"p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Resource Utilization"}),s.jsx("div",{className:"h-[200px]",children:s.jsx(pe,{width:"100%",height:"100%",children:s.jsxs(ze,{data:f,children:[s.jsx(Te,{strokeDasharray:"3 3"}),s.jsx(ye,{dataKey:"hour"}),s.jsx(ge,{}),s.jsx(me,{}),s.jsx(he,{dataKey:"requests",fill:"#8884d8"}),s.jsx(he,{dataKey:"errors",fill:"#ff8042"})]})})})]}),s.jsxs(M,{className:"p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"User Distribution"}),s.jsx("div",{className:"h-[200px]",children:s.jsx(pe,{width:"100%",height:"100%",children:s.jsxs(Gr,{children:[s.jsx(V,{data:g,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",label:({name:d,percent:b})=>`${d} ${(b*100).toFixed(0)}%`,children:g.map((d,b)=>s.jsx(jt,{fill:lt[b%lt.length]},`cell-${b}`))}),s.jsx(me,{})]})})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(M,{className:"p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"User Statistics"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:["Total Users: ",a.userStats.total_users]}),s.jsxs("p",{children:["Active Users: ",a.userStats.active_users]}),s.jsxs("p",{children:["Daily Active Users: ",a.userStats.daily_active_users]}),s.jsxs("p",{children:["Total Admins: ",a.userStats.total_admins]}),s.jsxs("p",{children:["New Users (24h): ",a.userStats.new_users_24h]}),s.jsxs("p",{children:["New Users (7d): ",a.userStats.new_users_7d]}),s.jsxs("p",{children:["New Users (30d): ",a.userStats.new_users_30d]}),s.jsxs("p",{children:["Growth Rate: ",a.userStats.user_growth_rate,"%"]})]})]}),s.jsxs(M,{className:"p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Activity Statistics"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:["Total Records: ",a.activityStats.total_records]}),s.jsxs("p",{children:["Records (24h): ",a.activityStats.records_24h]}),s.jsxs("p",{children:["Records (7d): ",a.activityStats.records_7d]}),s.jsxs("p",{children:["Records (30d): ",a.activityStats.records_30d]}),s.jsxs("p",{children:["Avg Records/User: ",a.activityStats.avg_records_per_user]}),s.jsxs("p",{children:["Most Common Activity: ",a.activityStats.most_common_activity]})]})]}),s.jsxs(M,{className:"p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"System Health"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:["Errors (24h): ",a.systemHealth.errors_24h]}),s.jsxs("p",{children:["Errors (7d): ",a.systemHealth.errors_7d]}),s.jsxs("p",{children:["Failed Logins (24h): ",a.systemHealth.failed_logins_24h]}),s.jsxs("p",{children:["Failed Logins (7d): ",a.systemHealth.failed_logins_7d]}),s.jsxs("p",{children:["System Uptime: ",a.systemHealth.system_uptime,"%"]}),s.jsxs("p",{children:["Avg Response Time: ",a.systemHealth.avg_response_time,"ms"]})]})]})]}),s.jsxs(M,{className:"mt-8 p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),s.jsx("div",{className:"space-y-4",children:a.recentActivity.map((d,b)=>s.jsx("div",{className:"flex items-start space-x-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:d.event_type}),s.jsx("div",{className:"text-sm text-gray-500",children:d.details}),s.jsxs("div",{className:"text-xs text-gray-400",children:[new Date(d.event_time).toLocaleString()," by ",d.user]})]})},b))})]})]})}export{en as default};
